var oY=Object.defineProperty;var PD=t=>{throw TypeError(t)};var aY=(t,e,n)=>e in t?oY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>aY(t,typeof e!="symbol"?e+"":e,n),TT=(t,e,n)=>e.has(t)||PD("Cannot "+n);var E=(t,e,n)=>(TT(t,e,"read from private field"),n?n.call(t):e.get(t)),se=(t,e,n)=>e.has(t)?PD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(TT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ie=(t,e,n)=>(TT(t,e,"access private method"),n);var Os=(t,e,n,r)=>({set _(i){ne(t,e,i,n)},get _(){return E(t,e,r)}});function lY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Es(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uY(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var kT={exports:{}},qy={},RT={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND;function cY(){if(ND)return $t;ND=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function f(q){return q===null||typeof q!="object"?null:(q=d&&q[d]||q["@@iterator"],typeof q=="function"?q:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(q,Q,H){this.props=q,this.context=Q,this.refs=y,this.updater=H||p}b.prototype.isReactComponent={},b.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function v(){}v.prototype=b.prototype;function x(q,Q,H){this.props=q,this.context=Q,this.refs=y,this.updater=H||p}var _=x.prototype=new v;_.constructor=x,m(_,b.prototype),_.isPureReactComponent=!0;var S=Array.isArray,k=Object.prototype.hasOwnProperty,O={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function R(q,Q,H){var re,te={},he=null,de=null;if(Q!=null)for(re in Q.ref!==void 0&&(de=Q.ref),Q.key!==void 0&&(he=""+Q.key),Q)k.call(Q,re)&&!A.hasOwnProperty(re)&&(te[re]=Q[re]);var oe=arguments.length-2;if(oe===1)te.children=H;else if(1<oe){for(var ce=Array(oe),ge=0;ge<oe;ge++)ce[ge]=arguments[ge+2];te.children=ce}if(q&&q.defaultProps)for(re in oe=q.defaultProps,oe)te[re]===void 0&&(te[re]=oe[re]);return{$$typeof:t,type:q,key:he,ref:de,props:te,_owner:O.current}}function P(q,Q){return{$$typeof:t,type:q.type,key:Q,ref:q.ref,props:q.props,_owner:q._owner}}function T(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(H){return Q[H]})}var M=/\/+/g;function D(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Q.toString(36)}function N(q,Q,H,re,te){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var de=!1;if(q===null)de=!0;else switch(he){case"string":case"number":de=!0;break;case"object":switch(q.$$typeof){case t:case e:de=!0}}if(de)return de=q,te=te(de),q=re===""?"."+D(de,0):re,S(te)?(H="",q!=null&&(H=q.replace(M,"$&/")+"/"),N(te,Q,H,"",function(ge){return ge})):te!=null&&(T(te)&&(te=P(te,H+(!te.key||de&&de.key===te.key?"":(""+te.key).replace(M,"$&/")+"/")+q)),Q.push(te)),1;if(de=0,re=re===""?".":re+":",S(q))for(var oe=0;oe<q.length;oe++){he=q[oe];var ce=re+D(he,oe);de+=N(he,Q,H,ce,te)}else if(ce=f(q),typeof ce=="function")for(q=ce.call(q),oe=0;!(he=q.next()).done;)he=he.value,ce=re+D(he,oe++),de+=N(he,Q,H,ce,te);else if(he==="object")throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return de}function U(q,Q,H){if(q==null)return q;var re=[],te=0;return N(q,re,"","",function(he){return Q.call(H,he,te++)}),re}function K(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(H){(q._status===0||q._status===-1)&&(q._status=1,q._result=H)},function(H){(q._status===0||q._status===-1)&&(q._status=2,q._result=H)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var G={current:null},Z={transition:null},X={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:Z,ReactCurrentOwner:O};function W(){throw Error("act(...) is not supported in production builds of React.")}return $t.Children={map:U,forEach:function(q,Q,H){U(q,function(){Q.apply(this,arguments)},H)},count:function(q){var Q=0;return U(q,function(){Q++}),Q},toArray:function(q){return U(q,function(Q){return Q})||[]},only:function(q){if(!T(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},$t.Component=b,$t.Fragment=n,$t.Profiler=i,$t.PureComponent=x,$t.StrictMode=r,$t.Suspense=l,$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,$t.act=W,$t.cloneElement=function(q,Q,H){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var re=m({},q.props),te=q.key,he=q.ref,de=q._owner;if(Q!=null){if(Q.ref!==void 0&&(he=Q.ref,de=O.current),Q.key!==void 0&&(te=""+Q.key),q.type&&q.type.defaultProps)var oe=q.type.defaultProps;for(ce in Q)k.call(Q,ce)&&!A.hasOwnProperty(ce)&&(re[ce]=Q[ce]===void 0&&oe!==void 0?oe[ce]:Q[ce])}var ce=arguments.length-2;if(ce===1)re.children=H;else if(1<ce){oe=Array(ce);for(var ge=0;ge<ce;ge++)oe[ge]=arguments[ge+2];re.children=oe}return{$$typeof:t,type:q.type,key:te,ref:he,props:re,_owner:de}},$t.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},$t.createElement=R,$t.createFactory=function(q){var Q=R.bind(null,q);return Q.type=q,Q},$t.createRef=function(){return{current:null}},$t.forwardRef=function(q){return{$$typeof:a,render:q}},$t.isValidElement=T,$t.lazy=function(q){return{$$typeof:c,_payload:{_status:-1,_result:q},_init:K}},$t.memo=function(q,Q){return{$$typeof:u,type:q,compare:Q===void 0?null:Q}},$t.startTransition=function(q){var Q=Z.transition;Z.transition={};try{q()}finally{Z.transition=Q}},$t.unstable_act=W,$t.useCallback=function(q,Q){return G.current.useCallback(q,Q)},$t.useContext=function(q){return G.current.useContext(q)},$t.useDebugValue=function(){},$t.useDeferredValue=function(q){return G.current.useDeferredValue(q)},$t.useEffect=function(q,Q){return G.current.useEffect(q,Q)},$t.useId=function(){return G.current.useId()},$t.useImperativeHandle=function(q,Q,H){return G.current.useImperativeHandle(q,Q,H)},$t.useInsertionEffect=function(q,Q){return G.current.useInsertionEffect(q,Q)},$t.useLayoutEffect=function(q,Q){return G.current.useLayoutEffect(q,Q)},$t.useMemo=function(q,Q){return G.current.useMemo(q,Q)},$t.useReducer=function(q,Q,H){return G.current.useReducer(q,Q,H)},$t.useRef=function(q){return G.current.useRef(q)},$t.useState=function(q){return G.current.useState(q)},$t.useSyncExternalStore=function(q,Q,H){return G.current.useSyncExternalStore(q,Q,H)},$t.useTransition=function(){return G.current.useTransition()},$t.version="18.3.1",$t}var OD;function Vf(){return OD||(OD=1,RT.exports=cY()),RT.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function dY(){if(MD)return qy;MD=1;var t=Vf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,u){var c,d={},f=null,p=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!s.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:e,type:a,key:f,ref:p,props:d,_owner:i.current}}return qy.Fragment=n,qy.jsx=o,qy.jsxs=o,qy}var LD;function hY(){return LD||(LD=1,kT.exports=dY()),kT.exports}var j=hY(),z=Vf();const Xe=Es(z),KR=lY({__proto__:null,default:Xe},[z]);var v_={},IT={exports:{}},is={},PT={exports:{}},NT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD;function fY(){return DD||(DD=1,function(t){function e(Z,X){var W=Z.length;Z.push(X);e:for(;0<W;){var q=W-1>>>1,Q=Z[q];if(0<i(Q,X))Z[q]=X,Z[W]=Q,W=q;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var X=Z[0],W=Z.pop();if(W!==X){Z[0]=W;e:for(var q=0,Q=Z.length,H=Q>>>1;q<H;){var re=2*(q+1)-1,te=Z[re],he=re+1,de=Z[he];if(0>i(te,W))he<Q&&0>i(de,te)?(Z[q]=de,Z[he]=W,q=he):(Z[q]=te,Z[re]=W,q=re);else if(he<Q&&0>i(de,W))Z[q]=de,Z[he]=W,q=he;else break e}}return X}function i(Z,X){var W=Z.sortIndex-X.sortIndex;return W!==0?W:Z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=Z)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function S(Z){if(y=!1,_(Z),!m)if(n(l)!==null)m=!0,K(k);else{var X=n(u);X!==null&&G(S,X.startTime-Z)}}function k(Z,X){m=!1,y&&(y=!1,v(R),R=-1),p=!0;var W=f;try{for(_(X),d=n(l);d!==null&&(!(d.expirationTime>X)||Z&&!L());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var Q=q(d.expirationTime<=X);X=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),_(X)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var re=n(u);re!==null&&G(S,re.startTime-X),H=!1}return H}finally{d=null,f=W,p=!1}}var O=!1,A=null,R=-1,P=5,T=-1;function L(){return!(t.unstable_now()-T<P)}function M(){if(A!==null){var Z=t.unstable_now();T=Z;var X=!0;try{X=A(!0,Z)}finally{X?D():(O=!1,A=null)}}else O=!1}var D;if(typeof x=="function")D=function(){x(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=M,D=function(){U.postMessage(null)}}else D=function(){b(M,0)};function K(Z){A=Z,O||(O=!0,D())}function G(Z,X){R=b(function(){Z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(k))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Z){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var W=f;f=X;try{return Z()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,X){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var W=f;f=Z;try{return X()}finally{f=W}},t.unstable_scheduleCallback=function(Z,X,W){var q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?q+W:q):W=q,Z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,Z={id:c++,callback:X,priorityLevel:Z,startTime:W,expirationTime:Q,sortIndex:-1},W>q?(Z.sortIndex=W,e(u,Z),n(l)===null&&Z===n(u)&&(y?(v(R),R=-1):y=!0,G(S,W-q))):(Z.sortIndex=Q,e(l,Z),m||p||(m=!0,K(k))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var X=f;return function(){var W=f;f=X;try{return Z.apply(this,arguments)}finally{f=W}}}}(NT)),NT}var FD;function pY(){return FD||(FD=1,PT.exports=fY()),PT.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function gY(){if(zD)return is;zD=1;var t=Vf(),e=pY();function n(h){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,g){o(h,g),o(h+"Capture",g)}function o(h,g){for(i[h]=g,h=0;h<g.length;h++)r.add(g[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function f(h){return l.call(d,h)?!0:l.call(c,h)?!1:u.test(h)?d[h]=!0:(c[h]=!0,!1)}function p(h,g,w,I){if(w!==null&&w.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return I?!1:w!==null?!w.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function m(h,g,w,I){if(g===null||typeof g>"u"||p(h,g,w,I))return!0;if(I)return!1;if(w!==null)switch(w.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(h,g,w,I,F,$,J){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=I,this.attributeNamespace=F,this.mustUseProperty=w,this.propertyName=h,this.type=g,this.sanitizeURL=$,this.removeEmptyString=J}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var g=h[0];b[g]=new y(g,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var g=h.replace(v,x);b[g]=new y(g,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var g=h.replace(v,x);b[g]=new y(g,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var g=h.replace(v,x);b[g]=new y(g,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});function _(h,g,w,I){var F=b.hasOwnProperty(g)?b[g]:null;(F!==null?F.type!==0:I||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,w,F,I)&&(w=null),I||F===null?f(g)&&(w===null?h.removeAttribute(g):h.setAttribute(g,""+w)):F.mustUseProperty?h[F.propertyName]=w===null?F.type===3?!1:"":w:(g=F.attributeName,I=F.attributeNamespace,w===null?h.removeAttribute(g):(F=F.type,w=F===3||F===4&&w===!0?"":""+w,I?h.setAttributeNS(I,g,w):h.setAttribute(g,w))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),O=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),L=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),Z=Symbol.iterator;function X(h){return h===null||typeof h!="object"?null:(h=Z&&h[Z]||h["@@iterator"],typeof h=="function"?h:null)}var W=Object.assign,q;function Q(h){if(q===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);q=g&&g[1]||""}return`
`+q+h}var H=!1;function re(h,g){if(!h||H)return"";H=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(ke){var I=ke}Reflect.construct(h,[],g)}else{try{g.call()}catch(ke){I=ke}h.call(g.prototype)}else{try{throw Error()}catch(ke){I=ke}h()}}catch(ke){if(ke&&I&&typeof ke.stack=="string"){for(var F=ke.stack.split(`
`),$=I.stack.split(`
`),J=F.length-1,fe=$.length-1;1<=J&&0<=fe&&F[J]!==$[fe];)fe--;for(;1<=J&&0<=fe;J--,fe--)if(F[J]!==$[fe]){if(J!==1||fe!==1)do if(J--,fe--,0>fe||F[J]!==$[fe]){var be=`
`+F[J].replace(" at new "," at ");return h.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",h.displayName)),be}while(1<=J&&0<=fe);break}}}finally{H=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?Q(h):""}function te(h){switch(h.tag){case 5:return Q(h.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return h=re(h.type,!1),h;case 11:return h=re(h.type.render,!1),h;case 1:return h=re(h.type,!0),h;default:return""}}function he(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case A:return"Fragment";case O:return"Portal";case P:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case N:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case L:return(h.displayName||"Context")+".Consumer";case T:return(h._context.displayName||"Context")+".Provider";case M:var g=h.render;return h=h.displayName,h||(h=g.displayName||g.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case U:return g=h.displayName||null,g!==null?g:he(h.type)||"Memo";case K:g=h._payload,h=h._init;try{return he(h(g))}catch{}}return null}function de(h){var g=h.type;switch(h.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=g.render,h=h.displayName||h.name||"",g.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(g);case 8:return g===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function oe(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ce(h){var g=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function ge(h){var g=ce(h)?"checked":"value",w=Object.getOwnPropertyDescriptor(h.constructor.prototype,g),I=""+h[g];if(!h.hasOwnProperty(g)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var F=w.get,$=w.set;return Object.defineProperty(h,g,{configurable:!0,get:function(){return F.call(this)},set:function(J){I=""+J,$.call(this,J)}}),Object.defineProperty(h,g,{enumerable:w.enumerable}),{getValue:function(){return I},setValue:function(J){I=""+J},stopTracking:function(){h._valueTracker=null,delete h[g]}}}}function xe(h){h._valueTracker||(h._valueTracker=ge(h))}function Ee(h){if(!h)return!1;var g=h._valueTracker;if(!g)return!0;var w=g.getValue(),I="";return h&&(I=ce(h)?h.checked?"true":"false":h.value),h=I,h!==w?(g.setValue(h),!0):!1}function Pe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function V(h,g){var w=g.checked;return W({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??h._wrapperState.initialChecked})}function pe(h,g){var w=g.defaultValue==null?"":g.defaultValue,I=g.checked!=null?g.checked:g.defaultChecked;w=oe(g.value!=null?g.value:w),h._wrapperState={initialChecked:I,initialValue:w,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function me(h,g){g=g.checked,g!=null&&_(h,"checked",g,!1)}function le(h,g){me(h,g);var w=oe(g.value),I=g.type;if(w!=null)I==="number"?(w===0&&h.value===""||h.value!=w)&&(h.value=""+w):h.value!==""+w&&(h.value=""+w);else if(I==="submit"||I==="reset"){h.removeAttribute("value");return}g.hasOwnProperty("value")?ue(h,g.type,w):g.hasOwnProperty("defaultValue")&&ue(h,g.type,oe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(h.defaultChecked=!!g.defaultChecked)}function ee(h,g,w){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var I=g.type;if(!(I!=="submit"&&I!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+h._wrapperState.initialValue,w||g===h.value||(h.value=g),h.defaultValue=g}w=h.name,w!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,w!==""&&(h.name=w)}function ue(h,g,w){(g!=="number"||Pe(h.ownerDocument)!==h)&&(w==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+w&&(h.defaultValue=""+w))}var ve=Array.isArray;function Te(h,g,w,I){if(h=h.options,g){g={};for(var F=0;F<w.length;F++)g["$"+w[F]]=!0;for(w=0;w<h.length;w++)F=g.hasOwnProperty("$"+h[w].value),h[w].selected!==F&&(h[w].selected=F),F&&I&&(h[w].defaultSelected=!0)}else{for(w=""+oe(w),g=null,F=0;F<h.length;F++){if(h[F].value===w){h[F].selected=!0,I&&(h[F].defaultSelected=!0);return}g!==null||h[F].disabled||(g=h[F])}g!==null&&(g.selected=!0)}}function ye(h,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},g,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Me(h,g){var w=g.value;if(w==null){if(w=g.children,g=g.defaultValue,w!=null){if(g!=null)throw Error(n(92));if(ve(w)){if(1<w.length)throw Error(n(93));w=w[0]}g=w}g==null&&(g=""),w=g}h._wrapperState={initialValue:oe(w)}}function je(h,g){var w=oe(g.value),I=oe(g.defaultValue);w!=null&&(w=""+w,w!==h.value&&(h.value=w),g.defaultValue==null&&h.defaultValue!==w&&(h.defaultValue=w)),I!=null&&(h.defaultValue=""+I)}function ze(h){var g=h.textContent;g===h._wrapperState.initialValue&&g!==""&&g!==null&&(h.value=g)}function we(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(h,g){return h==null||h==="http://www.w3.org/1999/xhtml"?we(g):h==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Be,et=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,w,I,F){MSApp.execUnsafeLocalFunction(function(){return h(g,w,I,F)})}:h}(function(h,g){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=g;else{for(Be=Be||document.createElement("div"),Be.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=Be.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;g.firstChild;)h.appendChild(g.firstChild)}});function yt(h,g){if(g){var w=h.firstChild;if(w&&w===h.lastChild&&w.nodeType===3){w.nodeValue=g;return}}h.textContent=g}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yt=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(h){Yt.forEach(function(g){g=g+h.charAt(0).toUpperCase()+h.substring(1),tt[g]=tt[h]})});function wt(h,g,w){return g==null||typeof g=="boolean"||g===""?"":w||typeof g!="number"||g===0||tt.hasOwnProperty(h)&&tt[h]?(""+g).trim():g+"px"}function sn(h,g){h=h.style;for(var w in g)if(g.hasOwnProperty(w)){var I=w.indexOf("--")===0,F=wt(w,g[w],I);w==="float"&&(w="cssFloat"),I?h.setProperty(w,F):h[w]=F}}var nt=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(h,g){if(g){if(nt[h]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function Ut(h,g){if(h.indexOf("-")===-1)return typeof g.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=null;function Pi(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var eo=null,Tr=null,pr=null;function Ni(h){if(h=Py(h)){if(typeof eo!="function")throw Error(n(280));var g=h.stateNode;g&&(g=O1(g),eo(h.stateNode,h.type,g))}}function Gi(h){Tr?pr?pr.push(h):pr=[h]:Tr=h}function Sa(){if(Tr){var h=Tr,g=pr;if(pr=Tr=null,Ni(h),g)for(h=0;h<g.length;h++)Ni(g[h])}}function Io(h,g){return h(g)}function Rt(){}var Gn=!1;function Ca(h,g,w){if(Gn)return h(g,w);Gn=!0;try{return Io(h,g,w)}finally{Gn=!1,(Tr!==null||pr!==null)&&(Rt(),Sa())}}function Yn(h,g){var w=h.stateNode;if(w===null)return null;var I=O1(w);if(I===null)return null;w=I[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(I=!I.disabled)||(h=h.type,I=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!I;break e;default:h=!1}if(h)return null;if(w&&typeof w!="function")throw Error(n(231,g,typeof w));return w}var sc=!1;if(a)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{sc=!1}function Ll(h,g,w,I,F,$,J,fe,be){var ke=Array.prototype.slice.call(arguments,3);try{g.apply(w,ke)}catch(Ve){this.onError(Ve)}}var Dl=!1,oc=null,As=!1,jd=null,py={onError:function(h){Dl=!0,oc=h}};function ac(h,g,w,I,F,$,J,fe,be){Dl=!1,oc=null,Ll.apply(py,arguments)}function rp(h,g,w,I,F,$,J,fe,be){if(ac.apply(this,arguments),Dl){if(Dl){var ke=oc;Dl=!1,oc=null}else throw Error(n(198));As||(As=!0,jd=ke)}}function Yi(h){var g=h,w=h;if(h.alternate)for(;g.return;)g=g.return;else{h=g;do g=h,(g.flags&4098)!==0&&(w=g.return),h=g.return;while(h)}return g.tag===3?w:null}function Aa(h){if(h.tag===13){var g=h.memoizedState;if(g===null&&(h=h.alternate,h!==null&&(g=h.memoizedState)),g!==null)return g.dehydrated}return null}function Xi(h){if(Yi(h)!==h)throw Error(n(188))}function ip(h){var g=h.alternate;if(!g){if(g=Yi(h),g===null)throw Error(n(188));return g!==h?null:h}for(var w=h,I=g;;){var F=w.return;if(F===null)break;var $=F.alternate;if($===null){if(I=F.return,I!==null){w=I;continue}break}if(F.child===$.child){for($=F.child;$;){if($===w)return Xi(F),h;if($===I)return Xi(F),g;$=$.sibling}throw Error(n(188))}if(w.return!==I.return)w=F,I=$;else{for(var J=!1,fe=F.child;fe;){if(fe===w){J=!0,w=F,I=$;break}if(fe===I){J=!0,I=F,w=$;break}fe=fe.sibling}if(!J){for(fe=$.child;fe;){if(fe===w){J=!0,w=$,I=F;break}if(fe===I){J=!0,I=$,w=F;break}fe=fe.sibling}if(!J)throw Error(n(189))}}if(w.alternate!==I)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?h:g}function Bd(h){return h=ip(h),h!==null?lc(h):null}function lc(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var g=lc(h);if(g!==null)return g;h=h.sibling}return null}var uc=e.unstable_scheduleCallback,$d=e.unstable_cancelCallback,sp=e.unstable_shouldYield,op=e.unstable_requestPaint,xn=e.unstable_now,ap=e.unstable_getCurrentPriorityLevel,Fl=e.unstable_ImmediatePriority,Ta=e.unstable_UserBlockingPriority,Ki=e.unstable_NormalPriority,Vd=e.unstable_LowPriority,lp=e.unstable_IdlePriority,ka=null,Oi=null;function up(h){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(ka,h,void 0,(h.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:dp,Hd=Math.log,cp=Math.LN2;function dp(h){return h>>>=0,h===0?32:31-(Hd(h)/cp|0)|0}var cc=64,Po=4194304;function Ra(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function zl(h,g){var w=h.pendingLanes;if(w===0)return 0;var I=0,F=h.suspendedLanes,$=h.pingedLanes,J=w&268435455;if(J!==0){var fe=J&~F;fe!==0?I=Ra(fe):($&=J,$!==0&&(I=Ra($)))}else J=w&~F,J!==0?I=Ra(J):$!==0&&(I=Ra($));if(I===0)return 0;if(g!==0&&g!==I&&(g&F)===0&&(F=I&-I,$=g&-g,F>=$||F===16&&($&4194240)!==0))return g;if((I&4)!==0&&(I|=w&16),g=h.entangledLanes,g!==0)for(h=h.entanglements,g&=I;0<g;)w=31-Yr(g),F=1<<w,I|=h[w],g&=~F;return I}function gy(h,g){switch(h){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ts(h,g){for(var w=h.suspendedLanes,I=h.pingedLanes,F=h.expirationTimes,$=h.pendingLanes;0<$;){var J=31-Yr($),fe=1<<J,be=F[J];be===-1?((fe&w)===0||(fe&I)!==0)&&(F[J]=gy(fe,g)):be<=g&&(h.expiredLanes|=fe),$&=~fe}}function Mi(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function jl(){var h=cc;return cc<<=1,(cc&4194240)===0&&(cc=64),h}function No(h){for(var g=[],w=0;31>w;w++)g.push(h);return g}function dc(h,g,w){h.pendingLanes|=g,g!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,g=31-Yr(g),h[g]=w}function Tn(h,g){var w=h.pendingLanes&~g;h.pendingLanes=g,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=g,h.mutableReadLanes&=g,h.entangledLanes&=g,g=h.entanglements;var I=h.eventTimes;for(h=h.expirationTimes;0<w;){var F=31-Yr(w),$=1<<F;g[F]=0,I[F]=-1,h[F]=-1,w&=~$}}function hc(h,g){var w=h.entangledLanes|=g;for(h=h.entanglements;w;){var I=31-Yr(w),F=1<<I;F&g|h[I]&g&&(h[I]|=g),w&=~F}}var Kt=0;function fc(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var h1,hp,f1,p1,g1,my=!1,Ia=[],Xr=null,Oo=null,Mo=null,pc=new Map,to=new Map,Pa=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m1(h,g){switch(h){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":pc.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(g.pointerId)}}function Qi(h,g,w,I,F,$){return h===null||h.nativeEvent!==$?(h={blockedOn:g,domEventName:w,eventSystemFlags:I,nativeEvent:$,targetContainers:[F]},g!==null&&(g=Py(g),g!==null&&hp(g)),h):(h.eventSystemFlags|=I,g=h.targetContainers,F!==null&&g.indexOf(F)===-1&&g.push(F),h)}function sA(h,g,w,I,F){switch(g){case"focusin":return Xr=Qi(Xr,h,g,w,I,F),!0;case"dragenter":return Oo=Qi(Oo,h,g,w,I,F),!0;case"mouseover":return Mo=Qi(Mo,h,g,w,I,F),!0;case"pointerover":var $=F.pointerId;return pc.set($,Qi(pc.get($)||null,h,g,w,I,F)),!0;case"gotpointercapture":return $=F.pointerId,to.set($,Qi(to.get($)||null,h,g,w,I,F)),!0}return!1}function y1(h){var g=Yd(h.target);if(g!==null){var w=Yi(g);if(w!==null){if(g=w.tag,g===13){if(g=Aa(w),g!==null){h.blockedOn=g,g1(h.priority,function(){f1(w)});return}}else if(g===3&&w.stateNode.current.memoizedState.isDehydrated){h.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}h.blockedOn=null}function Bl(h){if(h.blockedOn!==null)return!1;for(var g=h.targetContainers;0<g.length;){var w=fp(h.domEventName,h.eventSystemFlags,g[0],h.nativeEvent);if(w===null){w=h.nativeEvent;var I=new w.constructor(w.type,w);on=I,w.target.dispatchEvent(I),on=null}else return g=Py(w),g!==null&&hp(g),h.blockedOn=w,!1;g.shift()}return!0}function Ud(h,g,w){Bl(h)&&w.delete(g)}function v1(){my=!1,Xr!==null&&Bl(Xr)&&(Xr=null),Oo!==null&&Bl(Oo)&&(Oo=null),Mo!==null&&Bl(Mo)&&(Mo=null),pc.forEach(Ud),to.forEach(Ud)}function Lo(h,g){h.blockedOn===g&&(h.blockedOn=null,my||(my=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,v1)))}function Do(h){function g(F){return Lo(F,h)}if(0<Ia.length){Lo(Ia[0],h);for(var w=1;w<Ia.length;w++){var I=Ia[w];I.blockedOn===h&&(I.blockedOn=null)}}for(Xr!==null&&Lo(Xr,h),Oo!==null&&Lo(Oo,h),Mo!==null&&Lo(Mo,h),pc.forEach(g),to.forEach(g),w=0;w<Pa.length;w++)I=Pa[w],I.blockedOn===h&&(I.blockedOn=null);for(;0<Pa.length&&(w=Pa[0],w.blockedOn===null);)y1(w),w.blockedOn===null&&Pa.shift()}var $l=S.ReactCurrentBatchConfig,gc=!0;function Bn(h,g,w,I){var F=Kt,$=$l.transition;$l.transition=null;try{Kt=1,yy(h,g,w,I)}finally{Kt=F,$l.transition=$}}function oA(h,g,w,I){var F=Kt,$=$l.transition;$l.transition=null;try{Kt=4,yy(h,g,w,I)}finally{Kt=F,$l.transition=$}}function yy(h,g,w,I){if(gc){var F=fp(h,g,w,I);if(F===null)yA(h,g,I,Wd,w),m1(h,I);else if(sA(F,h,g,w,I))I.stopPropagation();else if(m1(h,I),g&4&&-1<iA.indexOf(h)){for(;F!==null;){var $=Py(F);if($!==null&&h1($),$=fp(h,g,w,I),$===null&&yA(h,g,I,Wd,w),$===F)break;F=$}F!==null&&I.stopPropagation()}else yA(h,g,I,null,w)}}var Wd=null;function fp(h,g,w,I){if(Wd=null,h=Pi(I),h=Yd(h),h!==null)if(g=Yi(h),g===null)h=null;else if(w=g.tag,w===13){if(h=Aa(g),h!==null)return h;h=null}else if(w===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;h=null}else g!==h&&(h=null);return Wd=h,null}function vy(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case Fl:return 1;case Ta:return 4;case Ki:case Vd:return 16;case lp:return 536870912;default:return 16}default:return 16}}var ks=null,pp=null,Zi=null;function by(){if(Zi)return Zi;var h,g=pp,w=g.length,I,F="value"in ks?ks.value:ks.textContent,$=F.length;for(h=0;h<w&&g[h]===F[h];h++);var J=w-h;for(I=1;I<=J&&g[w-I]===F[$-I];I++);return Zi=F.slice(h,1<I?1-I:void 0)}function gp(h){var g=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&g===13&&(h=13)):h=g,h===10&&(h=13),32<=h||h===13?h:0}function Na(){return!0}function wy(){return!1}function Kr(h){function g(w,I,F,$,J){this._reactName=w,this._targetInst=F,this.type=I,this.nativeEvent=$,this.target=J,this.currentTarget=null;for(var fe in h)h.hasOwnProperty(fe)&&(w=h[fe],this[fe]=w?w($):$[fe]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Na:wy,this.isPropagationStopped=wy,this}return W(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),g}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Kr(Fo),Oa=W({},Fo,{view:0,detail:0}),aA=Kr(Oa),yp,Vl,mc,qd=W({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==mc&&(mc&&h.type==="mousemove"?(yp=h.screenX-mc.screenX,Vl=h.screenY-mc.screenY):Vl=yp=0,mc=h),yp)},movementY:function(h){return"movementY"in h?h.movementY:Vl}}),vp=Kr(qd),_y=W({},qd,{dataTransfer:0}),b1=Kr(_y),bp=W({},Oa,{relatedTarget:0}),wp=Kr(bp),w1=W({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=Kr(w1),_1=W({},Fo,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),x1=Kr(_1),E1=W({},Fo,{data:0}),xy=Kr(E1),_p={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Li={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(h){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(h):(h=S1[h])?!!g[h]:!1}function Ma(){return C1}var C=W({},Oa,{key:function(h){if(h.key){var g=_p[h.key]||h.key;if(g!=="Unidentified")return g}return h.type==="keypress"?(h=gp(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Li[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(h){return h.type==="keypress"?gp(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?gp(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),B=Kr(C),Y=W({},qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ae=Kr(Y),Se=W({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),Ie=Kr(Se),Ge=W({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),vn=Kr(Ge),kr=W({},qd,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Zt=Kr(kr),Br=[9,13,27,32],gr=a&&"CompositionEvent"in window,no=null;a&&"documentMode"in document&&(no=document.documentMode);var Rs=a&&"TextEvent"in window&&!no,Gd=a&&(!gr||no&&8<no&&11>=no),xp=" ",CM=!1;function AM(h,g){switch(h){case"keyup":return Br.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TM(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Ep=!1;function rG(h,g){switch(h){case"compositionend":return TM(g);case"keypress":return g.which!==32?null:(CM=!0,xp);case"textInput":return h=g.data,h===xp&&CM?null:h;default:return null}}function iG(h,g){if(Ep)return h==="compositionend"||!gr&&AM(h,g)?(h=by(),Zi=pp=ks=null,Ep=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Gd&&g.locale!=="ko"?null:g.data;default:return null}}var sG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kM(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g==="input"?!!sG[h.type]:g==="textarea"}function RM(h,g,w,I){Gi(I),g=I1(g,"onChange"),0<g.length&&(w=new mp("onChange","change",null,w,I),h.push({event:w,listeners:g}))}var Ey=null,Sy=null;function oG(h){GM(h,0)}function A1(h){var g=kp(h);if(Ee(g))return h}function aG(h,g){if(h==="change")return g}var IM=!1;if(a){var lA;if(a){var uA="oninput"in document;if(!uA){var PM=document.createElement("div");PM.setAttribute("oninput","return;"),uA=typeof PM.oninput=="function"}lA=uA}else lA=!1;IM=lA&&(!document.documentMode||9<document.documentMode)}function NM(){Ey&&(Ey.detachEvent("onpropertychange",OM),Sy=Ey=null)}function OM(h){if(h.propertyName==="value"&&A1(Sy)){var g=[];RM(g,Sy,h,Pi(h)),Ca(oG,g)}}function lG(h,g,w){h==="focusin"?(NM(),Ey=g,Sy=w,Ey.attachEvent("onpropertychange",OM)):h==="focusout"&&NM()}function uG(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return A1(Sy)}function cG(h,g){if(h==="click")return A1(g)}function dG(h,g){if(h==="input"||h==="change")return A1(g)}function hG(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var zo=typeof Object.is=="function"?Object.is:hG;function Cy(h,g){if(zo(h,g))return!0;if(typeof h!="object"||h===null||typeof g!="object"||g===null)return!1;var w=Object.keys(h),I=Object.keys(g);if(w.length!==I.length)return!1;for(I=0;I<w.length;I++){var F=w[I];if(!l.call(g,F)||!zo(h[F],g[F]))return!1}return!0}function MM(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function LM(h,g){var w=MM(h);h=0;for(var I;w;){if(w.nodeType===3){if(I=h+w.textContent.length,h<=g&&I>=g)return{node:w,offset:g-h};h=I}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=MM(w)}}function DM(h,g){return h&&g?h===g?!0:h&&h.nodeType===3?!1:g&&g.nodeType===3?DM(h,g.parentNode):"contains"in h?h.contains(g):h.compareDocumentPosition?!!(h.compareDocumentPosition(g)&16):!1:!1}function FM(){for(var h=window,g=Pe();g instanceof h.HTMLIFrameElement;){try{var w=typeof g.contentWindow.location.href=="string"}catch{w=!1}if(w)h=g.contentWindow;else break;g=Pe(h.document)}return g}function cA(h){var g=h&&h.nodeName&&h.nodeName.toLowerCase();return g&&(g==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||g==="textarea"||h.contentEditable==="true")}function fG(h){var g=FM(),w=h.focusedElem,I=h.selectionRange;if(g!==w&&w&&w.ownerDocument&&DM(w.ownerDocument.documentElement,w)){if(I!==null&&cA(w)){if(g=I.start,h=I.end,h===void 0&&(h=g),"selectionStart"in w)w.selectionStart=g,w.selectionEnd=Math.min(h,w.value.length);else if(h=(g=w.ownerDocument||document)&&g.defaultView||window,h.getSelection){h=h.getSelection();var F=w.textContent.length,$=Math.min(I.start,F);I=I.end===void 0?$:Math.min(I.end,F),!h.extend&&$>I&&(F=I,I=$,$=F),F=LM(w,$);var J=LM(w,I);F&&J&&(h.rangeCount!==1||h.anchorNode!==F.node||h.anchorOffset!==F.offset||h.focusNode!==J.node||h.focusOffset!==J.offset)&&(g=g.createRange(),g.setStart(F.node,F.offset),h.removeAllRanges(),$>I?(h.addRange(g),h.extend(J.node,J.offset)):(g.setEnd(J.node,J.offset),h.addRange(g)))}}for(g=[],h=w;h=h.parentNode;)h.nodeType===1&&g.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<g.length;w++)h=g[w],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var pG=a&&"documentMode"in document&&11>=document.documentMode,Sp=null,dA=null,Ay=null,hA=!1;function zM(h,g,w){var I=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;hA||Sp==null||Sp!==Pe(I)||(I=Sp,"selectionStart"in I&&cA(I)?I={start:I.selectionStart,end:I.selectionEnd}:(I=(I.ownerDocument&&I.ownerDocument.defaultView||window).getSelection(),I={anchorNode:I.anchorNode,anchorOffset:I.anchorOffset,focusNode:I.focusNode,focusOffset:I.focusOffset}),Ay&&Cy(Ay,I)||(Ay=I,I=I1(dA,"onSelect"),0<I.length&&(g=new mp("onSelect","select",null,g,w),h.push({event:g,listeners:I}),g.target=Sp)))}function T1(h,g){var w={};return w[h.toLowerCase()]=g.toLowerCase(),w["Webkit"+h]="webkit"+g,w["Moz"+h]="moz"+g,w}var Cp={animationend:T1("Animation","AnimationEnd"),animationiteration:T1("Animation","AnimationIteration"),animationstart:T1("Animation","AnimationStart"),transitionend:T1("Transition","TransitionEnd")},fA={},jM={};a&&(jM=document.createElement("div").style,"AnimationEvent"in window||(delete Cp.animationend.animation,delete Cp.animationiteration.animation,delete Cp.animationstart.animation),"TransitionEvent"in window||delete Cp.transitionend.transition);function k1(h){if(fA[h])return fA[h];if(!Cp[h])return h;var g=Cp[h],w;for(w in g)if(g.hasOwnProperty(w)&&w in jM)return fA[h]=g[w];return h}var BM=k1("animationend"),$M=k1("animationiteration"),VM=k1("animationstart"),HM=k1("transitionend"),UM=new Map,WM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(h,g){UM.set(h,g),s(g,[h])}for(var pA=0;pA<WM.length;pA++){var gA=WM[pA],gG=gA.toLowerCase(),mG=gA[0].toUpperCase()+gA.slice(1);yc(gG,"on"+mG)}yc(BM,"onAnimationEnd"),yc($M,"onAnimationIteration"),yc(VM,"onAnimationStart"),yc("dblclick","onDoubleClick"),yc("focusin","onFocus"),yc("focusout","onBlur"),yc(HM,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ty="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yG=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ty));function qM(h,g,w){var I=h.type||"unknown-event";h.currentTarget=w,rp(I,g,void 0,h),h.currentTarget=null}function GM(h,g){g=(g&4)!==0;for(var w=0;w<h.length;w++){var I=h[w],F=I.event;I=I.listeners;e:{var $=void 0;if(g)for(var J=I.length-1;0<=J;J--){var fe=I[J],be=fe.instance,ke=fe.currentTarget;if(fe=fe.listener,be!==$&&F.isPropagationStopped())break e;qM(F,fe,ke),$=be}else for(J=0;J<I.length;J++){if(fe=I[J],be=fe.instance,ke=fe.currentTarget,fe=fe.listener,be!==$&&F.isPropagationStopped())break e;qM(F,fe,ke),$=be}}}if(As)throw h=jd,As=!1,jd=null,h}function Fn(h,g){var w=g[EA];w===void 0&&(w=g[EA]=new Set);var I=h+"__bubble";w.has(I)||(YM(g,h,2,!1),w.add(I))}function mA(h,g,w){var I=0;g&&(I|=4),YM(w,h,I,g)}var R1="_reactListening"+Math.random().toString(36).slice(2);function ky(h){if(!h[R1]){h[R1]=!0,r.forEach(function(w){w!=="selectionchange"&&(yG.has(w)||mA(w,!1,h),mA(w,!0,h))});var g=h.nodeType===9?h:h.ownerDocument;g===null||g[R1]||(g[R1]=!0,mA("selectionchange",!1,g))}}function YM(h,g,w,I){switch(vy(g)){case 1:var F=Bn;break;case 4:F=oA;break;default:F=yy}w=F.bind(null,g,w,h),F=void 0,!sc||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(F=!0),I?F!==void 0?h.addEventListener(g,w,{capture:!0,passive:F}):h.addEventListener(g,w,!0):F!==void 0?h.addEventListener(g,w,{passive:F}):h.addEventListener(g,w,!1)}function yA(h,g,w,I,F){var $=I;if((g&1)===0&&(g&2)===0&&I!==null)e:for(;;){if(I===null)return;var J=I.tag;if(J===3||J===4){var fe=I.stateNode.containerInfo;if(fe===F||fe.nodeType===8&&fe.parentNode===F)break;if(J===4)for(J=I.return;J!==null;){var be=J.tag;if((be===3||be===4)&&(be=J.stateNode.containerInfo,be===F||be.nodeType===8&&be.parentNode===F))return;J=J.return}for(;fe!==null;){if(J=Yd(fe),J===null)return;if(be=J.tag,be===5||be===6){I=$=J;continue e}fe=fe.parentNode}}I=I.return}Ca(function(){var ke=$,Ve=Pi(w),He=[];e:{var $e=UM.get(h);if($e!==void 0){var Ze=mp,ut=h;switch(h){case"keypress":if(gp(w)===0)break e;case"keydown":case"keyup":Ze=B;break;case"focusin":ut="focus",Ze=wp;break;case"focusout":ut="blur",Ze=wp;break;case"beforeblur":case"afterblur":Ze=wp;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=Ie;break;case BM:case $M:case VM:Ze=Hl;break;case HM:Ze=vn;break;case"scroll":Ze=aA;break;case"wheel":Ze=Zt;break;case"copy":case"cut":case"paste":Ze=x1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=ae}var ft=(g&4)!==0,lr=!ft&&h==="scroll",Ce=ft?$e!==null?$e+"Capture":null:$e;ft=[];for(var _e=ke,Ae;_e!==null;){Ae=_e;var qe=Ae.stateNode;if(Ae.tag===5&&qe!==null&&(Ae=qe,Ce!==null&&(qe=Yn(_e,Ce),qe!=null&&ft.push(Ry(_e,qe,Ae)))),lr)break;_e=_e.return}0<ft.length&&($e=new Ze($e,ut,null,w,Ve),He.push({event:$e,listeners:ft}))}}if((g&7)===0){e:{if($e=h==="mouseover"||h==="pointerover",Ze=h==="mouseout"||h==="pointerout",$e&&w!==on&&(ut=w.relatedTarget||w.fromElement)&&(Yd(ut)||ut[Ul]))break e;if((Ze||$e)&&($e=Ve.window===Ve?Ve:($e=Ve.ownerDocument)?$e.defaultView||$e.parentWindow:window,Ze?(ut=w.relatedTarget||w.toElement,Ze=ke,ut=ut?Yd(ut):null,ut!==null&&(lr=Yi(ut),ut!==lr||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(Ze=null,ut=ke),Ze!==ut)){if(ft=vp,qe="onMouseLeave",Ce="onMouseEnter",_e="mouse",(h==="pointerout"||h==="pointerover")&&(ft=ae,qe="onPointerLeave",Ce="onPointerEnter",_e="pointer"),lr=Ze==null?$e:kp(Ze),Ae=ut==null?$e:kp(ut),$e=new ft(qe,_e+"leave",Ze,w,Ve),$e.target=lr,$e.relatedTarget=Ae,qe=null,Yd(Ve)===ke&&(ft=new ft(Ce,_e+"enter",ut,w,Ve),ft.target=Ae,ft.relatedTarget=lr,qe=ft),lr=qe,Ze&&ut)t:{for(ft=Ze,Ce=ut,_e=0,Ae=ft;Ae;Ae=Ap(Ae))_e++;for(Ae=0,qe=Ce;qe;qe=Ap(qe))Ae++;for(;0<_e-Ae;)ft=Ap(ft),_e--;for(;0<Ae-_e;)Ce=Ap(Ce),Ae--;for(;_e--;){if(ft===Ce||Ce!==null&&ft===Ce.alternate)break t;ft=Ap(ft),Ce=Ap(Ce)}ft=null}else ft=null;Ze!==null&&XM(He,$e,Ze,ft,!1),ut!==null&&lr!==null&&XM(He,lr,ut,ft,!0)}}e:{if($e=ke?kp(ke):window,Ze=$e.nodeName&&$e.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&$e.type==="file")var gt=aG;else if(kM($e))if(IM)gt=dG;else{gt=uG;var _t=lG}else(Ze=$e.nodeName)&&Ze.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(gt=cG);if(gt&&(gt=gt(h,ke))){RM(He,gt,w,Ve);break e}_t&&_t(h,$e,ke),h==="focusout"&&(_t=$e._wrapperState)&&_t.controlled&&$e.type==="number"&&ue($e,"number",$e.value)}switch(_t=ke?kp(ke):window,h){case"focusin":(kM(_t)||_t.contentEditable==="true")&&(Sp=_t,dA=ke,Ay=null);break;case"focusout":Ay=dA=Sp=null;break;case"mousedown":hA=!0;break;case"contextmenu":case"mouseup":case"dragend":hA=!1,zM(He,w,Ve);break;case"selectionchange":if(pG)break;case"keydown":case"keyup":zM(He,w,Ve)}var xt;if(gr)e:{switch(h){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Ep?AM(h,w)&&(It="onCompositionEnd"):h==="keydown"&&w.keyCode===229&&(It="onCompositionStart");It&&(Gd&&w.locale!=="ko"&&(Ep||It!=="onCompositionStart"?It==="onCompositionEnd"&&Ep&&(xt=by()):(ks=Ve,pp="value"in ks?ks.value:ks.textContent,Ep=!0)),_t=I1(ke,It),0<_t.length&&(It=new xy(It,h,null,w,Ve),He.push({event:It,listeners:_t}),xt?It.data=xt:(xt=TM(w),xt!==null&&(It.data=xt)))),(xt=Rs?rG(h,w):iG(h,w))&&(ke=I1(ke,"onBeforeInput"),0<ke.length&&(Ve=new xy("onBeforeInput","beforeinput",null,w,Ve),He.push({event:Ve,listeners:ke}),Ve.data=xt))}GM(He,g)})}function Ry(h,g,w){return{instance:h,listener:g,currentTarget:w}}function I1(h,g){for(var w=g+"Capture",I=[];h!==null;){var F=h,$=F.stateNode;F.tag===5&&$!==null&&(F=$,$=Yn(h,w),$!=null&&I.unshift(Ry(h,$,F)),$=Yn(h,g),$!=null&&I.push(Ry(h,$,F))),h=h.return}return I}function Ap(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function XM(h,g,w,I,F){for(var $=g._reactName,J=[];w!==null&&w!==I;){var fe=w,be=fe.alternate,ke=fe.stateNode;if(be!==null&&be===I)break;fe.tag===5&&ke!==null&&(fe=ke,F?(be=Yn(w,$),be!=null&&J.unshift(Ry(w,be,fe))):F||(be=Yn(w,$),be!=null&&J.push(Ry(w,be,fe)))),w=w.return}J.length!==0&&h.push({event:g,listeners:J})}var vG=/\r\n?/g,bG=/\u0000|\uFFFD/g;function KM(h){return(typeof h=="string"?h:""+h).replace(vG,`
`).replace(bG,"")}function P1(h,g,w){if(g=KM(g),KM(h)!==g&&w)throw Error(n(425))}function N1(){}var vA=null,bA=null;function wA(h,g){return h==="textarea"||h==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var _A=typeof setTimeout=="function"?setTimeout:void 0,wG=typeof clearTimeout=="function"?clearTimeout:void 0,QM=typeof Promise=="function"?Promise:void 0,_G=typeof queueMicrotask=="function"?queueMicrotask:typeof QM<"u"?function(h){return QM.resolve(null).then(h).catch(xG)}:_A;function xG(h){setTimeout(function(){throw h})}function xA(h,g){var w=g,I=0;do{var F=w.nextSibling;if(h.removeChild(w),F&&F.nodeType===8)if(w=F.data,w==="/$"){if(I===0){h.removeChild(F),Do(g);return}I--}else w!=="$"&&w!=="$?"&&w!=="$!"||I++;w=F}while(w);Do(g)}function vc(h){for(;h!=null;h=h.nextSibling){var g=h.nodeType;if(g===1||g===3)break;if(g===8){if(g=h.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return h}function ZM(h){h=h.previousSibling;for(var g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="$"||w==="$!"||w==="$?"){if(g===0)return h;g--}else w==="/$"&&g++}h=h.previousSibling}return null}var Tp=Math.random().toString(36).slice(2),La="__reactFiber$"+Tp,Iy="__reactProps$"+Tp,Ul="__reactContainer$"+Tp,EA="__reactEvents$"+Tp,EG="__reactListeners$"+Tp,SG="__reactHandles$"+Tp;function Yd(h){var g=h[La];if(g)return g;for(var w=h.parentNode;w;){if(g=w[Ul]||w[La]){if(w=g.alternate,g.child!==null||w!==null&&w.child!==null)for(h=ZM(h);h!==null;){if(w=h[La])return w;h=ZM(h)}return g}h=w,w=h.parentNode}return null}function Py(h){return h=h[La]||h[Ul],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function kp(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function O1(h){return h[Iy]||null}var SA=[],Rp=-1;function bc(h){return{current:h}}function zn(h){0>Rp||(h.current=SA[Rp],SA[Rp]=null,Rp--)}function Nn(h,g){Rp++,SA[Rp]=h.current,h.current=g}var wc={},hi=bc(wc),Ji=bc(!1),Xd=wc;function Ip(h,g){var w=h.type.contextTypes;if(!w)return wc;var I=h.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===g)return I.__reactInternalMemoizedMaskedChildContext;var F={},$;for($ in w)F[$]=g[$];return I&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=g,h.__reactInternalMemoizedMaskedChildContext=F),F}function es(h){return h=h.childContextTypes,h!=null}function M1(){zn(Ji),zn(hi)}function JM(h,g,w){if(hi.current!==wc)throw Error(n(168));Nn(hi,g),Nn(Ji,w)}function eL(h,g,w){var I=h.stateNode;if(g=g.childContextTypes,typeof I.getChildContext!="function")return w;I=I.getChildContext();for(var F in I)if(!(F in g))throw Error(n(108,de(h)||"Unknown",F));return W({},w,I)}function L1(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||wc,Xd=hi.current,Nn(hi,h),Nn(Ji,Ji.current),!0}function tL(h,g,w){var I=h.stateNode;if(!I)throw Error(n(169));w?(h=eL(h,g,Xd),I.__reactInternalMemoizedMergedChildContext=h,zn(Ji),zn(hi),Nn(hi,h)):zn(Ji),Nn(Ji,w)}var Wl=null,D1=!1,CA=!1;function nL(h){Wl===null?Wl=[h]:Wl.push(h)}function CG(h){D1=!0,nL(h)}function _c(){if(!CA&&Wl!==null){CA=!0;var h=0,g=Kt;try{var w=Wl;for(Kt=1;h<w.length;h++){var I=w[h];do I=I(!0);while(I!==null)}Wl=null,D1=!1}catch(F){throw Wl!==null&&(Wl=Wl.slice(h+1)),uc(Fl,_c),F}finally{Kt=g,CA=!1}}return null}var Pp=[],Np=0,F1=null,z1=0,ro=[],io=0,Kd=null,ql=1,Gl="";function Qd(h,g){Pp[Np++]=z1,Pp[Np++]=F1,F1=h,z1=g}function rL(h,g,w){ro[io++]=ql,ro[io++]=Gl,ro[io++]=Kd,Kd=h;var I=ql;h=Gl;var F=32-Yr(I)-1;I&=~(1<<F),w+=1;var $=32-Yr(g)+F;if(30<$){var J=F-F%5;$=(I&(1<<J)-1).toString(32),I>>=J,F-=J,ql=1<<32-Yr(g)+F|w<<F|I,Gl=$+h}else ql=1<<$|w<<F|I,Gl=h}function AA(h){h.return!==null&&(Qd(h,1),rL(h,1,0))}function TA(h){for(;h===F1;)F1=Pp[--Np],Pp[Np]=null,z1=Pp[--Np],Pp[Np]=null;for(;h===Kd;)Kd=ro[--io],ro[io]=null,Gl=ro[--io],ro[io]=null,ql=ro[--io],ro[io]=null}var Is=null,Ps=null,$n=!1,jo=null;function iL(h,g){var w=lo(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=h,g=h.deletions,g===null?(h.deletions=[w],h.flags|=16):g.push(w)}function sL(h,g){switch(h.tag){case 5:var w=h.type;return g=g.nodeType!==1||w.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(h.stateNode=g,Is=h,Ps=vc(g.firstChild),!0):!1;case 6:return g=h.pendingProps===""||g.nodeType!==3?null:g,g!==null?(h.stateNode=g,Is=h,Ps=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(w=Kd!==null?{id:ql,overflow:Gl}:null,h.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=lo(18,null,null,0),w.stateNode=g,w.return=h,h.child=w,Is=h,Ps=null,!0):!1;default:return!1}}function kA(h){return(h.mode&1)!==0&&(h.flags&128)===0}function RA(h){if($n){var g=Ps;if(g){var w=g;if(!sL(h,g)){if(kA(h))throw Error(n(418));g=vc(w.nextSibling);var I=Is;g&&sL(h,g)?iL(I,w):(h.flags=h.flags&-4097|2,$n=!1,Is=h)}}else{if(kA(h))throw Error(n(418));h.flags=h.flags&-4097|2,$n=!1,Is=h}}}function oL(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Is=h}function j1(h){if(h!==Is)return!1;if(!$n)return oL(h),$n=!0,!1;var g;if((g=h.tag!==3)&&!(g=h.tag!==5)&&(g=h.type,g=g!=="head"&&g!=="body"&&!wA(h.type,h.memoizedProps)),g&&(g=Ps)){if(kA(h))throw aL(),Error(n(418));for(;g;)iL(h,g),g=vc(g.nextSibling)}if(oL(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,g=0;h;){if(h.nodeType===8){var w=h.data;if(w==="/$"){if(g===0){Ps=vc(h.nextSibling);break e}g--}else w!=="$"&&w!=="$!"&&w!=="$?"||g++}h=h.nextSibling}Ps=null}}else Ps=Is?vc(h.stateNode.nextSibling):null;return!0}function aL(){for(var h=Ps;h;)h=vc(h.nextSibling)}function Op(){Ps=Is=null,$n=!1}function IA(h){jo===null?jo=[h]:jo.push(h)}var AG=S.ReactCurrentBatchConfig;function Ny(h,g,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(n(309));var I=w.stateNode}if(!I)throw Error(n(147,h));var F=I,$=""+h;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===$?g.ref:(g=function(J){var fe=F.refs;J===null?delete fe[$]:fe[$]=J},g._stringRef=$,g)}if(typeof h!="string")throw Error(n(284));if(!w._owner)throw Error(n(290,h))}return h}function B1(h,g){throw h=Object.prototype.toString.call(g),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":h))}function lL(h){var g=h._init;return g(h._payload)}function uL(h){function g(Ce,_e){if(h){var Ae=Ce.deletions;Ae===null?(Ce.deletions=[_e],Ce.flags|=16):Ae.push(_e)}}function w(Ce,_e){if(!h)return null;for(;_e!==null;)g(Ce,_e),_e=_e.sibling;return null}function I(Ce,_e){for(Ce=new Map;_e!==null;)_e.key!==null?Ce.set(_e.key,_e):Ce.set(_e.index,_e),_e=_e.sibling;return Ce}function F(Ce,_e){return Ce=Rc(Ce,_e),Ce.index=0,Ce.sibling=null,Ce}function $(Ce,_e,Ae){return Ce.index=Ae,h?(Ae=Ce.alternate,Ae!==null?(Ae=Ae.index,Ae<_e?(Ce.flags|=2,_e):Ae):(Ce.flags|=2,_e)):(Ce.flags|=1048576,_e)}function J(Ce){return h&&Ce.alternate===null&&(Ce.flags|=2),Ce}function fe(Ce,_e,Ae,qe){return _e===null||_e.tag!==6?(_e=_T(Ae,Ce.mode,qe),_e.return=Ce,_e):(_e=F(_e,Ae),_e.return=Ce,_e)}function be(Ce,_e,Ae,qe){var gt=Ae.type;return gt===A?Ve(Ce,_e,Ae.props.children,qe,Ae.key):_e!==null&&(_e.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&lL(gt)===_e.type)?(qe=F(_e,Ae.props),qe.ref=Ny(Ce,_e,Ae),qe.return=Ce,qe):(qe=c_(Ae.type,Ae.key,Ae.props,null,Ce.mode,qe),qe.ref=Ny(Ce,_e,Ae),qe.return=Ce,qe)}function ke(Ce,_e,Ae,qe){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ae.containerInfo||_e.stateNode.implementation!==Ae.implementation?(_e=xT(Ae,Ce.mode,qe),_e.return=Ce,_e):(_e=F(_e,Ae.children||[]),_e.return=Ce,_e)}function Ve(Ce,_e,Ae,qe,gt){return _e===null||_e.tag!==7?(_e=sh(Ae,Ce.mode,qe,gt),_e.return=Ce,_e):(_e=F(_e,Ae),_e.return=Ce,_e)}function He(Ce,_e,Ae){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=_T(""+_e,Ce.mode,Ae),_e.return=Ce,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case k:return Ae=c_(_e.type,_e.key,_e.props,null,Ce.mode,Ae),Ae.ref=Ny(Ce,null,_e),Ae.return=Ce,Ae;case O:return _e=xT(_e,Ce.mode,Ae),_e.return=Ce,_e;case K:var qe=_e._init;return He(Ce,qe(_e._payload),Ae)}if(ve(_e)||X(_e))return _e=sh(_e,Ce.mode,Ae,null),_e.return=Ce,_e;B1(Ce,_e)}return null}function $e(Ce,_e,Ae,qe){var gt=_e!==null?_e.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return gt!==null?null:fe(Ce,_e,""+Ae,qe);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case k:return Ae.key===gt?be(Ce,_e,Ae,qe):null;case O:return Ae.key===gt?ke(Ce,_e,Ae,qe):null;case K:return gt=Ae._init,$e(Ce,_e,gt(Ae._payload),qe)}if(ve(Ae)||X(Ae))return gt!==null?null:Ve(Ce,_e,Ae,qe,null);B1(Ce,Ae)}return null}function Ze(Ce,_e,Ae,qe,gt){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Ce=Ce.get(Ae)||null,fe(_e,Ce,""+qe,gt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case k:return Ce=Ce.get(qe.key===null?Ae:qe.key)||null,be(_e,Ce,qe,gt);case O:return Ce=Ce.get(qe.key===null?Ae:qe.key)||null,ke(_e,Ce,qe,gt);case K:var _t=qe._init;return Ze(Ce,_e,Ae,_t(qe._payload),gt)}if(ve(qe)||X(qe))return Ce=Ce.get(Ae)||null,Ve(_e,Ce,qe,gt,null);B1(_e,qe)}return null}function ut(Ce,_e,Ae,qe){for(var gt=null,_t=null,xt=_e,It=_e=0,Hr=null;xt!==null&&It<Ae.length;It++){xt.index>It?(Hr=xt,xt=null):Hr=xt.sibling;var un=$e(Ce,xt,Ae[It],qe);if(un===null){xt===null&&(xt=Hr);break}h&&xt&&un.alternate===null&&g(Ce,xt),_e=$(un,_e,It),_t===null?gt=un:_t.sibling=un,_t=un,xt=Hr}if(It===Ae.length)return w(Ce,xt),$n&&Qd(Ce,It),gt;if(xt===null){for(;It<Ae.length;It++)xt=He(Ce,Ae[It],qe),xt!==null&&(_e=$(xt,_e,It),_t===null?gt=xt:_t.sibling=xt,_t=xt);return $n&&Qd(Ce,It),gt}for(xt=I(Ce,xt);It<Ae.length;It++)Hr=Ze(xt,Ce,It,Ae[It],qe),Hr!==null&&(h&&Hr.alternate!==null&&xt.delete(Hr.key===null?It:Hr.key),_e=$(Hr,_e,It),_t===null?gt=Hr:_t.sibling=Hr,_t=Hr);return h&&xt.forEach(function(Ic){return g(Ce,Ic)}),$n&&Qd(Ce,It),gt}function ft(Ce,_e,Ae,qe){var gt=X(Ae);if(typeof gt!="function")throw Error(n(150));if(Ae=gt.call(Ae),Ae==null)throw Error(n(151));for(var _t=gt=null,xt=_e,It=_e=0,Hr=null,un=Ae.next();xt!==null&&!un.done;It++,un=Ae.next()){xt.index>It?(Hr=xt,xt=null):Hr=xt.sibling;var Ic=$e(Ce,xt,un.value,qe);if(Ic===null){xt===null&&(xt=Hr);break}h&&xt&&Ic.alternate===null&&g(Ce,xt),_e=$(Ic,_e,It),_t===null?gt=Ic:_t.sibling=Ic,_t=Ic,xt=Hr}if(un.done)return w(Ce,xt),$n&&Qd(Ce,It),gt;if(xt===null){for(;!un.done;It++,un=Ae.next())un=He(Ce,un.value,qe),un!==null&&(_e=$(un,_e,It),_t===null?gt=un:_t.sibling=un,_t=un);return $n&&Qd(Ce,It),gt}for(xt=I(Ce,xt);!un.done;It++,un=Ae.next())un=Ze(xt,Ce,It,un.value,qe),un!==null&&(h&&un.alternate!==null&&xt.delete(un.key===null?It:un.key),_e=$(un,_e,It),_t===null?gt=un:_t.sibling=un,_t=un);return h&&xt.forEach(function(sY){return g(Ce,sY)}),$n&&Qd(Ce,It),gt}function lr(Ce,_e,Ae,qe){if(typeof Ae=="object"&&Ae!==null&&Ae.type===A&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case k:e:{for(var gt=Ae.key,_t=_e;_t!==null;){if(_t.key===gt){if(gt=Ae.type,gt===A){if(_t.tag===7){w(Ce,_t.sibling),_e=F(_t,Ae.props.children),_e.return=Ce,Ce=_e;break e}}else if(_t.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===K&&lL(gt)===_t.type){w(Ce,_t.sibling),_e=F(_t,Ae.props),_e.ref=Ny(Ce,_t,Ae),_e.return=Ce,Ce=_e;break e}w(Ce,_t);break}else g(Ce,_t);_t=_t.sibling}Ae.type===A?(_e=sh(Ae.props.children,Ce.mode,qe,Ae.key),_e.return=Ce,Ce=_e):(qe=c_(Ae.type,Ae.key,Ae.props,null,Ce.mode,qe),qe.ref=Ny(Ce,_e,Ae),qe.return=Ce,Ce=qe)}return J(Ce);case O:e:{for(_t=Ae.key;_e!==null;){if(_e.key===_t)if(_e.tag===4&&_e.stateNode.containerInfo===Ae.containerInfo&&_e.stateNode.implementation===Ae.implementation){w(Ce,_e.sibling),_e=F(_e,Ae.children||[]),_e.return=Ce,Ce=_e;break e}else{w(Ce,_e);break}else g(Ce,_e);_e=_e.sibling}_e=xT(Ae,Ce.mode,qe),_e.return=Ce,Ce=_e}return J(Ce);case K:return _t=Ae._init,lr(Ce,_e,_t(Ae._payload),qe)}if(ve(Ae))return ut(Ce,_e,Ae,qe);if(X(Ae))return ft(Ce,_e,Ae,qe);B1(Ce,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,_e!==null&&_e.tag===6?(w(Ce,_e.sibling),_e=F(_e,Ae),_e.return=Ce,Ce=_e):(w(Ce,_e),_e=_T(Ae,Ce.mode,qe),_e.return=Ce,Ce=_e),J(Ce)):w(Ce,_e)}return lr}var Mp=uL(!0),cL=uL(!1),$1=bc(null),V1=null,Lp=null,PA=null;function NA(){PA=Lp=V1=null}function OA(h){var g=$1.current;zn($1),h._currentValue=g}function MA(h,g,w){for(;h!==null;){var I=h.alternate;if((h.childLanes&g)!==g?(h.childLanes|=g,I!==null&&(I.childLanes|=g)):I!==null&&(I.childLanes&g)!==g&&(I.childLanes|=g),h===w)break;h=h.return}}function Dp(h,g){V1=h,PA=Lp=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&g)!==0&&(ts=!0),h.firstContext=null)}function so(h){var g=h._currentValue;if(PA!==h)if(h={context:h,memoizedValue:g,next:null},Lp===null){if(V1===null)throw Error(n(308));Lp=h,V1.dependencies={lanes:0,firstContext:h}}else Lp=Lp.next=h;return g}var Zd=null;function LA(h){Zd===null?Zd=[h]:Zd.push(h)}function dL(h,g,w,I){var F=g.interleaved;return F===null?(w.next=w,LA(g)):(w.next=F.next,F.next=w),g.interleaved=w,Yl(h,I)}function Yl(h,g){h.lanes|=g;var w=h.alternate;for(w!==null&&(w.lanes|=g),w=h,h=h.return;h!==null;)h.childLanes|=g,w=h.alternate,w!==null&&(w.childLanes|=g),w=h,h=h.return;return w.tag===3?w.stateNode:null}var xc=!1;function DA(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hL(h,g){h=h.updateQueue,g.updateQueue===h&&(g.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Xl(h,g){return{eventTime:h,lane:g,tag:0,payload:null,callback:null,next:null}}function Ec(h,g,w){var I=h.updateQueue;if(I===null)return null;if(I=I.shared,(an&2)!==0){var F=I.pending;return F===null?g.next=g:(g.next=F.next,F.next=g),I.pending=g,Yl(h,w)}return F=I.interleaved,F===null?(g.next=g,LA(I)):(g.next=F.next,F.next=g),I.interleaved=g,Yl(h,w)}function H1(h,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var I=g.lanes;I&=h.pendingLanes,w|=I,g.lanes=w,hc(h,w)}}function fL(h,g){var w=h.updateQueue,I=h.alternate;if(I!==null&&(I=I.updateQueue,w===I)){var F=null,$=null;if(w=w.firstBaseUpdate,w!==null){do{var J={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};$===null?F=$=J:$=$.next=J,w=w.next}while(w!==null);$===null?F=$=g:$=$.next=g}else F=$=g;w={baseState:I.baseState,firstBaseUpdate:F,lastBaseUpdate:$,shared:I.shared,effects:I.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=g:h.next=g,w.lastBaseUpdate=g}function U1(h,g,w,I){var F=h.updateQueue;xc=!1;var $=F.firstBaseUpdate,J=F.lastBaseUpdate,fe=F.shared.pending;if(fe!==null){F.shared.pending=null;var be=fe,ke=be.next;be.next=null,J===null?$=ke:J.next=ke,J=be;var Ve=h.alternate;Ve!==null&&(Ve=Ve.updateQueue,fe=Ve.lastBaseUpdate,fe!==J&&(fe===null?Ve.firstBaseUpdate=ke:fe.next=ke,Ve.lastBaseUpdate=be))}if($!==null){var He=F.baseState;J=0,Ve=ke=be=null,fe=$;do{var $e=fe.lane,Ze=fe.eventTime;if((I&$e)===$e){Ve!==null&&(Ve=Ve.next={eventTime:Ze,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var ut=h,ft=fe;switch($e=g,Ze=w,ft.tag){case 1:if(ut=ft.payload,typeof ut=="function"){He=ut.call(Ze,He,$e);break e}He=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ft.payload,$e=typeof ut=="function"?ut.call(Ze,He,$e):ut,$e==null)break e;He=W({},He,$e);break e;case 2:xc=!0}}fe.callback!==null&&fe.lane!==0&&(h.flags|=64,$e=F.effects,$e===null?F.effects=[fe]:$e.push(fe))}else Ze={eventTime:Ze,lane:$e,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ve===null?(ke=Ve=Ze,be=He):Ve=Ve.next=Ze,J|=$e;if(fe=fe.next,fe===null){if(fe=F.shared.pending,fe===null)break;$e=fe,fe=$e.next,$e.next=null,F.lastBaseUpdate=$e,F.shared.pending=null}}while(!0);if(Ve===null&&(be=He),F.baseState=be,F.firstBaseUpdate=ke,F.lastBaseUpdate=Ve,g=F.shared.interleaved,g!==null){F=g;do J|=F.lane,F=F.next;while(F!==g)}else $===null&&(F.shared.lanes=0);th|=J,h.lanes=J,h.memoizedState=He}}function pL(h,g,w){if(h=g.effects,g.effects=null,h!==null)for(g=0;g<h.length;g++){var I=h[g],F=I.callback;if(F!==null){if(I.callback=null,I=w,typeof F!="function")throw Error(n(191,F));F.call(I)}}}var Oy={},Da=bc(Oy),My=bc(Oy),Ly=bc(Oy);function Jd(h){if(h===Oy)throw Error(n(174));return h}function FA(h,g){switch(Nn(Ly,g),Nn(My,h),Nn(Da,Oy),h=g.nodeType,h){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Re(null,"");break;default:h=h===8?g.parentNode:g,g=h.namespaceURI||null,h=h.tagName,g=Re(g,h)}zn(Da),Nn(Da,g)}function Fp(){zn(Da),zn(My),zn(Ly)}function gL(h){Jd(Ly.current);var g=Jd(Da.current),w=Re(g,h.type);g!==w&&(Nn(My,h),Nn(Da,w))}function zA(h){My.current===h&&(zn(Da),zn(My))}var Xn=bc(0);function W1(h){for(var g=h;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var jA=[];function BA(){for(var h=0;h<jA.length;h++)jA[h]._workInProgressVersionPrimary=null;jA.length=0}var q1=S.ReactCurrentDispatcher,$A=S.ReactCurrentBatchConfig,eh=0,Kn=null,Rr=null,$r=null,G1=!1,Dy=!1,Fy=0,TG=0;function fi(){throw Error(n(321))}function VA(h,g){if(g===null)return!1;for(var w=0;w<g.length&&w<h.length;w++)if(!zo(h[w],g[w]))return!1;return!0}function HA(h,g,w,I,F,$){if(eh=$,Kn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,q1.current=h===null||h.memoizedState===null?PG:NG,h=w(I,F),Dy){$=0;do{if(Dy=!1,Fy=0,25<=$)throw Error(n(301));$+=1,$r=Rr=null,g.updateQueue=null,q1.current=OG,h=w(I,F)}while(Dy)}if(q1.current=K1,g=Rr!==null&&Rr.next!==null,eh=0,$r=Rr=Kn=null,G1=!1,g)throw Error(n(300));return h}function UA(){var h=Fy!==0;return Fy=0,h}function Fa(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?Kn.memoizedState=$r=h:$r=$r.next=h,$r}function oo(){if(Rr===null){var h=Kn.alternate;h=h!==null?h.memoizedState:null}else h=Rr.next;var g=$r===null?Kn.memoizedState:$r.next;if(g!==null)$r=g,Rr=h;else{if(h===null)throw Error(n(310));Rr=h,h={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},$r===null?Kn.memoizedState=$r=h:$r=$r.next=h}return $r}function zy(h,g){return typeof g=="function"?g(h):g}function WA(h){var g=oo(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=h;var I=Rr,F=I.baseQueue,$=w.pending;if($!==null){if(F!==null){var J=F.next;F.next=$.next,$.next=J}I.baseQueue=F=$,w.pending=null}if(F!==null){$=F.next,I=I.baseState;var fe=J=null,be=null,ke=$;do{var Ve=ke.lane;if((eh&Ve)===Ve)be!==null&&(be=be.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),I=ke.hasEagerState?ke.eagerState:h(I,ke.action);else{var He={lane:Ve,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};be===null?(fe=be=He,J=I):be=be.next=He,Kn.lanes|=Ve,th|=Ve}ke=ke.next}while(ke!==null&&ke!==$);be===null?J=I:be.next=fe,zo(I,g.memoizedState)||(ts=!0),g.memoizedState=I,g.baseState=J,g.baseQueue=be,w.lastRenderedState=I}if(h=w.interleaved,h!==null){F=h;do $=F.lane,Kn.lanes|=$,th|=$,F=F.next;while(F!==h)}else F===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function qA(h){var g=oo(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=h;var I=w.dispatch,F=w.pending,$=g.memoizedState;if(F!==null){w.pending=null;var J=F=F.next;do $=h($,J.action),J=J.next;while(J!==F);zo($,g.memoizedState)||(ts=!0),g.memoizedState=$,g.baseQueue===null&&(g.baseState=$),w.lastRenderedState=$}return[$,I]}function mL(){}function yL(h,g){var w=Kn,I=oo(),F=g(),$=!zo(I.memoizedState,F);if($&&(I.memoizedState=F,ts=!0),I=I.queue,GA(wL.bind(null,w,I,h),[h]),I.getSnapshot!==g||$||$r!==null&&$r.memoizedState.tag&1){if(w.flags|=2048,jy(9,bL.bind(null,w,I,F,g),void 0,null),Vr===null)throw Error(n(349));(eh&30)!==0||vL(w,g,F)}return F}function vL(h,g,w){h.flags|=16384,h={getSnapshot:g,value:w},g=Kn.updateQueue,g===null?(g={lastEffect:null,stores:null},Kn.updateQueue=g,g.stores=[h]):(w=g.stores,w===null?g.stores=[h]:w.push(h))}function bL(h,g,w,I){g.value=w,g.getSnapshot=I,_L(g)&&xL(h)}function wL(h,g,w){return w(function(){_L(g)&&xL(h)})}function _L(h){var g=h.getSnapshot;h=h.value;try{var w=g();return!zo(h,w)}catch{return!0}}function xL(h){var g=Yl(h,1);g!==null&&Ho(g,h,1,-1)}function EL(h){var g=Fa();return typeof h=="function"&&(h=h()),g.memoizedState=g.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zy,lastRenderedState:h},g.queue=h,h=h.dispatch=IG.bind(null,Kn,h),[g.memoizedState,h]}function jy(h,g,w,I){return h={tag:h,create:g,destroy:w,deps:I,next:null},g=Kn.updateQueue,g===null?(g={lastEffect:null,stores:null},Kn.updateQueue=g,g.lastEffect=h.next=h):(w=g.lastEffect,w===null?g.lastEffect=h.next=h:(I=w.next,w.next=h,h.next=I,g.lastEffect=h)),h}function SL(){return oo().memoizedState}function Y1(h,g,w,I){var F=Fa();Kn.flags|=h,F.memoizedState=jy(1|g,w,void 0,I===void 0?null:I)}function X1(h,g,w,I){var F=oo();I=I===void 0?null:I;var $=void 0;if(Rr!==null){var J=Rr.memoizedState;if($=J.destroy,I!==null&&VA(I,J.deps)){F.memoizedState=jy(g,w,$,I);return}}Kn.flags|=h,F.memoizedState=jy(1|g,w,$,I)}function CL(h,g){return Y1(8390656,8,h,g)}function GA(h,g){return X1(2048,8,h,g)}function AL(h,g){return X1(4,2,h,g)}function TL(h,g){return X1(4,4,h,g)}function kL(h,g){if(typeof g=="function")return h=h(),g(h),function(){g(null)};if(g!=null)return h=h(),g.current=h,function(){g.current=null}}function RL(h,g,w){return w=w!=null?w.concat([h]):null,X1(4,4,kL.bind(null,g,h),w)}function YA(){}function IL(h,g){var w=oo();g=g===void 0?null:g;var I=w.memoizedState;return I!==null&&g!==null&&VA(g,I[1])?I[0]:(w.memoizedState=[h,g],h)}function PL(h,g){var w=oo();g=g===void 0?null:g;var I=w.memoizedState;return I!==null&&g!==null&&VA(g,I[1])?I[0]:(h=h(),w.memoizedState=[h,g],h)}function NL(h,g,w){return(eh&21)===0?(h.baseState&&(h.baseState=!1,ts=!0),h.memoizedState=w):(zo(w,g)||(w=jl(),Kn.lanes|=w,th|=w,h.baseState=!0),g)}function kG(h,g){var w=Kt;Kt=w!==0&&4>w?w:4,h(!0);var I=$A.transition;$A.transition={};try{h(!1),g()}finally{Kt=w,$A.transition=I}}function OL(){return oo().memoizedState}function RG(h,g,w){var I=Tc(h);if(w={lane:I,action:w,hasEagerState:!1,eagerState:null,next:null},ML(h))LL(g,w);else if(w=dL(h,g,w,I),w!==null){var F=Fi();Ho(w,h,I,F),DL(w,g,I)}}function IG(h,g,w){var I=Tc(h),F={lane:I,action:w,hasEagerState:!1,eagerState:null,next:null};if(ML(h))LL(g,F);else{var $=h.alternate;if(h.lanes===0&&($===null||$.lanes===0)&&($=g.lastRenderedReducer,$!==null))try{var J=g.lastRenderedState,fe=$(J,w);if(F.hasEagerState=!0,F.eagerState=fe,zo(fe,J)){var be=g.interleaved;be===null?(F.next=F,LA(g)):(F.next=be.next,be.next=F),g.interleaved=F;return}}catch{}finally{}w=dL(h,g,F,I),w!==null&&(F=Fi(),Ho(w,h,I,F),DL(w,g,I))}}function ML(h){var g=h.alternate;return h===Kn||g!==null&&g===Kn}function LL(h,g){Dy=G1=!0;var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}function DL(h,g,w){if((w&4194240)!==0){var I=g.lanes;I&=h.pendingLanes,w|=I,g.lanes=w,hc(h,w)}}var K1={readContext:so,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},PG={readContext:so,useCallback:function(h,g){return Fa().memoizedState=[h,g===void 0?null:g],h},useContext:so,useEffect:CL,useImperativeHandle:function(h,g,w){return w=w!=null?w.concat([h]):null,Y1(4194308,4,kL.bind(null,g,h),w)},useLayoutEffect:function(h,g){return Y1(4194308,4,h,g)},useInsertionEffect:function(h,g){return Y1(4,2,h,g)},useMemo:function(h,g){var w=Fa();return g=g===void 0?null:g,h=h(),w.memoizedState=[h,g],h},useReducer:function(h,g,w){var I=Fa();return g=w!==void 0?w(g):g,I.memoizedState=I.baseState=g,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:g},I.queue=h,h=h.dispatch=RG.bind(null,Kn,h),[I.memoizedState,h]},useRef:function(h){var g=Fa();return h={current:h},g.memoizedState=h},useState:EL,useDebugValue:YA,useDeferredValue:function(h){return Fa().memoizedState=h},useTransition:function(){var h=EL(!1),g=h[0];return h=kG.bind(null,h[1]),Fa().memoizedState=h,[g,h]},useMutableSource:function(){},useSyncExternalStore:function(h,g,w){var I=Kn,F=Fa();if($n){if(w===void 0)throw Error(n(407));w=w()}else{if(w=g(),Vr===null)throw Error(n(349));(eh&30)!==0||vL(I,g,w)}F.memoizedState=w;var $={value:w,getSnapshot:g};return F.queue=$,CL(wL.bind(null,I,$,h),[h]),I.flags|=2048,jy(9,bL.bind(null,I,$,w,g),void 0,null),w},useId:function(){var h=Fa(),g=Vr.identifierPrefix;if($n){var w=Gl,I=ql;w=(I&~(1<<32-Yr(I)-1)).toString(32)+w,g=":"+g+"R"+w,w=Fy++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=TG++,g=":"+g+"r"+w.toString(32)+":";return h.memoizedState=g},unstable_isNewReconciler:!1},NG={readContext:so,useCallback:IL,useContext:so,useEffect:GA,useImperativeHandle:RL,useInsertionEffect:AL,useLayoutEffect:TL,useMemo:PL,useReducer:WA,useRef:SL,useState:function(){return WA(zy)},useDebugValue:YA,useDeferredValue:function(h){var g=oo();return NL(g,Rr.memoizedState,h)},useTransition:function(){var h=WA(zy)[0],g=oo().memoizedState;return[h,g]},useMutableSource:mL,useSyncExternalStore:yL,useId:OL,unstable_isNewReconciler:!1},OG={readContext:so,useCallback:IL,useContext:so,useEffect:GA,useImperativeHandle:RL,useInsertionEffect:AL,useLayoutEffect:TL,useMemo:PL,useReducer:qA,useRef:SL,useState:function(){return qA(zy)},useDebugValue:YA,useDeferredValue:function(h){var g=oo();return Rr===null?g.memoizedState=h:NL(g,Rr.memoizedState,h)},useTransition:function(){var h=qA(zy)[0],g=oo().memoizedState;return[h,g]},useMutableSource:mL,useSyncExternalStore:yL,useId:OL,unstable_isNewReconciler:!1};function Bo(h,g){if(h&&h.defaultProps){g=W({},g),h=h.defaultProps;for(var w in h)g[w]===void 0&&(g[w]=h[w]);return g}return g}function XA(h,g,w,I){g=h.memoizedState,w=w(I,g),w=w==null?g:W({},g,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var Q1={isMounted:function(h){return(h=h._reactInternals)?Yi(h)===h:!1},enqueueSetState:function(h,g,w){h=h._reactInternals;var I=Fi(),F=Tc(h),$=Xl(I,F);$.payload=g,w!=null&&($.callback=w),g=Ec(h,$,F),g!==null&&(Ho(g,h,F,I),H1(g,h,F))},enqueueReplaceState:function(h,g,w){h=h._reactInternals;var I=Fi(),F=Tc(h),$=Xl(I,F);$.tag=1,$.payload=g,w!=null&&($.callback=w),g=Ec(h,$,F),g!==null&&(Ho(g,h,F,I),H1(g,h,F))},enqueueForceUpdate:function(h,g){h=h._reactInternals;var w=Fi(),I=Tc(h),F=Xl(w,I);F.tag=2,g!=null&&(F.callback=g),g=Ec(h,F,I),g!==null&&(Ho(g,h,I,w),H1(g,h,I))}};function FL(h,g,w,I,F,$,J){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(I,$,J):g.prototype&&g.prototype.isPureReactComponent?!Cy(w,I)||!Cy(F,$):!0}function zL(h,g,w){var I=!1,F=wc,$=g.contextType;return typeof $=="object"&&$!==null?$=so($):(F=es(g)?Xd:hi.current,I=g.contextTypes,$=(I=I!=null)?Ip(h,F):wc),g=new g(w,$),h.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Q1,h.stateNode=g,g._reactInternals=h,I&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=F,h.__reactInternalMemoizedMaskedChildContext=$),g}function jL(h,g,w,I){h=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,I),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,I),g.state!==h&&Q1.enqueueReplaceState(g,g.state,null)}function KA(h,g,w,I){var F=h.stateNode;F.props=w,F.state=h.memoizedState,F.refs={},DA(h);var $=g.contextType;typeof $=="object"&&$!==null?F.context=so($):($=es(g)?Xd:hi.current,F.context=Ip(h,$)),F.state=h.memoizedState,$=g.getDerivedStateFromProps,typeof $=="function"&&(XA(h,g,$,w),F.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(g=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),g!==F.state&&Q1.enqueueReplaceState(F,F.state,null),U1(h,w,F,I),F.state=h.memoizedState),typeof F.componentDidMount=="function"&&(h.flags|=4194308)}function zp(h,g){try{var w="",I=g;do w+=te(I),I=I.return;while(I);var F=w}catch($){F=`
Error generating stack: `+$.message+`
`+$.stack}return{value:h,source:g,stack:F,digest:null}}function QA(h,g,w){return{value:h,source:null,stack:w??null,digest:g??null}}function ZA(h,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var MG=typeof WeakMap=="function"?WeakMap:Map;function BL(h,g,w){w=Xl(-1,w),w.tag=3,w.payload={element:null};var I=g.value;return w.callback=function(){i_||(i_=!0,fT=I),ZA(h,g)},w}function $L(h,g,w){w=Xl(-1,w),w.tag=3;var I=h.type.getDerivedStateFromError;if(typeof I=="function"){var F=g.value;w.payload=function(){return I(F)},w.callback=function(){ZA(h,g)}}var $=h.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(w.callback=function(){ZA(h,g),typeof I!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var J=g.stack;this.componentDidCatch(g.value,{componentStack:J!==null?J:""})}),w}function VL(h,g,w){var I=h.pingCache;if(I===null){I=h.pingCache=new MG;var F=new Set;I.set(g,F)}else F=I.get(g),F===void 0&&(F=new Set,I.set(g,F));F.has(w)||(F.add(w),h=YG.bind(null,h,g,w),g.then(h,h))}function HL(h){do{var g;if((g=h.tag===13)&&(g=h.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return h;h=h.return}while(h!==null);return null}function UL(h,g,w,I,F){return(h.mode&1)===0?(h===g?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=Xl(-1,1),g.tag=2,Ec(w,g,1))),w.lanes|=1),h):(h.flags|=65536,h.lanes=F,h)}var LG=S.ReactCurrentOwner,ts=!1;function Di(h,g,w,I){g.child=h===null?cL(g,null,w,I):Mp(g,h.child,w,I)}function WL(h,g,w,I,F){w=w.render;var $=g.ref;return Dp(g,F),I=HA(h,g,w,I,$,F),w=UA(),h!==null&&!ts?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~F,Kl(h,g,F)):($n&&w&&AA(g),g.flags|=1,Di(h,g,I,F),g.child)}function qL(h,g,w,I,F){if(h===null){var $=w.type;return typeof $=="function"&&!wT($)&&$.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=$,GL(h,g,$,I,F)):(h=c_(w.type,null,I,g,g.mode,F),h.ref=g.ref,h.return=g,g.child=h)}if($=h.child,(h.lanes&F)===0){var J=$.memoizedProps;if(w=w.compare,w=w!==null?w:Cy,w(J,I)&&h.ref===g.ref)return Kl(h,g,F)}return g.flags|=1,h=Rc($,I),h.ref=g.ref,h.return=g,g.child=h}function GL(h,g,w,I,F){if(h!==null){var $=h.memoizedProps;if(Cy($,I)&&h.ref===g.ref)if(ts=!1,g.pendingProps=I=$,(h.lanes&F)!==0)(h.flags&131072)!==0&&(ts=!0);else return g.lanes=h.lanes,Kl(h,g,F)}return JA(h,g,w,I,F)}function YL(h,g,w){var I=g.pendingProps,F=I.children,$=h!==null?h.memoizedState:null;if(I.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nn(Bp,Ns),Ns|=w;else{if((w&1073741824)===0)return h=$!==null?$.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:h,cachePool:null,transitions:null},g.updateQueue=null,Nn(Bp,Ns),Ns|=h,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},I=$!==null?$.baseLanes:w,Nn(Bp,Ns),Ns|=I}else $!==null?(I=$.baseLanes|w,g.memoizedState=null):I=w,Nn(Bp,Ns),Ns|=I;return Di(h,g,F,w),g.child}function XL(h,g){var w=g.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function JA(h,g,w,I,F){var $=es(w)?Xd:hi.current;return $=Ip(g,$),Dp(g,F),w=HA(h,g,w,I,$,F),I=UA(),h!==null&&!ts?(g.updateQueue=h.updateQueue,g.flags&=-2053,h.lanes&=~F,Kl(h,g,F)):($n&&I&&AA(g),g.flags|=1,Di(h,g,w,F),g.child)}function KL(h,g,w,I,F){if(es(w)){var $=!0;L1(g)}else $=!1;if(Dp(g,F),g.stateNode===null)J1(h,g),zL(g,w,I),KA(g,w,I,F),I=!0;else if(h===null){var J=g.stateNode,fe=g.memoizedProps;J.props=fe;var be=J.context,ke=w.contextType;typeof ke=="object"&&ke!==null?ke=so(ke):(ke=es(w)?Xd:hi.current,ke=Ip(g,ke));var Ve=w.getDerivedStateFromProps,He=typeof Ve=="function"||typeof J.getSnapshotBeforeUpdate=="function";He||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(fe!==I||be!==ke)&&jL(g,J,I,ke),xc=!1;var $e=g.memoizedState;J.state=$e,U1(g,I,J,F),be=g.memoizedState,fe!==I||$e!==be||Ji.current||xc?(typeof Ve=="function"&&(XA(g,w,Ve,I),be=g.memoizedState),(fe=xc||FL(g,w,fe,I,$e,be,ke))?(He||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(g.flags|=4194308)):(typeof J.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=I,g.memoizedState=be),J.props=I,J.state=be,J.context=ke,I=fe):(typeof J.componentDidMount=="function"&&(g.flags|=4194308),I=!1)}else{J=g.stateNode,hL(h,g),fe=g.memoizedProps,ke=g.type===g.elementType?fe:Bo(g.type,fe),J.props=ke,He=g.pendingProps,$e=J.context,be=w.contextType,typeof be=="object"&&be!==null?be=so(be):(be=es(w)?Xd:hi.current,be=Ip(g,be));var Ze=w.getDerivedStateFromProps;(Ve=typeof Ze=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(fe!==He||$e!==be)&&jL(g,J,I,be),xc=!1,$e=g.memoizedState,J.state=$e,U1(g,I,J,F);var ut=g.memoizedState;fe!==He||$e!==ut||Ji.current||xc?(typeof Ze=="function"&&(XA(g,w,Ze,I),ut=g.memoizedState),(ke=xc||FL(g,w,ke,I,$e,ut,be)||!1)?(Ve||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(I,ut,be),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(I,ut,be)),typeof J.componentDidUpdate=="function"&&(g.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof J.componentDidUpdate!="function"||fe===h.memoizedProps&&$e===h.memoizedState||(g.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||fe===h.memoizedProps&&$e===h.memoizedState||(g.flags|=1024),g.memoizedProps=I,g.memoizedState=ut),J.props=I,J.state=ut,J.context=be,I=ke):(typeof J.componentDidUpdate!="function"||fe===h.memoizedProps&&$e===h.memoizedState||(g.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||fe===h.memoizedProps&&$e===h.memoizedState||(g.flags|=1024),I=!1)}return eT(h,g,w,I,$,F)}function eT(h,g,w,I,F,$){XL(h,g);var J=(g.flags&128)!==0;if(!I&&!J)return F&&tL(g,w,!1),Kl(h,g,$);I=g.stateNode,LG.current=g;var fe=J&&typeof w.getDerivedStateFromError!="function"?null:I.render();return g.flags|=1,h!==null&&J?(g.child=Mp(g,h.child,null,$),g.child=Mp(g,null,fe,$)):Di(h,g,fe,$),g.memoizedState=I.state,F&&tL(g,w,!0),g.child}function QL(h){var g=h.stateNode;g.pendingContext?JM(h,g.pendingContext,g.pendingContext!==g.context):g.context&&JM(h,g.context,!1),FA(h,g.containerInfo)}function ZL(h,g,w,I,F){return Op(),IA(F),g.flags|=256,Di(h,g,w,I),g.child}var tT={dehydrated:null,treeContext:null,retryLane:0};function nT(h){return{baseLanes:h,cachePool:null,transitions:null}}function JL(h,g,w){var I=g.pendingProps,F=Xn.current,$=!1,J=(g.flags&128)!==0,fe;if((fe=J)||(fe=h!==null&&h.memoizedState===null?!1:(F&2)!==0),fe?($=!0,g.flags&=-129):(h===null||h.memoizedState!==null)&&(F|=1),Nn(Xn,F&1),h===null)return RA(g),h=g.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((g.mode&1)===0?g.lanes=1:h.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(J=I.children,h=I.fallback,$?(I=g.mode,$=g.child,J={mode:"hidden",children:J},(I&1)===0&&$!==null?($.childLanes=0,$.pendingProps=J):$=d_(J,I,0,null),h=sh(h,I,w,null),$.return=g,h.return=g,$.sibling=h,g.child=$,g.child.memoizedState=nT(w),g.memoizedState=tT,h):rT(g,J));if(F=h.memoizedState,F!==null&&(fe=F.dehydrated,fe!==null))return DG(h,g,J,I,fe,F,w);if($){$=I.fallback,J=g.mode,F=h.child,fe=F.sibling;var be={mode:"hidden",children:I.children};return(J&1)===0&&g.child!==F?(I=g.child,I.childLanes=0,I.pendingProps=be,g.deletions=null):(I=Rc(F,be),I.subtreeFlags=F.subtreeFlags&14680064),fe!==null?$=Rc(fe,$):($=sh($,J,w,null),$.flags|=2),$.return=g,I.return=g,I.sibling=$,g.child=I,I=$,$=g.child,J=h.child.memoizedState,J=J===null?nT(w):{baseLanes:J.baseLanes|w,cachePool:null,transitions:J.transitions},$.memoizedState=J,$.childLanes=h.childLanes&~w,g.memoizedState=tT,I}return $=h.child,h=$.sibling,I=Rc($,{mode:"visible",children:I.children}),(g.mode&1)===0&&(I.lanes=w),I.return=g,I.sibling=null,h!==null&&(w=g.deletions,w===null?(g.deletions=[h],g.flags|=16):w.push(h)),g.child=I,g.memoizedState=null,I}function rT(h,g){return g=d_({mode:"visible",children:g},h.mode,0,null),g.return=h,h.child=g}function Z1(h,g,w,I){return I!==null&&IA(I),Mp(g,h.child,null,w),h=rT(g,g.pendingProps.children),h.flags|=2,g.memoizedState=null,h}function DG(h,g,w,I,F,$,J){if(w)return g.flags&256?(g.flags&=-257,I=QA(Error(n(422))),Z1(h,g,J,I)):g.memoizedState!==null?(g.child=h.child,g.flags|=128,null):($=I.fallback,F=g.mode,I=d_({mode:"visible",children:I.children},F,0,null),$=sh($,F,J,null),$.flags|=2,I.return=g,$.return=g,I.sibling=$,g.child=I,(g.mode&1)!==0&&Mp(g,h.child,null,J),g.child.memoizedState=nT(J),g.memoizedState=tT,$);if((g.mode&1)===0)return Z1(h,g,J,null);if(F.data==="$!"){if(I=F.nextSibling&&F.nextSibling.dataset,I)var fe=I.dgst;return I=fe,$=Error(n(419)),I=QA($,I,void 0),Z1(h,g,J,I)}if(fe=(J&h.childLanes)!==0,ts||fe){if(I=Vr,I!==null){switch(J&-J){case 4:F=2;break;case 16:F=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:F=32;break;case 536870912:F=268435456;break;default:F=0}F=(F&(I.suspendedLanes|J))!==0?0:F,F!==0&&F!==$.retryLane&&($.retryLane=F,Yl(h,F),Ho(I,h,F,-1))}return bT(),I=QA(Error(n(421))),Z1(h,g,J,I)}return F.data==="$?"?(g.flags|=128,g.child=h.child,g=XG.bind(null,h),F._reactRetry=g,null):(h=$.treeContext,Ps=vc(F.nextSibling),Is=g,$n=!0,jo=null,h!==null&&(ro[io++]=ql,ro[io++]=Gl,ro[io++]=Kd,ql=h.id,Gl=h.overflow,Kd=g),g=rT(g,I.children),g.flags|=4096,g)}function eD(h,g,w){h.lanes|=g;var I=h.alternate;I!==null&&(I.lanes|=g),MA(h.return,g,w)}function iT(h,g,w,I,F){var $=h.memoizedState;$===null?h.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:I,tail:w,tailMode:F}:($.isBackwards=g,$.rendering=null,$.renderingStartTime=0,$.last=I,$.tail=w,$.tailMode=F)}function tD(h,g,w){var I=g.pendingProps,F=I.revealOrder,$=I.tail;if(Di(h,g,I.children,w),I=Xn.current,(I&2)!==0)I=I&1|2,g.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=g.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&eD(h,w,g);else if(h.tag===19)eD(h,w,g);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===g)break e;for(;h.sibling===null;){if(h.return===null||h.return===g)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}I&=1}if(Nn(Xn,I),(g.mode&1)===0)g.memoizedState=null;else switch(F){case"forwards":for(w=g.child,F=null;w!==null;)h=w.alternate,h!==null&&W1(h)===null&&(F=w),w=w.sibling;w=F,w===null?(F=g.child,g.child=null):(F=w.sibling,w.sibling=null),iT(g,!1,F,w,$);break;case"backwards":for(w=null,F=g.child,g.child=null;F!==null;){if(h=F.alternate,h!==null&&W1(h)===null){g.child=F;break}h=F.sibling,F.sibling=w,w=F,F=h}iT(g,!0,w,null,$);break;case"together":iT(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function J1(h,g){(g.mode&1)===0&&h!==null&&(h.alternate=null,g.alternate=null,g.flags|=2)}function Kl(h,g,w){if(h!==null&&(g.dependencies=h.dependencies),th|=g.lanes,(w&g.childLanes)===0)return null;if(h!==null&&g.child!==h.child)throw Error(n(153));if(g.child!==null){for(h=g.child,w=Rc(h,h.pendingProps),g.child=w,w.return=g;h.sibling!==null;)h=h.sibling,w=w.sibling=Rc(h,h.pendingProps),w.return=g;w.sibling=null}return g.child}function FG(h,g,w){switch(g.tag){case 3:QL(g),Op();break;case 5:gL(g);break;case 1:es(g.type)&&L1(g);break;case 4:FA(g,g.stateNode.containerInfo);break;case 10:var I=g.type._context,F=g.memoizedProps.value;Nn($1,I._currentValue),I._currentValue=F;break;case 13:if(I=g.memoizedState,I!==null)return I.dehydrated!==null?(Nn(Xn,Xn.current&1),g.flags|=128,null):(w&g.child.childLanes)!==0?JL(h,g,w):(Nn(Xn,Xn.current&1),h=Kl(h,g,w),h!==null?h.sibling:null);Nn(Xn,Xn.current&1);break;case 19:if(I=(w&g.childLanes)!==0,(h.flags&128)!==0){if(I)return tD(h,g,w);g.flags|=128}if(F=g.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),Nn(Xn,Xn.current),I)break;return null;case 22:case 23:return g.lanes=0,YL(h,g,w)}return Kl(h,g,w)}var nD,sT,rD,iD;nD=function(h,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)h.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},sT=function(){},rD=function(h,g,w,I){var F=h.memoizedProps;if(F!==I){h=g.stateNode,Jd(Da.current);var $=null;switch(w){case"input":F=V(h,F),I=V(h,I),$=[];break;case"select":F=W({},F,{value:void 0}),I=W({},I,{value:void 0}),$=[];break;case"textarea":F=ye(h,F),I=ye(h,I),$=[];break;default:typeof F.onClick!="function"&&typeof I.onClick=="function"&&(h.onclick=N1)}pt(w,I);var J;w=null;for(ke in F)if(!I.hasOwnProperty(ke)&&F.hasOwnProperty(ke)&&F[ke]!=null)if(ke==="style"){var fe=F[ke];for(J in fe)fe.hasOwnProperty(J)&&(w||(w={}),w[J]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(i.hasOwnProperty(ke)?$||($=[]):($=$||[]).push(ke,null));for(ke in I){var be=I[ke];if(fe=F!=null?F[ke]:void 0,I.hasOwnProperty(ke)&&be!==fe&&(be!=null||fe!=null))if(ke==="style")if(fe){for(J in fe)!fe.hasOwnProperty(J)||be&&be.hasOwnProperty(J)||(w||(w={}),w[J]="");for(J in be)be.hasOwnProperty(J)&&fe[J]!==be[J]&&(w||(w={}),w[J]=be[J])}else w||($||($=[]),$.push(ke,w)),w=be;else ke==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,fe=fe?fe.__html:void 0,be!=null&&fe!==be&&($=$||[]).push(ke,be)):ke==="children"?typeof be!="string"&&typeof be!="number"||($=$||[]).push(ke,""+be):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(i.hasOwnProperty(ke)?(be!=null&&ke==="onScroll"&&Fn("scroll",h),$||fe===be||($=[])):($=$||[]).push(ke,be))}w&&($=$||[]).push("style",w);var ke=$;(g.updateQueue=ke)&&(g.flags|=4)}},iD=function(h,g,w,I){w!==I&&(g.flags|=4)};function By(h,g){if(!$n)switch(h.tailMode){case"hidden":g=h.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var I=null;w!==null;)w.alternate!==null&&(I=w),w=w.sibling;I===null?g||h.tail===null?h.tail=null:h.tail.sibling=null:I.sibling=null}}function pi(h){var g=h.alternate!==null&&h.alternate.child===h.child,w=0,I=0;if(g)for(var F=h.child;F!==null;)w|=F.lanes|F.childLanes,I|=F.subtreeFlags&14680064,I|=F.flags&14680064,F.return=h,F=F.sibling;else for(F=h.child;F!==null;)w|=F.lanes|F.childLanes,I|=F.subtreeFlags,I|=F.flags,F.return=h,F=F.sibling;return h.subtreeFlags|=I,h.childLanes=w,g}function zG(h,g,w){var I=g.pendingProps;switch(TA(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(g),null;case 1:return es(g.type)&&M1(),pi(g),null;case 3:return I=g.stateNode,Fp(),zn(Ji),zn(hi),BA(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(h===null||h.child===null)&&(j1(g)?g.flags|=4:h===null||h.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,jo!==null&&(mT(jo),jo=null))),sT(h,g),pi(g),null;case 5:zA(g);var F=Jd(Ly.current);if(w=g.type,h!==null&&g.stateNode!=null)rD(h,g,w,I,F),h.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!I){if(g.stateNode===null)throw Error(n(166));return pi(g),null}if(h=Jd(Da.current),j1(g)){I=g.stateNode,w=g.type;var $=g.memoizedProps;switch(I[La]=g,I[Iy]=$,h=(g.mode&1)!==0,w){case"dialog":Fn("cancel",I),Fn("close",I);break;case"iframe":case"object":case"embed":Fn("load",I);break;case"video":case"audio":for(F=0;F<Ty.length;F++)Fn(Ty[F],I);break;case"source":Fn("error",I);break;case"img":case"image":case"link":Fn("error",I),Fn("load",I);break;case"details":Fn("toggle",I);break;case"input":pe(I,$),Fn("invalid",I);break;case"select":I._wrapperState={wasMultiple:!!$.multiple},Fn("invalid",I);break;case"textarea":Me(I,$),Fn("invalid",I)}pt(w,$),F=null;for(var J in $)if($.hasOwnProperty(J)){var fe=$[J];J==="children"?typeof fe=="string"?I.textContent!==fe&&($.suppressHydrationWarning!==!0&&P1(I.textContent,fe,h),F=["children",fe]):typeof fe=="number"&&I.textContent!==""+fe&&($.suppressHydrationWarning!==!0&&P1(I.textContent,fe,h),F=["children",""+fe]):i.hasOwnProperty(J)&&fe!=null&&J==="onScroll"&&Fn("scroll",I)}switch(w){case"input":xe(I),ee(I,$,!0);break;case"textarea":xe(I),ze(I);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(I.onclick=N1)}I=F,g.updateQueue=I,I!==null&&(g.flags|=4)}else{J=F.nodeType===9?F:F.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=we(w)),h==="http://www.w3.org/1999/xhtml"?w==="script"?(h=J.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof I.is=="string"?h=J.createElement(w,{is:I.is}):(h=J.createElement(w),w==="select"&&(J=h,I.multiple?J.multiple=!0:I.size&&(J.size=I.size))):h=J.createElementNS(h,w),h[La]=g,h[Iy]=I,nD(h,g,!1,!1),g.stateNode=h;e:{switch(J=Ut(w,I),w){case"dialog":Fn("cancel",h),Fn("close",h),F=I;break;case"iframe":case"object":case"embed":Fn("load",h),F=I;break;case"video":case"audio":for(F=0;F<Ty.length;F++)Fn(Ty[F],h);F=I;break;case"source":Fn("error",h),F=I;break;case"img":case"image":case"link":Fn("error",h),Fn("load",h),F=I;break;case"details":Fn("toggle",h),F=I;break;case"input":pe(h,I),F=V(h,I),Fn("invalid",h);break;case"option":F=I;break;case"select":h._wrapperState={wasMultiple:!!I.multiple},F=W({},I,{value:void 0}),Fn("invalid",h);break;case"textarea":Me(h,I),F=ye(h,I),Fn("invalid",h);break;default:F=I}pt(w,F),fe=F;for($ in fe)if(fe.hasOwnProperty($)){var be=fe[$];$==="style"?sn(h,be):$==="dangerouslySetInnerHTML"?(be=be?be.__html:void 0,be!=null&&et(h,be)):$==="children"?typeof be=="string"?(w!=="textarea"||be!=="")&&yt(h,be):typeof be=="number"&&yt(h,""+be):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?be!=null&&$==="onScroll"&&Fn("scroll",h):be!=null&&_(h,$,be,J))}switch(w){case"input":xe(h),ee(h,I,!1);break;case"textarea":xe(h),ze(h);break;case"option":I.value!=null&&h.setAttribute("value",""+oe(I.value));break;case"select":h.multiple=!!I.multiple,$=I.value,$!=null?Te(h,!!I.multiple,$,!1):I.defaultValue!=null&&Te(h,!!I.multiple,I.defaultValue,!0);break;default:typeof F.onClick=="function"&&(h.onclick=N1)}switch(w){case"button":case"input":case"select":case"textarea":I=!!I.autoFocus;break e;case"img":I=!0;break e;default:I=!1}}I&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return pi(g),null;case 6:if(h&&g.stateNode!=null)iD(h,g,h.memoizedProps,I);else{if(typeof I!="string"&&g.stateNode===null)throw Error(n(166));if(w=Jd(Ly.current),Jd(Da.current),j1(g)){if(I=g.stateNode,w=g.memoizedProps,I[La]=g,($=I.nodeValue!==w)&&(h=Is,h!==null))switch(h.tag){case 3:P1(I.nodeValue,w,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&P1(I.nodeValue,w,(h.mode&1)!==0)}$&&(g.flags|=4)}else I=(w.nodeType===9?w:w.ownerDocument).createTextNode(I),I[La]=g,g.stateNode=I}return pi(g),null;case 13:if(zn(Xn),I=g.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if($n&&Ps!==null&&(g.mode&1)!==0&&(g.flags&128)===0)aL(),Op(),g.flags|=98560,$=!1;else if($=j1(g),I!==null&&I.dehydrated!==null){if(h===null){if(!$)throw Error(n(318));if($=g.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(n(317));$[La]=g}else Op(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;pi(g),$=!1}else jo!==null&&(mT(jo),jo=null),$=!0;if(!$)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=w,g):(I=I!==null,I!==(h!==null&&h.memoizedState!==null)&&I&&(g.child.flags|=8192,(g.mode&1)!==0&&(h===null||(Xn.current&1)!==0?Ir===0&&(Ir=3):bT())),g.updateQueue!==null&&(g.flags|=4),pi(g),null);case 4:return Fp(),sT(h,g),h===null&&ky(g.stateNode.containerInfo),pi(g),null;case 10:return OA(g.type._context),pi(g),null;case 17:return es(g.type)&&M1(),pi(g),null;case 19:if(zn(Xn),$=g.memoizedState,$===null)return pi(g),null;if(I=(g.flags&128)!==0,J=$.rendering,J===null)if(I)By($,!1);else{if(Ir!==0||h!==null&&(h.flags&128)!==0)for(h=g.child;h!==null;){if(J=W1(h),J!==null){for(g.flags|=128,By($,!1),I=J.updateQueue,I!==null&&(g.updateQueue=I,g.flags|=4),g.subtreeFlags=0,I=w,w=g.child;w!==null;)$=w,h=I,$.flags&=14680066,J=$.alternate,J===null?($.childLanes=0,$.lanes=h,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=J.childLanes,$.lanes=J.lanes,$.child=J.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=J.memoizedProps,$.memoizedState=J.memoizedState,$.updateQueue=J.updateQueue,$.type=J.type,h=J.dependencies,$.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),w=w.sibling;return Nn(Xn,Xn.current&1|2),g.child}h=h.sibling}$.tail!==null&&xn()>$p&&(g.flags|=128,I=!0,By($,!1),g.lanes=4194304)}else{if(!I)if(h=W1(J),h!==null){if(g.flags|=128,I=!0,w=h.updateQueue,w!==null&&(g.updateQueue=w,g.flags|=4),By($,!0),$.tail===null&&$.tailMode==="hidden"&&!J.alternate&&!$n)return pi(g),null}else 2*xn()-$.renderingStartTime>$p&&w!==1073741824&&(g.flags|=128,I=!0,By($,!1),g.lanes=4194304);$.isBackwards?(J.sibling=g.child,g.child=J):(w=$.last,w!==null?w.sibling=J:g.child=J,$.last=J)}return $.tail!==null?(g=$.tail,$.rendering=g,$.tail=g.sibling,$.renderingStartTime=xn(),g.sibling=null,w=Xn.current,Nn(Xn,I?w&1|2:w&1),g):(pi(g),null);case 22:case 23:return vT(),I=g.memoizedState!==null,h!==null&&h.memoizedState!==null!==I&&(g.flags|=8192),I&&(g.mode&1)!==0?(Ns&1073741824)!==0&&(pi(g),g.subtreeFlags&6&&(g.flags|=8192)):pi(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function jG(h,g){switch(TA(g),g.tag){case 1:return es(g.type)&&M1(),h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 3:return Fp(),zn(Ji),zn(hi),BA(),h=g.flags,(h&65536)!==0&&(h&128)===0?(g.flags=h&-65537|128,g):null;case 5:return zA(g),null;case 13:if(zn(Xn),h=g.memoizedState,h!==null&&h.dehydrated!==null){if(g.alternate===null)throw Error(n(340));Op()}return h=g.flags,h&65536?(g.flags=h&-65537|128,g):null;case 19:return zn(Xn),null;case 4:return Fp(),null;case 10:return OA(g.type._context),null;case 22:case 23:return vT(),null;case 24:return null;default:return null}}var e_=!1,gi=!1,BG=typeof WeakSet=="function"?WeakSet:Set,ot=null;function jp(h,g){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(I){tr(h,g,I)}else w.current=null}function oT(h,g,w){try{w()}catch(I){tr(h,g,I)}}var sD=!1;function $G(h,g){if(vA=gc,h=FM(),cA(h)){if("selectionStart"in h)var w={start:h.selectionStart,end:h.selectionEnd};else e:{w=(w=h.ownerDocument)&&w.defaultView||window;var I=w.getSelection&&w.getSelection();if(I&&I.rangeCount!==0){w=I.anchorNode;var F=I.anchorOffset,$=I.focusNode;I=I.focusOffset;try{w.nodeType,$.nodeType}catch{w=null;break e}var J=0,fe=-1,be=-1,ke=0,Ve=0,He=h,$e=null;t:for(;;){for(var Ze;He!==w||F!==0&&He.nodeType!==3||(fe=J+F),He!==$||I!==0&&He.nodeType!==3||(be=J+I),He.nodeType===3&&(J+=He.nodeValue.length),(Ze=He.firstChild)!==null;)$e=He,He=Ze;for(;;){if(He===h)break t;if($e===w&&++ke===F&&(fe=J),$e===$&&++Ve===I&&(be=J),(Ze=He.nextSibling)!==null)break;He=$e,$e=He.parentNode}He=Ze}w=fe===-1||be===-1?null:{start:fe,end:be}}else w=null}w=w||{start:0,end:0}}else w=null;for(bA={focusedElem:h,selectionRange:w},gc=!1,ot=g;ot!==null;)if(g=ot,h=g.child,(g.subtreeFlags&1028)!==0&&h!==null)h.return=g,ot=h;else for(;ot!==null;){g=ot;try{var ut=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ft=ut.memoizedProps,lr=ut.memoizedState,Ce=g.stateNode,_e=Ce.getSnapshotBeforeUpdate(g.elementType===g.type?ft:Bo(g.type,ft),lr);Ce.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Ae=g.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(qe){tr(g,g.return,qe)}if(h=g.sibling,h!==null){h.return=g.return,ot=h;break}ot=g.return}return ut=sD,sD=!1,ut}function $y(h,g,w){var I=g.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var F=I=I.next;do{if((F.tag&h)===h){var $=F.destroy;F.destroy=void 0,$!==void 0&&oT(g,w,$)}F=F.next}while(F!==I)}}function t_(h,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&h)===h){var I=w.create;w.destroy=I()}w=w.next}while(w!==g)}}function aT(h){var g=h.ref;if(g!==null){var w=h.stateNode;switch(h.tag){case 5:h=w;break;default:h=w}typeof g=="function"?g(h):g.current=h}}function oD(h){var g=h.alternate;g!==null&&(h.alternate=null,oD(g)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(g=h.stateNode,g!==null&&(delete g[La],delete g[Iy],delete g[EA],delete g[EG],delete g[SG])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function aD(h){return h.tag===5||h.tag===3||h.tag===4}function lD(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||aD(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function lT(h,g,w){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?w.nodeType===8?w.parentNode.insertBefore(h,g):w.insertBefore(h,g):(w.nodeType===8?(g=w.parentNode,g.insertBefore(h,w)):(g=w,g.appendChild(h)),w=w._reactRootContainer,w!=null||g.onclick!==null||(g.onclick=N1));else if(I!==4&&(h=h.child,h!==null))for(lT(h,g,w),h=h.sibling;h!==null;)lT(h,g,w),h=h.sibling}function uT(h,g,w){var I=h.tag;if(I===5||I===6)h=h.stateNode,g?w.insertBefore(h,g):w.appendChild(h);else if(I!==4&&(h=h.child,h!==null))for(uT(h,g,w),h=h.sibling;h!==null;)uT(h,g,w),h=h.sibling}var Qr=null,$o=!1;function Sc(h,g,w){for(w=w.child;w!==null;)uD(h,g,w),w=w.sibling}function uD(h,g,w){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(ka,w)}catch{}switch(w.tag){case 5:gi||jp(w,g);case 6:var I=Qr,F=$o;Qr=null,Sc(h,g,w),Qr=I,$o=F,Qr!==null&&($o?(h=Qr,w=w.stateNode,h.nodeType===8?h.parentNode.removeChild(w):h.removeChild(w)):Qr.removeChild(w.stateNode));break;case 18:Qr!==null&&($o?(h=Qr,w=w.stateNode,h.nodeType===8?xA(h.parentNode,w):h.nodeType===1&&xA(h,w),Do(h)):xA(Qr,w.stateNode));break;case 4:I=Qr,F=$o,Qr=w.stateNode.containerInfo,$o=!0,Sc(h,g,w),Qr=I,$o=F;break;case 0:case 11:case 14:case 15:if(!gi&&(I=w.updateQueue,I!==null&&(I=I.lastEffect,I!==null))){F=I=I.next;do{var $=F,J=$.destroy;$=$.tag,J!==void 0&&(($&2)!==0||($&4)!==0)&&oT(w,g,J),F=F.next}while(F!==I)}Sc(h,g,w);break;case 1:if(!gi&&(jp(w,g),I=w.stateNode,typeof I.componentWillUnmount=="function"))try{I.props=w.memoizedProps,I.state=w.memoizedState,I.componentWillUnmount()}catch(fe){tr(w,g,fe)}Sc(h,g,w);break;case 21:Sc(h,g,w);break;case 22:w.mode&1?(gi=(I=gi)||w.memoizedState!==null,Sc(h,g,w),gi=I):Sc(h,g,w);break;default:Sc(h,g,w)}}function cD(h){var g=h.updateQueue;if(g!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new BG),g.forEach(function(I){var F=KG.bind(null,h,I);w.has(I)||(w.add(I),I.then(F,F))})}}function Vo(h,g){var w=g.deletions;if(w!==null)for(var I=0;I<w.length;I++){var F=w[I];try{var $=h,J=g,fe=J;e:for(;fe!==null;){switch(fe.tag){case 5:Qr=fe.stateNode,$o=!1;break e;case 3:Qr=fe.stateNode.containerInfo,$o=!0;break e;case 4:Qr=fe.stateNode.containerInfo,$o=!0;break e}fe=fe.return}if(Qr===null)throw Error(n(160));uD($,J,F),Qr=null,$o=!1;var be=F.alternate;be!==null&&(be.return=null),F.return=null}catch(ke){tr(F,g,ke)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)dD(g,h),g=g.sibling}function dD(h,g){var w=h.alternate,I=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Vo(g,h),za(h),I&4){try{$y(3,h,h.return),t_(3,h)}catch(ft){tr(h,h.return,ft)}try{$y(5,h,h.return)}catch(ft){tr(h,h.return,ft)}}break;case 1:Vo(g,h),za(h),I&512&&w!==null&&jp(w,w.return);break;case 5:if(Vo(g,h),za(h),I&512&&w!==null&&jp(w,w.return),h.flags&32){var F=h.stateNode;try{yt(F,"")}catch(ft){tr(h,h.return,ft)}}if(I&4&&(F=h.stateNode,F!=null)){var $=h.memoizedProps,J=w!==null?w.memoizedProps:$,fe=h.type,be=h.updateQueue;if(h.updateQueue=null,be!==null)try{fe==="input"&&$.type==="radio"&&$.name!=null&&me(F,$),Ut(fe,J);var ke=Ut(fe,$);for(J=0;J<be.length;J+=2){var Ve=be[J],He=be[J+1];Ve==="style"?sn(F,He):Ve==="dangerouslySetInnerHTML"?et(F,He):Ve==="children"?yt(F,He):_(F,Ve,He,ke)}switch(fe){case"input":le(F,$);break;case"textarea":je(F,$);break;case"select":var $e=F._wrapperState.wasMultiple;F._wrapperState.wasMultiple=!!$.multiple;var Ze=$.value;Ze!=null?Te(F,!!$.multiple,Ze,!1):$e!==!!$.multiple&&($.defaultValue!=null?Te(F,!!$.multiple,$.defaultValue,!0):Te(F,!!$.multiple,$.multiple?[]:"",!1))}F[Iy]=$}catch(ft){tr(h,h.return,ft)}}break;case 6:if(Vo(g,h),za(h),I&4){if(h.stateNode===null)throw Error(n(162));F=h.stateNode,$=h.memoizedProps;try{F.nodeValue=$}catch(ft){tr(h,h.return,ft)}}break;case 3:if(Vo(g,h),za(h),I&4&&w!==null&&w.memoizedState.isDehydrated)try{Do(g.containerInfo)}catch(ft){tr(h,h.return,ft)}break;case 4:Vo(g,h),za(h);break;case 13:Vo(g,h),za(h),F=h.child,F.flags&8192&&($=F.memoizedState!==null,F.stateNode.isHidden=$,!$||F.alternate!==null&&F.alternate.memoizedState!==null||(hT=xn())),I&4&&cD(h);break;case 22:if(Ve=w!==null&&w.memoizedState!==null,h.mode&1?(gi=(ke=gi)||Ve,Vo(g,h),gi=ke):Vo(g,h),za(h),I&8192){if(ke=h.memoizedState!==null,(h.stateNode.isHidden=ke)&&!Ve&&(h.mode&1)!==0)for(ot=h,Ve=h.child;Ve!==null;){for(He=ot=Ve;ot!==null;){switch($e=ot,Ze=$e.child,$e.tag){case 0:case 11:case 14:case 15:$y(4,$e,$e.return);break;case 1:jp($e,$e.return);var ut=$e.stateNode;if(typeof ut.componentWillUnmount=="function"){I=$e,w=$e.return;try{g=I,ut.props=g.memoizedProps,ut.state=g.memoizedState,ut.componentWillUnmount()}catch(ft){tr(I,w,ft)}}break;case 5:jp($e,$e.return);break;case 22:if($e.memoizedState!==null){pD(He);continue}}Ze!==null?(Ze.return=$e,ot=Ze):pD(He)}Ve=Ve.sibling}e:for(Ve=null,He=h;;){if(He.tag===5){if(Ve===null){Ve=He;try{F=He.stateNode,ke?($=F.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(fe=He.stateNode,be=He.memoizedProps.style,J=be!=null&&be.hasOwnProperty("display")?be.display:null,fe.style.display=wt("display",J))}catch(ft){tr(h,h.return,ft)}}}else if(He.tag===6){if(Ve===null)try{He.stateNode.nodeValue=ke?"":He.memoizedProps}catch(ft){tr(h,h.return,ft)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===h)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===h)break e;for(;He.sibling===null;){if(He.return===null||He.return===h)break e;Ve===He&&(Ve=null),He=He.return}Ve===He&&(Ve=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:Vo(g,h),za(h),I&4&&cD(h);break;case 21:break;default:Vo(g,h),za(h)}}function za(h){var g=h.flags;if(g&2){try{e:{for(var w=h.return;w!==null;){if(aD(w)){var I=w;break e}w=w.return}throw Error(n(160))}switch(I.tag){case 5:var F=I.stateNode;I.flags&32&&(yt(F,""),I.flags&=-33);var $=lD(h);uT(h,$,F);break;case 3:case 4:var J=I.stateNode.containerInfo,fe=lD(h);lT(h,fe,J);break;default:throw Error(n(161))}}catch(be){tr(h,h.return,be)}h.flags&=-3}g&4096&&(h.flags&=-4097)}function VG(h,g,w){ot=h,hD(h)}function hD(h,g,w){for(var I=(h.mode&1)!==0;ot!==null;){var F=ot,$=F.child;if(F.tag===22&&I){var J=F.memoizedState!==null||e_;if(!J){var fe=F.alternate,be=fe!==null&&fe.memoizedState!==null||gi;fe=e_;var ke=gi;if(e_=J,(gi=be)&&!ke)for(ot=F;ot!==null;)J=ot,be=J.child,J.tag===22&&J.memoizedState!==null?gD(F):be!==null?(be.return=J,ot=be):gD(F);for(;$!==null;)ot=$,hD($),$=$.sibling;ot=F,e_=fe,gi=ke}fD(h)}else(F.subtreeFlags&8772)!==0&&$!==null?($.return=F,ot=$):fD(h)}}function fD(h){for(;ot!==null;){var g=ot;if((g.flags&8772)!==0){var w=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:gi||t_(5,g);break;case 1:var I=g.stateNode;if(g.flags&4&&!gi)if(w===null)I.componentDidMount();else{var F=g.elementType===g.type?w.memoizedProps:Bo(g.type,w.memoizedProps);I.componentDidUpdate(F,w.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var $=g.updateQueue;$!==null&&pL(g,$,I);break;case 3:var J=g.updateQueue;if(J!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=g.child.stateNode;break;case 1:w=g.child.stateNode}pL(g,J,w)}break;case 5:var fe=g.stateNode;if(w===null&&g.flags&4){w=fe;var be=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":be.autoFocus&&w.focus();break;case"img":be.src&&(w.src=be.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var ke=g.alternate;if(ke!==null){var Ve=ke.memoizedState;if(Ve!==null){var He=Ve.dehydrated;He!==null&&Do(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gi||g.flags&512&&aT(g)}catch($e){tr(g,g.return,$e)}}if(g===h){ot=null;break}if(w=g.sibling,w!==null){w.return=g.return,ot=w;break}ot=g.return}}function pD(h){for(;ot!==null;){var g=ot;if(g===h){ot=null;break}var w=g.sibling;if(w!==null){w.return=g.return,ot=w;break}ot=g.return}}function gD(h){for(;ot!==null;){var g=ot;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{t_(4,g)}catch(be){tr(g,w,be)}break;case 1:var I=g.stateNode;if(typeof I.componentDidMount=="function"){var F=g.return;try{I.componentDidMount()}catch(be){tr(g,F,be)}}var $=g.return;try{aT(g)}catch(be){tr(g,$,be)}break;case 5:var J=g.return;try{aT(g)}catch(be){tr(g,J,be)}}}catch(be){tr(g,g.return,be)}if(g===h){ot=null;break}var fe=g.sibling;if(fe!==null){fe.return=g.return,ot=fe;break}ot=g.return}}var HG=Math.ceil,n_=S.ReactCurrentDispatcher,cT=S.ReactCurrentOwner,ao=S.ReactCurrentBatchConfig,an=0,Vr=null,mr=null,Zr=0,Ns=0,Bp=bc(0),Ir=0,Vy=null,th=0,r_=0,dT=0,Hy=null,ns=null,hT=0,$p=1/0,Ql=null,i_=!1,fT=null,Cc=null,s_=!1,Ac=null,o_=0,Uy=0,pT=null,a_=-1,l_=0;function Fi(){return(an&6)!==0?xn():a_!==-1?a_:a_=xn()}function Tc(h){return(h.mode&1)===0?1:(an&2)!==0&&Zr!==0?Zr&-Zr:AG.transition!==null?(l_===0&&(l_=jl()),l_):(h=Kt,h!==0||(h=window.event,h=h===void 0?16:vy(h.type)),h)}function Ho(h,g,w,I){if(50<Uy)throw Uy=0,pT=null,Error(n(185));dc(h,w,I),((an&2)===0||h!==Vr)&&(h===Vr&&((an&2)===0&&(r_|=w),Ir===4&&kc(h,Zr)),rs(h,I),w===1&&an===0&&(g.mode&1)===0&&($p=xn()+500,D1&&_c()))}function rs(h,g){var w=h.callbackNode;Ts(h,g);var I=zl(h,h===Vr?Zr:0);if(I===0)w!==null&&$d(w),h.callbackNode=null,h.callbackPriority=0;else if(g=I&-I,h.callbackPriority!==g){if(w!=null&&$d(w),g===1)h.tag===0?CG(yD.bind(null,h)):nL(yD.bind(null,h)),_G(function(){(an&6)===0&&_c()}),w=null;else{switch(fc(I)){case 1:w=Fl;break;case 4:w=Ta;break;case 16:w=Ki;break;case 536870912:w=lp;break;default:w=Ki}w=CD(w,mD.bind(null,h))}h.callbackPriority=g,h.callbackNode=w}}function mD(h,g){if(a_=-1,l_=0,(an&6)!==0)throw Error(n(327));var w=h.callbackNode;if(Vp()&&h.callbackNode!==w)return null;var I=zl(h,h===Vr?Zr:0);if(I===0)return null;if((I&30)!==0||(I&h.expiredLanes)!==0||g)g=u_(h,I);else{g=I;var F=an;an|=2;var $=bD();(Vr!==h||Zr!==g)&&(Ql=null,$p=xn()+500,rh(h,g));do try{qG();break}catch(fe){vD(h,fe)}while(!0);NA(),n_.current=$,an=F,mr!==null?g=0:(Vr=null,Zr=0,g=Ir)}if(g!==0){if(g===2&&(F=Mi(h),F!==0&&(I=F,g=gT(h,F))),g===1)throw w=Vy,rh(h,0),kc(h,I),rs(h,xn()),w;if(g===6)kc(h,I);else{if(F=h.current.alternate,(I&30)===0&&!UG(F)&&(g=u_(h,I),g===2&&($=Mi(h),$!==0&&(I=$,g=gT(h,$))),g===1))throw w=Vy,rh(h,0),kc(h,I),rs(h,xn()),w;switch(h.finishedWork=F,h.finishedLanes=I,g){case 0:case 1:throw Error(n(345));case 2:ih(h,ns,Ql);break;case 3:if(kc(h,I),(I&130023424)===I&&(g=hT+500-xn(),10<g)){if(zl(h,0)!==0)break;if(F=h.suspendedLanes,(F&I)!==I){Fi(),h.pingedLanes|=h.suspendedLanes&F;break}h.timeoutHandle=_A(ih.bind(null,h,ns,Ql),g);break}ih(h,ns,Ql);break;case 4:if(kc(h,I),(I&4194240)===I)break;for(g=h.eventTimes,F=-1;0<I;){var J=31-Yr(I);$=1<<J,J=g[J],J>F&&(F=J),I&=~$}if(I=F,I=xn()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*HG(I/1960))-I,10<I){h.timeoutHandle=_A(ih.bind(null,h,ns,Ql),I);break}ih(h,ns,Ql);break;case 5:ih(h,ns,Ql);break;default:throw Error(n(329))}}}return rs(h,xn()),h.callbackNode===w?mD.bind(null,h):null}function gT(h,g){var w=Hy;return h.current.memoizedState.isDehydrated&&(rh(h,g).flags|=256),h=u_(h,g),h!==2&&(g=ns,ns=w,g!==null&&mT(g)),h}function mT(h){ns===null?ns=h:ns.push.apply(ns,h)}function UG(h){for(var g=h;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var I=0;I<w.length;I++){var F=w[I],$=F.getSnapshot;F=F.value;try{if(!zo($(),F))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function kc(h,g){for(g&=~dT,g&=~r_,h.suspendedLanes|=g,h.pingedLanes&=~g,h=h.expirationTimes;0<g;){var w=31-Yr(g),I=1<<w;h[w]=-1,g&=~I}}function yD(h){if((an&6)!==0)throw Error(n(327));Vp();var g=zl(h,0);if((g&1)===0)return rs(h,xn()),null;var w=u_(h,g);if(h.tag!==0&&w===2){var I=Mi(h);I!==0&&(g=I,w=gT(h,I))}if(w===1)throw w=Vy,rh(h,0),kc(h,g),rs(h,xn()),w;if(w===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=g,ih(h,ns,Ql),rs(h,xn()),null}function yT(h,g){var w=an;an|=1;try{return h(g)}finally{an=w,an===0&&($p=xn()+500,D1&&_c())}}function nh(h){Ac!==null&&Ac.tag===0&&(an&6)===0&&Vp();var g=an;an|=1;var w=ao.transition,I=Kt;try{if(ao.transition=null,Kt=1,h)return h()}finally{Kt=I,ao.transition=w,an=g,(an&6)===0&&_c()}}function vT(){Ns=Bp.current,zn(Bp)}function rh(h,g){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==-1&&(h.timeoutHandle=-1,wG(w)),mr!==null)for(w=mr.return;w!==null;){var I=w;switch(TA(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&M1();break;case 3:Fp(),zn(Ji),zn(hi),BA();break;case 5:zA(I);break;case 4:Fp();break;case 13:zn(Xn);break;case 19:zn(Xn);break;case 10:OA(I.type._context);break;case 22:case 23:vT()}w=w.return}if(Vr=h,mr=h=Rc(h.current,null),Zr=Ns=g,Ir=0,Vy=null,dT=r_=th=0,ns=Hy=null,Zd!==null){for(g=0;g<Zd.length;g++)if(w=Zd[g],I=w.interleaved,I!==null){w.interleaved=null;var F=I.next,$=w.pending;if($!==null){var J=$.next;$.next=F,I.next=J}w.pending=I}Zd=null}return h}function vD(h,g){do{var w=mr;try{if(NA(),q1.current=K1,G1){for(var I=Kn.memoizedState;I!==null;){var F=I.queue;F!==null&&(F.pending=null),I=I.next}G1=!1}if(eh=0,$r=Rr=Kn=null,Dy=!1,Fy=0,cT.current=null,w===null||w.return===null){Ir=1,Vy=g,mr=null;break}e:{var $=h,J=w.return,fe=w,be=g;if(g=Zr,fe.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var ke=be,Ve=fe,He=Ve.tag;if((Ve.mode&1)===0&&(He===0||He===11||He===15)){var $e=Ve.alternate;$e?(Ve.updateQueue=$e.updateQueue,Ve.memoizedState=$e.memoizedState,Ve.lanes=$e.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var Ze=HL(J);if(Ze!==null){Ze.flags&=-257,UL(Ze,J,fe,$,g),Ze.mode&1&&VL($,ke,g),g=Ze,be=ke;var ut=g.updateQueue;if(ut===null){var ft=new Set;ft.add(be),g.updateQueue=ft}else ut.add(be);break e}else{if((g&1)===0){VL($,ke,g),bT();break e}be=Error(n(426))}}else if($n&&fe.mode&1){var lr=HL(J);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),UL(lr,J,fe,$,g),IA(zp(be,fe));break e}}$=be=zp(be,fe),Ir!==4&&(Ir=2),Hy===null?Hy=[$]:Hy.push($),$=J;do{switch($.tag){case 3:$.flags|=65536,g&=-g,$.lanes|=g;var Ce=BL($,be,g);fL($,Ce);break e;case 1:fe=be;var _e=$.type,Ae=$.stateNode;if(($.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Cc===null||!Cc.has(Ae)))){$.flags|=65536,g&=-g,$.lanes|=g;var qe=$L($,fe,g);fL($,qe);break e}}$=$.return}while($!==null)}_D(w)}catch(gt){g=gt,mr===w&&w!==null&&(mr=w=w.return);continue}break}while(!0)}function bD(){var h=n_.current;return n_.current=K1,h===null?K1:h}function bT(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Vr===null||(th&268435455)===0&&(r_&268435455)===0||kc(Vr,Zr)}function u_(h,g){var w=an;an|=2;var I=bD();(Vr!==h||Zr!==g)&&(Ql=null,rh(h,g));do try{WG();break}catch(F){vD(h,F)}while(!0);if(NA(),an=w,n_.current=I,mr!==null)throw Error(n(261));return Vr=null,Zr=0,Ir}function WG(){for(;mr!==null;)wD(mr)}function qG(){for(;mr!==null&&!sp();)wD(mr)}function wD(h){var g=SD(h.alternate,h,Ns);h.memoizedProps=h.pendingProps,g===null?_D(h):mr=g,cT.current=null}function _D(h){var g=h;do{var w=g.alternate;if(h=g.return,(g.flags&32768)===0){if(w=zG(w,g,Ns),w!==null){mr=w;return}}else{if(w=jG(w,g),w!==null){w.flags&=32767,mr=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Ir=6,mr=null;return}}if(g=g.sibling,g!==null){mr=g;return}mr=g=h}while(g!==null);Ir===0&&(Ir=5)}function ih(h,g,w){var I=Kt,F=ao.transition;try{ao.transition=null,Kt=1,GG(h,g,w,I)}finally{ao.transition=F,Kt=I}return null}function GG(h,g,w,I){do Vp();while(Ac!==null);if((an&6)!==0)throw Error(n(327));w=h.finishedWork;var F=h.finishedLanes;if(w===null)return null;if(h.finishedWork=null,h.finishedLanes=0,w===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var $=w.lanes|w.childLanes;if(Tn(h,$),h===Vr&&(mr=Vr=null,Zr=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||s_||(s_=!0,CD(Ki,function(){return Vp(),null})),$=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||$){$=ao.transition,ao.transition=null;var J=Kt;Kt=1;var fe=an;an|=4,cT.current=null,$G(h,w),dD(w,h),fG(bA),gc=!!vA,bA=vA=null,h.current=w,VG(w),op(),an=fe,Kt=J,ao.transition=$}else h.current=w;if(s_&&(s_=!1,Ac=h,o_=F),$=h.pendingLanes,$===0&&(Cc=null),up(w.stateNode),rs(h,xn()),g!==null)for(I=h.onRecoverableError,w=0;w<g.length;w++)F=g[w],I(F.value,{componentStack:F.stack,digest:F.digest});if(i_)throw i_=!1,h=fT,fT=null,h;return(o_&1)!==0&&h.tag!==0&&Vp(),$=h.pendingLanes,($&1)!==0?h===pT?Uy++:(Uy=0,pT=h):Uy=0,_c(),null}function Vp(){if(Ac!==null){var h=fc(o_),g=ao.transition,w=Kt;try{if(ao.transition=null,Kt=16>h?16:h,Ac===null)var I=!1;else{if(h=Ac,Ac=null,o_=0,(an&6)!==0)throw Error(n(331));var F=an;for(an|=4,ot=h.current;ot!==null;){var $=ot,J=$.child;if((ot.flags&16)!==0){var fe=$.deletions;if(fe!==null){for(var be=0;be<fe.length;be++){var ke=fe[be];for(ot=ke;ot!==null;){var Ve=ot;switch(Ve.tag){case 0:case 11:case 15:$y(8,Ve,$)}var He=Ve.child;if(He!==null)He.return=Ve,ot=He;else for(;ot!==null;){Ve=ot;var $e=Ve.sibling,Ze=Ve.return;if(oD(Ve),Ve===ke){ot=null;break}if($e!==null){$e.return=Ze,ot=$e;break}ot=Ze}}}var ut=$.alternate;if(ut!==null){var ft=ut.child;if(ft!==null){ut.child=null;do{var lr=ft.sibling;ft.sibling=null,ft=lr}while(ft!==null)}}ot=$}}if(($.subtreeFlags&2064)!==0&&J!==null)J.return=$,ot=J;else e:for(;ot!==null;){if($=ot,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:$y(9,$,$.return)}var Ce=$.sibling;if(Ce!==null){Ce.return=$.return,ot=Ce;break e}ot=$.return}}var _e=h.current;for(ot=_e;ot!==null;){J=ot;var Ae=J.child;if((J.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=J,ot=Ae;else e:for(J=_e;ot!==null;){if(fe=ot,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:t_(9,fe)}}catch(gt){tr(fe,fe.return,gt)}if(fe===J){ot=null;break e}var qe=fe.sibling;if(qe!==null){qe.return=fe.return,ot=qe;break e}ot=fe.return}}if(an=F,_c(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(ka,h)}catch{}I=!0}return I}finally{Kt=w,ao.transition=g}}return!1}function xD(h,g,w){g=zp(w,g),g=BL(h,g,1),h=Ec(h,g,1),g=Fi(),h!==null&&(dc(h,1,g),rs(h,g))}function tr(h,g,w){if(h.tag===3)xD(h,h,w);else for(;g!==null;){if(g.tag===3){xD(g,h,w);break}else if(g.tag===1){var I=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Cc===null||!Cc.has(I))){h=zp(w,h),h=$L(g,h,1),g=Ec(g,h,1),h=Fi(),g!==null&&(dc(g,1,h),rs(g,h));break}}g=g.return}}function YG(h,g,w){var I=h.pingCache;I!==null&&I.delete(g),g=Fi(),h.pingedLanes|=h.suspendedLanes&w,Vr===h&&(Zr&w)===w&&(Ir===4||Ir===3&&(Zr&130023424)===Zr&&500>xn()-hT?rh(h,0):dT|=w),rs(h,g)}function ED(h,g){g===0&&((h.mode&1)===0?g=1:(g=Po,Po<<=1,(Po&130023424)===0&&(Po=4194304)));var w=Fi();h=Yl(h,g),h!==null&&(dc(h,g,w),rs(h,w))}function XG(h){var g=h.memoizedState,w=0;g!==null&&(w=g.retryLane),ED(h,w)}function KG(h,g){var w=0;switch(h.tag){case 13:var I=h.stateNode,F=h.memoizedState;F!==null&&(w=F.retryLane);break;case 19:I=h.stateNode;break;default:throw Error(n(314))}I!==null&&I.delete(g),ED(h,w)}var SD;SD=function(h,g,w){if(h!==null)if(h.memoizedProps!==g.pendingProps||Ji.current)ts=!0;else{if((h.lanes&w)===0&&(g.flags&128)===0)return ts=!1,FG(h,g,w);ts=(h.flags&131072)!==0}else ts=!1,$n&&(g.flags&1048576)!==0&&rL(g,z1,g.index);switch(g.lanes=0,g.tag){case 2:var I=g.type;J1(h,g),h=g.pendingProps;var F=Ip(g,hi.current);Dp(g,w),F=HA(null,g,I,h,F,w);var $=UA();return g.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,es(I)?($=!0,L1(g)):$=!1,g.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,DA(g),F.updater=Q1,g.stateNode=F,F._reactInternals=g,KA(g,I,h,w),g=eT(null,g,I,!0,$,w)):(g.tag=0,$n&&$&&AA(g),Di(null,g,F,w),g=g.child),g;case 16:I=g.elementType;e:{switch(J1(h,g),h=g.pendingProps,F=I._init,I=F(I._payload),g.type=I,F=g.tag=ZG(I),h=Bo(I,h),F){case 0:g=JA(null,g,I,h,w);break e;case 1:g=KL(null,g,I,h,w);break e;case 11:g=WL(null,g,I,h,w);break e;case 14:g=qL(null,g,I,Bo(I.type,h),w);break e}throw Error(n(306,I,""))}return g;case 0:return I=g.type,F=g.pendingProps,F=g.elementType===I?F:Bo(I,F),JA(h,g,I,F,w);case 1:return I=g.type,F=g.pendingProps,F=g.elementType===I?F:Bo(I,F),KL(h,g,I,F,w);case 3:e:{if(QL(g),h===null)throw Error(n(387));I=g.pendingProps,$=g.memoizedState,F=$.element,hL(h,g),U1(g,I,null,w);var J=g.memoizedState;if(I=J.element,$.isDehydrated)if($={element:I,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},g.updateQueue.baseState=$,g.memoizedState=$,g.flags&256){F=zp(Error(n(423)),g),g=ZL(h,g,I,w,F);break e}else if(I!==F){F=zp(Error(n(424)),g),g=ZL(h,g,I,w,F);break e}else for(Ps=vc(g.stateNode.containerInfo.firstChild),Is=g,$n=!0,jo=null,w=cL(g,null,I,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Op(),I===F){g=Kl(h,g,w);break e}Di(h,g,I,w)}g=g.child}return g;case 5:return gL(g),h===null&&RA(g),I=g.type,F=g.pendingProps,$=h!==null?h.memoizedProps:null,J=F.children,wA(I,F)?J=null:$!==null&&wA(I,$)&&(g.flags|=32),XL(h,g),Di(h,g,J,w),g.child;case 6:return h===null&&RA(g),null;case 13:return JL(h,g,w);case 4:return FA(g,g.stateNode.containerInfo),I=g.pendingProps,h===null?g.child=Mp(g,null,I,w):Di(h,g,I,w),g.child;case 11:return I=g.type,F=g.pendingProps,F=g.elementType===I?F:Bo(I,F),WL(h,g,I,F,w);case 7:return Di(h,g,g.pendingProps,w),g.child;case 8:return Di(h,g,g.pendingProps.children,w),g.child;case 12:return Di(h,g,g.pendingProps.children,w),g.child;case 10:e:{if(I=g.type._context,F=g.pendingProps,$=g.memoizedProps,J=F.value,Nn($1,I._currentValue),I._currentValue=J,$!==null)if(zo($.value,J)){if($.children===F.children&&!Ji.current){g=Kl(h,g,w);break e}}else for($=g.child,$!==null&&($.return=g);$!==null;){var fe=$.dependencies;if(fe!==null){J=$.child;for(var be=fe.firstContext;be!==null;){if(be.context===I){if($.tag===1){be=Xl(-1,w&-w),be.tag=2;var ke=$.updateQueue;if(ke!==null){ke=ke.shared;var Ve=ke.pending;Ve===null?be.next=be:(be.next=Ve.next,Ve.next=be),ke.pending=be}}$.lanes|=w,be=$.alternate,be!==null&&(be.lanes|=w),MA($.return,w,g),fe.lanes|=w;break}be=be.next}}else if($.tag===10)J=$.type===g.type?null:$.child;else if($.tag===18){if(J=$.return,J===null)throw Error(n(341));J.lanes|=w,fe=J.alternate,fe!==null&&(fe.lanes|=w),MA(J,w,g),J=$.sibling}else J=$.child;if(J!==null)J.return=$;else for(J=$;J!==null;){if(J===g){J=null;break}if($=J.sibling,$!==null){$.return=J.return,J=$;break}J=J.return}$=J}Di(h,g,F.children,w),g=g.child}return g;case 9:return F=g.type,I=g.pendingProps.children,Dp(g,w),F=so(F),I=I(F),g.flags|=1,Di(h,g,I,w),g.child;case 14:return I=g.type,F=Bo(I,g.pendingProps),F=Bo(I.type,F),qL(h,g,I,F,w);case 15:return GL(h,g,g.type,g.pendingProps,w);case 17:return I=g.type,F=g.pendingProps,F=g.elementType===I?F:Bo(I,F),J1(h,g),g.tag=1,es(I)?(h=!0,L1(g)):h=!1,Dp(g,w),zL(g,I,F),KA(g,I,F,w),eT(null,g,I,!0,h,w);case 19:return tD(h,g,w);case 22:return YL(h,g,w)}throw Error(n(156,g.tag))};function CD(h,g){return uc(h,g)}function QG(h,g,w,I){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(h,g,w,I){return new QG(h,g,w,I)}function wT(h){return h=h.prototype,!(!h||!h.isReactComponent)}function ZG(h){if(typeof h=="function")return wT(h)?1:0;if(h!=null){if(h=h.$$typeof,h===M)return 11;if(h===U)return 14}return 2}function Rc(h,g){var w=h.alternate;return w===null?(w=lo(h.tag,g,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=g,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,g=h.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function c_(h,g,w,I,F,$){var J=2;if(I=h,typeof h=="function")wT(h)&&(J=1);else if(typeof h=="string")J=5;else e:switch(h){case A:return sh(w.children,F,$,g);case R:J=8,F|=8;break;case P:return h=lo(12,w,g,F|2),h.elementType=P,h.lanes=$,h;case D:return h=lo(13,w,g,F),h.elementType=D,h.lanes=$,h;case N:return h=lo(19,w,g,F),h.elementType=N,h.lanes=$,h;case G:return d_(w,F,$,g);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case T:J=10;break e;case L:J=9;break e;case M:J=11;break e;case U:J=14;break e;case K:J=16,I=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return g=lo(J,w,g,F),g.elementType=h,g.type=I,g.lanes=$,g}function sh(h,g,w,I){return h=lo(7,h,I,g),h.lanes=w,h}function d_(h,g,w,I){return h=lo(22,h,I,g),h.elementType=G,h.lanes=w,h.stateNode={isHidden:!1},h}function _T(h,g,w){return h=lo(6,h,null,g),h.lanes=w,h}function xT(h,g,w){return g=lo(4,h.children!==null?h.children:[],h.key,g),g.lanes=w,g.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},g}function JG(h,g,w,I,F){this.tag=g,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=I,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null}function ET(h,g,w,I,F,$,J,fe,be){return h=new JG(h,g,w,fe,be),g===1?(g=1,$===!0&&(g|=8)):g=0,$=lo(3,null,null,g),h.current=$,$.stateNode=h,$.memoizedState={element:I,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},DA($),h}function eY(h,g,w){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:I==null?null:""+I,children:h,containerInfo:g,implementation:w}}function AD(h){if(!h)return wc;h=h._reactInternals;e:{if(Yi(h)!==h||h.tag!==1)throw Error(n(170));var g=h;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(es(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(h.tag===1){var w=h.type;if(es(w))return eL(h,w,g)}return g}function TD(h,g,w,I,F,$,J,fe,be){return h=ET(w,I,!0,h,F,$,J,fe,be),h.context=AD(null),w=h.current,I=Fi(),F=Tc(w),$=Xl(I,F),$.callback=g??null,Ec(w,$,F),h.current.lanes=F,dc(h,F,I),rs(h,I),h}function h_(h,g,w,I){var F=g.current,$=Fi(),J=Tc(F);return w=AD(w),g.context===null?g.context=w:g.pendingContext=w,g=Xl($,J),g.payload={element:h},I=I===void 0?null:I,I!==null&&(g.callback=I),h=Ec(F,g,J),h!==null&&(Ho(h,F,J,$),H1(h,F,J)),J}function f_(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function kD(h,g){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<g?w:g}}function ST(h,g){kD(h,g),(h=h.alternate)&&kD(h,g)}function tY(){return null}var RD=typeof reportError=="function"?reportError:function(h){console.error(h)};function CT(h){this._internalRoot=h}p_.prototype.render=CT.prototype.render=function(h){var g=this._internalRoot;if(g===null)throw Error(n(409));h_(h,g,null,null)},p_.prototype.unmount=CT.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var g=h.containerInfo;nh(function(){h_(null,h,null,null)}),g[Ul]=null}};function p_(h){this._internalRoot=h}p_.prototype.unstable_scheduleHydration=function(h){if(h){var g=p1();h={blockedOn:null,target:h,priority:g};for(var w=0;w<Pa.length&&g!==0&&g<Pa[w].priority;w++);Pa.splice(w,0,h),w===0&&y1(h)}};function AT(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function g_(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function ID(){}function nY(h,g,w,I,F){if(F){if(typeof I=="function"){var $=I;I=function(){var ke=f_(J);$.call(ke)}}var J=TD(g,I,h,0,null,!1,!1,"",ID);return h._reactRootContainer=J,h[Ul]=J.current,ky(h.nodeType===8?h.parentNode:h),nh(),J}for(;F=h.lastChild;)h.removeChild(F);if(typeof I=="function"){var fe=I;I=function(){var ke=f_(be);fe.call(ke)}}var be=ET(h,0,!1,null,null,!1,!1,"",ID);return h._reactRootContainer=be,h[Ul]=be.current,ky(h.nodeType===8?h.parentNode:h),nh(function(){h_(g,be,w,I)}),be}function m_(h,g,w,I,F){var $=w._reactRootContainer;if($){var J=$;if(typeof F=="function"){var fe=F;F=function(){var be=f_(J);fe.call(be)}}h_(g,J,h,F)}else J=nY(w,g,h,F,I);return f_(J)}h1=function(h){switch(h.tag){case 3:var g=h.stateNode;if(g.current.memoizedState.isDehydrated){var w=Ra(g.pendingLanes);w!==0&&(hc(g,w|1),rs(g,xn()),(an&6)===0&&($p=xn()+500,_c()))}break;case 13:nh(function(){var I=Yl(h,1);if(I!==null){var F=Fi();Ho(I,h,1,F)}}),ST(h,1)}},hp=function(h){if(h.tag===13){var g=Yl(h,134217728);if(g!==null){var w=Fi();Ho(g,h,134217728,w)}ST(h,134217728)}},f1=function(h){if(h.tag===13){var g=Tc(h),w=Yl(h,g);if(w!==null){var I=Fi();Ho(w,h,g,I)}ST(h,g)}},p1=function(){return Kt},g1=function(h,g){var w=Kt;try{return Kt=h,g()}finally{Kt=w}},eo=function(h,g,w){switch(g){case"input":if(le(h,w),g=w.name,w.type==="radio"&&g!=null){for(w=h;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<w.length;g++){var I=w[g];if(I!==h&&I.form===h.form){var F=O1(I);if(!F)throw Error(n(90));Ee(I),le(I,F)}}}break;case"textarea":je(h,w);break;case"select":g=w.value,g!=null&&Te(h,!!w.multiple,g,!1)}},Io=yT,Rt=nh;var rY={usingClientEntryPoint:!1,Events:[Py,kp,O1,Gi,Sa,yT]},Wy={findFiberByHostInstance:Yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iY={bundleType:Wy.bundleType,version:Wy.version,rendererPackageName:Wy.rendererPackageName,rendererConfig:Wy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Bd(h),h===null?null:h.stateNode},findFiberByHostInstance:Wy.findFiberByHostInstance||tY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var y_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!y_.isDisabled&&y_.supportsFiber)try{ka=y_.inject(iY),Oi=y_}catch{}}return is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rY,is.createPortal=function(h,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AT(g))throw Error(n(200));return eY(h,g,null,w)},is.createRoot=function(h,g){if(!AT(h))throw Error(n(299));var w=!1,I="",F=RD;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(I=g.identifierPrefix),g.onRecoverableError!==void 0&&(F=g.onRecoverableError)),g=ET(h,1,!1,null,null,w,!1,I,F),h[Ul]=g.current,ky(h.nodeType===8?h.parentNode:h),new CT(g)},is.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var g=h._reactInternals;if(g===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Bd(g),h=h===null?null:h.stateNode,h},is.flushSync=function(h){return nh(h)},is.hydrate=function(h,g,w){if(!g_(g))throw Error(n(200));return m_(null,h,g,!0,w)},is.hydrateRoot=function(h,g,w){if(!AT(h))throw Error(n(405));var I=w!=null&&w.hydratedSources||null,F=!1,$="",J=RD;if(w!=null&&(w.unstable_strictMode===!0&&(F=!0),w.identifierPrefix!==void 0&&($=w.identifierPrefix),w.onRecoverableError!==void 0&&(J=w.onRecoverableError)),g=TD(g,null,h,1,w??null,F,!1,$,J),h[Ul]=g.current,ky(h),I)for(h=0;h<I.length;h++)w=I[h],F=w._getVersion,F=F(w._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[w,F]:g.mutableSourceEagerHydrationData.push(w,F);return new p_(g)},is.render=function(h,g,w){if(!g_(g))throw Error(n(200));return m_(null,h,g,!1,w)},is.unmountComponentAtNode=function(h){if(!g_(h))throw Error(n(40));return h._reactRootContainer?(nh(function(){m_(null,null,h,!1,function(){h._reactRootContainer=null,h[Ul]=null})}),!0):!1},is.unstable_batchedUpdates=yT,is.unstable_renderSubtreeIntoContainer=function(h,g,w,I){if(!g_(w))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return m_(h,g,w,!1,I)},is.version="18.3.1-next-f1338f8080-20240426",is}var jD;function FS(){if(jD)return IT.exports;jD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),IT.exports=gY(),IT.exports}var BD;function mY(){if(BD)return v_;BD=1;var t=FS();return v_.createRoot=t.createRoot,v_.hydrateRoot=t.hydrateRoot,v_}var _B=mY();function Ar(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Ar(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var yY={value:()=>{}};function zS(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new px(n)}function px(t){this._=t}function vY(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}px.prototype=zS.prototype={constructor:px,on:function(t,e){var n=this._,r=vY(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=bY(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=$D(n[i],t.name,e);else if(e==null)for(i in n)n[i]=$D(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new px(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function bY(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function $D(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=yY,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var QR="http://www.w3.org/1999/xhtml";const VD={svg:"http://www.w3.org/2000/svg",xhtml:QR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jS(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),VD.hasOwnProperty(e)?{space:VD[e],local:t}:t}function wY(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===QR&&e.documentElement.namespaceURI===QR?e.createElement(t):e.createElementNS(n,t)}}function _Y(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function xB(t){var e=jS(t);return(e.local?_Y:wY)(e)}function xY(){}function Y2(t){return t==null?xY:function(){return this.querySelector(t)}}function EY(t){typeof t!="function"&&(t=Y2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=t.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Qs(r,this._parents)}function SY(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function CY(){return[]}function EB(t){return t==null?CY:function(){return this.querySelectorAll(t)}}function AY(t){return function(){return SY(t.apply(this,arguments))}}function TY(t){typeof t=="function"?t=AY(t):t=EB(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new Qs(r,i)}function SB(t){return function(){return this.matches(t)}}function CB(t){return function(e){return e.matches(t)}}var kY=Array.prototype.find;function RY(t){return function(){return kY.call(this.children,t)}}function IY(){return this.firstElementChild}function PY(t){return this.select(t==null?IY:RY(typeof t=="function"?t:CB(t)))}var NY=Array.prototype.filter;function OY(){return Array.from(this.children)}function MY(t){return function(){return NY.call(this.children,t)}}function LY(t){return this.selectAll(t==null?OY:MY(typeof t=="function"?t:CB(t)))}function DY(t){typeof t!="function"&&(t=SB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Qs(r,this._parents)}function AB(t){return new Array(t.length)}function FY(){return new Qs(this._enter||this._groups.map(AB),this._parents)}function yE(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}yE.prototype={constructor:yE,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function zY(t){return function(){return t}}function jY(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new yE(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function BY(t,e,n,r,i,s,o){var a,l,u=new Map,c=e.length,d=s.length,f=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=o.call(t,s[a],a,s)+"",(l=u.get(p))?(r[a]=l,l.__data__=s[a],u.delete(p)):n[a]=new yE(t,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function $Y(t){return t.__data__}function VY(t,e){if(!arguments.length)return Array.from(this,$Y);var n=e?BY:jY,r=this._parents,i=this._groups;typeof t!="function"&&(t=zY(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],d=i[u],f=d.length,p=HY(t.call(c,c&&c.__data__,u,r)),m=p.length,y=a[u]=new Array(m),b=o[u]=new Array(m),v=l[u]=new Array(f);n(c,d,y,b,v,p,e);for(var x=0,_=0,S,k;x<m;++x)if(S=y[x]){for(x>=_&&(_=x+1);!(k=b[_])&&++_<m;);S._next=k||null}}return o=new Qs(o,r),o._enter=a,o._exit=l,o}function HY(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function UY(){return new Qs(this._exit||this._groups.map(AB),this._parents)}function WY(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function qY(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=n[l],c=r[l],d=u.length,f=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(f[m]=p);for(;l<i;++l)a[l]=n[l];return new Qs(a,this._parents)}function GY(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function YY(t){t||(t=XY);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Qs(i,this._parents).order()}function XY(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function KY(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function QY(){return Array.from(this)}function ZY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function JY(){let t=0;for(const e of this)++t;return t}function eX(){return!this.node()}function tX(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function nX(t){return function(){this.removeAttribute(t)}}function rX(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iX(t,e){return function(){this.setAttribute(t,e)}}function sX(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function oX(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function aX(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function lX(t,e){var n=jS(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?rX:nX:typeof e=="function"?n.local?aX:oX:n.local?sX:iX)(n,e))}function TB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function uX(t){return function(){this.style.removeProperty(t)}}function cX(t,e,n){return function(){this.style.setProperty(t,e,n)}}function dX(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function hX(t,e,n){return arguments.length>1?this.each((e==null?uX:typeof e=="function"?dX:cX)(t,e,n??"")):Sm(this.node(),t)}function Sm(t,e){return t.style.getPropertyValue(e)||TB(t).getComputedStyle(t,null).getPropertyValue(e)}function fX(t){return function(){delete this[t]}}function pX(t,e){return function(){this[t]=e}}function gX(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mX(t,e){return arguments.length>1?this.each((e==null?fX:typeof e=="function"?gX:pX)(t,e)):this.node()[t]}function kB(t){return t.trim().split(/^|\s+/)}function X2(t){return t.classList||new RB(t)}function RB(t){this._node=t,this._names=kB(t.getAttribute("class")||"")}RB.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function IB(t,e){for(var n=X2(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function PB(t,e){for(var n=X2(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function yX(t){return function(){IB(this,t)}}function vX(t){return function(){PB(this,t)}}function bX(t,e){return function(){(e.apply(this,arguments)?IB:PB)(this,t)}}function wX(t,e){var n=kB(t+"");if(arguments.length<2){for(var r=X2(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?bX:e?yX:vX)(n,e))}function _X(){this.textContent=""}function xX(t){return function(){this.textContent=t}}function EX(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function SX(t){return arguments.length?this.each(t==null?_X:(typeof t=="function"?EX:xX)(t)):this.node().textContent}function CX(){this.innerHTML=""}function AX(t){return function(){this.innerHTML=t}}function TX(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kX(t){return arguments.length?this.each(t==null?CX:(typeof t=="function"?TX:AX)(t)):this.node().innerHTML}function RX(){this.nextSibling&&this.parentNode.appendChild(this)}function IX(){return this.each(RX)}function PX(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NX(){return this.each(PX)}function OX(t){var e=typeof t=="function"?t:xB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function MX(){return null}function LX(t,e){var n=typeof t=="function"?t:xB(t),r=e==null?MX:typeof e=="function"?e:Y2(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function DX(){var t=this.parentNode;t&&t.removeChild(this)}function FX(){return this.each(DX)}function zX(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jX(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function BX(t){return this.select(t?jX:zX)}function $X(t){return arguments.length?this.property("__data__",t):this.node().__data__}function VX(t){return function(e){t.call(this,e,this.__data__)}}function HX(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function UX(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function WX(t,e,n){return function(){var r=this.__on,i,s=VX(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function qX(t,e,n){var r=HX(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?WX:UX,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function NB(t,e,n){var r=TB(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function GX(t,e){return function(){return NB(this,t,e)}}function YX(t,e){return function(){return NB(this,t,e.apply(this,arguments))}}function XX(t,e){return this.each((typeof e=="function"?YX:GX)(t,e))}function*KX(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var OB=[null];function Qs(t,e){this._groups=t,this._parents=e}function Rw(){return new Qs([[document.documentElement]],OB)}function QX(){return this}Qs.prototype=Rw.prototype={constructor:Qs,select:EY,selectAll:TY,selectChild:PY,selectChildren:LY,filter:DY,data:VY,enter:FY,exit:UY,join:WY,merge:qY,selection:QX,order:GY,sort:YY,call:KY,nodes:QY,node:ZY,size:JY,empty:eX,each:tX,attr:lX,style:hX,property:mX,classed:wX,text:SX,html:kX,raise:IX,lower:NX,append:OX,insert:LX,remove:FX,clone:BX,datum:$X,on:qX,dispatch:XX,[Symbol.iterator]:KX};function ds(t){return typeof t=="string"?new Qs([[document.querySelector(t)]],[document.documentElement]):new Qs([[t]],OB)}function ZX(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ca(t,e){if(t=ZX(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const JX={passive:!1},m0={capture:!0,passive:!1};function OT(t){t.stopImmediatePropagation()}function bg(t){t.preventDefault(),t.stopImmediatePropagation()}function MB(t){var e=t.document.documentElement,n=ds(t).on("dragstart.drag",bg,m0);"onselectstart"in e?n.on("selectstart.drag",bg,m0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function LB(t,e){var n=t.document.documentElement,r=ds(t).on("dragstart.drag",null);e&&(r.on("click.drag",bg,m0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const b_=t=>()=>t;function ZR(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}ZR.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function eK(t){return!t.ctrlKey&&!t.button}function tK(){return this.parentNode}function nK(t,e){return e??{x:t.x,y:t.y}}function rK(){return navigator.maxTouchPoints||"ontouchstart"in this}function DB(){var t=eK,e=tK,n=nK,r=rK,i={},s=zS("start","drag","end"),o=0,a,l,u,c,d=0;function f(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",v,JX).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(S,k){if(!(c||!t.call(this,S,k))){var O=_(this,e.call(this,S,k),S,k,"mouse");O&&(ds(S.view).on("mousemove.drag",m,m0).on("mouseup.drag",y,m0),MB(S.view),OT(S),u=!1,a=S.clientX,l=S.clientY,O("start",S))}}function m(S){if(bg(S),!u){var k=S.clientX-a,O=S.clientY-l;u=k*k+O*O>d}i.mouse("drag",S)}function y(S){ds(S.view).on("mousemove.drag mouseup.drag",null),LB(S.view,u),bg(S),i.mouse("end",S)}function b(S,k){if(t.call(this,S,k)){var O=S.changedTouches,A=e.call(this,S,k),R=O.length,P,T;for(P=0;P<R;++P)(T=_(this,A,S,k,O[P].identifier,O[P]))&&(OT(S),T("start",S,O[P]))}}function v(S){var k=S.changedTouches,O=k.length,A,R;for(A=0;A<O;++A)(R=i[k[A].identifier])&&(bg(S),R("drag",S,k[A]))}function x(S){var k=S.changedTouches,O=k.length,A,R;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<O;++A)(R=i[k[A].identifier])&&(OT(S),R("end",S,k[A]))}function _(S,k,O,A,R,P){var T=s.copy(),L=ca(P||O,k),M,D,N;if((N=n.call(S,new ZR("beforestart",{sourceEvent:O,target:f,identifier:R,active:o,x:L[0],y:L[1],dx:0,dy:0,dispatch:T}),A))!=null)return M=N.x-L[0]||0,D=N.y-L[1]||0,function U(K,G,Z){var X=L,W;switch(K){case"start":i[R]=U,W=o++;break;case"end":delete i[R],--o;case"drag":L=ca(Z||G,k),W=o;break}T.call(K,S,new ZR(K,{sourceEvent:G,subject:N,target:f,identifier:R,active:W,x:L[0]+M,y:L[1]+D,dx:L[0]-X[0],dy:L[1]-X[1],dispatch:T}),A)}}return f.filter=function(S){return arguments.length?(t=typeof S=="function"?S:b_(!!S),f):t},f.container=function(S){return arguments.length?(e=typeof S=="function"?S:b_(S),f):e},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:b_(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:b_(!!S),f):r},f.on=function(){var S=s.on.apply(s,arguments);return S===s?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function K2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function FB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Iw(){}var y0=.7,vE=1/y0,wg="\\s*([+-]?\\d+)\\s*",v0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iK=/^#([0-9a-f]{3,8})$/,sK=new RegExp(`^rgb\\(${wg},${wg},${wg}\\)$`),oK=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),aK=new RegExp(`^rgba\\(${wg},${wg},${wg},${v0}\\)$`),lK=new RegExp(`^rgba\\(${vl},${vl},${vl},${v0}\\)$`),uK=new RegExp(`^hsl\\(${v0},${vl},${vl}\\)$`),cK=new RegExp(`^hsla\\(${v0},${vl},${vl},${v0}\\)$`),HD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K2(Iw,Cf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UD,formatHex:UD,formatHex8:dK,formatHsl:hK,formatRgb:WD,toString:WD});function UD(){return this.rgb().formatHex()}function dK(){return this.rgb().formatHex8()}function hK(){return zB(this).formatHsl()}function WD(){return this.rgb().formatRgb()}function Cf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iK.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qD(e):n===3?new hs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?w_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?w_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sK.exec(t))?new hs(e[1],e[2],e[3],1):(e=oK.exec(t))?new hs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aK.exec(t))?w_(e[1],e[2],e[3],e[4]):(e=lK.exec(t))?w_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uK.exec(t))?XD(e[1],e[2]/100,e[3]/100,1):(e=cK.exec(t))?XD(e[1],e[2]/100,e[3]/100,e[4]):HD.hasOwnProperty(t)?qD(HD[t]):t==="transparent"?new hs(NaN,NaN,NaN,0):null}function qD(t){return new hs(t>>16&255,t>>8&255,t&255,1)}function w_(t,e,n,r){return r<=0&&(t=e=n=NaN),new hs(t,e,n,r)}function fK(t){return t instanceof Iw||(t=Cf(t)),t?(t=t.rgb(),new hs(t.r,t.g,t.b,t.opacity)):new hs}function JR(t,e,n,r){return arguments.length===1?fK(t):new hs(t,e,n,r??1)}function hs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}K2(hs,JR,FB(Iw,{brighter(t){return t=t==null?vE:Math.pow(vE,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?y0:Math.pow(y0,t),new hs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hs(wf(this.r),wf(this.g),wf(this.b),bE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GD,formatHex:GD,formatHex8:pK,formatRgb:YD,toString:YD}));function GD(){return`#${vh(this.r)}${vh(this.g)}${vh(this.b)}`}function pK(){return`#${vh(this.r)}${vh(this.g)}${vh(this.b)}${vh((isNaN(this.opacity)?1:this.opacity)*255)}`}function YD(){const t=bE(this.opacity);return`${t===1?"rgb(":"rgba("}${wf(this.r)}, ${wf(this.g)}, ${wf(this.b)}${t===1?")":`, ${t})`}`}function bE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function vh(t){return t=wf(t),(t<16?"0":"")+t.toString(16)}function XD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ha(t,e,n,r)}function zB(t){if(t instanceof ha)return new ha(t.h,t.s,t.l,t.opacity);if(t instanceof Iw||(t=Cf(t)),!t)return new ha;if(t instanceof ha)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ha(o,a,l,t.opacity)}function gK(t,e,n,r){return arguments.length===1?zB(t):new ha(t,e,n,r??1)}function ha(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K2(ha,gK,FB(Iw,{brighter(t){return t=t==null?vE:Math.pow(vE,t),new ha(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?y0:Math.pow(y0,t),new ha(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hs(MT(t>=240?t-240:t+120,i,r),MT(t,i,r),MT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ha(KD(this.h),__(this.s),__(this.l),bE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=bE(this.opacity);return`${t===1?"hsl(":"hsla("}${KD(this.h)}, ${__(this.s)*100}%, ${__(this.l)*100}%${t===1?")":`, ${t})`}`}}));function KD(t){return t=(t||0)%360,t<0?t+360:t}function __(t){return Math.max(0,Math.min(1,t||0))}function MT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Q2=t=>()=>t;function mK(t,e){return function(n){return t+n*e}}function yK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function vK(t){return(t=+t)==1?jB:function(e,n){return n-e?yK(e,n,t):Q2(isNaN(e)?n:e)}}function jB(t,e){var n=e-t;return n?mK(t,n):Q2(isNaN(t)?e:t)}const wE=function t(e){var n=vK(e);function r(i,s){var o=n((i=JR(i)).r,(s=JR(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=jB(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function bK(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function wK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _K(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=_g(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function xK(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function da(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function EK(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=_g(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var eI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LT=new RegExp(eI.source,"g");function SK(t){return function(){return t}}function CK(t){return function(e){return t(e)+""}}function BB(t,e){var n=eI.lastIndex=LT.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=eI.exec(t))&&(i=LT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:da(r,i)})),n=LT.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?CK(l[0].x):SK(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function _g(t,e){var n=typeof e,r;return e==null||n==="boolean"?Q2(e):(n==="number"?da:n==="string"?(r=Cf(e))?(e=r,wE):BB:e instanceof Cf?wE:e instanceof Date?xK:wK(e)?bK:Array.isArray(e)?_K:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?EK:da)(t,e)}function AK(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var QD=180/Math.PI,tI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $B(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*QD,skewX:Math.atan(l)*QD,scaleX:o,scaleY:a}}var x_;function TK(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tI:$B(e.a,e.b,e.c,e.d,e.e,e.f)}function kK(t){return t==null||(x_||(x_=document.createElementNS("http://www.w3.org/2000/svg","g")),x_.setAttribute("transform",t),!(t=x_.transform.baseVal.consolidate()))?tI:(t=t.matrix,$B(t.a,t.b,t.c,t.d,t.e,t.f))}function VB(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,d,f,p,m){if(u!==d||c!==f){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:da(u,d)},{i:y-2,x:da(c,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function o(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:da(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:da(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,f,p,m){if(u!==d||c!==f){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:da(u,d)},{i:y-2,x:da(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=t(u),c=t(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,f),o(u.rotate,c.rotate,d,f),a(u.skewX,c.skewX,d,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var m=-1,y=f.length,b;++m<y;)d[(b=f[m]).i]=b.x(p);return d.join("")}}}var RK=VB(TK,"px, ","px)","deg)"),IK=VB(kK,", ",")",")"),PK=1e-12;function ZD(t){return((t=Math.exp(t))+1/t)/2}function NK(t){return((t=Math.exp(t))-1/t)/2}function OK(t){return((t=Math.exp(2*t))-1)/(t+1)}const gx=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],d=o[1],f=o[2],p=c-a,m=d-l,y=p*p+m*m,b,v;if(y<PK)v=Math.log(f/u)/e,b=function(A){return[a+A*p,l+A*m,u*Math.exp(e*A*v)]};else{var x=Math.sqrt(y),_=(f*f-u*u+r*y)/(2*u*n*x),S=(f*f-u*u-r*y)/(2*f*n*x),k=Math.log(Math.sqrt(_*_+1)-_),O=Math.log(Math.sqrt(S*S+1)-S);v=(O-k)/e,b=function(A){var R=A*v,P=ZD(k),T=u/(n*x)*(P*OK(e*R+k)-NK(k));return[a+T*p,l+T*m,u*P/ZD(e*R+k)]}}return b.duration=v*1e3*e/Math.SQRT2,b}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var Cm=0,Ev=0,Gy=0,HB=1e3,_E,Sv,xE=0,Af=0,BS=0,b0=typeof performance=="object"&&performance.now?performance:Date,UB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Z2(){return Af||(UB(MK),Af=b0.now()+BS)}function MK(){Af=0}function EE(){this._call=this._time=this._next=null}EE.prototype=WB.prototype={constructor:EE,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Z2():+n)+(e==null?0:+e),!this._next&&Sv!==this&&(Sv?Sv._next=this:_E=this,Sv=this),this._call=t,this._time=n,nI()},stop:function(){this._call&&(this._call=null,this._time=1/0,nI())}};function WB(t,e,n){var r=new EE;return r.restart(t,e,n),r}function LK(){Z2(),++Cm;for(var t=_E,e;t;)(e=Af-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Cm}function JD(){Af=(xE=b0.now())+BS,Cm=Ev=0;try{LK()}finally{Cm=0,FK(),Af=0}}function DK(){var t=b0.now(),e=t-xE;e>HB&&(BS-=e,xE=t)}function FK(){for(var t,e=_E,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:_E=n);Sv=t,nI(r)}function nI(t){if(!Cm){Ev&&(Ev=clearTimeout(Ev));var e=t-Af;e>24?(t<1/0&&(Ev=setTimeout(JD,t-b0.now()-BS)),Gy&&(Gy=clearInterval(Gy))):(Gy||(xE=b0.now(),Gy=setInterval(DK,HB)),Cm=1,UB(JD))}}function eF(t,e,n){var r=new EE;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var zK=zS("start","end","cancel","interrupt"),jK=[],qB=0,tF=1,rI=2,mx=3,nF=4,iI=5,yx=6;function $S(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;BK(t,n,{name:e,index:r,group:i,on:zK,tween:jK,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:qB})}function J2(t,e){var n=wa(t,e);if(n.state>qB)throw new Error("too late; already scheduled");return n}function Nl(t,e){var n=wa(t,e);if(n.state>mx)throw new Error("too late; already running");return n}function wa(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function BK(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=WB(s,0,n.time);function s(u){n.state=tF,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,d,f,p;if(n.state!==tF)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===mx)return eF(o);p.state===nF?(p.state=yx,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=yx,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(eF(function(){n.state===mx&&(n.state=nF,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=rI,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rI){for(n.state=mx,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=iI,1),d=-1,f=i.length;++d<f;)i[d].call(t,c);n.state===iI&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=yx,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function vx(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>rI&&r.state<iI,r.state=yx,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function $K(t){return this.each(function(){vx(this,t)})}function VK(t,e){var n,r;return function(){var i=Nl(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function HK(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Nl(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function UK(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=wa(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?VK:HK)(n,t,e))}function eN(t,e,n){var r=t._id;return t.each(function(){var i=Nl(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return wa(i,r).value[e]}}function GB(t,e){var n;return(typeof e=="number"?da:e instanceof Cf?wE:(n=Cf(e))?(e=n,wE):BB)(t,e)}function WK(t){return function(){this.removeAttribute(t)}}function qK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function GK(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function YK(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function XK(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function KK(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function QK(t,e){var n=jS(t),r=n==="transform"?IK:GB;return this.attrTween(t,typeof e=="function"?(n.local?KK:XK)(n,r,eN(this,"attr."+t,e)):e==null?(n.local?qK:WK)(n):(n.local?YK:GK)(n,r,e))}function ZK(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function JK(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function eQ(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&JK(t,s)),n}return i._value=e,i}function tQ(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ZK(t,s)),n}return i._value=e,i}function nQ(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=jS(t);return this.tween(n,(r.local?eQ:tQ)(r,e))}function rQ(t,e){return function(){J2(this,t).delay=+e.apply(this,arguments)}}function iQ(t,e){return e=+e,function(){J2(this,t).delay=e}}function sQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rQ:iQ)(e,t)):wa(this.node(),e).delay}function oQ(t,e){return function(){Nl(this,t).duration=+e.apply(this,arguments)}}function aQ(t,e){return e=+e,function(){Nl(this,t).duration=e}}function lQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?oQ:aQ)(e,t)):wa(this.node(),e).duration}function uQ(t,e){if(typeof e!="function")throw new Error;return function(){Nl(this,t).ease=e}}function cQ(t){var e=this._id;return arguments.length?this.each(uQ(e,t)):wa(this.node(),e).ease}function dQ(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Nl(this,t).ease=n}}function hQ(t){if(typeof t!="function")throw new Error;return this.each(dQ(this._id,t))}function fQ(t){typeof t!="function"&&(t=SB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new Gu(r,this._parents,this._name,this._id)}function pQ(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],c=l.length,d=o[a]=new Array(c),f,p=0;p<c;++p)(f=l[p]||u[p])&&(d[p]=f);for(;a<r;++a)o[a]=e[a];return new Gu(o,this._parents,this._name,this._id)}function gQ(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function mQ(t,e,n){var r,i,s=gQ(e)?J2:Nl;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function yQ(t,e){var n=this._id;return arguments.length<2?wa(this.node(),n).on.on(t):this.each(mQ(n,t,e))}function vQ(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function bQ(){return this.on("end.remove",vQ(this._id))}function wQ(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Y2(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,d,f=0;f<l;++f)(c=a[f])&&(d=t.call(c,c.__data__,f,a))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,$S(u[f],e,n,f,u,wa(c,n)));return new Gu(s,this._parents,e,n)}function _Q(t){var e=this._name,n=this._id;typeof t!="function"&&(t=EB(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var f=t.call(c,c.__data__,d,l),p,m=wa(c,n),y=0,b=f.length;y<b;++y)(p=f[y])&&$S(p,e,n,y,f,m);s.push(f),o.push(c)}return new Gu(s,o,e,n)}var xQ=Rw.prototype.constructor;function EQ(){return new xQ(this._groups,this._parents)}function SQ(t,e){var n,r,i;return function(){var s=Sm(this,t),o=(this.style.removeProperty(t),Sm(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function YB(t){return function(){this.style.removeProperty(t)}}function CQ(t,e,n){var r,i=n+"",s;return function(){var o=Sm(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function AQ(t,e,n){var r,i,s;return function(){var o=Sm(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Sm(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function TQ(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Nl(this,t),u=l.on,c=l.value[s]==null?a||(a=YB(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),l.on=r}}function kQ(t,e,n){var r=(t+="")=="transform"?RK:GB;return e==null?this.styleTween(t,SQ(t,r)).on("end.style."+t,YB(t)):typeof e=="function"?this.styleTween(t,AQ(t,r,eN(this,"style."+t,e))).each(TQ(this._id,t)):this.styleTween(t,CQ(t,r,e),n).on("end.style."+t,null)}function RQ(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function IQ(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&RQ(t,o,n)),r}return s._value=e,s}function PQ(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,IQ(t,e,n??""))}function NQ(t){return function(){this.textContent=t}}function OQ(t){return function(){var e=t(this);this.textContent=e??""}}function MQ(t){return this.tween("text",typeof t=="function"?OQ(eN(this,"text",t)):NQ(t==null?"":t+""))}function LQ(t){return function(e){this.textContent=t.call(this,e)}}function DQ(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&LQ(i)),e}return r._value=t,r}function FQ(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,DQ(t))}function zQ(){for(var t=this._name,e=this._id,n=XB(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=wa(l,e);$S(l,t,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Gu(r,this._parents,t,n)}function jQ(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Nl(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var BQ=0;function Gu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function XB(){return++BQ}var Zl=Rw.prototype;Gu.prototype={constructor:Gu,select:wQ,selectAll:_Q,selectChild:Zl.selectChild,selectChildren:Zl.selectChildren,filter:fQ,merge:pQ,selection:EQ,transition:zQ,call:Zl.call,nodes:Zl.nodes,node:Zl.node,size:Zl.size,empty:Zl.empty,each:Zl.each,on:yQ,attr:QK,attrTween:nQ,style:kQ,styleTween:PQ,text:MQ,textTween:FQ,remove:bQ,tween:UK,delay:sQ,duration:lQ,ease:cQ,easeVarying:hQ,end:jQ,[Symbol.iterator]:Zl[Symbol.iterator]};function $Q(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var VQ={time:null,delay:0,duration:250,ease:$Q};function HQ(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function UQ(t){var e,n;t instanceof Gu?(e=t._id,t=t._name):(e=XB(),(n=VQ).time=Z2(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&$S(l,t,e,u,o,n||HQ(l,e));return new Gu(r,this._parents,t,e)}Rw.prototype.interrupt=$K;Rw.prototype.transition=UQ;const E_=t=>()=>t;function WQ(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Lu(t,e,n){this.k=t,this.x=e,this.y=n}Lu.prototype={constructor:Lu,scale:function(t){return t===1?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var VS=new Lu(1,0,0);KB.prototype=Lu.prototype;function KB(t){for(;!t.__zoom;)if(!(t=t.parentNode))return VS;return t.__zoom}function DT(t){t.stopImmediatePropagation()}function Yy(t){t.preventDefault(),t.stopImmediatePropagation()}function qQ(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function GQ(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function rF(){return this.__zoom||VS}function YQ(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function XQ(){return navigator.maxTouchPoints||"ontouchstart"in this}function KQ(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function QB(){var t=qQ,e=GQ,n=KQ,r=YQ,i=XQ,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=gx,u=zS("start","zoom","end"),c,d,f,p=500,m=150,y=0,b=10;function v(N){N.property("__zoom",rF).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(N,U,K,G){var Z=N.selection?N.selection():N;Z.property("__zoom",rF),N!==Z?k(N,U,K,G):Z.interrupt().each(function(){O(this,arguments).event(G).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},v.scaleBy=function(N,U,K,G){v.scaleTo(N,function(){var Z=this.__zoom.k,X=typeof U=="function"?U.apply(this,arguments):U;return Z*X},K,G)},v.scaleTo=function(N,U,K,G){v.transform(N,function(){var Z=e.apply(this,arguments),X=this.__zoom,W=K==null?S(Z):typeof K=="function"?K.apply(this,arguments):K,q=X.invert(W),Q=typeof U=="function"?U.apply(this,arguments):U;return n(_(x(X,Q),W,q),Z,o)},K,G)},v.translateBy=function(N,U,K,G){v.transform(N,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),o)},null,G)},v.translateTo=function(N,U,K,G,Z){v.transform(N,function(){var X=e.apply(this,arguments),W=this.__zoom,q=G==null?S(X):typeof G=="function"?G.apply(this,arguments):G;return n(VS.translate(q[0],q[1]).scale(W.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof K=="function"?-K.apply(this,arguments):-K),X,o)},G,Z)};function x(N,U){return U=Math.max(s[0],Math.min(s[1],U)),U===N.k?N:new Lu(U,N.x,N.y)}function _(N,U,K){var G=U[0]-K[0]*N.k,Z=U[1]-K[1]*N.k;return G===N.x&&Z===N.y?N:new Lu(N.k,G,Z)}function S(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function k(N,U,K,G){N.on("start.zoom",function(){O(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(G).end()}).tween("zoom",function(){var Z=this,X=arguments,W=O(Z,X).event(G),q=e.apply(Z,X),Q=K==null?S(q):typeof K=="function"?K.apply(Z,X):K,H=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),re=Z.__zoom,te=typeof U=="function"?U.apply(Z,X):U,he=l(re.invert(Q).concat(H/re.k),te.invert(Q).concat(H/te.k));return function(de){if(de===1)de=te;else{var oe=he(de),ce=H/oe[2];de=new Lu(ce,Q[0]-oe[0]*ce,Q[1]-oe[1]*ce)}W.zoom(null,de)}})}function O(N,U,K){return!K&&N.__zooming||new A(N,U)}function A(N,U){this.that=N,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(N,U),this.taps=0}A.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,U){return this.mouse&&N!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var U=ds(this.that).datum();u.call(N,this.that,new WQ(N,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),U)}};function R(N,...U){if(!t.apply(this,arguments))return;var K=O(this,U).event(N),G=this.__zoom,Z=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,r.apply(this,arguments)))),X=ca(N);if(K.wheel)(K.mouse[0][0]!==X[0]||K.mouse[0][1]!==X[1])&&(K.mouse[1]=G.invert(K.mouse[0]=X)),clearTimeout(K.wheel);else{if(G.k===Z)return;K.mouse=[X,G.invert(X)],vx(this),K.start()}Yy(N),K.wheel=setTimeout(W,m),K.zoom("mouse",n(_(x(G,Z),K.mouse[0],K.mouse[1]),K.extent,o));function W(){K.wheel=null,K.end()}}function P(N,...U){if(f||!t.apply(this,arguments))return;var K=N.currentTarget,G=O(this,U,!0).event(N),Z=ds(N.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",H,!0),X=ca(N,K),W=N.clientX,q=N.clientY;MB(N.view),DT(N),G.mouse=[X,this.__zoom.invert(X)],vx(this),G.start();function Q(re){if(Yy(re),!G.moved){var te=re.clientX-W,he=re.clientY-q;G.moved=te*te+he*he>y}G.event(re).zoom("mouse",n(_(G.that.__zoom,G.mouse[0]=ca(re,K),G.mouse[1]),G.extent,o))}function H(re){Z.on("mousemove.zoom mouseup.zoom",null),LB(re.view,G.moved),Yy(re),G.event(re).end()}}function T(N,...U){if(t.apply(this,arguments)){var K=this.__zoom,G=ca(N.changedTouches?N.changedTouches[0]:N,this),Z=K.invert(G),X=K.k*(N.shiftKey?.5:2),W=n(_(x(K,X),G,Z),e.apply(this,U),o);Yy(N),a>0?ds(this).transition().duration(a).call(k,W,G,N):ds(this).call(v.transform,W,G,N)}}function L(N,...U){if(t.apply(this,arguments)){var K=N.touches,G=K.length,Z=O(this,U,N.changedTouches.length===G).event(N),X,W,q,Q;for(DT(N),W=0;W<G;++W)q=K[W],Q=ca(q,this),Q=[Q,this.__zoom.invert(Q),q.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==Q[2]&&(Z.touch1=Q,Z.taps=0):(Z.touch0=Q,X=!0,Z.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(Z.taps<2&&(d=Q[0],c=setTimeout(function(){c=null},p)),vx(this),Z.start())}}function M(N,...U){if(this.__zooming){var K=O(this,U).event(N),G=N.changedTouches,Z=G.length,X,W,q,Q;for(Yy(N),X=0;X<Z;++X)W=G[X],q=ca(W,this),K.touch0&&K.touch0[2]===W.identifier?K.touch0[0]=q:K.touch1&&K.touch1[2]===W.identifier&&(K.touch1[0]=q);if(W=K.that.__zoom,K.touch1){var H=K.touch0[0],re=K.touch0[1],te=K.touch1[0],he=K.touch1[1],de=(de=te[0]-H[0])*de+(de=te[1]-H[1])*de,oe=(oe=he[0]-re[0])*oe+(oe=he[1]-re[1])*oe;W=x(W,Math.sqrt(de/oe)),q=[(H[0]+te[0])/2,(H[1]+te[1])/2],Q=[(re[0]+he[0])/2,(re[1]+he[1])/2]}else if(K.touch0)q=K.touch0[0],Q=K.touch0[1];else return;K.zoom("touch",n(_(W,q,Q),K.extent,o))}}function D(N,...U){if(this.__zooming){var K=O(this,U).event(N),G=N.changedTouches,Z=G.length,X,W;for(DT(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),X=0;X<Z;++X)W=G[X],K.touch0&&K.touch0[2]===W.identifier?delete K.touch0:K.touch1&&K.touch1[2]===W.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(W=ca(W,this),Math.hypot(d[0]-W[0],d[1]-W[1])<b)){var q=ds(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return v.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:E_(+N),v):r},v.filter=function(N){return arguments.length?(t=typeof N=="function"?N:E_(!!N),v):t},v.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:E_(!!N),v):i},v.extent=function(N){return arguments.length?(e=typeof N=="function"?N:E_([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),v):e},v.scaleExtent=function(N){return arguments.length?(s[0]=+N[0],s[1]=+N[1],v):[s[0],s[1]]},v.translateExtent=function(N){return arguments.length?(o[0][0]=+N[0][0],o[1][0]=+N[1][0],o[0][1]=+N[0][1],o[1][1]=+N[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(N){return arguments.length?(n=N,v):n},v.duration=function(N){return arguments.length?(a=+N,v):a},v.interpolate=function(N){return arguments.length?(l=N,v):l},v.on=function(){var N=u.on.apply(u,arguments);return N===u?v:N},v.clickDistance=function(N){return arguments.length?(y=(N=+N)*N,v):Math.sqrt(y)},v.tapDistance=function(N){return arguments.length?(b=+N,v):b},v}const Cl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},w0=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ZB=["Enter"," ","Escape"],JB={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Am;(function(t){t.Strict="strict",t.Loose="loose"})(Am||(Am={}));var _f;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(_f||(_f={}));var _0;(function(t){t.Partial="partial",t.Full="full"})(_0||(_0={}));const e$={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Vc;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Vc||(Vc={}));var xf;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(xf||(xf={}));var st;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(st||(st={}));const iF={[st.Left]:st.Right,[st.Right]:st.Left,[st.Top]:st.Bottom,[st.Bottom]:st.Top};function t$(t){return t===null?null:t?"valid":"invalid"}const n$=t=>"id"in t&&"source"in t&&"target"in t,QQ=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),tN=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Pw=(t,e=[0,0])=>{const{width:n,height:r}=rc(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},ZQ=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):tN(i)?i:e.nodeLookup.get(i.id));const a=o?SE(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return HS(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return US(n)},Nw=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=SE(r);n=HS(n,i)}}),US(n)},nN=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Ow(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:f=!1}=u;if(o&&!d||f)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=x0(a,km(u)),b=(p??0)*(m??0),v=s&&y>0;(!u.internals.handleBounds||v||y>=b||u.dragging)&&l.push(u)}return l},JQ=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function eZ(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function tZ({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=eZ(t,o),l=Nw(a),u=rN(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(u,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function r$({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=o.origin??r;let d=i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Cl.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&Rm(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+u],[o.extent[1][0]+l,o.extent[1][1]+u]]);const f=Rm(d)?Tf(e,d,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Cl.error015())),{position:{x:f.x-l+(o.measured.width??0)*c[0],y:f.y-u+(o.measured.height??0)*c[1]},positionAbsolute:f}}async function nZ({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const p=s.has(f.id),m=!p&&f.parentId&&o.find(y=>y.id===f.parentId);(p||m)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),c=JQ(o,l);for(const f of l)a.has(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!i)return{edges:c,nodes:o};const d=await i({nodes:o,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:o}:{edges:[],nodes:[]}:d}const Tm=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Tf=(t={x:0,y:0},e,n)=>({x:Tm(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Tm(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function i$(t,e,n){const{width:r,height:i}=rc(n),{x:s,y:o}=n.internals.positionAbsolute;return Tf(t,[[s,o],[s+r,o+i]],e)}const sF=(t,e,n)=>t<e?Tm(Math.abs(t-e),1,e)/e:t>n?-Tm(Math.abs(t-n),1,e)/e:0,s$=(t,e,n=15,r=40)=>{const i=sF(t.x,r,e.width-r)*n,s=sF(t.y,r,e.height-r)*n;return[i,s]},HS=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),sI=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),US=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),km=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=tN(t)?t.internals.positionAbsolute:Pw(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},SE=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=tN(t)?t.internals.positionAbsolute:Pw(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},o$=(t,e)=>US(HS(sI(t),sI(e))),x0=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},oF=t=>fa(t.width)&&fa(t.height)&&fa(t.x)&&fa(t.y),fa=t=>!isNaN(t)&&isFinite(t),rZ=(t,e)=>{},WS=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Ow=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?WS(a,o):a},CE=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Hp(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function iZ(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Hp(t,n),i=Hp(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Hp(t.top??t.y??0,n),i=Hp(t.bottom??t.y??0,n),s=Hp(t.left??t.x??0,e),o=Hp(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function sZ(t,e,n,r,i,s){const{x:o,y:a}=CE(t,[e,n,r]),{x:l,y:u}=CE({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=s-u;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const rN=(t,e,n,r,i,s)=>{const o=iZ(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,u=Math.min(a,l),c=Tm(u,r,i),d=t.x+t.width/2,f=t.y+t.height/2,p=e/2-d*c,m=n/2-f*c,y=sZ(t,p,m,c,e,n),b={left:Math.min(y.left-o.left,0),top:Math.min(y.top-o.top,0),right:Math.min(y.right-o.right,0),bottom:Math.min(y.bottom-o.bottom,0)};return{x:p-b.left+b.right,y:m-b.top+b.bottom,zoom:c}},AE=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Rm(t){return t!==void 0&&t!=="parent"}function rc(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function a$(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function l$(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function aF(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function oZ(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function aZ(t){return{...JB,...t||{}}}function Kv(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Fu(t),a=Ow({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?WS(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const iN=t=>({width:t.offsetWidth,height:t.offsetHeight}),u$=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},lZ=["INPUT","SELECT","TEXTAREA"];function c$(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:lZ.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const d$=t=>"clientX"in t,Fu=(t,e)=>{var s,o;const n=d$(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},lF=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...iN(o)}})};function h$({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,u=e*.125+s*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function S_(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function uF({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case st.Left:return[e-S_(e-r,s),n];case st.Right:return[e+S_(r-e,s),n];case st.Top:return[e,n-S_(n-i,s)];case st.Bottom:return[e,n+S_(i-n,s)]}}function qS({sourceX:t,sourceY:e,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top,curvature:o=.25}){const[a,l]=uF({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[u,c]=uF({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,f,p,m]=h$({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,f,p,m]}function f$({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function uZ({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function cZ({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=HS(SE(t),SE(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return x0(o,US(s))>0}const dZ=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,hZ=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),p$=(t,e)=>{if(!t.source||!t.target)return e;let n;return n$(t)?n={...t}:n={...t,id:dZ(t)},hZ(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function g$({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=f$({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const cF={[st.Left]:{x:-1,y:0},[st.Right]:{x:1,y:0},[st.Top]:{x:0,y:-1},[st.Bottom]:{x:0,y:1}},fZ=({source:t,sourcePosition:e=st.Bottom,target:n})=>e===st.Left||e===st.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},dF=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function pZ({source:t,sourcePosition:e=st.Bottom,target:n,targetPosition:r=st.Top,center:i,offset:s}){const o=cF[e],a=cF[r],l={x:t.x+o.x*s,y:t.y+o.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=fZ({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",f=c[d];let p=[],m,y;const b={x:0,y:0},v={x:0,y:0},[x,_,S,k]=f$({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[d]*a[d]===-1){m=i.x??x,y=i.y??_;const A=[{x:m,y:l.y},{x:m,y:u.y}],R=[{x:l.x,y},{x:u.x,y}];o[d]===f?p=d==="x"?A:R:p=d==="x"?R:A}else{const A=[{x:l.x,y:u.y}],R=[{x:u.x,y:l.y}];if(d==="x"?p=o.x===f?R:A:p=o.y===f?A:R,e===r){const D=Math.abs(t[d]-n[d]);if(D<=s){const N=Math.min(s-1,s-D);o[d]===f?b[d]=(l[d]>t[d]?-1:1)*N:v[d]=(u[d]>n[d]?-1:1)*N}}if(e!==r){const D=d==="x"?"y":"x",N=o[d]===a[D],U=l[D]>u[D],K=l[D]<u[D];(o[d]===1&&(!N&&U||N&&K)||o[d]!==1&&(!N&&K||N&&U))&&(p=d==="x"?A:R)}const P={x:l.x+b.x,y:l.y+b.y},T={x:u.x+v.x,y:u.y+v.y},L=Math.max(Math.abs(P.x-p[0].x),Math.abs(T.x-p[0].x)),M=Math.max(Math.abs(P.y-p[0].y),Math.abs(T.y-p[0].y));L>=M?(m=(P.x+T.x)/2,y=p[0].y):(m=p[0].x,y=(P.y+T.y)/2)}return[[t,{x:l.x+b.x,y:l.y+b.y},...p,{x:u.x+v.x,y:u.y+v.y},n],m,y,S,k]}function gZ(t,e,n,r){const i=Math.min(dF(t,e)/2,dF(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function oI({sourceX:t,sourceY:e,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,d,f,p,m]=pZ({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((b,v,x)=>{let _="";return x>0&&x<c.length-1?_=gZ(c[x-1],v,c[x+1],o):_=`${x===0?"M":"L"}${v.x} ${v.y}`,b+=_,b},""),d,f,p,m]}function hF(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function mZ(t){var d;const{sourceNode:e,targetNode:n}=t;if(!hF(e)||!hF(n))return null;const r=e.internals.handleBounds||fF(e.handles),i=n.internals.handleBounds||fF(n.handles),s=pF((r==null?void 0:r.source)??[],t.sourceHandle),o=pF(t.connectionMode===Am.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",Cl.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||st.Bottom,l=(o==null?void 0:o.position)||st.Top,u=E0(e,s,a),c=E0(n,o,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function fF(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function E0(t,e,n=st.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??rc(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case st.Top:return{x:i+o/2,y:s};case st.Right:return{x:i+o,y:s+a/2};case st.Bottom:return{x:i+o/2,y:s+a};case st.Left:return{x:i,y:s+a/2}}}function pF(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function aI(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function yZ(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=aI(l,e);s.has(u)||(o.push({id:u,color:l.color||n,...l}),s.add(u))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const sN={nodeOrigin:[0,0],nodeExtent:w0,elevateNodesOnSelect:!0,defaults:{}},vZ={...sN,checkEquality:!0};function oN(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function bZ(t,e,n){const r=oN(sN,n);for(const i of t.values())if(i.parentId)aN(i,t,e,r);else{const s=Pw(i,r.nodeOrigin),o=Rm(i.extent)?i.extent:r.nodeExtent,a=Tf(s,o,rc(i));i.internals.positionAbsolute=a}}function lI(t,e,n,r){var l,u;const i=oN(vZ,r);let s=t.length>0;const o=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let d=o.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))e.set(c.id,d);else{const f=Pw(c,i.nodeOrigin),p=Rm(c.extent)?c.extent:i.nodeExtent,m=Tf(f,p,rc(c));d={...i.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:c.measured?d==null?void 0:d.internals.handleBounds:void 0,z:m$(c,a),userNode:c}},e.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(s=!1),c.parentId&&aN(d,e,n,r)}return s}function wZ(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function aN(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=oN(sN,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}wZ(t,n);const u=i?1e3:0,{x:c,y:d,z:f}=_Z(t,l,s,o,u),{positionAbsolute:p}=t.internals,m=c!==p.x||d!==p.y;(m||f!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:p,z:f}})}function m$(t,e){return(fa(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function _Z(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=rc(t),l=Pw(t,n),u=Rm(t.extent)?Tf(l,t.extent,a):l;let c=Tf({x:s+u.x,y:o+u.y},r,a);t.extent==="parent"&&(c=i$(c,a,e));const d=m$(t,i),f=e.internals.z??0;return{x:c.x,y:c.y,z:f>d?f:d}}function lN(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const u=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??km(l),c=o$(u,a.rect);s.set(a.parentId,{expandedRect:c,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},u)=>{var _;const c=l.internals.positionAbsolute,d=rc(l),f=l.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,y=Math.max(d.width,Math.round(a.width)),b=Math.max(d.height,Math.round(a.height)),v=(y-d.width)*f[0],x=(b-d.height)*f[1];(p>0||m>0||v||x)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+v,y:l.position.y-m+x}}),(_=n.get(u))==null||_.forEach(S=>{t.some(k=>k.id===S.id)||i.push({id:S.id,type:"position",position:{x:S.position.x+p,y:S.position.y+m}})})),(d.width<a.width||d.height<a.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(p?f[0]*p-v:0),height:b+(m?f[1]*m-x:0)}})}),i}function xZ(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(o),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const f of t.values()){const p=e.get(f.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const m=iN(f.nodeElement),y=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!p.internals.handleBounds||f.force))){const v=f.nodeElement.getBoundingClientRect(),x=Rm(p.extent)?p.extent:s;let{positionAbsolute:_}=p.internals;p.parentId&&p.extent==="parent"?_=i$(_,m,e.get(p.parentId)):x&&(_=Tf(_,x,m));const S={...p,measured:m,internals:{...p.internals,positionAbsolute:_,handleBounds:{source:lF("source",f.nodeElement,v,c,p.id),target:lF("target",f.nodeElement,v,c,p.id)}}};e.set(p.id,S),p.parentId&&aN(S,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:km(S,i)}))}}if(d.length>0){const f=lN(d,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function EZ({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function gF(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const u=r.get(o)||new Map;r.set(o,u.set(n,e))}}function y$(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},u=`${i}-${o}--${s}-${a}`,c=`${s}-${a}--${i}-${o}`;gF("source",l,c,t,i,o),gF("target",l,u,t,s,a),e.set(r.id,r)}}function v$(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:v$(n,e):!1}function mF(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function SZ(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!v$(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function FT({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[u,c]of e){const d=(o=n.get(u))==null?void 0:o.internals.userNode;d&&i.push({...d,position:c.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function CZ({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,f=null,p=!1;function m({noDragClassName:b,handleSelector:v,domNode:x,isSelectable:_,nodeId:S,nodeClickDistance:k=0}){f=ds(x);function O({x:T,y:L},M){const{nodeLookup:D,nodeExtent:N,snapGrid:U,snapToGrid:K,nodeOrigin:G,onNodeDrag:Z,onSelectionDrag:X,onError:W,updateNodePositions:q}=e();s={x:T,y:L};let Q=!1,H={x:0,y:0,x2:0,y2:0};if(a.size>1&&N){const re=Nw(a);H=sI(re)}for(const[re,te]of a){if(!D.has(re))continue;let he={x:T-te.distance.x,y:L-te.distance.y};K&&(he=WS(he,U));let de=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];if(a.size>1&&N&&!te.extent){const{positionAbsolute:ge}=te.internals,xe=ge.x-H.x+N[0][0],Ee=ge.x+te.measured.width-H.x2+N[1][0],Pe=ge.y-H.y+N[0][1],V=ge.y+te.measured.height-H.y2+N[1][1];de=[[xe,Pe],[Ee,V]]}const{position:oe,positionAbsolute:ce}=r$({nodeId:re,nextPosition:he,nodeLookup:D,nodeExtent:de,nodeOrigin:G,onError:W});Q=Q||te.position.x!==oe.x||te.position.y!==oe.y,te.position=oe,te.internals.positionAbsolute=ce}if(Q&&(q(a,!0),M&&(r||Z||!S&&X))){const[re,te]=FT({nodeId:S,dragItems:a,nodeLookup:D});r==null||r(M,a,re,te),Z==null||Z(M,re,te),S||X==null||X(M,te)}}async function A(){if(!c)return;const{transform:T,panBy:L,autoPanSpeed:M,autoPanOnNodeDrag:D}=e();if(!D){l=!1,cancelAnimationFrame(o);return}const[N,U]=s$(u,c,M);(N!==0||U!==0)&&(s.x=(s.x??0)-N/T[2],s.y=(s.y??0)-U/T[2],await L({x:N,y:U})&&O(s,null)),o=requestAnimationFrame(A)}function R(T){var Q;const{nodeLookup:L,multiSelectionActive:M,nodesDraggable:D,transform:N,snapGrid:U,snapToGrid:K,selectNodesOnDrag:G,onNodeDragStart:Z,onSelectionDragStart:X,unselectNodesAndEdges:W}=e();d=!0,(!G||!_)&&!M&&S&&((Q=L.get(S))!=null&&Q.selected||W()),_&&G&&S&&(t==null||t(S));const q=Kv(T.sourceEvent,{transform:N,snapGrid:U,snapToGrid:K,containerBounds:c});if(s=q,a=SZ(L,D,q,S),a.size>0&&(n||Z||!S&&X)){const[H,re]=FT({nodeId:S,dragItems:a,nodeLookup:L});n==null||n(T.sourceEvent,a,H,re),Z==null||Z(T.sourceEvent,H,re),S||X==null||X(T.sourceEvent,re)}}const P=DB().clickDistance(k).on("start",T=>{const{domNode:L,nodeDragThreshold:M,transform:D,snapGrid:N,snapToGrid:U}=e();c=(L==null?void 0:L.getBoundingClientRect())||null,p=!1,M===0&&R(T),s=Kv(T.sourceEvent,{transform:D,snapGrid:N,snapToGrid:U,containerBounds:c}),u=Fu(T.sourceEvent,c)}).on("drag",T=>{const{autoPanOnNodeDrag:L,transform:M,snapGrid:D,snapToGrid:N,nodeDragThreshold:U,nodeLookup:K}=e(),G=Kv(T.sourceEvent,{transform:M,snapGrid:D,snapToGrid:N,containerBounds:c});if((T.sourceEvent.type==="touchmove"&&T.sourceEvent.touches.length>1||S&&!K.has(S))&&(p=!0),!p){if(!l&&L&&d&&(l=!0,A()),!d){const Z=G.xSnapped-(s.x??0),X=G.ySnapped-(s.y??0);Math.sqrt(Z*Z+X*X)>U&&R(T)}(s.x!==G.xSnapped||s.y!==G.ySnapped)&&a&&d&&(u=Fu(T.sourceEvent,c),O(G,T.sourceEvent))}}).on("end",T=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:L,updateNodePositions:M,onNodeDragStop:D,onSelectionDragStop:N}=e();if(M(a,!1),i||D||!S&&N){const[U,K]=FT({nodeId:S,dragItems:a,nodeLookup:L,dragging:!1});i==null||i(T.sourceEvent,a,U,K),D==null||D(T.sourceEvent,U,K),S||N==null||N(T.sourceEvent,K)}}}).filter(T=>{const L=T.target;return!T.button&&(!b||!mF(L,`.${b}`,x))&&(!v||mF(L,v,x))});f.call(P)}function y(){f==null||f.on(".drag",null)}return{update:m,destroy:y}}function AZ(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())x0(i,km(s))>0&&r.push(s);return r}const TZ=250;function kZ(t,e,n,r){var a,l;let i=[],s=1/0;const o=AZ(t,n,e+TZ);for(const u of o){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:p}=E0(u,d,d.position,!0),m=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(p-t.y,2));m>e||(m<s?(i=[{...d,x:f,y:p}],s=m):m===s&&i.push({...d,x:f,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function b$(t,e,n,r,i,s=!1){var u,c,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(u=o.internals.handleBounds)==null?void 0:u[e]:[...((c=o.internals.handleBounds)==null?void 0:c.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...E0(o,l,l.position,!0)}:l}function w$(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function RZ(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const _$=()=>!0;function IZ(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:p,onConnectStart:m,onConnect:y,onConnectEnd:b,isValidConnection:v=_$,onReconnectEnd:x,updateConnection:_,getTransform:S,getFromHandle:k,autoPanSpeed:O}){const A=u$(t.target);let R=0,P;const{x:T,y:L}=Fu(t),M=A==null?void 0:A.elementFromPoint(T,L),D=w$(s,M),N=a==null?void 0:a.getBoundingClientRect();if(!N||!D)return;const U=b$(i,D,r,l,e);if(!U)return;let K=Fu(t,N),G=!1,Z=null,X=!1,W=null;function q(){if(!c||!N)return;const[ce,ge]=s$(K,N,O);f({x:ce,y:ge}),R=requestAnimationFrame(q)}const Q={...U,nodeId:i,type:D,position:U.position},H=l.get(i),te={inProgress:!0,isValid:null,from:E0(H,Q,st.Left,!0),fromHandle:Q,fromPosition:Q.position,fromNode:H,to:K,toHandle:null,toPosition:iF[Q.position],toNode:null};_(te);let he=te;m==null||m(t,{nodeId:i,handleId:r,handleType:D});function de(ce){if(!k()||!Q){oe(ce);return}const ge=S();K=Fu(ce,N),P=kZ(Ow(K,ge,!1,[1,1]),n,l,Q),G||(q(),G=!0);const xe=x$(ce,{handle:P,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:v,doc:A,lib:u,flowId:d,nodeLookup:l});W=xe.handleDomNode,Z=xe.connection,X=RZ(!!P,xe.isValid);const Ee={...he,isValid:X,to:xe.toHandle&&X?CE({x:xe.toHandle.x,y:xe.toHandle.y},ge):K,toHandle:xe.toHandle,toPosition:X&&xe.toHandle?xe.toHandle.position:iF[Q.position],toNode:xe.toHandle?l.get(xe.toHandle.nodeId):null};X&&P&&he.toHandle&&Ee.toHandle&&he.toHandle.type===Ee.toHandle.type&&he.toHandle.nodeId===Ee.toHandle.nodeId&&he.toHandle.id===Ee.toHandle.id&&he.to.x===Ee.to.x&&he.to.y===Ee.to.y||(_(Ee),he=Ee)}function oe(ce){(P||W)&&Z&&X&&(y==null||y(Z));const{inProgress:ge,...xe}=he,Ee={...xe,toPosition:he.toHandle?he.toPosition:null};b==null||b(ce,Ee),s&&(x==null||x(ce,Ee)),p(),cancelAnimationFrame(R),G=!1,X=!1,Z=null,W=null,A.removeEventListener("mousemove",de),A.removeEventListener("mouseup",oe),A.removeEventListener("touchmove",de),A.removeEventListener("touchend",oe)}A.addEventListener("mousemove",de),A.addEventListener("mouseup",oe),A.addEventListener("touchmove",de),A.addEventListener("touchend",oe)}function x$(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:u=_$,nodeLookup:c}){const d=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=Fu(t),y=o.elementFromPoint(p,m),b=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:f,v={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const x=w$(void 0,b),_=b.getAttribute("data-nodeid"),S=b.getAttribute("data-handleid"),k=b.classList.contains("connectable"),O=b.classList.contains("connectableend");if(!_||!x)return v;const A={source:d?_:r,sourceHandle:d?S:i,target:d?r:_,targetHandle:d?i:S};v.connection=A;const P=k&&O&&(n===Am.Strict?d&&x==="source"||!d&&x==="target":_!==r||S!==i);v.isValid=P&&u(A),v.toHandle=b$(_,x,S,c,n,!0)}return v}const uI={onPointerDown:IZ,isValid:x$};function PZ({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=ds(t);function s({translateExtent:a,width:l,height:u,zoomStep:c=10,pannable:d=!0,zoomable:f=!0,inversePan:p=!1}){const m=_=>{const S=n();if(_.sourceEvent.type!=="wheel"||!e)return;const k=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*c,O=S[2]*Math.pow(2,k);e.scaleTo(O)};let y=[0,0];const b=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(y=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},v=_=>{const S=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const k=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],O=[k[0]-y[0],k[1]-y[1]];y=k;const A=r()*Math.max(S[2],Math.log(S[2]))*(p?-1:1),R={x:S[0]-O[0]*A,y:S[1]-O[1]*A},P=[[0,0],[l,u]];e.setViewportConstrained({x:R.x,y:R.y,zoom:S[2]},P,a)},x=QB().on("start",b).on("zoom",d?v:null).on("zoom.wheel",f?m:null);i.call(x,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:ca}}const NZ=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,GS=t=>({x:t.x,y:t.y,zoom:t.k}),zT=({x:t,y:e,zoom:n})=>VS.translate(t,e).scale(n),pg=(t,e)=>t.target.closest(`.${e}`),E$=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),OZ=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,jT=(t,e=0,n=OZ,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},S$=t=>{const e=t.ctrlKey&&AE()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function MZ({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(pg(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&o){const b=ca(c),v=S$(c),x=d*Math.pow(2,v);r.scaleTo(n,x,b,c);return}const f=c.deltaMode===1?20:1;let p=i===_f.Vertical?0:c.deltaX*f,m=i===_f.Horizontal?0:c.deltaY*f;!AE()&&c.shiftKey&&i!==_f.Vertical&&(p=c.deltaY*f,m=0),r.translateBy(n,-(p/d)*s,-(m/d)*s,{internal:!0});const y=GS(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(c,y)),t.isPanScrolling&&(l==null||l(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function LZ({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=pg(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function DZ({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=GS(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function FZ({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&E$(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,GS(s.transform)))}}function zZ({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&E$(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&NZ(t.prevViewport,o.transform))){const l=GS(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function jZ({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:u}){return c=>{var m;const d=t||e,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(pg(c,`${u}-flow__node`)||pg(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!s&&!n||o||pg(c,a)&&c.type==="wheel"||pg(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!f&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function BZ({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=QB().clickDistance(!fa(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=ds(t).call(f);_({x:s.x,y:s.y,zoom:Tm(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=p.on("wheel.zoom"),y=p.on("dblclick.zoom");f.wheelDelta(S$);function b(M,D){return p?new Promise(N=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?_g:gx).transform(jT(p,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>N(!0)),M)}):Promise.resolve(!1)}function v({noWheelClassName:M,noPanClassName:D,onPaneContextMenu:N,userSelectionActive:U,panOnScroll:K,panOnDrag:G,panOnScrollMode:Z,panOnScrollSpeed:X,preventScrolling:W,zoomOnPinch:q,zoomOnScroll:Q,zoomOnDoubleClick:H,zoomActivationKeyPressed:re,lib:te,onTransformChange:he}){U&&!c.isZoomingOrPanning&&x();const oe=K&&!re&&!U?MZ({zoomPanValues:c,noWheelClassName:M,d3Selection:p,d3Zoom:f,panOnScrollMode:Z,panOnScrollSpeed:X,zoomOnPinch:q,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):LZ({noWheelClassName:M,preventScrolling:W,d3ZoomHandler:m});if(p.on("wheel.zoom",oe,{passive:!1}),!U){const ge=DZ({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});f.on("start",ge);const xe=FZ({zoomPanValues:c,panOnDrag:G,onPaneContextMenu:!!N,onPanZoom:o,onTransformChange:he});f.on("zoom",xe);const Ee=zZ({zoomPanValues:c,panOnDrag:G,panOnScroll:K,onPaneContextMenu:N,onPanZoomEnd:l,onDraggingChange:u});f.on("end",Ee)}const ce=jZ({zoomActivationKeyPressed:re,panOnDrag:G,zoomOnScroll:Q,panOnScroll:K,zoomOnDoubleClick:H,zoomOnPinch:q,userSelectionActive:U,noPanClassName:D,noWheelClassName:M,lib:te});f.filter(ce),H?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function x(){f.on("zoom",null)}async function _(M,D,N){const U=zT(M),K=f==null?void 0:f.constrain()(U,D,N);return K&&await b(K),new Promise(G=>G(K))}async function S(M,D){const N=zT(M);return await b(N,D),new Promise(U=>U(N))}function k(M){if(p){const D=zT(M),N=p.property("__zoom");(N.k!==M.zoom||N.x!==M.x||N.y!==M.y)&&(f==null||f.transform(p,D,null,{sync:!0}))}}function O(){const M=p?KB(p.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function A(M,D){return p?new Promise(N=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?_g:gx).scaleTo(jT(p,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>N(!0)),M)}):Promise.resolve(!1)}function R(M,D){return p?new Promise(N=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?_g:gx).scaleBy(jT(p,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>N(!0)),M)}):Promise.resolve(!1)}function P(M){f==null||f.scaleExtent(M)}function T(M){f==null||f.translateExtent(M)}function L(M){const D=!fa(M)||M<0?0:M;f==null||f.clickDistance(D)}return{update:v,destroy:x,setViewport:S,setViewportConstrained:_,getViewport:O,scaleTo:A,scaleBy:R,setScaleExtent:P,setTranslateExtent:T,syncViewport:k,setClickDistance:L}}var Im;(function(t){t.Line="line",t.Handle="handle"})(Im||(Im={}));function $Z({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function VZ(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Pc(t,e){return Math.max(0,e-t)}function Nc(t,e){return Math.max(0,t-e)}function C_(t,e,n){return Math.max(0,e-t,t-n)}function yF(t,e){return t?!e:e}function HZ(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,f=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:y,maxWidth:b,minHeight:v,maxHeight:x}=r,{x:_,y:S,width:k,height:O,aspectRatio:A}=t;let R=Math.floor(c?p-t.pointerX:0),P=Math.floor(d?m-t.pointerY:0);const T=k+(l?-R:R),L=O+(u?-P:P),M=-s[0]*k,D=-s[1]*O;let N=C_(T,y,b),U=C_(L,v,x);if(o){let Z=0,X=0;l&&R<0?Z=Pc(_+R+M,o[0][0]):!l&&R>0&&(Z=Nc(_+T+M,o[1][0])),u&&P<0?X=Pc(S+P+D,o[0][1]):!u&&P>0&&(X=Nc(S+L+D,o[1][1])),N=Math.max(N,Z),U=Math.max(U,X)}if(a){let Z=0,X=0;l&&R>0?Z=Nc(_+R,a[0][0]):!l&&R<0&&(Z=Pc(_+T,a[1][0])),u&&P>0?X=Nc(S+P,a[0][1]):!u&&P<0&&(X=Pc(S+L,a[1][1])),N=Math.max(N,Z),U=Math.max(U,X)}if(i){if(c){const Z=C_(T/A,v,x)*A;if(N=Math.max(N,Z),o){let X=0;!l&&!u||l&&!u&&f?X=Nc(S+D+T/A,o[1][1])*A:X=Pc(S+D+(l?R:-R)/A,o[0][1])*A,N=Math.max(N,X)}if(a){let X=0;!l&&!u||l&&!u&&f?X=Pc(S+T/A,a[1][1])*A:X=Nc(S+(l?R:-R)/A,a[0][1])*A,N=Math.max(N,X)}}if(d){const Z=C_(L*A,y,b)/A;if(U=Math.max(U,Z),o){let X=0;!l&&!u||u&&!l&&f?X=Nc(_+L*A+M,o[1][0])/A:X=Pc(_+(u?P:-P)*A+M,o[0][0])/A,U=Math.max(U,X)}if(a){let X=0;!l&&!u||u&&!l&&f?X=Pc(_+L*A,a[1][0])/A:X=Nc(_+(u?P:-P)*A,a[0][0])/A,U=Math.max(U,X)}}}P=P+(P<0?U:-U),R=R+(R<0?N:-N),i&&(f?T>L*A?P=(yF(l,u)?-R:R)/A:R=(yF(l,u)?-P:P)*A:c?(P=R/A,u=l):(R=P*A,l=u));const K=l?_+R:_,G=u?S+P:S;return{width:k+(l?-R:R),height:O+(u?-P:P),x:s[0]*R*(l?-1:1)+K,y:s[1]*P*(u?-1:1)+G}}const C$={width:0,height:0,x:0,y:0},UZ={...C$,pointerX:0,pointerY:0,aspectRatio:1};function WZ(t){return[[0,0],[t.measured.width,t.measured.height]]}function qZ(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function GZ({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=ds(t);function o({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:d,onResizeStart:f,onResize:p,onResizeEnd:m,shouldResize:y}){let b={...C$},v={...UZ};const x=VZ(l);let _,S=null,k=[],O,A,R;const P=DB().on("start",T=>{const{nodeLookup:L,transform:M,snapGrid:D,snapToGrid:N,nodeOrigin:U,paneDomNode:K}=n();if(_=L.get(e),!_)return;S=(K==null?void 0:K.getBoundingClientRect())??null;const{xSnapped:G,ySnapped:Z}=Kv(T.sourceEvent,{transform:M,snapGrid:D,snapToGrid:N,containerBounds:S});b={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},v={...b,pointerX:G,pointerY:Z,aspectRatio:b.width/b.height},O=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(O=L.get(_.parentId),A=O&&_.extent==="parent"?WZ(O):void 0),k=[],R=void 0;for(const[X,W]of L)if(W.parentId===e&&(k.push({id:X,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const q=qZ(W,_,W.origin??U);R?R=[[Math.min(q[0][0],R[0][0]),Math.min(q[0][1],R[0][1])],[Math.max(q[1][0],R[1][0]),Math.max(q[1][1],R[1][1])]]:R=q}f==null||f(T,{...b})}).on("drag",T=>{const{transform:L,snapGrid:M,snapToGrid:D,nodeOrigin:N}=n(),U=Kv(T.sourceEvent,{transform:L,snapGrid:M,snapToGrid:D,containerBounds:S}),K=[];if(!_)return;const{x:G,y:Z,width:X,height:W}=b,q={},Q=_.origin??N,{width:H,height:re,x:te,y:he}=HZ(v,x,U,u,c,Q,A,R),de=H!==X,oe=re!==W,ce=te!==G&&de,ge=he!==Z&&oe;if(!ce&&!ge&&!de&&!oe)return;if((ce||ge||Q[0]===1||Q[1]===1)&&(q.x=ce?te:b.x,q.y=ge?he:b.y,b.x=q.x,b.y=q.y,k.length>0)){const V=te-G,pe=he-Z;for(const me of k)me.position={x:me.position.x-V+Q[0]*(H-X),y:me.position.y-pe+Q[1]*(re-W)},K.push(me)}if((de||oe)&&(q.width=de&&(!d||d==="horizontal")?H:b.width,q.height=oe&&(!d||d==="vertical")?re:b.height,b.width=q.width,b.height=q.height),O&&_.expandParent){const V=Q[0]*(q.width??0);q.x&&q.x<V&&(b.x=V,v.x=v.x-(q.x-V));const pe=Q[1]*(q.height??0);q.y&&q.y<pe&&(b.y=pe,v.y=v.y-(q.y-pe))}const xe=$Z({width:b.width,prevWidth:X,height:b.height,prevHeight:W,affectsX:x.affectsX,affectsY:x.affectsY}),Ee={...b,direction:xe};(y==null?void 0:y(T,Ee))!==!1&&(p==null||p(T,Ee),r(q,K))}).on("end",T=>{m==null||m(T,{...b}),i==null||i({...b})});s.call(P)}function a(){s.on(".drag",null)}return{update:o,destroy:a}}var BT={exports:{}},$T={},VT={exports:{}},HT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF;function YZ(){if(vF)return HT;vF=1;var t=Vf();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,f){var p=f(),m=r({inst:{value:p,getSnapshot:f}}),y=m[0].inst,b=m[1];return s(function(){y.value=p,y.getSnapshot=f,l(y)&&b({inst:y})},[d,p,f]),i(function(){return l(y)&&b({inst:y}),d(function(){l(y)&&b({inst:y})})},[d]),o(p),p}function l(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return HT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,HT}var bF;function XZ(){return bF||(bF=1,VT.exports=YZ()),VT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF;function KZ(){if(wF)return $T;wF=1;var t=Vf(),e=XZ();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return $T.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var m=s(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function v(O){if(!x){if(x=!0,_=O,O=f(O),p!==void 0&&y.hasValue){var A=y.value;if(p(A,O))return S=A}return S=O}if(A=S,r(_,O))return A;var R=f(O);return p!==void 0&&p(A,R)?(_=O,A):(_=O,S=R)}var x=!1,_,S,k=d===void 0?null:d;return[function(){return v(c())},k===null?void 0:function(){return v(k())}]},[c,d,f,p]);var b=i(u,m[0],m[1]);return o(function(){y.hasValue=!0,y.value=b},[b]),l(b),b},$T}var _F;function QZ(){return _F||(_F=1,BT.exports=KZ()),BT.exports}var ZZ=QZ();const JZ=Es(ZZ),eJ={},xF=t=>{let e;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(e):c;if(!Object.is(f,e)){const p=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(eJ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},tJ=t=>t?xF(t):xF,{useDebugValue:nJ}=Xe,{useSyncExternalStoreWithSelector:rJ}=JZ,iJ=t=>t;function A$(t,e=iJ,n){const r=rJ(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return nJ(r),r}const EF=(t,e)=>{const n=tJ(t),r=(i,s=e)=>A$(n,i,s);return Object.assign(r,n),r},sJ=(t,e)=>t?EF(t,e):EF;function Wn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var zu=FS();const pd=Es(zu),YS=z.createContext(null),oJ=YS.Provider,T$=Cl.error001();function Gt(t,e){const n=z.useContext(YS);if(n===null)throw new Error(T$);return A$(n,t,e)}function qn(){const t=z.useContext(YS);if(t===null)throw new Error(T$);return z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const SF={display:"none"},aJ={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},k$="react-flow__node-desc",R$="react-flow__edge-desc",lJ="react-flow__aria-live",uJ=t=>t.ariaLiveMessage,cJ=t=>t.ariaLabelConfig;function dJ({rfId:t}){const e=Gt(uJ);return j.jsx("div",{id:`${lJ}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:aJ,children:e})}function hJ({rfId:t,disableKeyboardA11y:e}){const n=Gt(cJ);return j.jsxs(j.Fragment,{children:[j.jsx("div",{id:`${k$}-${t}`,style:SF,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),j.jsx("div",{id:`${R$}-${t}`,style:SF,children:n["edge.a11yDescription.default"]}),!e&&j.jsx(dJ,{rfId:t})]})}const fJ=t=>t.userSelectionActive?"none":"all",Pm=z.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Gt(fJ),a=`${t}`.split("-");return j.jsx("div",{className:Ar(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});Pm.displayName="Panel";function pJ({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:j.jsx(Pm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:j.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const gJ=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},A_=t=>t.id;function mJ(t,e){return Wn(t.selectedNodes.map(A_),e.selectedNodes.map(A_))&&Wn(t.selectedEdges.map(A_),e.selectedEdges.map(A_))}function yJ({onSelectionChange:t}){const e=qn(),{selectedNodes:n,selectedEdges:r}=Gt(gJ,mJ);return z.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const vJ=t=>!!t.onSelectionChangeHandlers;function bJ({onSelectionChange:t}){const e=Gt(vJ);return t||e?j.jsx(yJ,{onSelectionChange:t}):null}const I$=[0,0],wJ={x:0,y:0,zoom:1},_J=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],CF=[..._J,"rfId"],xJ=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),AF={translateExtent:w0,nodeOrigin:I$,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function EJ(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=Gt(xJ,Wn),c=qn();z.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=AF,a()}),[]);const d=z.useRef(AF);return z.useEffect(()=>{for(const f of CF){const p=t[f],m=d.current[f];p!==m&&(typeof t[f]>"u"||(f==="nodes"?e(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?i(p):f==="translateExtent"?s(p):f==="nodeExtent"?o(p):f==="paneClickDistance"?u(p):f==="fitView"?c.setState({fitViewQueued:p}):f==="fitViewOptions"&&c.setState({fitViewOptions:p}),f==="ariaLabelConfig"?c.setState({ariaLabelConfig:aZ(p)}):c.setState({[f]:p})))}d.current=t},CF.map(f=>t[f])),null}function TF(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function SJ(t){var r;const[e,n]=z.useState(t==="system"?null:t);return z.useEffect(()=>{if(t!=="system"){n(t);return}const i=TF(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=TF())!=null&&r.matches?"dark":"light"}const kF=typeof document<"u"?document:null;function S0(t=null,e={target:kF,actInsideInputWithModifier:!0}){const[n,r]=z.useState(!1),i=z.useRef(!1),s=z.useRef(new Set([])),[o,a]=z.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[t]);return z.useEffect(()=>{const l=(e==null?void 0:e.target)??kF,u=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const c=p=>{var b,v;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&c$(p))return!1;const y=IF(p.code,a);if(s.current.add(p[y]),RF(o,s.current,!1)){const x=((v=(b=p.composedPath)==null?void 0:b.call(p))==null?void 0:v[0])||p.target,_=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";e.preventDefault!==!1&&(i.current||!_)&&p.preventDefault(),r(!0)}},d=p=>{const m=IF(p.code,a);RF(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[m]),p.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function RF(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function IF(t,e){return e.includes(t)?"code":"key"}const CJ=()=>{const t=qn();return z.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=rN(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??s;return Ow(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=CE(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function P$(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)AJ(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function AJ(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function N$(t,e){return P$(t,e)}function O$(t,e){return P$(t,e)}function lh(t,e){return{id:t,type:"select",selected:e}}function gg(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(lh(s.id,o)))}return r}function PF({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function NF(t){return{id:t.id,type:"remove"}}const OF=t=>QQ(t),TJ=t=>n$(t);function M$(t){return z.forwardRef(t)}const kJ=typeof window<"u"?z.useLayoutEffect:z.useEffect;function MF(t){const[e,n]=z.useState(BigInt(0)),[r]=z.useState(()=>RJ(()=>n(i=>i+BigInt(1))));return kJ(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function RJ(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const L$=z.createContext(null);function IJ({children:t}){const e=qn(),n=z.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:f,fitViewQueued:p}=e.getState();let m=l;for(const b of a)m=typeof b=="function"?b(m):b;const y=PF({items:m,lookup:f});c&&u(m),y.length>0?d==null||d(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:v,setNodes:x}=e.getState();b&&x(v)})},[]),r=MF(n),i=z.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:f}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(PF({items:p,lookup:f}))},[]),s=MF(i),o=z.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return j.jsx(L$.Provider,{value:o,children:t})}function PJ(){const t=z.useContext(L$);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const NJ=t=>!!t.panZoom;function XS(){const t=CJ(),e=qn(),n=PJ(),r=Gt(NJ),i=z.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var v,x;const{nodeLookup:f,nodeOrigin:p}=e.getState(),m=OF(d)?d:f.get(d.id),y=m.parentId?l$(m.position,m.measured,m.parentId,f,p):m.position,b={...m,position:y,width:((v=m.measured)==null?void 0:v.width)??m.width,height:((x=m.measured)==null?void 0:x.height)??m.height};return km(b)},u=(d,f,p={replace:!1})=>{o(m=>m.map(y=>{if(y.id===d){const b=typeof f=="function"?f(y):f;return p.replace&&OF(b)?b:{...y,...b}}return y}))},c=(d,f,p={replace:!1})=>{a(m=>m.map(y=>{if(y.id===d){const b=typeof f=="function"?f(y):f;return p.replace&&TJ(b)?b:{...y,...b}}return y}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var f;return(f=s(d))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(f=>({...f}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const f=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...f])},addEdges:d=>{const f=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...f])},toObject:()=>{const{nodes:d=[],edges:f=[],transform:p}=e.getState(),[m,y,b]=p;return{nodes:d.map(v=>({...v})),edges:f.map(v=>({...v})),viewport:{x:m,y,zoom:b}}},deleteElements:async({nodes:d=[],edges:f=[]})=>{const{nodes:p,edges:m,onNodesDelete:y,onEdgesDelete:b,triggerNodeChanges:v,triggerEdgeChanges:x,onDelete:_,onBeforeDelete:S}=e.getState(),{nodes:k,edges:O}=await nZ({nodesToRemove:d,edgesToRemove:f,nodes:p,edges:m,onBeforeDelete:S}),A=O.length>0,R=k.length>0;if(A){const P=O.map(NF);b==null||b(O),x(P)}if(R){const P=k.map(NF);y==null||y(k),v(P)}return(R||A)&&(_==null||_({nodes:k,edges:O})),{deletedNodes:k,deletedEdges:O}},getIntersectingNodes:(d,f=!0,p)=>{const m=oF(d),y=m?d:l(d),b=p!==void 0;return y?(p||e.getState().nodes).filter(v=>{const x=e.getState().nodeLookup.get(v.id);if(x&&!m&&(v.id===d.id||!x.internals.positionAbsolute))return!1;const _=km(b?v:x),S=x0(_,y);return f&&S>0||S>=y.width*y.height}):[]},isNodeIntersecting:(d,f,p=!0)=>{const y=oF(d)?d:l(d);if(!y)return!1;const b=x0(y,f);return p&&b>0||b>=y.width*y.height},updateNode:u,updateNodeData:(d,f,p={replace:!1})=>{u(d,m=>{const y=typeof f=="function"?f(m):f;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},updateEdge:c,updateEdgeData:(d,f,p={replace:!1})=>{c(d,m=>{const y=typeof f=="function"?f(m):f;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:f,nodeOrigin:p}=e.getState();return ZQ(d,{nodeLookup:f,nodeOrigin:p})},getHandleConnections:({type:d,id:f,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${d}${f?`-${f}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:f,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${d?f?`-${d}-${f}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const f=e.getState().fitViewResolver??oZ();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:f}),n.nodeQueue.push(p=>[...p]),f.promise}}},[]);return z.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const LF=t=>t.selected,OJ=typeof window<"u"?window:void 0;function MJ({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=qn(),{deleteElements:r}=XS(),i=S0(t,{actInsideInputWithModifier:!1}),s=S0(e,{target:OJ});z.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(LF),edges:o.filter(LF)}),n.setState({nodesSelectionActive:!1})}},[i]),z.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function LJ(t){const e=qn();z.useEffect(()=>{const n=()=>{var i,s;if(!t.current)return!1;const r=iN(t.current);(r.height===0||r.width===0)&&((s=(i=e.getState()).onError)==null||s.call(i,"004",Cl.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const KS={position:"absolute",width:"100%",height:"100%",top:0,left:0},DJ=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function FJ({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=_f.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:f,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:b,onViewportChange:v,isControlledViewport:x,paneClickDistance:_}){const S=qn(),k=z.useRef(null),{userSelectionActive:O,lib:A}=Gt(DJ,Wn),R=S0(f),P=z.useRef();LJ(k);const T=z.useCallback(L=>{v==null||v({x:L[0],y:L[1],zoom:L[2]}),x||S.setState({transform:L})},[v,x]);return z.useEffect(()=>{if(k.current){P.current=BZ({domNode:k.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,paneClickDistance:_,onDraggingChange:N=>S.setState({paneDragging:N}),onPanZoomStart:(N,U)=>{const{onViewportChangeStart:K,onMoveStart:G}=S.getState();G==null||G(N,U),K==null||K(U)},onPanZoom:(N,U)=>{const{onViewportChange:K,onMove:G}=S.getState();G==null||G(N,U),K==null||K(U)},onPanZoomEnd:(N,U)=>{const{onViewportChangeEnd:K,onMoveEnd:G}=S.getState();G==null||G(N,U),K==null||K(U)}});const{x:L,y:M,zoom:D}=P.current.getViewport();return S.setState({panZoom:P.current,transform:[L,M,D],domNode:k.current.closest(".react-flow")}),()=>{var N;(N=P.current)==null||N.destroy()}}},[]),z.useEffect(()=>{var L;(L=P.current)==null||L.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:R,preventScrolling:p,noPanClassName:b,userSelectionActive:O,noWheelClassName:y,lib:A,onTransformChange:T})},[t,e,n,r,i,s,o,a,R,p,b,O,y,A,T]),j.jsx("div",{className:"react-flow__renderer",ref:k,style:KS,children:m})}const zJ=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function jJ(){const{userSelectionActive:t,userSelectionRect:e}=Gt(zJ,Wn);return t&&e?j.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const UT=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},BJ=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function $J({isSelecting:t,selectionKeyPressed:e,selectionMode:n=_0.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:f,children:p}){const m=qn(),{userSelectionActive:y,elementsSelectable:b,dragging:v,connectionInProgress:x}=Gt(BJ,Wn),_=b&&(t||y),S=z.useRef(null),k=z.useRef(),O=z.useRef(new Set),A=z.useRef(new Set),R=z.useRef(!1),P=z.useRef(!1),T=G=>{if(R.current||x){R.current=!1;return}a==null||a(G),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},L=G=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){G.preventDefault();return}l==null||l(G)},M=u?G=>u(G):void 0,D=G=>{var Q,H;const{resetSelectedElements:Z,domNode:X}=m.getState();if(k.current=X==null?void 0:X.getBoundingClientRect(),!b||!t||G.button!==0||G.target!==S.current||!k.current)return;(H=(Q=G.target)==null?void 0:Q.setPointerCapture)==null||H.call(Q,G.pointerId),P.current=!0,R.current=!1;const{x:W,y:q}=Fu(G.nativeEvent,k.current);Z(),m.setState({userSelectionRect:{width:0,height:0,startX:W,startY:q,x:W,y:q}}),s==null||s(G)},N=G=>{const{userSelectionRect:Z,transform:X,nodeLookup:W,edgeLookup:q,connectionLookup:Q,triggerNodeChanges:H,triggerEdgeChanges:re,defaultEdgeOptions:te}=m.getState();if(!k.current||!Z)return;R.current=!0;const{x:he,y:de}=Fu(G.nativeEvent,k.current),{startX:oe,startY:ce}=Z,ge={startX:oe,startY:ce,x:he<oe?he:oe,y:de<ce?de:ce,width:Math.abs(he-oe),height:Math.abs(de-ce)},xe=O.current,Ee=A.current;O.current=new Set(nN(W,ge,X,n===_0.Partial,!0).map(V=>V.id)),A.current=new Set;const Pe=(te==null?void 0:te.selectable)??!0;for(const V of O.current){const pe=Q.get(V);if(pe)for(const{edgeId:me}of pe.values()){const le=q.get(me);le&&(le.selectable??Pe)&&A.current.add(me)}}if(!aF(xe,O.current)){const V=gg(W,O.current,!0);H(V)}if(!aF(Ee,A.current)){const V=gg(q,A.current);re(V)}m.setState({userSelectionRect:ge,userSelectionActive:!0,nodesSelectionActive:!1})},U=G=>{var X,W;if(G.button!==0||!P.current)return;(W=(X=G.target)==null?void 0:X.releasePointerCapture)==null||W.call(X,G.pointerId);const{userSelectionRect:Z}=m.getState();!y&&Z&&G.target===S.current&&(T==null||T(G)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:O.current.size>0}),o==null||o(G),(e||i)&&(R.current=!1),P.current=!1},K=r===!0||Array.isArray(r)&&r.includes(0);return j.jsxs("div",{className:Ar(["react-flow__pane",{draggable:K,dragging:v,selection:t}]),onClick:_?void 0:UT(T,S),onContextMenu:UT(L,S),onWheel:UT(M,S),onPointerEnter:_?void 0:c,onPointerDown:_?D:d,onPointerMove:_?N:d,onPointerUp:_?U:void 0,onPointerLeave:f,ref:S,style:KS,children:[p,j.jsx(jJ,{})]})}function cI({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Cl.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(s({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function D$({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=qn(),[l,u]=z.useState(!1),c=z.useRef();return z.useEffect(()=>{c.current=CZ({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{cI({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),z.useEffect(()=>{var d,f;if(e)(d=c.current)==null||d.destroy();else if(t.current)return(f=c.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,s,t,i]),l}const VJ=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function F$(){const t=qn();return z.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,f=VJ(o),p=i?s[0]:5,m=i?s[1]:5,y=n.direction.x*p*n.factor,b=n.direction.y*m*n.factor;for(const[,v]of u){if(!f(v))continue;let x={x:v.internals.positionAbsolute.x+y,y:v.internals.positionAbsolute.y+b};i&&(x=WS(x,s));const{position:_,positionAbsolute:S}=r$({nodeId:v.id,nextPosition:x,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});v.position=_,v.internals.positionAbsolute=S,d.set(v.id,v)}l(d)},[])}const uN=z.createContext(null),HJ=uN.Provider;uN.Consumer;const z$=()=>z.useContext(uN),UJ=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),WJ=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:u}=o,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Am.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function qJ({type:t="source",position:e=st.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...f},p){var U,K;const m=o||null,y=t==="target",b=qn(),v=z$(),{connectOnClick:x,noPanClassName:_,rfId:S}=Gt(UJ,Wn),{connectingFrom:k,connectingTo:O,clickConnecting:A,isPossibleEndHandle:R,connectionInProcess:P,clickConnectionInProcess:T,valid:L}=Gt(WJ(v,m,t),Wn);v||(K=(U=b.getState()).onError)==null||K.call(U,"010",Cl.error010());const M=G=>{const{defaultEdgeOptions:Z,onConnect:X,hasDefaultEdges:W}=b.getState(),q={...Z,...G};if(W){const{edges:Q,setEdges:H}=b.getState();H(p$(q,Q))}X==null||X(q),a==null||a(q)},D=G=>{if(!v)return;const Z=d$(G.nativeEvent);if(i&&(Z&&G.button===0||!Z)){const X=b.getState();uI.onPointerDown(G.nativeEvent,{autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:y,handleId:m,nodeId:v,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:M,isValidConnection:n||X.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed})}Z?c==null||c(G):d==null||d(G)},N=G=>{const{onClickConnectStart:Z,onClickConnectEnd:X,connectionClickStartHandle:W,connectionMode:q,isValidConnection:Q,lib:H,rfId:re,nodeLookup:te,connection:he}=b.getState();if(!v||!W&&!i)return;if(!W){Z==null||Z(G.nativeEvent,{nodeId:v,handleId:m,handleType:t}),b.setState({connectionClickStartHandle:{nodeId:v,type:t,id:m}});return}const de=u$(G.target),oe=n||Q,{connection:ce,isValid:ge}=uI.isValid(G.nativeEvent,{handle:{nodeId:v,id:m,type:t},connectionMode:q,fromNodeId:W.nodeId,fromHandleId:W.id||null,fromType:W.type,isValidConnection:oe,flowId:re,doc:de,lib:H,nodeLookup:te});ge&&ce&&M(ce);const xe=structuredClone(he);delete xe.inProgress,xe.toPosition=xe.toHandle?xe.toHandle.position:null,X==null||X(G,xe),b.setState({connectionClickStartHandle:null})};return j.jsx("div",{"data-handleid":m,"data-nodeid":v,"data-handlepos":e,"data-id":`${S}-${v}-${m}-${t}`,className:Ar(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,clickconnecting:A,connectingfrom:k,connectingto:O,valid:L,connectionindicator:r&&(!P||R)&&(P||T?s:i)}]),onMouseDown:D,onTouchStart:D,onClick:x?N:void 0,ref:p,...f,children:l})}const fs=z.memo(M$(qJ));function GJ({data:t,isConnectable:e,sourcePosition:n=st.Bottom}){return j.jsxs(j.Fragment,{children:[t==null?void 0:t.label,j.jsx(fs,{type:"source",position:n,isConnectable:e})]})}function YJ({data:t,isConnectable:e,targetPosition:n=st.Top,sourcePosition:r=st.Bottom}){return j.jsxs(j.Fragment,{children:[j.jsx(fs,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,j.jsx(fs,{type:"source",position:r,isConnectable:e})]})}function XJ(){return null}function KJ({data:t,isConnectable:e,targetPosition:n=st.Top}){return j.jsxs(j.Fragment,{children:[j.jsx(fs,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const TE={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},DF={input:GJ,default:YJ,output:KJ,group:XJ};function QJ(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const ZJ=t=>{const{width:e,height:n,x:r,y:i}=Nw(t.nodeLookup,{filter:s=>!!s.selected});return{width:fa(e)?e:null,height:fa(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function JJ({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=qn(),{width:i,height:s,transformString:o,userSelectionActive:a}=Gt(ZJ,Wn),l=F$(),u=z.useRef(null);if(z.useEffect(()=>{var f;n||(f=u.current)==null||f.focus({preventScroll:!0})},[n]),D$({nodeRef:u}),a||!i||!s)return null;const c=t?f=>{const p=r.getState().nodes.filter(m=>m.selected);t(f,p)}:void 0,d=f=>{Object.prototype.hasOwnProperty.call(TE,f.key)&&(f.preventDefault(),l({direction:TE[f.key],factor:f.shiftKey?4:1}))};return j.jsx("div",{className:Ar(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:j.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const FF=typeof window<"u"?window:void 0,eee=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function j$({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:v,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:S,panOnScrollSpeed:k,panOnScrollMode:O,zoomOnDoubleClick:A,panOnDrag:R,defaultViewport:P,translateExtent:T,minZoom:L,maxZoom:M,preventScrolling:D,onSelectionContextMenu:N,noWheelClassName:U,noPanClassName:K,disableKeyboardA11y:G,onViewportChange:Z,isControlledViewport:X}){const{nodesSelectionActive:W,userSelectionActive:q}=Gt(eee),Q=S0(u,{target:FF}),H=S0(y,{target:FF}),re=H||R,te=H||S,he=c&&re!==!0,de=Q||q||he;return MJ({deleteKeyCode:l,multiSelectionKeyCode:m}),j.jsx(FJ,{onPaneContextMenu:s,elementsSelectable:v,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:te,panOnScrollSpeed:k,panOnScrollMode:O,zoomOnDoubleClick:A,panOnDrag:!Q&&re,defaultViewport:P,translateExtent:T,minZoom:L,maxZoom:M,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:U,noPanClassName:K,onViewportChange:Z,isControlledViewport:X,paneClickDistance:a,children:j.jsxs($J,{onSelectionStart:f,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:re,isSelecting:!!de,selectionMode:d,selectionKeyPressed:Q,selectionOnDrag:he,children:[t,W&&j.jsx(JJ,{onSelectionContextMenu:N,noPanClassName:K,disableKeyboardA11y:G})]})})}j$.displayName="FlowRenderer";const tee=z.memo(j$),nee=t=>e=>t?nN(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function ree(t){return Gt(z.useCallback(nee(t),[t]),Wn)}const iee=t=>t.updateNodeInternals;function see(){const t=Gt(iee),[e]=z.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return z.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function oee({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=qn(),s=z.useRef(null),o=z.useRef(null),a=z.useRef(t.sourcePosition),l=z.useRef(t.targetPosition),u=z.useRef(e),c=n&&!!t.internals.handleBounds;return z.useEffect(()=>{s.current&&!t.hidden&&(!c||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[c,t.hidden]),z.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),z.useEffect(()=>{if(s.current){const d=u.current!==e,f=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||f||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function aee({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:f,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:b,nodeClickDistance:v,onError:x}){const{node:_,internals:S,isParent:k}=Gt(oe=>{const ce=oe.nodeLookup.get(t),ge=oe.parentLookup.has(t);return{node:ce,internals:ce.internals,isParent:ge}},Wn);let O=_.type||"default",A=(b==null?void 0:b[O])||DF[O];A===void 0&&(x==null||x("003",Cl.error003(O)),O="default",A=DF.default);const R=!!(_.draggable||a&&typeof _.draggable>"u"),P=!!(_.selectable||l&&typeof _.selectable>"u"),T=!!(_.connectable||u&&typeof _.connectable>"u"),L=!!(_.focusable||c&&typeof _.focusable>"u"),M=qn(),D=a$(_),N=oee({node:_,nodeType:O,hasDimensions:D,resizeObserver:d}),U=D$({nodeRef:N,disabled:_.hidden||!R,noDragClassName:f,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:v}),K=F$();if(_.hidden)return null;const G=rc(_),Z=QJ(_),X=P||R||e||n||r||i,W=n?oe=>n(oe,{...S.userNode}):void 0,q=r?oe=>r(oe,{...S.userNode}):void 0,Q=i?oe=>i(oe,{...S.userNode}):void 0,H=s?oe=>s(oe,{...S.userNode}):void 0,re=o?oe=>o(oe,{...S.userNode}):void 0,te=oe=>{const{selectNodesOnDrag:ce,nodeDragThreshold:ge}=M.getState();P&&(!ce||!R||ge>0)&&cI({id:t,store:M,nodeRef:N}),e&&e(oe,{...S.userNode})},he=oe=>{if(!(c$(oe.nativeEvent)||m)){if(ZB.includes(oe.key)&&P){const ce=oe.key==="Escape";cI({id:t,store:M,unselect:ce,nodeRef:N})}else if(R&&_.selected&&Object.prototype.hasOwnProperty.call(TE,oe.key)){oe.preventDefault();const{ariaLabelConfig:ce}=M.getState();M.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),K({direction:TE[oe.key],factor:oe.shiftKey?4:1})}}},de=()=>{var V;if(m||!((V=N.current)!=null&&V.matches(":focus-visible")))return;const{transform:oe,width:ce,height:ge,autoPanOnNodeFocus:xe,setCenter:Ee}=M.getState();if(!xe)return;nN(new Map([[t,_]]),{x:0,y:0,width:ce,height:ge},oe,!0).length>0||Ee(_.position.x+G.width/2,_.position.y+G.height/2,{zoom:oe[2]})};return j.jsx("div",{className:Ar(["react-flow__node",`react-flow__node-${O}`,{[p]:R},_.className,{selected:_.selected,selectable:P,parent:k,draggable:R,dragging:U}]),ref:N,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:D?"visible":"hidden",..._.style,...Z},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:W,onMouseMove:q,onMouseLeave:Q,onContextMenu:H,onClick:te,onDoubleClick:re,onKeyDown:L?he:void 0,tabIndex:L?0:void 0,onFocus:L?de:void 0,role:_.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${k$}-${y}`,"aria-label":_.ariaLabel,..._.domAttributes,children:j.jsx(HJ,{value:t,children:j.jsx(A,{id:t,data:_.data,type:O,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:R,deletable:_.deletable??!0,isConnectable:T,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:U,dragHandle:_.dragHandle,zIndex:S.z,parentId:_.parentId,...G})})})}const lee=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function B$(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Gt(lee,Wn),o=ree(t.onlyRenderVisibleElements),a=see();return j.jsx("div",{className:"react-flow__nodes",style:KS,children:o.map(l=>j.jsx(aee,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}B$.displayName="NodeRenderer";const uee=z.memo(B$);function cee(t){return Gt(z.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&cZ({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Wn)}const dee=({color:t="none",strokeWidth:e=1})=>j.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),hee=({color:t="none",strokeWidth:e=1})=>j.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),zF={[xf.Arrow]:dee,[xf.ArrowClosed]:hee};function fee(t){const e=qn();return z.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(zF,t)?zF[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Cl.error009(t)),null)},[t])}const pee=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=fee(e);return l?j.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:j.jsx(l,{color:n,strokeWidth:o})}):null},$$=({defaultColor:t,rfId:e})=>{const n=Gt(s=>s.edges),r=Gt(s=>s.defaultEdgeOptions),i=z.useMemo(()=>yZ(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?j.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:j.jsx("defs",{children:i.map(s=>j.jsx(pee,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};$$.displayName="MarkerDefinitions";var gee=z.memo($$);function V$({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,f]=z.useState({x:1,y:0,width:0,height:0}),p=Ar(["react-flow__edge-textwrapper",u]),m=z.useRef(null);return z.useEffect(()=>{if(m.current){const y=m.current.getBBox();f({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?j.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&j.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),j.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}V$.displayName="EdgeText";const mee=z.memo(V$);function ey({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return j.jsxs(j.Fragment,{children:[j.jsx("path",{...c,d:t,fill:"none",className:Ar(["react-flow__edge-path",c.className])}),u&&j.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&fa(e)&&fa(n)?j.jsx(mee,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function jF({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===st.Left||t===st.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function H$({sourceX:t,sourceY:e,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:s=st.Top}){const[o,a]=jF({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=jF({pos:s,x1:r,y1:i,x2:t,y2:e}),[c,d,f,p]=h$({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${o},${a} ${l},${u} ${r},${i}`,c,d,f,p]}function U$(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:v})=>{const[x,_,S]=H$({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),k=t.isInternal?void 0:e;return j.jsx(ey,{id:k,path:x,labelX:_,labelY:S,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:v})})}const yee=U$({isInternal:!1}),W$=U$({isInternal:!0});yee.displayName="SimpleBezierEdge";W$.displayName="SimpleBezierEdgeInternal";function q$(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,sourcePosition:p=st.Bottom,targetPosition:m=st.Top,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:x})=>{const[_,S,k]=oI({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:s,targetPosition:m,borderRadius:v==null?void 0:v.borderRadius,offset:v==null?void 0:v.offset}),O=t.isInternal?void 0:e;return j.jsx(ey,{id:O,path:_,labelX:S,labelY:k,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:y,markerStart:b,interactionWidth:x})})}const G$=q$({isInternal:!1}),Y$=q$({isInternal:!0});G$.displayName="SmoothStepEdge";Y$.displayName="SmoothStepEdgeInternal";function X$(t){return z.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return j.jsx(G$,{...n,id:r,pathOptions:z.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const vee=X$({isInternal:!1}),K$=X$({isInternal:!0});vee.displayName="StepEdge";K$.displayName="StepEdgeInternal";function Q$(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:y})=>{const[b,v,x]=g$({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=t.isInternal?void 0:e;return j.jsx(ey,{id:_,path:b,labelX:v,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:m,interactionWidth:y})})}const bee=Q$({isInternal:!1}),Z$=Q$({isInternal:!0});bee.displayName="StraightEdge";Z$.displayName="StraightEdgeInternal";function J$(t){return z.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=st.Bottom,targetPosition:a=st.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,pathOptions:v,interactionWidth:x})=>{const[_,S,k]=qS({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:v==null?void 0:v.curvature}),O=t.isInternal?void 0:e;return j.jsx(ey,{id:O,path:_,labelX:S,labelY:k,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:x})})}const wee=J$({isInternal:!1}),eV=J$({isInternal:!0});wee.displayName="BezierEdge";eV.displayName="BezierEdgeInternal";const BF={default:eV,straight:Z$,step:K$,smoothstep:Y$,simplebezier:W$},$F={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},_ee=(t,e,n)=>n===st.Left?t-e:n===st.Right?t+e:t,xee=(t,e,n)=>n===st.Top?t-e:n===st.Bottom?t+e:t,VF="react-flow__edgeupdater";function HF({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return j.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Ar([VF,`${VF}-${a}`]),cx:_ee(e,r,t),cy:xee(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Eee({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:f,setUpdateHover:p}){const m=qn(),y=(S,k)=>{if(S.button!==0)return;const{autoPanOnConnect:O,domNode:A,isValidConnection:R,connectionMode:P,connectionRadius:T,lib:L,onConnectStart:M,onConnectEnd:D,cancelConnection:N,nodeLookup:U,rfId:K,panBy:G,updateConnection:Z}=m.getState(),X=k.type==="target";f(!0),c==null||c(S,n,k.type);const W=(Q,H)=>{f(!1),d==null||d(Q,n,k.type,H)},q=Q=>u==null?void 0:u(n,Q);uI.onPointerDown(S.nativeEvent,{autoPanOnConnect:O,connectionMode:P,connectionRadius:T,domNode:A,handleId:k.id,nodeId:k.nodeId,nodeLookup:U,isTarget:X,edgeUpdaterType:k.type,lib:L,flowId:K,cancelConnection:N,panBy:G,isValidConnection:R,onConnect:q,onConnectStart:M,onConnectEnd:D,onReconnectEnd:W,updateConnection:Z,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},b=S=>y(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),v=S=>y(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>p(!0),_=()=>p(!1);return j.jsxs(j.Fragment,{children:[(t===!0||t==="source")&&j.jsx(HF,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:b,onMouseEnter:x,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&j.jsx(HF,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:v,onMouseEnter:x,onMouseOut:_,type:"target"})]})}function See({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,rfId:m,edgeTypes:y,noPanClassName:b,onError:v,disableKeyboardA11y:x}){let _=Gt(Ee=>Ee.edgeLookup.get(t));const S=Gt(Ee=>Ee.defaultEdgeOptions);_=S?{...S,..._}:_;let k=_.type||"default",O=(y==null?void 0:y[k])||BF[k];O===void 0&&(v==null||v("011",Cl.error011(k)),k="default",O=BF.default);const A=!!(_.focusable||e&&typeof _.focusable>"u"),R=typeof d<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),T=z.useRef(null),[L,M]=z.useState(!1),[D,N]=z.useState(!1),U=qn(),{zIndex:K,sourceX:G,sourceY:Z,targetX:X,targetY:W,sourcePosition:q,targetPosition:Q}=Gt(z.useCallback(Ee=>{const Pe=Ee.nodeLookup.get(_.source),V=Ee.nodeLookup.get(_.target);if(!Pe||!V)return{zIndex:_.zIndex,...$F};const pe=mZ({id:t,sourceNode:Pe,targetNode:V,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:Ee.connectionMode,onError:v});return{zIndex:uZ({selected:_.selected,zIndex:_.zIndex,sourceNode:Pe,targetNode:V,elevateOnSelect:Ee.elevateEdgesOnSelect}),...pe||$F}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),Wn),H=z.useMemo(()=>_.markerStart?`url('#${aI(_.markerStart,m)}')`:void 0,[_.markerStart,m]),re=z.useMemo(()=>_.markerEnd?`url('#${aI(_.markerEnd,m)}')`:void 0,[_.markerEnd,m]);if(_.hidden||G===null||Z===null||X===null||W===null)return null;const te=Ee=>{var me;const{addSelectedEdges:Pe,unselectNodesAndEdges:V,multiSelectionActive:pe}=U.getState();P&&(U.setState({nodesSelectionActive:!1}),_.selected&&pe?(V({nodes:[],edges:[_]}),(me=T.current)==null||me.blur()):Pe([t])),i&&i(Ee,_)},he=s?Ee=>{s(Ee,{..._})}:void 0,de=o?Ee=>{o(Ee,{..._})}:void 0,oe=a?Ee=>{a(Ee,{..._})}:void 0,ce=l?Ee=>{l(Ee,{..._})}:void 0,ge=u?Ee=>{u(Ee,{..._})}:void 0,xe=Ee=>{var Pe;if(!x&&ZB.includes(Ee.key)&&P){const{unselectNodesAndEdges:V,addSelectedEdges:pe}=U.getState();Ee.key==="Escape"?((Pe=T.current)==null||Pe.blur(),V({edges:[_]})):pe([t])}};return j.jsx("svg",{style:{zIndex:K},children:j.jsxs("g",{className:Ar(["react-flow__edge",`react-flow__edge-${k}`,_.className,b,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:L,selectable:P}]),onClick:te,onDoubleClick:he,onContextMenu:de,onMouseEnter:oe,onMouseMove:ce,onMouseLeave:ge,onKeyDown:A?xe:void 0,tabIndex:A?0:void 0,role:_.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":A?`${R$}-${m}`:void 0,ref:T,..._.domAttributes,children:[!D&&j.jsx(O,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:G,sourceY:Z,targetX:X,targetY:W,sourcePosition:q,targetPosition:Q,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:H,markerEnd:re,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),R&&j.jsx(Eee,{edge:_,isReconnectable:R,reconnectRadius:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:p,sourceX:G,sourceY:Z,targetX:X,targetY:W,sourcePosition:q,targetPosition:Q,setUpdateHover:M,setReconnecting:N})]})})}const Cee=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function tV({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:b,edgesReconnectable:v,elementsSelectable:x,onError:_}=Gt(Cee,Wn),S=cee(e);return j.jsxs("div",{className:"react-flow__edges",children:[j.jsx(gee,{defaultColor:t,rfId:n}),S.map(k=>j.jsx(See,{id:k,edgesFocusable:b,edgesReconnectable:v,elementsSelectable:x,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:f,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:y},k))]})}tV.displayName="EdgeRenderer";const Aee=z.memo(tV),Tee=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function kee({children:t}){const e=Gt(Tee);return j.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Ree(t){const e=XS(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Iee=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function Pee(t){const e=Gt(Iee),n=qn();return z.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Nee(t){return t.connection.inProgress?{...t.connection,to:Ow(t.connection.to,t.transform)}:{...t.connection}}function Oee(t){return Nee}function cN(t){const e=Oee();return Gt(e,Wn)}const Mee=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Lee({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=Gt(Mee,Wn);return!(s&&i&&l)?null:j.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:j.jsx("g",{className:Ar(["react-flow__connection",t$(a)]),children:j.jsx(nV,{style:e,type:n,CustomComponent:r,isValid:a})})})}const nV=({style:t,type:e=Vc.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:f}=cN();if(!i)return;if(n)return j.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:f,connectionStatus:t$(r),toNode:c,toHandle:d});let p="";const m={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:f};switch(e){case Vc.Bezier:[p]=qS(m);break;case Vc.SimpleBezier:[p]=H$(m);break;case Vc.Step:[p]=oI({...m,borderRadius:0});break;case Vc.SmoothStep:[p]=oI(m);break;default:[p]=g$(m)}return j.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};nV.displayName="ConnectionLine";const Dee={};function UF(t=Dee){z.useRef(t),qn(),z.useEffect(()=>{},[t])}function Fee(){qn(),z.useRef(!1),z.useEffect(()=>{},[])}function rV({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:f,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:b,connectionLineContainerStyle:v,selectionKeyCode:x,selectionOnDrag:_,selectionMode:S,multiSelectionKeyCode:k,panActivationKeyCode:O,zoomActivationKeyCode:A,deleteKeyCode:R,onlyRenderVisibleElements:P,elementsSelectable:T,defaultViewport:L,translateExtent:M,minZoom:D,maxZoom:N,preventScrolling:U,defaultMarkerColor:K,zoomOnScroll:G,zoomOnPinch:Z,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:q,zoomOnDoubleClick:Q,panOnDrag:H,onPaneClick:re,onPaneMouseEnter:te,onPaneMouseMove:he,onPaneMouseLeave:de,onPaneScroll:oe,onPaneContextMenu:ce,paneClickDistance:ge,nodeClickDistance:xe,onEdgeContextMenu:Ee,onEdgeMouseEnter:Pe,onEdgeMouseMove:V,onEdgeMouseLeave:pe,reconnectRadius:me,onReconnect:le,onReconnectStart:ee,onReconnectEnd:ue,noDragClassName:ve,noWheelClassName:Te,noPanClassName:ye,disableKeyboardA11y:Me,nodeExtent:je,rfId:ze,viewport:we,onViewportChange:Re}){return UF(t),UF(e),Fee(),Ree(n),Pee(we),j.jsx(tee,{onPaneClick:re,onPaneMouseEnter:te,onPaneMouseMove:he,onPaneMouseLeave:de,onPaneContextMenu:ce,onPaneScroll:oe,paneClickDistance:ge,deleteKeyCode:R,selectionKeyCode:x,selectionOnDrag:_,selectionMode:S,onSelectionStart:f,onSelectionEnd:p,multiSelectionKeyCode:k,panActivationKeyCode:O,zoomActivationKeyCode:A,elementsSelectable:T,zoomOnScroll:G,zoomOnPinch:Z,zoomOnDoubleClick:Q,panOnScroll:X,panOnScrollSpeed:W,panOnScrollMode:q,panOnDrag:H,defaultViewport:L,translateExtent:M,minZoom:D,maxZoom:N,onSelectionContextMenu:d,preventScrolling:U,noDragClassName:ve,noWheelClassName:Te,noPanClassName:ye,disableKeyboardA11y:Me,onViewportChange:Re,isControlledViewport:!!we,children:j.jsxs(kee,{children:[j.jsx(Aee,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:le,onReconnectStart:ee,onReconnectEnd:ue,onlyRenderVisibleElements:P,onEdgeContextMenu:Ee,onEdgeMouseEnter:Pe,onEdgeMouseMove:V,onEdgeMouseLeave:pe,reconnectRadius:me,defaultMarkerColor:K,noPanClassName:ye,disableKeyboardA11y:Me,rfId:ze}),j.jsx(Lee,{style:y,type:m,component:b,containerStyle:v}),j.jsx("div",{className:"react-flow__edgelabel-renderer"}),j.jsx(uee,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:xe,onlyRenderVisibleElements:P,noPanClassName:ye,noDragClassName:ve,disableKeyboardA11y:Me,nodeExtent:je,rfId:ze}),j.jsx("div",{className:"react-flow__viewport-portal"})]})})}rV.displayName="GraphView";const zee=z.memo(rV),WF=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d}={})=>{const f=new Map,p=new Map,m=new Map,y=new Map,b=r??e??[],v=n??t??[],x=c??[0,0],_=d??w0;y$(m,y,b);const S=lI(v,f,p,{nodeOrigin:x,nodeExtent:_,elevateNodesOnSelect:!1});let k=[0,0,1];if(o&&i&&s){const O=Nw(f,{filter:T=>!!((T.width||T.initialWidth)&&(T.height||T.initialHeight))}),{x:A,y:R,zoom:P}=rN(O,i,s,l,u,(a==null?void 0:a.padding)??.1);k=[A,R,P]}return{rfId:"1",width:0,height:0,transform:k,nodes:v,nodesInitialized:S,nodeLookup:f,parentLookup:p,edges:b,edgeLookup:y,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:w0,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Am.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...e$},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:rZ,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:JB}},jee=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d})=>sJ((f,p)=>{async function m(){const{nodeLookup:y,panZoom:b,fitViewOptions:v,fitViewResolver:x,width:_,height:S,minZoom:k,maxZoom:O}=p();b&&(await tZ({nodes:y,width:_,height:S,panZoom:b,minZoom:k,maxZoom:O},v),x==null||x.resolve(!0),f({fitViewResolver:null}))}return{...WF({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:b,parentLookup:v,nodeOrigin:x,elevateNodesOnSelect:_,fitViewQueued:S}=p(),k=lI(y,b,v,{nodeOrigin:x,nodeExtent:d,elevateNodesOnSelect:_,checkEquality:!0});S&&k?(m(),f({nodes:y,nodesInitialized:k,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:y,nodesInitialized:k})},setEdges:y=>{const{connectionLookup:b,edgeLookup:v}=p();y$(b,v,y),f({edges:y})},setDefaultNodesAndEdges:(y,b)=>{if(y){const{setNodes:v}=p();v(y),f({hasDefaultNodes:!0})}if(b){const{setEdges:v}=p();v(b),f({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:b,nodeLookup:v,parentLookup:x,domNode:_,nodeOrigin:S,nodeExtent:k,debug:O,fitViewQueued:A}=p(),{changes:R,updatedInternals:P}=xZ(y,v,x,_,S,k);P&&(bZ(v,x,{nodeOrigin:S,nodeExtent:k}),A?(m(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(R==null?void 0:R.length)>0&&(O&&console.log("React Flow: trigger node changes",R),b==null||b(R)))},updateNodePositions:(y,b=!1)=>{const v=[],x=[],{nodeLookup:_,triggerNodeChanges:S}=p();for(const[k,O]of y){const A=_.get(k),R=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(O!=null&&O.position)),P={id:k,type:"position",position:R?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:b};R&&A.parentId&&v.push({id:k,parentId:A.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),x.push(P)}if(v.length>0){const{parentLookup:k,nodeOrigin:O}=p(),A=lN(v,_,k,O);x.push(...A)}S(x)},triggerNodeChanges:y=>{const{onNodesChange:b,setNodes:v,nodes:x,hasDefaultNodes:_,debug:S}=p();if(y!=null&&y.length){if(_){const k=N$(y,x);v(k)}S&&console.log("React Flow: trigger node changes",y),b==null||b(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:b,setEdges:v,edges:x,hasDefaultEdges:_,debug:S}=p();if(y!=null&&y.length){if(_){const k=O$(y,x);v(k)}S&&console.log("React Flow: trigger edge changes",y),b==null||b(y)}},addSelectedNodes:y=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:S}=p();if(b){const k=y.map(O=>lh(O,!0));_(k);return}_(gg(x,new Set([...y]),!0)),S(gg(v))},addSelectedEdges:y=>{const{multiSelectionActive:b,edgeLookup:v,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:S}=p();if(b){const k=y.map(O=>lh(O,!0));S(k);return}S(gg(v,new Set([...y]))),_(gg(x,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:b}={})=>{const{edges:v,nodes:x,nodeLookup:_,triggerNodeChanges:S,triggerEdgeChanges:k}=p(),O=y||x,A=b||v,R=O.map(T=>{const L=_.get(T.id);return L&&(L.selected=!1),lh(T.id,!1)}),P=A.map(T=>lh(T.id,!1));S(R),k(P)},setMinZoom:y=>{const{panZoom:b,maxZoom:v}=p();b==null||b.setScaleExtent([y,v]),f({minZoom:y})},setMaxZoom:y=>{const{panZoom:b,minZoom:v}=p();b==null||b.setScaleExtent([v,y]),f({maxZoom:y})},setTranslateExtent:y=>{var b;(b=p().panZoom)==null||b.setTranslateExtent(y),f({translateExtent:y})},setPaneClickDistance:y=>{var b;(b=p().panZoom)==null||b.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:b,triggerNodeChanges:v,triggerEdgeChanges:x,elementsSelectable:_}=p();if(!_)return;const S=b.reduce((O,A)=>A.selected?[...O,lh(A.id,!1)]:O,[]),k=y.reduce((O,A)=>A.selected?[...O,lh(A.id,!1)]:O,[]);v(S),x(k)},setNodeExtent:y=>{const{nodes:b,nodeLookup:v,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:S,nodeExtent:k}=p();y[0][0]===k[0][0]&&y[0][1]===k[0][1]&&y[1][0]===k[1][0]&&y[1][1]===k[1][1]||(lI(b,v,x,{nodeOrigin:_,nodeExtent:y,elevateNodesOnSelect:S,checkEquality:!1}),f({nodeExtent:y}))},panBy:y=>{const{transform:b,width:v,height:x,panZoom:_,translateExtent:S}=p();return EZ({delta:y,panZoom:_,transform:b,translateExtent:S,width:v,height:x})},setCenter:async(y,b,v)=>{const{width:x,height:_,maxZoom:S,panZoom:k}=p();if(!k)return Promise.resolve(!1);const O=typeof(v==null?void 0:v.zoom)<"u"?v.zoom:S;return await k.setViewport({x:x/2-y*O,y:_/2-b*O,zoom:O},{duration:v==null?void 0:v.duration,ease:v==null?void 0:v.ease,interpolate:v==null?void 0:v.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...e$}})},updateConnection:y=>{f({connection:y})},reset:()=>f({...WF()})}},Object.is);function iV({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,children:f}){const[p]=z.useState(()=>jee({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:u,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d}));return j.jsx(oJ,{value:p,children:j.jsx(IJ,{children:f})})}function Bee({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:f}){return z.useContext(YS)?j.jsx(j.Fragment,{children:t}):j.jsx(iV,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:f,children:t})}const $ee={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Vee({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:k,onNodeDoubleClick:O,onNodeDragStart:A,onNodeDrag:R,onNodeDragStop:P,onNodesDelete:T,onEdgesDelete:L,onDelete:M,onSelectionChange:D,onSelectionDragStart:N,onSelectionDrag:U,onSelectionDragStop:K,onSelectionContextMenu:G,onSelectionStart:Z,onSelectionEnd:X,onBeforeDelete:W,connectionMode:q,connectionLineType:Q=Vc.Bezier,connectionLineStyle:H,connectionLineComponent:re,connectionLineContainerStyle:te,deleteKeyCode:he="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:oe=!1,selectionMode:ce=_0.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:xe=AE()?"Meta":"Control",zoomActivationKeyCode:Ee=AE()?"Meta":"Control",snapToGrid:Pe,snapGrid:V,onlyRenderVisibleElements:pe=!1,selectNodesOnDrag:me,nodesDraggable:le,autoPanOnNodeFocus:ee,nodesConnectable:ue,nodesFocusable:ve,nodeOrigin:Te=I$,edgesFocusable:ye,edgesReconnectable:Me,elementsSelectable:je=!0,defaultViewport:ze=wJ,minZoom:we=.5,maxZoom:Re=2,translateExtent:Be=w0,preventScrolling:et=!0,nodeExtent:yt,defaultMarkerColor:tt="#b1b1b7",zoomOnScroll:Yt=!0,zoomOnPinch:wt=!0,panOnScroll:sn=!1,panOnScrollSpeed:nt=.5,panOnScrollMode:pt=_f.Free,zoomOnDoubleClick:Ut=!0,panOnDrag:on=!0,onPaneClick:Pi,onPaneMouseEnter:eo,onPaneMouseMove:Tr,onPaneMouseLeave:pr,onPaneScroll:Ni,onPaneContextMenu:Gi,paneClickDistance:Sa=0,nodeClickDistance:Io=0,children:Rt,onReconnect:Gn,onReconnectStart:Ca,onReconnectEnd:Yn,onEdgeContextMenu:sc,onEdgeDoubleClick:Cs,onEdgeMouseEnter:Ll,onEdgeMouseMove:Dl,onEdgeMouseLeave:oc,reconnectRadius:As=10,onNodesChange:jd,onEdgesChange:py,noDragClassName:ac="nodrag",noWheelClassName:rp="nowheel",noPanClassName:Yi="nopan",fitView:Aa,fitViewOptions:Xi,connectOnClick:ip,attributionPosition:Bd,proOptions:lc,defaultEdgeOptions:uc,elevateNodesOnSelect:$d,elevateEdgesOnSelect:sp,disableKeyboardA11y:op=!1,autoPanOnConnect:xn,autoPanOnNodeDrag:ap,autoPanSpeed:Fl,connectionRadius:Ta,isValidConnection:Ki,onError:Vd,style:lp,id:ka,nodeDragThreshold:Oi,viewport:up,onViewportChange:Yr,width:Hd,height:cp,colorMode:dp="light",debug:cc,onScroll:Po,ariaLabelConfig:Ra,...zl},gy){const Ts=ka||"1",Mi=SJ(dp),jl=z.useCallback(No=>{No.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Po==null||Po(No)},[Po]);return j.jsx("div",{"data-testid":"rf__wrapper",...zl,onScroll:jl,style:{...lp,...$ee},ref:gy,className:Ar(["react-flow",i,Mi]),id:ka,role:"application",children:j.jsxs(Bee,{nodes:t,edges:e,width:Hd,height:cp,fitView:Aa,fitViewOptions:Xi,minZoom:we,maxZoom:Re,nodeOrigin:Te,nodeExtent:yt,children:[j.jsx(zee,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:k,onNodeDoubleClick:O,nodeTypes:s,edgeTypes:o,connectionLineType:Q,connectionLineStyle:H,connectionLineComponent:re,connectionLineContainerStyle:te,selectionKeyCode:de,selectionOnDrag:oe,selectionMode:ce,deleteKeyCode:he,multiSelectionKeyCode:xe,panActivationKeyCode:ge,zoomActivationKeyCode:Ee,onlyRenderVisibleElements:pe,defaultViewport:ze,translateExtent:Be,minZoom:we,maxZoom:Re,preventScrolling:et,zoomOnScroll:Yt,zoomOnPinch:wt,zoomOnDoubleClick:Ut,panOnScroll:sn,panOnScrollSpeed:nt,panOnScrollMode:pt,panOnDrag:on,onPaneClick:Pi,onPaneMouseEnter:eo,onPaneMouseMove:Tr,onPaneMouseLeave:pr,onPaneScroll:Ni,onPaneContextMenu:Gi,paneClickDistance:Sa,nodeClickDistance:Io,onSelectionContextMenu:G,onSelectionStart:Z,onSelectionEnd:X,onReconnect:Gn,onReconnectStart:Ca,onReconnectEnd:Yn,onEdgeContextMenu:sc,onEdgeDoubleClick:Cs,onEdgeMouseEnter:Ll,onEdgeMouseMove:Dl,onEdgeMouseLeave:oc,reconnectRadius:As,defaultMarkerColor:tt,noDragClassName:ac,noWheelClassName:rp,noPanClassName:Yi,rfId:Ts,disableKeyboardA11y:op,nodeExtent:yt,viewport:up,onViewportChange:Yr}),j.jsx(EJ,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:b,onClickConnectEnd:v,nodesDraggable:le,autoPanOnNodeFocus:ee,nodesConnectable:ue,nodesFocusable:ve,edgesFocusable:ye,edgesReconnectable:Me,elementsSelectable:je,elevateNodesOnSelect:$d,elevateEdgesOnSelect:sp,minZoom:we,maxZoom:Re,nodeExtent:yt,onNodesChange:jd,onEdgesChange:py,snapToGrid:Pe,snapGrid:V,connectionMode:q,translateExtent:Be,connectOnClick:ip,defaultEdgeOptions:uc,fitView:Aa,fitViewOptions:Xi,onNodesDelete:T,onEdgesDelete:L,onDelete:M,onNodeDragStart:A,onNodeDrag:R,onNodeDragStop:P,onSelectionDrag:U,onSelectionDragStart:N,onSelectionDragStop:K,onMove:c,onMoveStart:d,onMoveEnd:f,noPanClassName:Yi,nodeOrigin:Te,rfId:Ts,autoPanOnConnect:xn,autoPanOnNodeDrag:ap,autoPanSpeed:Fl,onError:Vd,connectionRadius:Ta,isValidConnection:Ki,selectNodesOnDrag:me,nodeDragThreshold:Oi,onBeforeDelete:W,paneClickDistance:Sa,debug:cc,ariaLabelConfig:Ra}),j.jsx(bJ,{onSelectionChange:D}),Rt,j.jsx(pJ,{proOptions:lc,position:Bd}),j.jsx(hJ,{rfId:Ts,disableKeyboardA11y:op})]})})}var Hee=M$(Vee);const Uee=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function sV({children:t}){const e=Gt(Uee);return e?zu.createPortal(t,e):null}function Wee(t){const[e,n]=z.useState(t),r=z.useCallback(i=>n(s=>N$(i,s)),[]);return[e,n,r]}function qee(t){const[e,n]=z.useState(t),r=z.useCallback(i=>n(s=>O$(i,s)),[]);return[e,n,r]}function qF(t){return Gt(z.useCallback(n=>n.nodeLookup.get(t),[t]),Wn)}function Gee({dimensions:t,lineWidth:e,variant:n,className:r}){return j.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Ar(["react-flow__background-pattern",n,r])})}function Yee({radius:t,className:e}){return j.jsx("circle",{cx:t,cy:t,r:t,className:Ar(["react-flow__background-pattern","dots",e])})}var md;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(md||(md={}));const Xee={[md.Dots]:1,[md.Lines]:1,[md.Cross]:6},Kee=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function oV({id:t,variant:e=md.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:u,patternClassName:c}){const d=z.useRef(null),{transform:f,patternId:p}=Gt(Kee,Wn),m=r||Xee[e],y=e===md.Dots,b=e===md.Cross,v=Array.isArray(n)?n:[n,n],x=[v[0]*f[2]||1,v[1]*f[2]||1],_=m*f[2],S=Array.isArray(s)?s:[s,s],k=b?[_,_]:x,O=[S[0]*f[2]||1+k[0]/2,S[1]*f[2]||1+k[1]/2],A=`${p}${t||""}`;return j.jsxs("svg",{className:Ar(["react-flow__background",u]),style:{...l,...KS,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[j.jsx("pattern",{id:A,x:f[0]%x[0],y:f[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:y?j.jsx(Yee,{radius:_/2,className:c}):j.jsx(Gee,{dimensions:k,lineWidth:i,variant:e,className:c})}),j.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}oV.displayName="Background";const Qee=z.memo(oV);function Zee(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:j.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Jee(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:j.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ete(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:j.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tte(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function nte(){return j.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:j.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function T_({children:t,className:e,...n}){return j.jsx("button",{type:"button",className:Ar(["react-flow__controls-button",e]),...n,children:t})}const rte=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function aV({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:f="vertical","aria-label":p}){const m=qn(),{isInteractive:y,minZoomReached:b,maxZoomReached:v,ariaLabelConfig:x}=Gt(rte,Wn),{zoomIn:_,zoomOut:S,fitView:k}=XS(),O=()=>{_(),s==null||s()},A=()=>{S(),o==null||o()},R=()=>{k(i),a==null||a()},P=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},T=f==="horizontal"?"horizontal":"vertical";return j.jsxs(Pm,{className:Ar(["react-flow__controls",T,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??x["controls.ariaLabel"],children:[e&&j.jsxs(j.Fragment,{children:[j.jsx(T_,{onClick:O,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:v,children:j.jsx(Zee,{})}),j.jsx(T_,{onClick:A,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:b,children:j.jsx(Jee,{})})]}),n&&j.jsx(T_,{className:"react-flow__controls-fitview",onClick:R,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:j.jsx(ete,{})}),r&&j.jsx(T_,{className:"react-flow__controls-interactive",onClick:P,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:y?j.jsx(nte,{}):j.jsx(tte,{})}),c]})}aV.displayName="Controls";const ite=z.memo(aV);function ste({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:f,onClick:p}){const{background:m,backgroundColor:y}=s||{},b=o||m||y;return j.jsx("rect",{className:Ar(["react-flow__minimap-node",{selected:f},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:b,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?v=>p(v,t):void 0})}const ote=z.memo(ste),ate=t=>t.nodes.map(e=>e.id),WT=t=>t instanceof Function?t:()=>t;function lte({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=ote,onClick:o}){const a=Gt(ate,Wn),l=WT(e),u=WT(t),c=WT(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return j.jsx(j.Fragment,{children:a.map(f=>j.jsx(cte,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},f))})}function ute({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:f,height:p}=Gt(m=>{const{internals:y}=m.nodeLookup.get(t),b=y.userNode,{x:v,y:x}=y.positionAbsolute,{width:_,height:S}=rc(b);return{node:b,x:v,y:x,width:_,height:S}},Wn);return!u||u.hidden||!a$(u)?null:j.jsx(a,{x:c,y:d,width:f,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:s,shapeRendering:o,onClick:l,id:u.id})}const cte=z.memo(ute);var dte=z.memo(lte);const hte=200,fte=150,pte=t=>!t.hidden,gte=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?o$(Nw(t.nodeLookup,{filter:pte}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},mte="react-flow__minimap-desc";function lV({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:f="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:b=!1,ariaLabel:v,inversePan:x,zoomStep:_=10,offsetScale:S=5}){const k=qn(),O=z.useRef(null),{boundingRect:A,viewBB:R,rfId:P,panZoom:T,translateExtent:L,flowWidth:M,flowHeight:D,ariaLabelConfig:N}=Gt(gte,Wn),U=(t==null?void 0:t.width)??hte,K=(t==null?void 0:t.height)??fte,G=A.width/U,Z=A.height/K,X=Math.max(G,Z),W=X*U,q=X*K,Q=S*X,H=A.x-(W-A.width)/2-Q,re=A.y-(q-A.height)/2-Q,te=W+Q*2,he=q+Q*2,de=`${mte}-${P}`,oe=z.useRef(0),ce=z.useRef();oe.current=X,z.useEffect(()=>{if(O.current&&T)return ce.current=PZ({domNode:O.current,panZoom:T,getTransform:()=>k.getState().transform,getViewScale:()=>oe.current}),()=>{var Pe;(Pe=ce.current)==null||Pe.destroy()}},[T]),z.useEffect(()=>{var Pe;(Pe=ce.current)==null||Pe.update({translateExtent:L,width:M,height:D,inversePan:x,pannable:y,zoomStep:_,zoomable:b})},[y,b,x,_,L,M,D]);const ge=p?Pe=>{var me;const[V,pe]=((me=ce.current)==null?void 0:me.pointer(Pe))||[0,0];p(Pe,{x:V,y:pe})}:void 0,xe=m?z.useCallback((Pe,V)=>{const pe=k.getState().nodeLookup.get(V).internals.userNode;m(Pe,pe)},[]):void 0,Ee=v??N["minimap.ariaLabel"];return j.jsx(Pm,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Ar(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:j.jsxs("svg",{width:U,height:K,viewBox:`${H} ${re} ${te} ${he}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:O,onClick:ge,children:[Ee&&j.jsx("title",{id:de,children:Ee}),j.jsx(dte,{onClick:xe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),j.jsx("path",{className:"react-flow__minimap-mask",d:`M${H-Q},${re-Q}h${te+Q*2}v${he+Q*2}h${-te-Q*2}z
        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}lV.displayName="MiniMap";const yte=z.memo(lV),vte=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,bte={[Im.Line]:"right",[Im.Handle]:"bottom-right"};function wte({nodeId:t,position:e,variant:n=Im.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:f,autoScale:p=!0,shouldResize:m,onResizeStart:y,onResize:b,onResizeEnd:v}){const x=z$(),_=typeof t=="string"?t:x,S=qn(),k=z.useRef(null),O=n===Im.Handle,A=Gt(z.useCallback(vte(O&&p),[O,p]),Wn),R=z.useRef(null),P=e??bte[n];z.useEffect(()=>{if(!(!k.current||!_))return R.current||(R.current=GZ({domNode:k.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:L,transform:M,snapGrid:D,snapToGrid:N,nodeOrigin:U,domNode:K}=S.getState();return{nodeLookup:L,transform:M,snapGrid:D,snapToGrid:N,nodeOrigin:U,paneDomNode:K}},onChange:(L,M)=>{const{triggerNodeChanges:D,nodeLookup:N,parentLookup:U,nodeOrigin:K}=S.getState(),G=[],Z={x:L.x,y:L.y},X=N.get(_);if(X&&X.expandParent&&X.parentId){const W=X.origin??K,q=L.width??X.measured.width??0,Q=L.height??X.measured.height??0,H={id:X.id,parentId:X.parentId,rect:{width:q,height:Q,...l$({x:L.x??X.position.x,y:L.y??X.position.y},{width:q,height:Q},X.parentId,N,W)}},re=lN([H],N,U,K);G.push(...re),Z.x=L.x?Math.max(W[0]*q,L.x):void 0,Z.y=L.y?Math.max(W[1]*Q,L.y):void 0}if(Z.x!==void 0&&Z.y!==void 0){const W={id:_,type:"position",position:{...Z}};G.push(W)}if(L.width!==void 0&&L.height!==void 0){const q={id:_,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};G.push(q)}for(const W of M){const q={...W,type:"position"};G.push(q)}D(G)},onEnd:({width:L,height:M})=>{const D={id:_,type:"dimensions",resizing:!1,dimensions:{width:L,height:M}};S.getState().triggerNodeChanges([D])}})),R.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:f,onResizeStart:y,onResize:b,onResizeEnd:v,shouldResize:m}),()=>{var L;(L=R.current)==null||L.destroy()}},[P,a,l,u,c,d,y,b,v,m]);const T=P.split("-");return j.jsx("div",{className:Ar(["react-flow__resize-control","nodrag",...T,n,r]),ref:k,style:{...i,scale:A,...o&&{[O?"backgroundColor":"borderColor"]:o}},children:s})}z.memo(wte);const _te=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],Mw=z.createContext(null),xte=({children:t})=>{const[e,n]=z.useState(!1),[r,i]=z.useState(_te),[s,o]=z.useState(0);return j.jsx(Mw.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:s,setStepIndex:o},children:t})},Jr=[];for(let t=0;t<256;++t)Jr.push((t+256).toString(16).slice(1));function Ete(t,e=0){return(Jr[t[e+0]]+Jr[t[e+1]]+Jr[t[e+2]]+Jr[t[e+3]]+"-"+Jr[t[e+4]]+Jr[t[e+5]]+"-"+Jr[t[e+6]]+Jr[t[e+7]]+"-"+Jr[t[e+8]]+Jr[t[e+9]]+"-"+Jr[t[e+10]]+Jr[t[e+11]]+Jr[t[e+12]]+Jr[t[e+13]]+Jr[t[e+14]]+Jr[t[e+15]]).toLowerCase()}let qT;const Ste=new Uint8Array(16);function Cte(){if(!qT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qT=crypto.getRandomValues.bind(crypto)}return qT(Ste)}const Ate=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GF={randomUUID:Ate};function kE(t,e,n){var i;if(GF.randomUUID&&!t)return GF.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Cte();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Ete(r)}const Tte=()=>{};var YF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Rte;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ite=function(t){const e=uV(t);return cV.encodeByteArray(e,!0)},RE=function(t){return Ite(t).replace(/\./g,"")},Pte=function(t){try{return cV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=()=>Nte().__FIREBASE_DEFAULTS__,Mte=()=>{if(typeof process>"u"||typeof YF>"u")return;const t=YF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lte=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pte(t[1]);return e&&JSON.parse(e)},dN=()=>{try{return Tte()||Ote()||Mte()||Lte()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dte=t=>{var e,n;return(n=(e=dN())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dV=t=>{const e=Dte(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hV=()=>{var t;return(t=dN())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){return t.endsWith(".cloudworkstations.dev")}async function fV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[RE(JSON.stringify(n)),RE(JSON.stringify(o)),""].join(".")}const Qv={};function zte(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qv))Qv[e]?t.emulator.push(e):t.prod.push(e);return t}function jte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let XF=!1;function gV(t,e){if(typeof window>"u"||typeof document>"u"||!Lw(window.location.host)||Qv[t]===e||Qv[t]||XF)return;Qv[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=zte().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{XF=!0,o()},f}function c(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=jte(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;a(_),c(b,y);const S=u();l(x,v),_.append(x,m,b,S),document.body.appendChild(_)}s?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $te(){var t;const e=(t=dN())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vte(){return!$te()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hte(){try{return typeof indexedDB=="object"}catch{return!1}}function Ute(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte="FirebaseError";class Hf extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wte,Object.setPrototypeOf(this,Hf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mV.prototype.create)}}class mV{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qte(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hf(i,a,r)}}function qte(t,e){return t.replace(Gte,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gte=/\{\$([^}]+)}/g;function IE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(KF(s)&&KF(o)){if(!IE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){return t&&t._delegate?t._delegate:t}class Nm{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Fte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kte(e))try{this.getOrInitializeService({instanceIdentifier:uh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uh){return this.instances.has(e)}getOptions(e=uh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xte(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uh){return this.component?this.component.multipleInstances?e:uh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xte(t){return t===uh?void 0:t}function Kte(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yte(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nn||(nn={}));const Zte={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},Jte=nn.INFO,ene={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},tne=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ene[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yV{constructor(e){this.name=e,this._logLevel=Jte,this._logHandler=tne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zte[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...e),this._logHandler(this,nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...e),this._logHandler(this,nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...e),this._logHandler(this,nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...e),this._logHandler(this,nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...e),this._logHandler(this,nn.ERROR,...e)}}const nne=(t,e)=>e.some(n=>t instanceof n);let QF,ZF;function rne(){return QF||(QF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ine(){return ZF||(ZF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vV=new WeakMap,dI=new WeakMap,bV=new WeakMap,GT=new WeakMap,hN=new WeakMap;function sne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yd(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vV.set(n,t)}).catch(()=>{}),hN.set(e,t),e}function one(t){if(dI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dI.set(t,e)}let hI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ane(t){hI=t(hI)}function lne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(YT(this),e,...n);return bV.set(r,e.sort?e.sort():[e]),yd(r)}:ine().includes(t)?function(...e){return t.apply(YT(this),e),yd(vV.get(this))}:function(...e){return yd(t.apply(YT(this),e))}}function une(t){return typeof t=="function"?lne(t):(t instanceof IDBTransaction&&one(t),nne(t,rne())?new Proxy(t,hI):t)}function yd(t){if(t instanceof IDBRequest)return sne(t);if(GT.has(t))return GT.get(t);const e=une(t);return e!==t&&(GT.set(t,e),hN.set(e,t)),e}const YT=t=>hN.get(t);function cne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yd(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yd(o.result),l.oldVersion,l.newVersion,yd(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dne=["get","getKey","getAll","getAllKeys","count"],hne=["put","add","delete","clear"],XT=new Map;function JF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(XT.get(e))return XT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dne.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return XT.set(e,s),s}ane(t=>({...t,get:(e,n,r)=>JF(e,n)||t.get(e,n,r),has:(e,n)=>!!JF(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pne(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fI="@firebase/app",e5="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new yV("@firebase/app"),gne="@firebase/app-compat",mne="@firebase/analytics-compat",yne="@firebase/analytics",vne="@firebase/app-check-compat",bne="@firebase/app-check",wne="@firebase/auth",_ne="@firebase/auth-compat",xne="@firebase/database",Ene="@firebase/data-connect",Sne="@firebase/database-compat",Cne="@firebase/functions",Ane="@firebase/functions-compat",Tne="@firebase/installations",kne="@firebase/installations-compat",Rne="@firebase/messaging",Ine="@firebase/messaging-compat",Pne="@firebase/performance",Nne="@firebase/performance-compat",One="@firebase/remote-config",Mne="@firebase/remote-config-compat",Lne="@firebase/storage",Dne="@firebase/storage-compat",Fne="@firebase/firestore",zne="@firebase/ai",jne="@firebase/firestore-compat",Bne="firebase",$ne="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="[DEFAULT]",Vne={[fI]:"fire-core",[gne]:"fire-core-compat",[yne]:"fire-analytics",[mne]:"fire-analytics-compat",[bne]:"fire-app-check",[vne]:"fire-app-check-compat",[wne]:"fire-auth",[_ne]:"fire-auth-compat",[xne]:"fire-rtdb",[Ene]:"fire-data-connect",[Sne]:"fire-rtdb-compat",[Cne]:"fire-fn",[Ane]:"fire-fn-compat",[Tne]:"fire-iid",[kne]:"fire-iid-compat",[Rne]:"fire-fcm",[Ine]:"fire-fcm-compat",[Pne]:"fire-perf",[Nne]:"fire-perf-compat",[One]:"fire-rc",[Mne]:"fire-rc-compat",[Lne]:"fire-gcs",[Dne]:"fire-gcs-compat",[Fne]:"fire-fst",[jne]:"fire-fst-compat",[zne]:"fire-vertex","fire-js":"fire-js",[Bne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map,Hne=new Map,gI=new Map;function t5(t,e){try{t.container.addComponent(e)}catch(n){Yu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function C0(t){const e=t.name;if(gI.has(e))return Yu.debug(`There were multiple attempts to register component ${e}.`),!1;gI.set(e,t);for(const n of PE.values())t5(n,t);for(const n of Hne.values())t5(n,t);return!0}function wV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _V(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Une={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vd=new mV("app","Firebase",Une);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=$ne;function EV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pI,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vd.create("bad-app-name",{appName:String(i)});if(n||(n=hV()),!n)throw vd.create("no-options");const s=PE.get(i);if(s){if(IE(n,s.options)&&IE(r,s.config))return s;throw vd.create("duplicate-app",{appName:i})}const o=new Qte(i);for(const l of gI.values())o.addComponent(l);const a=new Wne(n,r,o);return PE.set(i,a),a}function SV(t=pI){const e=PE.get(t);if(!e&&t===pI&&hV())return EV();if(!e)throw vd.create("no-app",{appName:t});return e}function bd(t,e,n){var r;let i=(r=Vne[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yu.warn(a.join(" "));return}C0(new Nm(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne="firebase-heartbeat-database",Gne=1,A0="firebase-heartbeat-store";let KT=null;function CV(){return KT||(KT=cne(qne,Gne,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(A0)}catch(n){console.warn(n)}}}}).catch(t=>{throw vd.create("idb-open",{originalErrorMessage:t.message})})),KT}async function Yne(t){try{const n=(await CV()).transaction(A0),r=await n.objectStore(A0).get(AV(t));return await n.done,r}catch(e){if(e instanceof Hf)Yu.warn(e.message);else{const n=vd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yu.warn(n.message)}}}async function n5(t,e){try{const r=(await CV()).transaction(A0,"readwrite");await r.objectStore(A0).put(e,AV(t)),await r.done}catch(n){if(n instanceof Hf)Yu.warn(n.message);else{const r=vd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yu.warn(r.message)}}}function AV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=1024,Kne=30;class Qne{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Kne){const o=ere(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r5(),{heartbeatsToSend:r,unsentEntries:i}=Zne(this._heartbeatsCache.heartbeats),s=RE(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yu.warn(n),""}}}function r5(){return new Date().toISOString().substring(0,10)}function Zne(t,e=Xne){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),i5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Jne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hte()?Ute().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yne(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i5(t){return RE(JSON.stringify({version:2,heartbeats:t})).length}function ere(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tre(t){C0(new Nm("platform-logger",e=>new fne(e),"PRIVATE")),C0(new Nm("heartbeat",e=>new Qne(e),"PRIVATE")),bd(fI,e5,t),bd(fI,e5,"esm2017"),bd("fire-js","")}tre("");var nre="firebase",rre="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bd(nre,rre,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="firebasestorage.googleapis.com",kV="storageBucket",ire=2*60*1e3,sre=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Hf{constructor(e,n,r=0){super(QT(e),`Firebase Storage: ${n} (${QT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ar.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function QT(t){return"storage/"+t}function fN(){const t="An unknown error occurred, please check the error payload for server response.";return new ar(or.UNKNOWN,t)}function ore(t){return new ar(or.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function are(t){return new ar(or.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lre(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ar(or.UNAUTHENTICATED,t)}function ure(){return new ar(or.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cre(t){return new ar(or.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dre(){return new ar(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hre(){return new ar(or.CANCELED,"User canceled the upload/download.")}function fre(t){return new ar(or.INVALID_URL,"Invalid URL '"+t+"'.")}function pre(t){return new ar(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gre(){return new ar(or.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kV+"' property when initializing the app?")}function mre(){return new ar(or.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yre(){return new ar(or.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vre(t){return new ar(or.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mI(t){return new ar(or.INVALID_ARGUMENT,t)}function RV(){return new ar(or.APP_DELETED,"The Firebase app was deleted.")}function bre(t){return new ar(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zv(t,e){return new ar(or.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xy(t){throw new ar(or.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ys.makeFromUrl(e,n)}catch{return new Ys(e,"")}if(r.path==="")return r;throw pre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),m={bucket:1,path:3},y=n===TV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const k=_[S],O=k.regex.exec(e);if(O){const A=O[k.indices.bucket];let R=O[k.indices.path];R||(R=""),r=new Ys(A,R),k.postModify(r);break}}if(r==null)throw fre(e);return r}}class wre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _re(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function f(){s&&clearTimeout(s)}function p(b,...v){if(u){f();return}if(b){f(),c.call(null,b,...v);return}if(l()||o){f(),c.call(null,b,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let m=!1;function y(b){m||(m=!0,f(),!u&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function xre(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ere(t){return t!==void 0}function Sre(t){return typeof t=="object"&&!Array.isArray(t)}function pN(t){return typeof t=="string"||t instanceof String}function s5(t){return gN()&&t instanceof Blob}function gN(){return typeof Blob<"u"}function o5(t,e,n,r){if(r<e)throw mI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mI(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function IV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Ef;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ef||(Ef={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(e,n,r,i,s,o,a,l,u,c,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new k_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ef.NO_ERROR,l=s.getStatus();if(!a||Cre(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ef.ABORT;r(!1,new k_(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new k_(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ere(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=fN();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?RV():hre();o(l)}else{const l=dre();o(l)}};this.canceled_?n(!1,new k_(!1,null,!0)):this.backoffId_=_re(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class k_{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Tre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Rre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Ire(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Pre(t,e,n,r,i,s,o=!0,a=!1){const l=IV(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Rre(c,e),Tre(c,n),kre(c,s),Ire(c,r),new Are(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ore(...t){const e=Nre();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gN())return new Blob(t);throw new ar(or.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mre(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lre(t){if(typeof atob>"u")throw vre("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ZT{constructor(e,n){this.data=e,this.contentType=n||null}}function Dre(t,e){switch(t){case gl.RAW:return new ZT(PV(e));case gl.BASE64:case gl.BASE64URL:return new ZT(NV(t,e));case gl.DATA_URL:return new ZT(zre(e),jre(e))}throw fN()}function PV(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Fre(t){let e;try{e=decodeURIComponent(t)}catch{throw Zv(gl.DATA_URL,"Malformed data URL.")}return PV(e)}function NV(t,e){switch(t){case gl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Zv(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case gl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Zv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Lre(e)}catch(i){throw i.message.includes("polyfill")?i:Zv(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class OV{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zv(gl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Bre(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function zre(t){const e=new OV(t);return e.base64?NV(gl.BASE64,e.rest):Fre(e.rest)}function jre(t){return new OV(t).contentType}function Bre(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){let r=0,i="";s5(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(s5(this.data_)){const r=this.data_,i=Mre(r,e,n);return i===null?null:new Hc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Hc(r,!0)}}static getBlob(...e){if(gN()){const n=e.map(r=>r instanceof Hc?r.data_:r);return new Hc(Ore.apply(null,n))}else{const n=e.map(o=>pN(o)?Dre(gl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Hc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){let e;try{e=JSON.parse(t)}catch{return null}return Sre(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $re(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vre(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function LV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t,e){return e}class zi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Hre}}let R_=null;function Ure(t){return!pN(t)||t.length<2?t:LV(t)}function DV(){if(R_)return R_;const t=[];t.push(new zi("bucket")),t.push(new zi("generation")),t.push(new zi("metageneration")),t.push(new zi("name","fullPath",!0));function e(s,o){return Ure(o)}const n=new zi("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new zi("size");return i.xform=r,t.push(i),t.push(new zi("timeCreated")),t.push(new zi("updated")),t.push(new zi("md5Hash",null,!0)),t.push(new zi("cacheControl",null,!0)),t.push(new zi("contentDisposition",null,!0)),t.push(new zi("contentEncoding",null,!0)),t.push(new zi("contentLanguage",null,!0)),t.push(new zi("contentType",null,!0)),t.push(new zi("metadata","customMetadata",!0)),R_=t,R_}function Wre(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Ys(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function qre(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Wre(r,t),r}function FV(t,e,n){const r=MV(e);return r===null?null:qre(t,r,n)}function Gre(t,e,n,r){const i=MV(e);if(i===null||!pN(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+o(c)+"/o/"+o(d),p=mN(f,n,r),m=IV({alt:"media",token:u});return p+m})[0]}function Yre(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class zV{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){if(!t)throw fN()}function Xre(t,e){function n(r,i){const s=FV(t,i,e);return jV(s!==null),s}return n}function Kre(t,e){function n(r,i){const s=FV(t,i,e);return jV(s!==null),Gre(s,i,t.host,t._protocol)}return n}function BV(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ure():i=lre():n.getStatus()===402?i=are(t.bucket):n.getStatus()===403?i=cre(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Qre(t){const e=BV(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=ore(t.path)),s.serverResponse=i.serverResponse,s}return n}function Zre(t,e,n){const r=e.fullServerUrl(),i=mN(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new zV(i,s,Kre(t,n),o);return a.errorHandler=Qre(e),a}function Jre(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function eie(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Jre(null,e)),r}function tie(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=eie(e,r,i),c=Yre(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Hc.getBlob(d,r,f);if(p===null)throw mre();const m={name:u.fullPath},y=mN(s,t.host,t._protocol),b="POST",v=t.maxUploadRetryTime,x=new zV(y,b,Xre(t,n),v);return x.urlParams=m,x.headers=o,x.body=p.uploadData(),x.errorHandler=BV(e),x}class nie{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ef.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ef.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ef.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Xy("cannot .send() more than once");if(Lw(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xy("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rie extends nie{initXhr(){this.xhr_.responseType="text"}}function $V(){return new rie}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this._service=e,n instanceof Ys?this._location=n:this._location=Ys.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kf(e,n)}get root(){const e=new Ys(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LV(this._location.path)}get storage(){return this._service}get parent(){const e=$re(this._location.path);if(e===null)return null;const n=new Ys(this._location.bucket,e);return new kf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bre(e)}}function iie(t,e,n){t._throwIfRoot("uploadBytes");const r=tie(t.storage,t._location,DV(),new Hc(e,!0),n);return t.storage.makeRequestWithTokens(r,$V).then(i=>({metadata:i,ref:t}))}function sie(t){t._throwIfRoot("getDownloadURL");const e=Zre(t.storage,t._location,DV());return t.storage.makeRequestWithTokens(e,$V).then(n=>{if(n===null)throw yre();return n})}function oie(t,e){const n=Vre(t._location.path,e),r=new Ys(t._location.bucket,n);return new kf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aie(t){return/^[A-Za-z]+:\/\//.test(t)}function lie(t,e){return new kf(t,e)}function VV(t,e){if(t instanceof yN){const n=t;if(n._bucket==null)throw gre();const r=new kf(n,n._bucket);return e!=null?VV(r,e):r}else return e!==void 0?oie(t,e):t}function uie(t,e){if(e&&aie(e)){if(t instanceof yN)return lie(t,e);throw mI("To use ref(service, url), the first argument must be a Storage instance.")}else return VV(t,e)}function a5(t,e){const n=e==null?void 0:e[kV];return n==null?null:Ys.makeFromBucketSpec(n,t)}function cie(t,e,n,r={}){t.host=`${e}:${n}`;const i=Lw(e);i&&(fV(`https://${t.host}/b`),gV("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:pV(s,t.app.options.projectId))}class yN{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=TV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ire,this._maxUploadRetryTime=sre,this._requests=new Set,i!=null?this._bucket=Ys.makeFromBucketSpec(i,this._host):this._bucket=a5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ys.makeFromBucketSpec(this._url,e):this._bucket=a5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o5("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o5("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(_V(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new wre(RV());{const o=Pre(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const l5="@firebase/storage",u5="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="storage";function die(t,e,n){return t=Al(t),iie(t,e,n)}function hie(t){return t=Al(t),sie(t)}function c5(t,e){return t=Al(t),uie(t,e)}function fie(t=SV(),e){t=Al(t);const r=wV(t,HV).getImmediate({identifier:e}),i=dV("storage");return i&&pie(r,...i),r}function pie(t,e,n,r={}){cie(t,e,n,r)}function gie(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yN(n,r,i,e,xV)}function mie(){C0(new Nm(HV,gie,"PUBLIC").setMultipleInstances(!0)),bd(l5,u5,""),bd(l5,u5,"esm2017")}mie();var d5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wd,UV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,R){function P(){}P.prototype=R.prototype,A.D=R.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(T,L,M){for(var D=Array(arguments.length-2),N=2;N<arguments.length;N++)D[N-2]=arguments[N];return R.prototype[L].apply(T,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,R,P){P||(P=0);var T=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)T[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)T[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=A.g[0],P=A.g[1],L=A.g[2];var M=A.g[3],D=R+(M^P&(L^M))+T[0]+3614090360&4294967295;R=P+(D<<7&4294967295|D>>>25),D=M+(L^R&(P^L))+T[1]+3905402710&4294967295,M=R+(D<<12&4294967295|D>>>20),D=L+(P^M&(R^P))+T[2]+606105819&4294967295,L=M+(D<<17&4294967295|D>>>15),D=P+(R^L&(M^R))+T[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(M^P&(L^M))+T[4]+4118548399&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(L^R&(P^L))+T[5]+1200080426&4294967295,M=R+(D<<12&4294967295|D>>>20),D=L+(P^M&(R^P))+T[6]+2821735955&4294967295,L=M+(D<<17&4294967295|D>>>15),D=P+(R^L&(M^R))+T[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(M^P&(L^M))+T[8]+1770035416&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(L^R&(P^L))+T[9]+2336552879&4294967295,M=R+(D<<12&4294967295|D>>>20),D=L+(P^M&(R^P))+T[10]+4294925233&4294967295,L=M+(D<<17&4294967295|D>>>15),D=P+(R^L&(M^R))+T[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(M^P&(L^M))+T[12]+1804603682&4294967295,R=P+(D<<7&4294967295|D>>>25),D=M+(L^R&(P^L))+T[13]+4254626195&4294967295,M=R+(D<<12&4294967295|D>>>20),D=L+(P^M&(R^P))+T[14]+2792965006&4294967295,L=M+(D<<17&4294967295|D>>>15),D=P+(R^L&(M^R))+T[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=R+(L^M&(P^L))+T[1]+4129170786&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^L&(R^P))+T[6]+3225465664&4294967295,M=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(M^R))+T[11]+643717713&4294967295,L=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(L^M))+T[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^M&(P^L))+T[5]+3593408605&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^L&(R^P))+T[10]+38016083&4294967295,M=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(M^R))+T[15]+3634488961&4294967295,L=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(L^M))+T[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^M&(P^L))+T[9]+568446438&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^L&(R^P))+T[14]+3275163606&4294967295,M=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(M^R))+T[3]+4107603335&4294967295,L=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(L^M))+T[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(L^M&(P^L))+T[13]+2850285829&4294967295,R=P+(D<<5&4294967295|D>>>27),D=M+(P^L&(R^P))+T[2]+4243563512&4294967295,M=R+(D<<9&4294967295|D>>>23),D=L+(R^P&(M^R))+T[7]+1735328473&4294967295,L=M+(D<<14&4294967295|D>>>18),D=P+(M^R&(L^M))+T[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=R+(P^L^M)+T[5]+4294588738&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^L)+T[8]+2272392833&4294967295,M=R+(D<<11&4294967295|D>>>21),D=L+(M^R^P)+T[11]+1839030562&4294967295,L=M+(D<<16&4294967295|D>>>16),D=P+(L^M^R)+T[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^M)+T[1]+2763975236&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^L)+T[4]+1272893353&4294967295,M=R+(D<<11&4294967295|D>>>21),D=L+(M^R^P)+T[7]+4139469664&4294967295,L=M+(D<<16&4294967295|D>>>16),D=P+(L^M^R)+T[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^M)+T[13]+681279174&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^L)+T[0]+3936430074&4294967295,M=R+(D<<11&4294967295|D>>>21),D=L+(M^R^P)+T[3]+3572445317&4294967295,L=M+(D<<16&4294967295|D>>>16),D=P+(L^M^R)+T[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(P^L^M)+T[9]+3654602809&4294967295,R=P+(D<<4&4294967295|D>>>28),D=M+(R^P^L)+T[12]+3873151461&4294967295,M=R+(D<<11&4294967295|D>>>21),D=L+(M^R^P)+T[15]+530742520&4294967295,L=M+(D<<16&4294967295|D>>>16),D=P+(L^M^R)+T[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=R+(L^(P|~M))+T[0]+4096336452&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~L))+T[7]+1126891415&4294967295,M=R+(D<<10&4294967295|D>>>22),D=L+(R^(M|~P))+T[14]+2878612391&4294967295,L=M+(D<<15&4294967295|D>>>17),D=P+(M^(L|~R))+T[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~M))+T[12]+1700485571&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~L))+T[3]+2399980690&4294967295,M=R+(D<<10&4294967295|D>>>22),D=L+(R^(M|~P))+T[10]+4293915773&4294967295,L=M+(D<<15&4294967295|D>>>17),D=P+(M^(L|~R))+T[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~M))+T[8]+1873313359&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~L))+T[15]+4264355552&4294967295,M=R+(D<<10&4294967295|D>>>22),D=L+(R^(M|~P))+T[6]+2734768916&4294967295,L=M+(D<<15&4294967295|D>>>17),D=P+(M^(L|~R))+T[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=R+(L^(P|~M))+T[4]+4149444226&4294967295,R=P+(D<<6&4294967295|D>>>26),D=M+(P^(R|~L))+T[11]+3174756917&4294967295,M=R+(D<<10&4294967295|D>>>22),D=L+(R^(M|~P))+T[2]+718787259&4294967295,L=M+(D<<15&4294967295|D>>>17),D=P+(M^(L|~R))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+R&4294967295,A.g[1]=A.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.u=function(A,R){R===void 0&&(R=A.length);for(var P=R-this.blockSize,T=this.B,L=this.h,M=0;M<R;){if(L==0)for(;M<=P;)i(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<R;)if(T[L++]=A.charCodeAt(M++),L==this.blockSize){i(this,T),L=0;break}}else for(;M<R;)if(T[L++]=A[M++],L==this.blockSize){i(this,T),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var R=1;R<A.length-8;++R)A[R]=0;var P=8*this.o;for(R=A.length-8;R<A.length;++R)A[R]=P&255,P/=256;for(this.u(A),A=Array(16),R=P=0;4>R;++R)for(var T=0;32>T;T+=8)A[P++]=this.g[R]>>>T&255;return A};function s(A,R){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=R(A)}function o(A,R){this.h=R;for(var P=[],T=!0,L=A.length-1;0<=L;L--){var M=A[L]|0;T&&M==R||(P[L]=M,T=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?s(A,function(R){return new o([R|0],0>R?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return b(u(-A));for(var R=[],P=1,T=0;A>=P;T++)R[T]=A/P|0,P*=4294967296;return new o(R,0)}function c(A,R){if(A.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A.charAt(0)=="-")return b(c(A.substring(1),R));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(R,8)),T=d,L=0;L<A.length;L+=8){var M=Math.min(8,A.length-L),D=parseInt(A.substring(L,L+M),R);8>M?(M=u(Math.pow(R,M)),T=T.j(M).add(u(D))):(T=T.j(P),T=T.add(u(D)))}return T}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();for(var A=0,R=1,P=0;P<this.g.length;P++){var T=this.i(P);A+=(0<=T?T:4294967296+T)*R,R*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(y(this))return"-"+b(this).toString(A);for(var R=u(Math.pow(A,6)),P=this,T="";;){var L=S(P,R).g;P=v(P,L.j(R));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=L,m(P))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var R=0;R<A.g.length;R++)if(A.g[R]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=v(this,A),y(A)?-1:m(A)?0:1};function b(A){for(var R=A.g.length,P=[],T=0;T<R;T++)P[T]=~A.g[T];return new o(P,~A.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],T=0,L=0;L<=R;L++){var M=T+(this.i(L)&65535)+(A.i(L)&65535),D=(M>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);T=D>>>16,M&=65535,D&=65535,P[L]=D<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function v(A,R){return A.add(b(R))}t.j=function(A){if(m(this)||m(A))return d;if(y(this))return y(A)?b(this).j(b(A)):b(b(this).j(A));if(y(A))return b(this.j(b(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var R=this.g.length+A.g.length,P=[],T=0;T<2*R;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var L=0;L<A.g.length;L++){var M=this.i(T)>>>16,D=this.i(T)&65535,N=A.i(L)>>>16,U=A.i(L)&65535;P[2*T+2*L]+=D*U,x(P,2*T+2*L),P[2*T+2*L+1]+=M*U,x(P,2*T+2*L+1),P[2*T+2*L+1]+=D*N,x(P,2*T+2*L+1),P[2*T+2*L+2]+=M*N,x(P,2*T+2*L+2)}for(T=0;T<R;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=R;T<2*R;T++)P[T]=0;return new o(P,0)};function x(A,R){for(;(A[R]&65535)!=A[R];)A[R+1]+=A[R]>>>16,A[R]&=65535,R++}function _(A,R){this.g=A,this.h=R}function S(A,R){if(m(R))throw Error("division by zero");if(m(A))return new _(d,d);if(y(A))return R=S(b(A),R),new _(b(R.g),b(R.h));if(y(R))return R=S(A,b(R)),new _(b(R.g),R.h);if(30<A.g.length){if(y(A)||y(R))throw Error("slowDivide_ only works with positive integers.");for(var P=f,T=R;0>=T.l(A);)P=k(P),T=k(T);var L=O(P,1),M=O(T,1);for(T=O(T,2),P=O(P,2);!m(T);){var D=M.add(T);0>=D.l(A)&&(L=L.add(P),M=D),T=O(T,1),P=O(P,1)}return R=v(A,L.j(R)),new _(L,R)}for(L=d;0<=A.l(R);){for(P=Math.max(1,Math.floor(A.m()/R.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=u(P),D=M.j(R);y(D)||0<D.l(A);)P-=T,M=u(P),D=M.j(R);m(M)&&(M=f),L=L.add(M),A=v(A,D)}return new _(L,A)}t.A=function(A){return S(this,A).h},t.and=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],T=0;T<R;T++)P[T]=this.i(T)&A.i(T);return new o(P,this.h&A.h)},t.or=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],T=0;T<R;T++)P[T]=this.i(T)|A.i(T);return new o(P,this.h|A.h)},t.xor=function(A){for(var R=Math.max(this.g.length,A.g.length),P=[],T=0;T<R;T++)P[T]=this.i(T)^A.i(T);return new o(P,this.h^A.h)};function k(A){for(var R=A.g.length+1,P=[],T=0;T<R;T++)P[T]=A.i(T)<<1|A.i(T-1)>>>31;return new o(P,A.h)}function O(A,R){var P=R>>5;R%=32;for(var T=A.g.length-P,L=[],M=0;M<T;M++)L[M]=0<R?A.i(M+P)>>>R|A.i(M+P+1)<<32-R:A.i(M+P);return new o(L,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,wd=o}).apply(typeof d5<"u"?d5:typeof self<"u"?self:typeof window<"u"?window:{});var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WV,Cv,qV,bx,yI,GV,YV,XV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(C,B,Y){return C==Array.prototype||C==Object.prototype||(C[B]=Y.value),C};function n(C){C=[typeof globalThis=="object"&&globalThis,C,typeof window=="object"&&window,typeof self=="object"&&self,typeof I_=="object"&&I_];for(var B=0;B<C.length;++B){var Y=C[B];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}var r=n(this);function i(C,B){if(B)e:{var Y=r;C=C.split(".");for(var ae=0;ae<C.length-1;ae++){var Se=C[ae];if(!(Se in Y))break e;Y=Y[Se]}C=C[C.length-1],ae=Y[C],B=B(ae),B!=ae&&B!=null&&e(Y,C,{configurable:!0,writable:!0,value:B})}}function s(C,B){C instanceof String&&(C+="");var Y=0,ae=!1,Se={next:function(){if(!ae&&Y<C.length){var Ie=Y++;return{value:B(Ie,C[Ie]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(C){return C||function(){return s(this,function(B,Y){return Y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(C){var B=typeof C;return B=B!="object"?B:C?Array.isArray(C)?"array":B:"null",B=="array"||B=="object"&&typeof C.length=="number"}function u(C){var B=typeof C;return B=="object"&&C!=null||B=="function"}function c(C,B,Y){return C.call.apply(C.bind,arguments)}function d(C,B,Y){if(!C)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,ae),C.apply(B,Se)}}return function(){return C.apply(B,arguments)}}function f(C,B,Y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function p(C,B){var Y=Array.prototype.slice.call(arguments,1);return function(){var ae=Y.slice();return ae.push.apply(ae,arguments),C.apply(this,ae)}}function m(C,B){function Y(){}Y.prototype=B.prototype,C.aa=B.prototype,C.prototype=new Y,C.prototype.constructor=C,C.Qb=function(ae,Se,Ie){for(var Ge=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)Ge[vn-2]=arguments[vn];return B.prototype[Se].apply(ae,Ge)}}function y(C){const B=C.length;if(0<B){const Y=Array(B);for(let ae=0;ae<B;ae++)Y[ae]=C[ae];return Y}return[]}function b(C,B){for(let Y=1;Y<arguments.length;Y++){const ae=arguments[Y];if(l(ae)){const Se=C.length||0,Ie=ae.length||0;C.length=Se+Ie;for(let Ge=0;Ge<Ie;Ge++)C[Se+Ge]=ae[Ge]}else C.push(ae)}}class v{constructor(B,Y){this.i=B,this.j=Y,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function x(C){return/^[\s\xa0]*$/.test(C)}function _(){var C=a.navigator;return C&&(C=C.userAgent)?C:""}function S(C){return S[" "](C),C}S[" "]=function(){};var k=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(C,B,Y){for(const ae in C)B.call(Y,C[ae],ae,C)}function A(C,B){for(const Y in C)B.call(void 0,C[Y],Y,C)}function R(C){const B={};for(const Y in C)B[Y]=C[Y];return B}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(C,B){let Y,ae;for(let Se=1;Se<arguments.length;Se++){ae=arguments[Se];for(Y in ae)C[Y]=ae[Y];for(let Ie=0;Ie<P.length;Ie++)Y=P[Ie],Object.prototype.hasOwnProperty.call(ae,Y)&&(C[Y]=ae[Y])}}function L(C){var B=1;C=C.split(":");const Y=[];for(;0<B&&C.length;)Y.push(C.shift()),B--;return C.length&&Y.push(C.join(":")),Y}function M(C){a.setTimeout(()=>{throw C},0)}function D(){var C=X;let B=null;return C.g&&(B=C.g,C.g=C.g.next,C.g||(C.h=null),B.next=null),B}class N{constructor(){this.h=this.g=null}add(B,Y){const ae=U.get();ae.set(B,Y),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var U=new v(()=>new K,C=>C.reset());class K{constructor(){this.next=this.g=this.h=null}set(B,Y){this.h=B,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Z=!1,X=new N,W=()=>{const C=a.Promise.resolve(void 0);G=()=>{C.then(q)}};var q=()=>{for(var C;C=D();){try{C.h.call(C.g)}catch(Y){M(Y)}var B=U;B.j(C),100>B.h&&(B.h++,C.next=B.g,B.g=C)}Z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(C,B){this.type=C,this.g=this.target=B,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var C=!1,B=Object.defineProperty({},"passive",{get:function(){C=!0}});try{const Y=()=>{};a.addEventListener("test",Y,B),a.removeEventListener("test",Y,B)}catch{}return C}();function te(C,B){if(H.call(this,C?C.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,C){var Y=this.type=C.type,ae=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:null;if(this.target=C.target||C.srcElement,this.g=B,B=C.relatedTarget){if(k){e:{try{S(B.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(B=null)}}else Y=="mouseover"?B=C.fromElement:Y=="mouseout"&&(B=C.toElement);this.relatedTarget=B,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0),this.button=C.button,this.key=C.key||"",this.ctrlKey=C.ctrlKey,this.altKey=C.altKey,this.shiftKey=C.shiftKey,this.metaKey=C.metaKey,this.pointerId=C.pointerId||0,this.pointerType=typeof C.pointerType=="string"?C.pointerType:he[C.pointerType]||"",this.state=C.state,this.i=C,C.defaultPrevented&&te.aa.h.call(this)}}m(te,H);var he={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var C=this.i;C.preventDefault?C.preventDefault():C.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),oe=0;function ce(C,B,Y,ae,Se){this.listener=C,this.proxy=null,this.src=B,this.type=Y,this.capture=!!ae,this.ha=Se,this.key=++oe,this.da=this.fa=!1}function ge(C){C.da=!0,C.listener=null,C.proxy=null,C.src=null,C.ha=null}function xe(C){this.src=C,this.g={},this.h=0}xe.prototype.add=function(C,B,Y,ae,Se){var Ie=C.toString();C=this.g[Ie],C||(C=this.g[Ie]=[],this.h++);var Ge=Pe(C,B,ae,Se);return-1<Ge?(B=C[Ge],Y||(B.fa=!1)):(B=new ce(B,this.src,Ie,!!ae,Se),B.fa=Y,C.push(B)),B};function Ee(C,B){var Y=B.type;if(Y in C.g){var ae=C.g[Y],Se=Array.prototype.indexOf.call(ae,B,void 0),Ie;(Ie=0<=Se)&&Array.prototype.splice.call(ae,Se,1),Ie&&(ge(B),C.g[Y].length==0&&(delete C.g[Y],C.h--))}}function Pe(C,B,Y,ae){for(var Se=0;Se<C.length;++Se){var Ie=C[Se];if(!Ie.da&&Ie.listener==B&&Ie.capture==!!Y&&Ie.ha==ae)return Se}return-1}var V="closure_lm_"+(1e6*Math.random()|0),pe={};function me(C,B,Y,ae,Se){if(Array.isArray(B)){for(var Ie=0;Ie<B.length;Ie++)me(C,B[Ie],Y,ae,Se);return null}return Y=ze(Y),C&&C[de]?C.K(B,Y,u(ae)?!!ae.capture:!1,Se):le(C,B,Y,!1,ae,Se)}function le(C,B,Y,ae,Se,Ie){if(!B)throw Error("Invalid event type");var Ge=u(Se)?!!Se.capture:!!Se,vn=Me(C);if(vn||(C[V]=vn=new xe(C)),Y=vn.add(B,Y,ae,Ge,Ie),Y.proxy)return Y;if(ae=ee(),Y.proxy=ae,ae.src=C,ae.listener=Y,C.addEventListener)re||(Se=Ge),Se===void 0&&(Se=!1),C.addEventListener(B.toString(),ae,Se);else if(C.attachEvent)C.attachEvent(Te(B.toString()),ae);else if(C.addListener&&C.removeListener)C.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return Y}function ee(){function C(Y){return B.call(C.src,C.listener,Y)}const B=ye;return C}function ue(C,B,Y,ae,Se){if(Array.isArray(B))for(var Ie=0;Ie<B.length;Ie++)ue(C,B[Ie],Y,ae,Se);else ae=u(ae)?!!ae.capture:!!ae,Y=ze(Y),C&&C[de]?(C=C.i,B=String(B).toString(),B in C.g&&(Ie=C.g[B],Y=Pe(Ie,Y,ae,Se),-1<Y&&(ge(Ie[Y]),Array.prototype.splice.call(Ie,Y,1),Ie.length==0&&(delete C.g[B],C.h--)))):C&&(C=Me(C))&&(B=C.g[B.toString()],C=-1,B&&(C=Pe(B,Y,ae,Se)),(Y=-1<C?B[C]:null)&&ve(Y))}function ve(C){if(typeof C!="number"&&C&&!C.da){var B=C.src;if(B&&B[de])Ee(B.i,C);else{var Y=C.type,ae=C.proxy;B.removeEventListener?B.removeEventListener(Y,ae,C.capture):B.detachEvent?B.detachEvent(Te(Y),ae):B.addListener&&B.removeListener&&B.removeListener(ae),(Y=Me(B))?(Ee(Y,C),Y.h==0&&(Y.src=null,B[V]=null)):ge(C)}}}function Te(C){return C in pe?pe[C]:pe[C]="on"+C}function ye(C,B){if(C.da)C=!0;else{B=new te(B,this);var Y=C.listener,ae=C.ha||C.src;C.fa&&ve(C),C=Y.call(ae,B)}return C}function Me(C){return C=C[V],C instanceof xe?C:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function ze(C){return typeof C=="function"?C:(C[je]||(C[je]=function(B){return C.handleEvent(B)}),C[je])}function we(){Q.call(this),this.i=new xe(this),this.M=this,this.F=null}m(we,Q),we.prototype[de]=!0,we.prototype.removeEventListener=function(C,B,Y,ae){ue(this,C,B,Y,ae)};function Re(C,B){var Y,ae=C.F;if(ae)for(Y=[];ae;ae=ae.F)Y.push(ae);if(C=C.M,ae=B.type||B,typeof B=="string")B=new H(B,C);else if(B instanceof H)B.target=B.target||C;else{var Se=B;B=new H(ae,C),T(B,Se)}if(Se=!0,Y)for(var Ie=Y.length-1;0<=Ie;Ie--){var Ge=B.g=Y[Ie];Se=Be(Ge,ae,!0,B)&&Se}if(Ge=B.g=C,Se=Be(Ge,ae,!0,B)&&Se,Se=Be(Ge,ae,!1,B)&&Se,Y)for(Ie=0;Ie<Y.length;Ie++)Ge=B.g=Y[Ie],Se=Be(Ge,ae,!1,B)&&Se}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var C=this.i,B;for(B in C.g){for(var Y=C.g[B],ae=0;ae<Y.length;ae++)ge(Y[ae]);delete C.g[B],C.h--}}this.F=null},we.prototype.K=function(C,B,Y,ae){return this.i.add(String(C),B,!1,Y,ae)},we.prototype.L=function(C,B,Y,ae){return this.i.add(String(C),B,!0,Y,ae)};function Be(C,B,Y,ae){if(B=C.i.g[String(B)],!B)return!0;B=B.concat();for(var Se=!0,Ie=0;Ie<B.length;++Ie){var Ge=B[Ie];if(Ge&&!Ge.da&&Ge.capture==Y){var vn=Ge.listener,kr=Ge.ha||Ge.src;Ge.fa&&Ee(C.i,Ge),Se=vn.call(kr,ae)!==!1&&Se}}return Se&&!ae.defaultPrevented}function et(C,B,Y){if(typeof C=="function")Y&&(C=f(C,Y));else if(C&&typeof C.handleEvent=="function")C=f(C.handleEvent,C);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:a.setTimeout(C,B||0)}function yt(C){C.g=et(()=>{C.g=null,C.i&&(C.i=!1,yt(C))},C.l);const B=C.h;C.h=null,C.m.apply(null,B)}class tt extends Q{constructor(B,Y){super(),this.m=B,this.l=Y,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(C){Q.call(this),this.h=C,this.g={}}m(Yt,Q);var wt=[];function sn(C){O(C.g,function(B,Y){this.g.hasOwnProperty(Y)&&ve(B)},C),C.g={}}Yt.prototype.N=function(){Yt.aa.N.call(this),sn(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nt=a.JSON.stringify,pt=a.JSON.parse,Ut=class{stringify(C){return a.JSON.stringify(C,void 0)}parse(C){return a.JSON.parse(C,void 0)}};function on(){}on.prototype.h=null;function Pi(C){return C.h||(C.h=C.i())}function eo(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){H.call(this,"d")}m(pr,H);function Ni(){H.call(this,"c")}m(Ni,H);var Gi={},Sa=null;function Io(){return Sa=Sa||new we}Gi.La="serverreachability";function Rt(C){H.call(this,Gi.La,C)}m(Rt,H);function Gn(C){const B=Io();Re(B,new Rt(B))}Gi.STAT_EVENT="statevent";function Ca(C,B){H.call(this,Gi.STAT_EVENT,C),this.stat=B}m(Ca,H);function Yn(C){const B=Io();Re(B,new Ca(B,C))}Gi.Ma="timingevent";function sc(C,B){H.call(this,Gi.Ma,C),this.size=B}m(sc,H);function Cs(C,B){if(typeof C!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){C()},B)}function Ll(){this.g=!0}Ll.prototype.xa=function(){this.g=!1};function Dl(C,B,Y,ae,Se,Ie){C.info(function(){if(C.g)if(Ie)for(var Ge="",vn=Ie.split("&"),kr=0;kr<vn.length;kr++){var Zt=vn[kr].split("=");if(1<Zt.length){var Br=Zt[0];Zt=Zt[1];var gr=Br.split("_");Ge=2<=gr.length&&gr[1]=="type"?Ge+(Br+"="+Zt+"&"):Ge+(Br+"=redacted&")}}else Ge=null;else Ge=Ie;return"XMLHTTP REQ ("+ae+") [attempt "+Se+"]: "+B+`
`+Y+`
`+Ge})}function oc(C,B,Y,ae,Se,Ie,Ge){C.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+Se+"]: "+B+`
`+Y+`
`+Ie+" "+Ge})}function As(C,B,Y,ae){C.info(function(){return"XMLHTTP TEXT ("+B+"): "+py(C,Y)+(ae?" "+ae:"")})}function jd(C,B){C.info(function(){return"TIMEOUT: "+B})}Ll.prototype.info=function(){};function py(C,B){if(!C.g)return B;if(!B)return null;try{var Y=JSON.parse(B);if(Y){for(C=0;C<Y.length;C++)if(Array.isArray(Y[C])){var ae=Y[C];if(!(2>ae.length)){var Se=ae[1];if(Array.isArray(Se)&&!(1>Se.length)){var Ie=Se[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var Ge=1;Ge<Se.length;Ge++)Se[Ge]=""}}}}return nt(Y)}catch{return B}}var ac={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yi;function Aa(){}m(Aa,on),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Yi=new Aa;function Xi(C,B,Y,ae){this.j=C,this.i=B,this.l=Y,this.R=ae||1,this.U=new Yt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ip}function ip(){this.i=null,this.g="",this.h=!1}var Bd={},lc={};function uc(C,B,Y){C.L=1,C.v=hc(Mi(B)),C.m=Y,C.P=!0,$d(C,null)}function $d(C,B){C.F=Date.now(),xn(C),C.A=Mi(C.v);var Y=C.A,ae=C.R;Array.isArray(ae)||(ae=[String(ae)]),pc(Y.i,"t",ae),C.C=0,Y=C.j.J,C.h=new ip,C.g=E1(C.j,Y?B:null,!C.m),0<C.O&&(C.M=new tt(f(C.Y,C,C.g),C.O)),B=C.U,Y=C.g,ae=C.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(wt[0]=Se.toString()),Se=wt);for(var Ie=0;Ie<Se.length;Ie++){var Ge=me(Y,Se[Ie],ae||B.handleEvent,!1,B.h||B);if(!Ge)break;B.g[Ge.key]=Ge}B=C.H?R(C.H):{},C.m?(C.u||(C.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",C.g.ea(C.A,C.u,C.m,B)):(C.u="GET",C.g.ea(C.A,C.u,null,B)),Gn(),Dl(C.i,C.u,C.A,C.l,C.R,C.m)}Xi.prototype.ca=function(C){C=C.target;const B=this.M;B&&Zi(C)==3?B.j():this.Y(C)},Xi.prototype.Y=function(C){try{if(C==this.g)e:{const gr=Zi(this.g);var B=this.g.Ba();const no=this.g.Z();if(!(3>gr)&&(gr!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||gr!=4||B==7||(B==8||0>=no?Gn(3):Gn(2)),Fl(this);var Y=this.g.Z();this.X=Y;t:if(sp(this)){var ae=by(this.g);C="";var Se=ae.length,Ie=Zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),Ta(this);var Ge="";break t}this.h.i=new a.TextDecoder}for(B=0;B<Se;B++)this.h.h=!0,C+=this.h.i.decode(ae[B],{stream:!(Ie&&B==Se-1)});ae.length=0,this.h.g+=C,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=Y==200,oc(this.i,this.u,this.A,this.l,this.R,gr,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var vn,kr=this.g;if((vn=kr.g?kr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(vn)){var Zt=vn;break t}}Zt=null}if(Y=Zt)As(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vd(this,Y);else{this.o=!1,this.s=3,Yn(12),Ki(this),Ta(this);break e}}if(this.P){Y=!0;let Rs;for(;!this.J&&this.C<Ge.length;)if(Rs=op(this,Ge),Rs==lc){gr==4&&(this.s=4,Yn(14),Y=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(Rs==Bd){this.s=4,Yn(15),As(this.i,this.l,Ge,"[Invalid Chunk]"),Y=!1;break}else As(this.i,this.l,Rs,null),Vd(this,Rs);if(sp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gr!=4||Ge.length!=0||this.h.h||(this.s=1,Yn(16),Y=!1),this.o=this.o&&Y,!Y)As(this.i,this.l,Ge,"[Invalid Chunked Response]"),Ki(this),Ta(this);else if(0<Ge.length&&!this.W){this.W=!0;var Br=this.j;Br.g==this&&Br.ba&&!Br.M&&(Br.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),_y(Br),Br.M=!0,Yn(11))}}else As(this.i,this.l,Ge,null),Vd(this,Ge);gr==4&&Ki(this),this.o&&!this.J&&(gr==4?wp(this.j,this):(this.o=!1,xn(this)))}else gp(this.g),Y==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,Yn(12)):(this.s=0,Yn(13)),Ki(this),Ta(this)}}}catch{}finally{}};function sp(C){return C.g?C.u=="GET"&&C.L!=2&&C.j.Ca:!1}function op(C,B){var Y=C.C,ae=B.indexOf(`
`,Y);return ae==-1?lc:(Y=Number(B.substring(Y,ae)),isNaN(Y)?Bd:(ae+=1,ae+Y>B.length?lc:(B=B.slice(ae,ae+Y),C.C=ae+Y,B)))}Xi.prototype.cancel=function(){this.J=!0,Ki(this)};function xn(C){C.S=Date.now()+C.I,ap(C,C.I)}function ap(C,B){if(C.B!=null)throw Error("WatchDog timer not null");C.B=Cs(f(C.ba,C),B)}function Fl(C){C.B&&(a.clearTimeout(C.B),C.B=null)}Xi.prototype.ba=function(){this.B=null;const C=Date.now();0<=C-this.S?(jd(this.i,this.A),this.L!=2&&(Gn(),Yn(17)),Ki(this),this.s=2,Ta(this)):ap(this,this.S-C)};function Ta(C){C.j.G==0||C.J||wp(C.j,C)}function Ki(C){Fl(C);var B=C.M;B&&typeof B.ma=="function"&&B.ma(),C.M=null,sn(C.U),C.g&&(B=C.g,C.g=null,B.abort(),B.ma())}function Vd(C,B){try{var Y=C.j;if(Y.G!=0&&(Y.g==C||Yr(Y.h,C))){if(!C.K&&Yr(Y.h,C)&&Y.G==3){try{var ae=Y.Da.g.parse(B)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var Se=ae;if(Se[0]==0){e:if(!Y.u){if(Y.g)if(Y.g.F+3e3<C.F)bp(Y),Fo(Y);else break e;vp(Y),Yn(18)}}else Y.za=Se[1],0<Y.za-Y.T&&37500>Se[2]&&Y.F&&Y.v==0&&!Y.C&&(Y.C=Cs(f(Y.Za,Y),6e3));if(1>=up(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Hl(Y,11)}else if((C.K||Y.g==C)&&bp(Y),!x(B))for(Se=Y.Da.g.parse(B),B=0;B<Se.length;B++){let Zt=Se[B];if(Y.T=Zt[0],Zt=Zt[1],Y.G==2)if(Zt[0]=="c"){Y.K=Zt[1],Y.ia=Zt[2];const Br=Zt[3];Br!=null&&(Y.la=Br,Y.j.info("VER="+Y.la));const gr=Zt[4];gr!=null&&(Y.Aa=gr,Y.j.info("SVER="+Y.Aa));const no=Zt[5];no!=null&&typeof no=="number"&&0<no&&(ae=1.5*no,Y.L=ae,Y.j.info("backChannelRequestTimeoutMs_="+ae)),ae=Y;const Rs=C.g;if(Rs){const Gd=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gd){var Ie=ae.h;Ie.g||Gd.indexOf("spdy")==-1&&Gd.indexOf("quic")==-1&&Gd.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Hd(Ie,Ie.h),Ie.h=null))}if(ae.D){const xp=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;xp&&(ae.ya=xp,Tn(ae.I,ae.D,xp))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-C.F,Y.j.info("Handshake RTT: "+Y.R+"ms")),ae=Y;var Ge=C;if(ae.qa=x1(ae,ae.J?ae.ia:null,ae.W),Ge.K){cp(ae.h,Ge);var vn=Ge,kr=ae.L;kr&&(vn.I=kr),vn.B&&(Fl(vn),xn(vn)),ae.g=Ge}else qd(ae);0<Y.i.length&&Oa(Y)}else Zt[0]!="stop"&&Zt[0]!="close"||Hl(Y,7);else Y.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Hl(Y,7):Kr(Y):Zt[0]!="noop"&&Y.l&&Y.l.ta(Zt),Y.v=0)}}Gn(4)}catch{}}var lp=class{constructor(C,B){this.g=C,this.map=B}};function ka(C){this.l=C||10,a.PerformanceNavigationTiming?(C=a.performance.getEntriesByType("navigation"),C=0<C.length&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=C?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oi(C){return C.h?!0:C.g?C.g.size>=C.j:!1}function up(C){return C.h?1:C.g?C.g.size:0}function Yr(C,B){return C.h?C.h==B:C.g?C.g.has(B):!1}function Hd(C,B){C.g?C.g.add(B):C.h=B}function cp(C,B){C.h&&C.h==B?C.h=null:C.g&&C.g.has(B)&&C.g.delete(B)}ka.prototype.cancel=function(){if(this.i=dp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const C of this.g.values())C.cancel();this.g.clear()}};function dp(C){if(C.h!=null)return C.i.concat(C.h.D);if(C.g!=null&&C.g.size!==0){let B=C.i;for(const Y of C.g.values())B=B.concat(Y.D);return B}return y(C.i)}function cc(C){if(C.V&&typeof C.V=="function")return C.V();if(typeof Map<"u"&&C instanceof Map||typeof Set<"u"&&C instanceof Set)return Array.from(C.values());if(typeof C=="string")return C.split("");if(l(C)){for(var B=[],Y=C.length,ae=0;ae<Y;ae++)B.push(C[ae]);return B}B=[],Y=0;for(ae in C)B[Y++]=C[ae];return B}function Po(C){if(C.na&&typeof C.na=="function")return C.na();if(!C.V||typeof C.V!="function"){if(typeof Map<"u"&&C instanceof Map)return Array.from(C.keys());if(!(typeof Set<"u"&&C instanceof Set)){if(l(C)||typeof C=="string"){var B=[];C=C.length;for(var Y=0;Y<C;Y++)B.push(Y);return B}B=[],Y=0;for(const ae in C)B[Y++]=ae;return B}}}function Ra(C,B){if(C.forEach&&typeof C.forEach=="function")C.forEach(B,void 0);else if(l(C)||typeof C=="string")Array.prototype.forEach.call(C,B,void 0);else for(var Y=Po(C),ae=cc(C),Se=ae.length,Ie=0;Ie<Se;Ie++)B.call(void 0,ae[Ie],Y&&Y[Ie],C)}var zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gy(C,B){if(C){C=C.split("&");for(var Y=0;Y<C.length;Y++){var ae=C[Y].indexOf("="),Se=null;if(0<=ae){var Ie=C[Y].substring(0,ae);Se=C[Y].substring(ae+1)}else Ie=C[Y];B(Ie,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function Ts(C){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,C instanceof Ts){this.h=C.h,jl(this,C.j),this.o=C.o,this.g=C.g,No(this,C.s),this.l=C.l;var B=C.i,Y=new Ia;Y.i=B.i,B.g&&(Y.g=new Map(B.g),Y.h=B.h),dc(this,Y),this.m=C.m}else C&&(B=String(C).match(zl))?(this.h=!1,jl(this,B[1]||"",!0),this.o=Kt(B[2]||""),this.g=Kt(B[3]||"",!0),No(this,B[4]),this.l=Kt(B[5]||"",!0),dc(this,B[6]||"",!0),this.m=Kt(B[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Ts.prototype.toString=function(){var C=[],B=this.j;B&&C.push(fc(B,hp,!0),":");var Y=this.g;return(Y||B=="file")&&(C.push("//"),(B=this.o)&&C.push(fc(B,hp,!0),"@"),C.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Y=this.s,Y!=null&&C.push(":",String(Y))),(Y=this.l)&&(this.g&&Y.charAt(0)!="/"&&C.push("/"),C.push(fc(Y,Y.charAt(0)=="/"?p1:f1,!0))),(Y=this.i.toString())&&C.push("?",Y),(Y=this.m)&&C.push("#",fc(Y,my)),C.join("")};function Mi(C){return new Ts(C)}function jl(C,B,Y){C.j=Y?Kt(B,!0):B,C.j&&(C.j=C.j.replace(/:$/,""))}function No(C,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);C.s=B}else C.s=null}function dc(C,B,Y){B instanceof Ia?(C.i=B,Pa(C.i,C.h)):(Y||(B=fc(B,g1)),C.i=new Ia(B,C.h))}function Tn(C,B,Y){C.i.set(B,Y)}function hc(C){return Tn(C,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),C}function Kt(C,B){return C?B?decodeURI(C.replace(/%25/g,"%2525")):decodeURIComponent(C):""}function fc(C,B,Y){return typeof C=="string"?(C=encodeURI(C).replace(B,h1),Y&&(C=C.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C):null}function h1(C){return C=C.charCodeAt(0),"%"+(C>>4&15).toString(16)+(C&15).toString(16)}var hp=/[#\/\?@]/g,f1=/[#\?:]/g,p1=/[#\?]/g,g1=/[#\?@]/g,my=/#/g;function Ia(C,B){this.h=this.g=null,this.i=C||null,this.j=!!B}function Xr(C){C.g||(C.g=new Map,C.h=0,C.i&&gy(C.i,function(B,Y){C.add(decodeURIComponent(B.replace(/\+/g," ")),Y)}))}t=Ia.prototype,t.add=function(C,B){Xr(this),this.i=null,C=to(this,C);var Y=this.g.get(C);return Y||this.g.set(C,Y=[]),Y.push(B),this.h+=1,this};function Oo(C,B){Xr(C),B=to(C,B),C.g.has(B)&&(C.i=null,C.h-=C.g.get(B).length,C.g.delete(B))}function Mo(C,B){return Xr(C),B=to(C,B),C.g.has(B)}t.forEach=function(C,B){Xr(this),this.g.forEach(function(Y,ae){Y.forEach(function(Se){C.call(B,Se,ae,this)},this)},this)},t.na=function(){Xr(this);const C=Array.from(this.g.values()),B=Array.from(this.g.keys()),Y=[];for(let ae=0;ae<B.length;ae++){const Se=C[ae];for(let Ie=0;Ie<Se.length;Ie++)Y.push(B[ae])}return Y},t.V=function(C){Xr(this);let B=[];if(typeof C=="string")Mo(this,C)&&(B=B.concat(this.g.get(to(this,C))));else{C=Array.from(this.g.values());for(let Y=0;Y<C.length;Y++)B=B.concat(C[Y])}return B},t.set=function(C,B){return Xr(this),this.i=null,C=to(this,C),Mo(this,C)&&(this.h-=this.g.get(C).length),this.g.set(C,[B]),this.h+=1,this},t.get=function(C,B){return C?(C=this.V(C),0<C.length?String(C[0]):B):B};function pc(C,B,Y){Oo(C,B),0<Y.length&&(C.i=null,C.g.set(to(C,B),y(Y)),C.h+=Y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const C=[],B=Array.from(this.g.keys());for(var Y=0;Y<B.length;Y++){var ae=B[Y];const Ie=encodeURIComponent(String(ae)),Ge=this.V(ae);for(ae=0;ae<Ge.length;ae++){var Se=Ie;Ge[ae]!==""&&(Se+="="+encodeURIComponent(String(Ge[ae]))),C.push(Se)}}return this.i=C.join("&")};function to(C,B){return B=String(B),C.j&&(B=B.toLowerCase()),B}function Pa(C,B){B&&!C.j&&(Xr(C),C.i=null,C.g.forEach(function(Y,ae){var Se=ae.toLowerCase();ae!=Se&&(Oo(this,ae),pc(this,Se,Y))},C)),C.j=B}function iA(C,B){const Y=new Ll;if(a.Image){const ae=new Image;ae.onload=p(Qi,Y,"TestLoadImage: loaded",!0,B,ae),ae.onerror=p(Qi,Y,"TestLoadImage: error",!1,B,ae),ae.onabort=p(Qi,Y,"TestLoadImage: abort",!1,B,ae),ae.ontimeout=p(Qi,Y,"TestLoadImage: timeout",!1,B,ae),a.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=C}else B(!1)}function m1(C,B){const Y=new Ll,ae=new AbortController,Se=setTimeout(()=>{ae.abort(),Qi(Y,"TestPingServer: timeout",!1,B)},1e4);fetch(C,{signal:ae.signal}).then(Ie=>{clearTimeout(Se),Ie.ok?Qi(Y,"TestPingServer: ok",!0,B):Qi(Y,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Se),Qi(Y,"TestPingServer: error",!1,B)})}function Qi(C,B,Y,ae,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),ae(Y)}catch{}}function sA(){this.g=new Ut}function y1(C,B,Y){const ae=Y||"";try{Ra(C,function(Se,Ie){let Ge=Se;u(Se)&&(Ge=nt(Se)),B.push(ae+Ie+"="+encodeURIComponent(Ge))})}catch(Se){throw B.push(ae+"type="+encodeURIComponent("_badmap")),Se}}function Bl(C){this.l=C.Ub||null,this.j=C.eb||!1}m(Bl,on),Bl.prototype.g=function(){return new Ud(this.l,this.j)},Bl.prototype.i=function(C){return function(){return C}}({});function Ud(C,B){we.call(this),this.D=C,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Ud,we),t=Ud.prototype,t.open=function(C,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=C,this.A=B,this.readyState=1,Do(this)},t.send=function(C){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};C&&(B.body=C),(this.D||a).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lo(this)),this.readyState=0},t.Sa=function(C){if(this.g&&(this.l=C,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=C.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")C.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in C){if(this.j=C.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;v1(this)}else C.text().then(this.Ra.bind(this),this.ga.bind(this))};function v1(C){C.j.read().then(C.Pa.bind(C)).catch(C.ga.bind(C))}t.Pa=function(C){if(this.g){if(this.o&&C.value)this.response.push(C.value);else if(!this.o){var B=C.value?C.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!C.done}))&&(this.response=this.responseText+=B)}C.done?Lo(this):Do(this),this.readyState==3&&v1(this)}},t.Ra=function(C){this.g&&(this.response=this.responseText=C,Lo(this))},t.Qa=function(C){this.g&&(this.response=C,Lo(this))},t.ga=function(){this.g&&Lo(this)};function Lo(C){C.readyState=4,C.l=null,C.j=null,C.v=null,Do(C)}t.setRequestHeader=function(C,B){this.u.append(C,B)},t.getResponseHeader=function(C){return this.h&&this.h.get(C.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const C=[],B=this.h.entries();for(var Y=B.next();!Y.done;)Y=Y.value,C.push(Y[0]+": "+Y[1]),Y=B.next();return C.join(`\r
`)};function Do(C){C.onreadystatechange&&C.onreadystatechange.call(C)}Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(C){this.m=C?"include":"same-origin"}});function $l(C){let B="";return O(C,function(Y,ae){B+=ae,B+=":",B+=Y,B+=`\r
`}),B}function gc(C,B,Y){e:{for(ae in Y){var ae=!1;break e}ae=!0}ae||(Y=$l(Y),typeof C=="string"?Y!=null&&encodeURIComponent(String(Y)):Tn(C,B,Y))}function Bn(C){we.call(this),this.headers=new Map,this.o=C||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Bn,we);var oA=/^https?$/i,yy=["POST","PUT"];t=Bn.prototype,t.Ha=function(C){this.J=C},t.ea=function(C,B,Y,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+C);B=B?B.toUpperCase():"GET",this.D=C,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yi.g(),this.v=this.o?Pi(this.o):Pi(Yi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(B,String(C),!0),this.B=!1}catch(Ie){Wd(this,Ie);return}if(C=Y||"",Y=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var Se in ae)Y.set(Se,ae[Se]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Ie of ae.keys())Y.set(Ie,ae.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(Y.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Se=a.FormData&&C instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yy,B,void 0))||ae||Se||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Ge]of Y)this.g.setRequestHeader(Ie,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pp(this),this.u=!0,this.g.send(C),this.u=!1}catch(Ie){Wd(this,Ie)}};function Wd(C,B){C.h=!1,C.g&&(C.j=!0,C.g.abort(),C.j=!1),C.l=B,C.m=5,fp(C),ks(C)}function fp(C){C.A||(C.A=!0,Re(C,"complete"),Re(C,"error"))}t.abort=function(C){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=C||7,Re(this,"complete"),Re(this,"abort"),ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),Bn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vy(this):this.bb())},t.bb=function(){vy(this)};function vy(C){if(C.h&&typeof o<"u"&&(!C.v[1]||Zi(C)!=4||C.Z()!=2)){if(C.u&&Zi(C)==4)et(C.Ea,0,C);else if(Re(C,"readystatechange"),Zi(C)==4){C.h=!1;try{const Ge=C.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var Y;if(!(Y=B)){var ae;if(ae=Ge===0){var Se=String(C.D).match(zl)[1]||null;!Se&&a.self&&a.self.location&&(Se=a.self.location.protocol.slice(0,-1)),ae=!oA.test(Se?Se.toLowerCase():"")}Y=ae}if(Y)Re(C,"complete"),Re(C,"success");else{C.m=6;try{var Ie=2<Zi(C)?C.g.statusText:""}catch{Ie=""}C.l=Ie+" ["+C.Z()+"]",fp(C)}}finally{ks(C)}}}}function ks(C,B){if(C.g){pp(C);const Y=C.g,ae=C.v[0]?()=>{}:null;C.g=null,C.v=null,B||Re(C,"ready");try{Y.onreadystatechange=ae}catch{}}}function pp(C){C.I&&(a.clearTimeout(C.I),C.I=null)}t.isActive=function(){return!!this.g};function Zi(C){return C.g?C.g.readyState:0}t.Z=function(){try{return 2<Zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(C){if(this.g){var B=this.g.responseText;return C&&B.indexOf(C)==0&&(B=B.substring(C.length)),pt(B)}};function by(C){try{if(!C.g)return null;if("response"in C.g)return C.g.response;switch(C.H){case"":case"text":return C.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in C.g)return C.g.mozResponseArrayBuffer}return null}catch{return null}}function gp(C){const B={};C=(C.g&&2<=Zi(C)&&C.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<C.length;ae++){if(x(C[ae]))continue;var Y=L(C[ae]);const Se=Y[0];if(Y=Y[1],typeof Y!="string")continue;Y=Y.trim();const Ie=B[Se]||[];B[Se]=Ie,Ie.push(Y)}A(B,function(ae){return ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(C,B,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[C]||B}function wy(C){this.Aa=0,this.i=[],this.j=new Ll,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,C),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,C),this.cb=Na("retryDelaySeedMs",1e4,C),this.Wa=Na("forwardChannelMaxRetries",2,C),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,C),this.pa=C&&C.xmlHttpFactory||void 0,this.Xa=C&&C.Tb||void 0,this.Ca=C&&C.useFetchStreams||!1,this.L=void 0,this.J=C&&C.supportsCrossDomainXhr||!1,this.K="",this.h=new ka(C&&C.concurrentRequestLimit),this.Da=new sA,this.P=C&&C.fastHandshake||!1,this.O=C&&C.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=C&&C.Rb||!1,C&&C.xa&&this.j.xa(),C&&C.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&C&&C.detectBufferingProxy||!1,this.ja=void 0,C&&C.longPollingTimeout&&0<C.longPollingTimeout&&(this.ja=C.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wy.prototype,t.la=8,t.G=1,t.connect=function(C,B,Y,ae){Yn(0),this.W=C,this.H=B||{},Y&&ae!==void 0&&(this.H.OSID=Y,this.H.OAID=ae),this.F=this.X,this.I=x1(this,null,this.W),Oa(this)};function Kr(C){if(mp(C),C.G==3){var B=C.U++,Y=Mi(C.I);if(Tn(Y,"SID",C.K),Tn(Y,"RID",B),Tn(Y,"TYPE","terminate"),Vl(C,Y),B=new Xi(C,C.j,B),B.L=2,B.v=hc(Mi(Y)),Y=!1,a.navigator&&a.navigator.sendBeacon)try{Y=a.navigator.sendBeacon(B.v.toString(),"")}catch{}!Y&&a.Image&&(new Image().src=B.v,Y=!0),Y||(B.g=E1(B.j,null),B.g.ea(B.v)),B.F=Date.now(),xn(B)}_1(C)}function Fo(C){C.g&&(_y(C),C.g.cancel(),C.g=null)}function mp(C){Fo(C),C.u&&(a.clearTimeout(C.u),C.u=null),bp(C),C.h.cancel(),C.s&&(typeof C.s=="number"&&a.clearTimeout(C.s),C.s=null)}function Oa(C){if(!Oi(C.h)&&!C.s){C.s=!0;var B=C.Ga;G||W(),Z||(G(),Z=!0),X.add(B,C),C.B=0}}function aA(C,B){return up(C.h)>=C.h.j-(C.s?1:0)?!1:C.s?(C.i=B.D.concat(C.i),!0):C.G==1||C.G==2||C.B>=(C.Va?0:C.Wa)?!1:(C.s=Cs(f(C.Ga,C,B),w1(C,C.B)),C.B++,!0)}t.Ga=function(C){if(this.s)if(this.s=null,this.G==1){if(!C){this.U=Math.floor(1e5*Math.random()),C=this.U++;const Se=new Xi(this,this.j,C);let Ie=this.o;if(this.S&&(Ie?(Ie=R(Ie),T(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(Se.H=Ie,Ie=null),this.P)e:{for(var B=0,Y=0;Y<this.i.length;Y++){t:{var ae=this.i[Y];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(B+=ae,4096<B){B=Y;break e}if(B===4096||Y===this.i.length-1){B=Y+1;break e}}B=1e3}else B=1e3;B=mc(this,Se,B),Y=Mi(this.I),Tn(Y,"RID",C),Tn(Y,"CVER",22),this.D&&Tn(Y,"X-HTTP-Session-Id",this.D),Vl(this,Y),Ie&&(this.O?B="headers="+encodeURIComponent(String($l(Ie)))+"&"+B:this.m&&gc(Y,this.m,Ie)),Hd(this.h,Se),this.Ua&&Tn(Y,"TYPE","init"),this.P?(Tn(Y,"$req",B),Tn(Y,"SID","null"),Se.T=!0,uc(Se,Y,null)):uc(Se,Y,B),this.G=2}}else this.G==3&&(C?yp(this,C):this.i.length==0||Oi(this.h)||yp(this))};function yp(C,B){var Y;B?Y=B.l:Y=C.U++;const ae=Mi(C.I);Tn(ae,"SID",C.K),Tn(ae,"RID",Y),Tn(ae,"AID",C.T),Vl(C,ae),C.m&&C.o&&gc(ae,C.m,C.o),Y=new Xi(C,C.j,Y,C.B+1),C.m===null&&(Y.H=C.o),B&&(C.i=B.D.concat(C.i)),B=mc(C,Y,1e3),Y.I=Math.round(.5*C.wa)+Math.round(.5*C.wa*Math.random()),Hd(C.h,Y),uc(Y,ae,B)}function Vl(C,B){C.H&&O(C.H,function(Y,ae){Tn(B,ae,Y)}),C.l&&Ra({},function(Y,ae){Tn(B,ae,Y)})}function mc(C,B,Y){Y=Math.min(C.i.length,Y);var ae=C.l?f(C.l.Na,C.l,C):null;e:{var Se=C.i;let Ie=-1;for(;;){const Ge=["count="+Y];Ie==-1?0<Y?(Ie=Se[0].g,Ge.push("ofs="+Ie)):Ie=0:Ge.push("ofs="+Ie);let vn=!0;for(let kr=0;kr<Y;kr++){let Zt=Se[kr].g;const Br=Se[kr].map;if(Zt-=Ie,0>Zt)Ie=Math.max(0,Se[kr].g-100),vn=!1;else try{y1(Br,Ge,"req"+Zt+"_")}catch{ae&&ae(Br)}}if(vn){ae=Ge.join("&");break e}}}return C=C.i.splice(0,Y),B.D=C,ae}function qd(C){if(!C.g&&!C.u){C.Y=1;var B=C.Fa;G||W(),Z||(G(),Z=!0),X.add(B,C),C.v=0}}function vp(C){return C.g||C.u||3<=C.v?!1:(C.Y++,C.u=Cs(f(C.Fa,C),w1(C,C.v)),C.v++,!0)}t.Fa=function(){if(this.u=null,b1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var C=2*this.R;this.j.info("BP detection timer enabled: "+C),this.A=Cs(f(this.ab,this),C)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yn(10),Fo(this),b1(this))};function _y(C){C.A!=null&&(a.clearTimeout(C.A),C.A=null)}function b1(C){C.g=new Xi(C,C.j,"rpc",C.Y),C.m===null&&(C.g.H=C.o),C.g.O=0;var B=Mi(C.qa);Tn(B,"RID","rpc"),Tn(B,"SID",C.K),Tn(B,"AID",C.T),Tn(B,"CI",C.F?"0":"1"),!C.F&&C.ja&&Tn(B,"TO",C.ja),Tn(B,"TYPE","xmlhttp"),Vl(C,B),C.m&&C.o&&gc(B,C.m,C.o),C.L&&(C.g.I=C.L);var Y=C.g;C=C.ia,Y.L=1,Y.v=hc(Mi(B)),Y.m=null,Y.P=!0,$d(Y,C)}t.Za=function(){this.C!=null&&(this.C=null,Fo(this),vp(this),Yn(19))};function bp(C){C.C!=null&&(a.clearTimeout(C.C),C.C=null)}function wp(C,B){var Y=null;if(C.g==B){bp(C),_y(C),C.g=null;var ae=2}else if(Yr(C.h,B))Y=B.D,cp(C.h,B),ae=1;else return;if(C.G!=0){if(B.o)if(ae==1){Y=B.m?B.m.length:0,B=Date.now()-B.F;var Se=C.B;ae=Io(),Re(ae,new sc(ae,Y)),Oa(C)}else qd(C);else if(Se=B.s,Se==3||Se==0&&0<B.X||!(ae==1&&aA(C,B)||ae==2&&vp(C)))switch(Y&&0<Y.length&&(B=C.h,B.i=B.i.concat(Y)),Se){case 1:Hl(C,5);break;case 4:Hl(C,10);break;case 3:Hl(C,6);break;default:Hl(C,2)}}}function w1(C,B){let Y=C.Ta+Math.floor(Math.random()*C.cb);return C.isActive()||(Y*=2),Y*B}function Hl(C,B){if(C.j.info("Error code "+B),B==2){var Y=f(C.fb,C),ae=C.Xa;const Se=!ae;ae=new Ts(ae||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jl(ae,"https"),hc(ae),Se?iA(ae.toString(),Y):m1(ae.toString(),Y)}else Yn(2);C.G=0,C.l&&C.l.sa(B),_1(C),mp(C)}t.fb=function(C){C?(this.j.info("Successfully pinged google.com"),Yn(2)):(this.j.info("Failed to ping google.com"),Yn(1))};function _1(C){if(C.G=0,C.ka=[],C.l){const B=dp(C.h);(B.length!=0||C.i.length!=0)&&(b(C.ka,B),b(C.ka,C.i),C.h.i.length=0,y(C.i),C.i.length=0),C.l.ra()}}function x1(C,B,Y){var ae=Y instanceof Ts?Mi(Y):new Ts(Y);if(ae.g!="")B&&(ae.g=B+"."+ae.g),No(ae,ae.s);else{var Se=a.location;ae=Se.protocol,B=B?B+"."+Se.hostname:Se.hostname,Se=+Se.port;var Ie=new Ts(null);ae&&jl(Ie,ae),B&&(Ie.g=B),Se&&No(Ie,Se),Y&&(Ie.l=Y),ae=Ie}return Y=C.D,B=C.ya,Y&&B&&Tn(ae,Y,B),Tn(ae,"VER",C.la),Vl(C,ae),ae}function E1(C,B,Y){if(B&&!C.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=C.Ca&&!C.pa?new Bn(new Bl({eb:Y})):new Bn(C.pa),B.Ha(C.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xy(){}t=xy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _p(){}_p.prototype.g=function(C,B){return new Li(C,B)};function Li(C,B){we.call(this),this.g=new wy(B),this.l=C,this.h=B&&B.messageUrlParams||null,C=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"}),this.g.o=C,C=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(C?C["X-WebChannel-Content-Type"]=B.messageContentType:C={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(C?C["X-WebChannel-Client-Profile"]=B.va:C={"X-WebChannel-Client-Profile":B.va}),this.g.S=C,(C=B&&B.Sb)&&!x(C)&&(this.g.m=C),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!x(B)&&(this.g.D=B,C=this.h,C!==null&&B in C&&(C=this.h,B in C&&delete C[B])),this.j=new Ma(this)}m(Li,we),Li.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Li.prototype.close=function(){Kr(this.g)},Li.prototype.o=function(C){var B=this.g;if(typeof C=="string"){var Y={};Y.__data__=C,C=Y}else this.u&&(Y={},Y.__data__=nt(C),C=Y);B.i.push(new lp(B.Ya++,C)),B.G==3&&Oa(B)},Li.prototype.N=function(){this.g.l=null,delete this.j,Kr(this.g),delete this.g,Li.aa.N.call(this)};function S1(C){pr.call(this),C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);var B=C.__sm__;if(B){e:{for(const Y in B){C=Y;break e}C=void 0}(this.i=C)&&(C=this.i,B=B!==null&&C in B?B[C]:void 0),this.data=B}else this.data=C}m(S1,pr);function C1(){Ni.call(this),this.status=1}m(C1,Ni);function Ma(C){this.g=C}m(Ma,xy),Ma.prototype.ua=function(){Re(this.g,"a")},Ma.prototype.ta=function(C){Re(this.g,new S1(C))},Ma.prototype.sa=function(C){Re(this.g,new C1)},Ma.prototype.ra=function(){Re(this.g,"b")},_p.prototype.createWebChannel=_p.prototype.g,Li.prototype.send=Li.prototype.o,Li.prototype.open=Li.prototype.m,Li.prototype.close=Li.prototype.close,XV=function(){return new _p},YV=function(){return Io()},GV=Gi,yI={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,bx=ac,rp.COMPLETE="complete",qV=rp,eo.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",we.prototype.listen=we.prototype.K,Cv=eo,Bn.prototype.listenOnce=Bn.prototype.L,Bn.prototype.getLastError=Bn.prototype.Ka,Bn.prototype.getLastErrorCode=Bn.prototype.Ba,Bn.prototype.getStatus=Bn.prototype.Z,Bn.prototype.getResponseJson=Bn.prototype.Oa,Bn.prototype.getResponseText=Bn.prototype.oa,Bn.prototype.send=Bn.prototype.ea,Bn.prototype.setWithCredentials=Bn.prototype.Ha,WV=Bn}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});const h5="@firebase/firestore",f5="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf=new yV("@firebase/firestore");function rg(){return Rf.logLevel}function rt(t,...e){if(Rf.logLevel<=nn.DEBUG){const n=e.map(vN);Rf.debug(`Firestore (${ty}): ${t}`,...n)}}function Xu(t,...e){if(Rf.logLevel<=nn.ERROR){const n=e.map(vN);Rf.error(`Firestore (${ty}): ${t}`,...n)}}function Om(t,...e){if(Rf.logLevel<=nn.WARN){const n=e.map(vN);Rf.warn(`Firestore (${ty}): ${t}`,...n)}}function vN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KV(t,r,n)}function KV(t,e,n){let r=`FIRESTORE (${ty}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xu(r),new Error(r)}function yn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KV(e,i,r)}function Dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Hf{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ci.UNAUTHENTICATED))}shutdown(){}}class vie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bie{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ju;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ju,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ju)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yn(typeof r.accessToken=="string",31837,{l:r}),new QV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yn(e===null||typeof e=="string",2055,{h:e}),new Ci(e)}}class wie{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _ie{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wie(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xie{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_V(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yn(this.o===void 0,3512);const r=s=>{s.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,rt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new p5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Eie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function vI(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return jt(r,i);{const s=ZV(),o=Sie(s.encode(g5(t,n)),s.encode(g5(e,n)));return o!==0?o:jt(r,i)}}n+=r>65535?2:1}return jt(t.length,e.length)}function g5(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Sie(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return jt(t[n],e[n]);return jt(t.length,e.length)}function Mm(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=-62135596800,y5=1e6;class zr{static now(){return zr.fromMillis(Date.now())}static fromDate(e){return zr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*y5);return new zr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m5)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y5}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-m5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new zr(0,0))}static max(){return new Lt(new zr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="__name__";class Wa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Tt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Tt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Wa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return jt(e.length,n.length)}static compareSegments(e,n){const r=Wa.isNumericId(e),i=Wa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wa.extractNumericId(e).compare(Wa.extractNumericId(n)):vI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wd.fromString(e.substring(4,e.length-2))}}class jn extends Wa{construct(e,n,r){return new jn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new jn(n)}static emptyPath(){return new jn([])}}const Cie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends Wa{construct(e,n,r){return new ui(e,n,r)}static isValidIdentifier(e){return Cie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v5}static keyField(){return new ui([v5])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new lt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new lt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new lt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ui(n)}static emptyPath(){return new ui([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(jn.fromString(e))}static fromName(e){return new bt(jn.fromString(e).popFirst(5))}static empty(){return new bt(jn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new jn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=-1;function Aie(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(r===1e9?new zr(n+1,0):new zr(n,r));return new Ed(i,bt.empty(),e)}function Tie(t){return new Ed(t.readTime,t.key,T0)}class Ed{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ed(Lt.min(),bt.empty(),T0)}static max(){return new Ed(Lt.max(),bt.empty(),T0)}}function kie(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=bt.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Iie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ny(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==Rie)throw t;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Pie(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ry(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}QS.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=-1;function ZS(t){return t==null}function NE(t){return t===0&&1/t==-1/0}function Nie(t){return typeof t=="number"&&Number.isInteger(t)&&!NE(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="";function Oie(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=b5(e)),e=Mie(t.get(n),e);return b5(e)}function Mie(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case e9:n+="";break;default:n+=s}}return n}function b5(t){return t+e9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.comparator=e,this.root=n||ai.EMPTY}insert(e,n){return new er(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P_(this.root,e,this.comparator,!1)}getReverseIterator(){return new P_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P_(this.root,e,this.comparator,!0)}}class P_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ai{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ai.RED,this.left=i??ai.EMPTY,this.right=s??ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ai(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Tt(27949);return e+(this.isRed()?0:1)}}ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ai(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _5(this.data.getIterator())}getIteratorFrom(e){return new _5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jr(this.comparator);return n.data=e,n}}class _5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.fields=e,e.sort(ui.comparator)}static empty(){return new pa([])}unionWith(e){let n=new jr(ui.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new n9("Invalid base64 string: "+s):s}}(e);return new di(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const Lie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sd(t){if(yn(!!t,39018),typeof t=="string"){let e=0;const n=Lie.exec(t);if(yn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dr(t.seconds),nanos:dr(t.nanos)}}function dr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cd(t){return typeof t=="string"?di.fromBase64String(t):di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="server_timestamp",i9="__type__",s9="__previous_value__",o9="__local_write_time__";function wN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[i9])===null||n===void 0?void 0:n.stringValue)===r9}function JS(t){const e=t.mapValue.fields[s9];return wN(e)?JS(e):e}function k0(t){const e=Sd(t.mapValue.fields[o9].timestampValue);return new zr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Die{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const OE="(default)";class R0{constructor(e,n){this.projectId=e,this.database=n||OE}static empty(){return new R0("","")}get isDefaultDatabase(){return this.database===OE}isEqual(e){return e instanceof R0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="__type__",Fie="__max__",N_={mapValue:{}},l9="__vector__",ME="value";function Ad(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wN(t)?4:jie(t)?9007199254740991:zie(t)?10:11:Tt(28295,{value:t})}function Tl(t,e){if(t===e)return!0;const n=Ad(t);if(n!==Ad(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return k0(t).isEqual(k0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Sd(i.timestampValue),a=Sd(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Cd(i.bytesValue).isEqual(Cd(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dr(i.geoPointValue.latitude)===dr(s.geoPointValue.latitude)&&dr(i.geoPointValue.longitude)===dr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dr(i.integerValue)===dr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dr(i.doubleValue),a=dr(s.doubleValue);return o===a?NE(o)===NE(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Mm(t.arrayValue.values||[],e.arrayValue.values||[],Tl);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(w5(o)!==w5(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tl(o[l],a[l])))return!1;return!0}(t,e);default:return Tt(52216,{left:t})}}function I0(t,e){return(t.values||[]).find(n=>Tl(n,e))!==void 0}function Lm(t,e){if(t===e)return 0;const n=Ad(t),r=Ad(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dr(s.integerValue||s.doubleValue),l=dr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return x5(t.timestampValue,e.timestampValue);case 4:return x5(k0(t),k0(e));case 5:return vI(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Cd(s),l=Cd(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=jt(a[u],l[u]);if(c!==0)return c}return jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=jt(dr(s.latitude),dr(o.latitude));return a!==0?a:jt(dr(s.longitude),dr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return E5(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},f=o.fields||{},p=(a=d[ME])===null||a===void 0?void 0:a.arrayValue,m=(l=f[ME])===null||l===void 0?void 0:l.arrayValue,y=jt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:E5(p,m)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===N_.mapValue&&o===N_.mapValue)return 0;if(s===N_.mapValue)return 1;if(o===N_.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=vI(l[d],c[d]);if(f!==0)return f;const p=Lm(a[l[d]],u[c[d]]);if(p!==0)return p}return jt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Tt(23264,{Pe:n})}}function x5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=Sd(t),r=Sd(e),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function E5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Lm(n[i],r[i]);if(s)return s}return jt(n.length,r.length)}function Dm(t){return bI(t)}function bI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sd(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Cd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return bt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bI(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bI(n.fields[o])}`;return i+"}"}(t.mapValue):Tt(61005,{value:t})}function wx(t){switch(Ad(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=JS(t);return e?16+wx(e):16;case 5:return 2*t.stringValue.length;case 6:return Cd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+wx(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Uf(r.fields,(s,o)=>{i+=s.length+wx(o)}),i}(t.mapValue);default:throw Tt(13486,{value:t})}}function S5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wI(t){return!!t&&"integerValue"in t}function _N(t){return!!t&&"arrayValue"in t}function C5(t){return!!t&&"nullValue"in t}function A5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _x(t){return!!t&&"mapValue"in t}function zie(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[a9])===null||n===void 0?void 0:n.stringValue)===l9}function Jv(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jv(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jv(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jie(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Fie}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_x(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jv(n)}setAll(e){let n=ui.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Jv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_x(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tl(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_x(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uf(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wo(Jv(this.value))}}function u9(t){const e=[];return Uf(t.fields,(n,r)=>{const i=new ui([n]);if(_x(r)){const s=u9(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ti(e,0,Lt.min(),Lt.min(),Lt.min(),wo.empty(),0)}static newFoundDocument(e,n,r,i){return new Ti(e,1,n,Lt.min(),r,i,0)}static newNoDocument(e,n){return new Ti(e,2,n,Lt.min(),Lt.min(),wo.empty(),0)}static newUnknownDocument(e,n){return new Ti(e,3,n,Lt.min(),Lt.min(),wo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.position=e,this.inclusive=n}}function T5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=bt.comparator(bt.fromName(o.referenceValue),n.key):r=Lm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tl(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n="asc"){this.field=e,this.dir=n}}function Bie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{}class xr extends c9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vie(e,n,r):n==="array-contains"?new Wie(e,r):n==="in"?new qie(e,r):n==="not-in"?new Gie(e,r):n==="array-contains-any"?new Yie(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hie(e,r):new Uie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lm(n,this.value)):n!==null&&Ad(this.value)===Ad(n)&&this.matchesComparison(Lm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ma extends c9{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new ma(e,n)}matches(e){return d9(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function d9(t){return t.op==="and"}function h9(t){return $ie(t)&&d9(t)}function $ie(t){for(const e of t.filters)if(e instanceof ma)return!1;return!0}function _I(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+Dm(t.value);if(h9(t))return t.filters.map(e=>_I(e)).join(",");{const e=t.filters.map(n=>_I(n)).join(",");return`${t.op}(${e})`}}function f9(t,e){return t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.field.isEqual(i.field)&&Tl(r.value,i.value)}(t,e):t instanceof ma?function(r,i){return i instanceof ma&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&f9(o,i.filters[a]),!0):!1}(t,e):void Tt(19439)}function p9(t){return t instanceof xr?function(n){return`${n.field.canonicalString()} ${n.op} ${Dm(n.value)}`}(t):t instanceof ma?function(n){return n.op.toString()+" {"+n.getFilters().map(p9).join(" ,")+"}"}(t):"Filter"}class Vie extends xr{constructor(e,n,r){super(e,n,r),this.key=bt.fromName(r.referenceValue)}matches(e){const n=bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hie extends xr{constructor(e,n){super(e,"in",n),this.keys=g9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uie extends xr{constructor(e,n){super(e,"not-in",n),this.keys=g9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>bt.fromName(r.referenceValue))}class Wie extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _N(n)&&I0(n.arrayValue,this.value)}}class qie extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&I0(this.value.arrayValue,n)}}class Gie extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(I0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!I0(this.value.arrayValue,n)}}class Yie extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_N(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>I0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function R5(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xie(t,e,n,r,i,s,o)}function xN(t){const e=Dt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_I(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ZS(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Dm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Dm(r)).join(",")),e.Ie=n}return e.Ie}function EN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Bie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k5(t.startAt,e.startAt)&&k5(t.endAt,e.endAt)}function xI(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Kie(t,e,n,r,i,s,o,a){return new Dw(t,e,n,r,i,s,o,a)}function SN(t){return new Dw(t)}function I5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m9(t){return t.collectionGroup!==null}function e0(t){const e=Dt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new jr(ui.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new DE(s,r))}),n.has(ui.keyField().canonicalString())||e.Ee.push(new DE(ui.keyField(),r))}return e.Ee}function bl(t){const e=Dt(t);return e.de||(e.de=Qie(e,e0(t))),e.de}function Qie(t,e){if(t.limitType==="F")return R5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new DE(i.field,s)});const n=t.endAt?new LE(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new LE(t.startAt.position,t.startAt.inclusive):null;return R5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function EI(t,e){const n=t.filters.concat([e]);return new Dw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function SI(t,e,n){return new Dw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eC(t,e){return EN(bl(t),bl(e))&&t.limitType===e.limitType}function y9(t){return`${xN(bl(t))}|lt:${t.limitType}`}function ig(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>p9(i)).join(", ")}]`),ZS(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Dm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Dm(i)).join(",")),`Target(${r})`}(bl(t))}; limitType=${t.limitType})`}function tC(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):bt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of e0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=T5(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,e0(r),i)||r.endAt&&!function(o,a,l){const u=T5(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,e0(r),i))}(t,e)}function Zie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v9(t){return(e,n)=>{let r=!1;for(const i of e0(t)){const s=Jie(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Jie(t,e,n){const r=t.field.isKeyField()?bt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Lm(l,u):Tt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uf(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return t9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese=new er(bt.comparator);function Ku(){return ese}const b9=new er(bt.comparator);function Av(...t){let e=b9;for(const n of t)e=e.insert(n.key,n);return e}function w9(t){let e=b9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bh(){return t0()}function _9(){return t0()}function t0(){return new Wf(t=>t.toString(),(t,e)=>t.isEqual(e))}const tse=new er(bt.comparator),nse=new jr(bt.comparator);function Xt(...t){let e=nse;for(const n of t)e=e.add(n);return e}const rse=new jr(jt);function ise(){return rse}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:NE(e)?"-0":e}}function x9(t){return{integerValue:""+t}}function sse(t,e){return Nie(e)?x9(e):CN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this._=void 0}}function ose(t,e,n){return t instanceof FE?function(i,s){const o={fields:{[i9]:{stringValue:r9},[o9]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wN(s)&&(s=JS(s)),s&&(o.fields[s9]=s),{mapValue:o}}(n,e):t instanceof P0?S9(t,e):t instanceof N0?C9(t,e):function(i,s){const o=E9(i,s),a=P5(o)+P5(i.Re);return wI(o)&&wI(i.Re)?x9(a):CN(i.serializer,a)}(t,e)}function ase(t,e,n){return t instanceof P0?S9(t,e):t instanceof N0?C9(t,e):n}function E9(t,e){return t instanceof zE?function(r){return wI(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class FE extends nC{}class P0 extends nC{constructor(e){super(),this.elements=e}}function S9(t,e){const n=A9(e);for(const r of t.elements)n.some(i=>Tl(i,r))||n.push(r);return{arrayValue:{values:n}}}class N0 extends nC{constructor(e){super(),this.elements=e}}function C9(t,e){let n=A9(e);for(const r of t.elements)n=n.filter(i=>!Tl(i,r));return{arrayValue:{values:n}}}class zE extends nC{constructor(e,n){super(),this.serializer=e,this.Re=n}}function P5(t){return dr(t.integerValue||t.doubleValue)}function A9(t){return _N(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lse(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof P0&&i instanceof P0||r instanceof N0&&i instanceof N0?Mm(r.elements,i.elements,Tl):r instanceof zE&&i instanceof zE?Tl(r.Re,i.Re):r instanceof FE&&i instanceof FE}(t.transform,e.transform)}class use{constructor(e,n){this.version=e,this.transformResults=n}}class Bu{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bu}static exists(e){return new Bu(void 0,e)}static updateTime(e){return new Bu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rC{}function T9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new R9(t.key,Bu.none()):new Fw(t.key,t.data,Bu.none());{const n=t.data,r=wo.empty();let i=new jr(ui.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qf(t.key,r,new pa(i.toArray()),Bu.none())}}function cse(t,e,n){t instanceof Fw?function(i,s,o){const a=i.value.clone(),l=O5(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qf?function(i,s,o){if(!xx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=O5(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(k9(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function n0(t,e,n,r){return t instanceof Fw?function(s,o,a,l){if(!xx(s.precondition,o))return a;const u=s.value.clone(),c=M5(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qf?function(s,o,a,l){if(!xx(s.precondition,o))return a;const u=M5(s.fieldTransforms,l,o),c=o.data;return c.setAll(k9(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return xx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dse(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=E9(r.transform,i||null);s!=null&&(n===null&&(n=wo.empty()),n.set(r.field,s))}return n||null}function N5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mm(r,i,(s,o)=>lse(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fw extends rC{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qf extends rC{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function O5(t,e,n){const r=new Map;yn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ase(o,a,n[i]))}return r}function M5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ose(s,o,e))}return r}class R9 extends rC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hse extends rC{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cse(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=n0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_9();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=T9(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Mm(this.mutations,e.mutations,(n,r)=>N5(n,r))&&Mm(this.baseMutations,e.baseMutations,(n,r)=>N5(n,r))}}class AN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return tse}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new AN(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,Jt;function mse(t){switch(t){case Fe.OK:return Tt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return Tt(15467,{code:t})}}function I9(t){if(t===void 0)return Xu("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case vr.OK:return Fe.OK;case vr.CANCELLED:return Fe.CANCELLED;case vr.UNKNOWN:return Fe.UNKNOWN;case vr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case vr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case vr.INTERNAL:return Fe.INTERNAL;case vr.UNAVAILABLE:return Fe.UNAVAILABLE;case vr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case vr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case vr.NOT_FOUND:return Fe.NOT_FOUND;case vr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case vr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case vr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case vr.ABORTED:return Fe.ABORTED;case vr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case vr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case vr.DATA_LOSS:return Fe.DATA_LOSS;default:return Tt(39323,{code:t})}}(Jt=vr||(vr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse=new wd([4294967295,4294967295],0);function L5(t){const e=ZV().encode(t),n=new UV;return n.update(e),new Uint8Array(n.digest())}function D5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wd([n,r],0),new wd([i,s],0)]}class TN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tv(`Invalid padding: ${n}`);if(r<0)throw new Tv(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tv(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tv(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=wd.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(wd.fromNumber(r)));return i.compare(yse)===1&&(i=new wd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=L5(e),[r,i]=D5(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new TN(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=L5(e),[r,i]=D5(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zw.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iC(Lt.min(),i,new er(jt),Ku(),Xt())}}class zw{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zw(r,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class P9{constructor(e,n){this.targetId=e,this.Ce=n}}class N9{constructor(e,n,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class F5{constructor(){this.Fe=0,this.Me=z5(),this.xe=di.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Xt(),n=Xt(),r=Xt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Tt(38017,{changeType:s})}}),new zw(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=z5()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,yn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class vse{constructor(e){this.ze=e,this.je=new Map,this.He=Ku(),this.Je=O_(),this.Ye=O_(),this.Ze=new er(jt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Tt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(xI(s))if(r===0){const o=new bt(s.path);this.tt(n,o,Ti.newNoDocument(o,Lt.min()))}else yn(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Cd(r).toUint8Array()}catch(l){if(l instanceof n9)return Om("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TN(o,i,s)}catch(l){return Om(l instanceof Tv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&xI(a.target)){const l=new bt(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ti.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Xt();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new iC(e,n,this.Ze,this.He,r);return this.He=Ku(),this.Je=O_(),this.Ye=O_(),this.Ze=new er(jt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new F5,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new jr(jt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new jr(jt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new F5),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function O_(){return new er(bt.comparator)}function z5(){return new er(bt.comparator)}const bse={asc:"ASCENDING",desc:"DESCENDING"},wse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_se={and:"AND",or:"OR"};class xse{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CI(t,e){return t.useProto3Json||ZS(e)?e:{value:e}}function jE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ese(t,e){return jE(t,e.toTimestamp())}function wl(t){return yn(!!t,49232),Lt.fromTimestamp(function(n){const r=Sd(n);return new zr(r.seconds,r.nanos)}(t))}function kN(t,e){return AI(t,e).canonicalString()}function AI(t,e){const n=function(i){return new jn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function M9(t){const e=jn.fromString(t);return yn(j9(e),10190,{key:e.toString()}),e}function TI(t,e){return kN(t.databaseId,e.path)}function JT(t,e){const n=M9(e);if(n.get(1)!==t.databaseId.projectId)throw new lt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new lt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(D9(n))}function L9(t,e){return kN(t.databaseId,e)}function Sse(t){const e=M9(t);return e.length===4?jn.emptyPath():D9(e)}function kI(t){return new jn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D9(t){return yn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function j5(t,e,n){return{name:TI(t,e),fields:n.value.mapValue.fields}}function Cse(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Tt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(yn(c===void 0||typeof c=="string",58123),di.fromBase64String(c||"")):(yn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),di.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Fe.UNKNOWN:I9(u.code);return new lt(c,u.message||"")}(o);n=new N9(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=JT(t,r.document.name),s=wl(r.document.updateTime),o=r.document.createTime?wl(r.document.createTime):Lt.min(),a=new wo({mapValue:{fields:r.document.fields}}),l=Ti.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ex(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=JT(t,r.document),s=r.readTime?wl(r.readTime):Lt.min(),o=Ti.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ex([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=JT(t,r.document),s=r.removedTargetIds||[];n=new Ex([],s,i,null)}else{if(!("filter"in e))return Tt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gse(i,s),a=r.targetId;n=new P9(a,o)}}return n}function Ase(t,e){let n;if(e instanceof Fw)n={update:j5(t,e.key,e.value)};else if(e instanceof R9)n={delete:TI(t,e.key)};else if(e instanceof qf)n={update:j5(t,e.key,e.data),updateMask:Lse(e.fieldMask)};else{if(!(e instanceof hse))return Tt(16599,{ft:e.type});n={verify:TI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof FE)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof P0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof N0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zE)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Tt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Ese(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Tt(27497)}(t,e.precondition)),n}function Tse(t,e){return t&&t.length>0?(yn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?wl(i.updateTime):wl(s);return o.isEqual(Lt.min())&&(o=wl(s)),new use(o,i.transformResults||[])}(n,e))):[]}function kse(t,e){return{documents:[L9(t,e.path)]}}function Rse(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L9(t,i);const s=function(u){if(u.length!==0)return z9(ma.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:sg(f.field),direction:Nse(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=CI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function Ise(t){let e=Sse(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=F9(d);return f instanceof ma&&h9(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new DE(og(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,ZS(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new LE(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new LE(p,f)}(n.endAt)),Kie(e,i,o,s,a,"F",l,u)}function Pse(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F9(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=og(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=og(n.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=og(n.unaryFilter.field);return xr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=og(n.unaryFilter.field);return xr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(t):t.fieldFilter!==void 0?function(n){return xr.create(og(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ma.create(n.compositeFilter.filters.map(r=>F9(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(t):Tt(30097,{filter:t})}function Nse(t){return bse[t]}function Ose(t){return wse[t]}function Mse(t){return _se[t]}function sg(t){return{fieldPath:t.canonicalString()}}function og(t){return ui.fromServerFormat(t.fieldPath)}function z9(t){return t instanceof xr?function(n){if(n.op==="=="){if(A5(n.value))return{unaryFilter:{field:sg(n.field),op:"IS_NAN"}};if(C5(n.value))return{unaryFilter:{field:sg(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A5(n.value))return{unaryFilter:{field:sg(n.field),op:"IS_NOT_NAN"}};if(C5(n.value))return{unaryFilter:{field:sg(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sg(n.field),op:Ose(n.op),value:n.value}}}(t):t instanceof ma?function(n){const r=n.getFilters().map(i=>z9(i));return r.length===1?r[0]:{compositeFilter:{op:Mse(n.op),filters:r}}}(t):Tt(54877,{filter:t})}function Lse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i,s=Lt.min(),o=Lt.min(),a=di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new gd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e){this.wt=e}}function Fse(t){const e=Ise({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?SI(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(){this.Cn=new jse}addToCollectionParentIndex(e,n){return this.Cn.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Ed.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Ed.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class jse{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jr(jn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jr(jn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B9=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(B9,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Fm(0)}static lr(){return new Fm(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="LruGarbageCollector",Bse=1048576;function V5([t,e],[n,r]){const i=jt(t,n);return i===0?jt(e,r):i}class $se{constructor(e){this.Er=e,this.buffer=new jr(V5),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vse{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){rt($5,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ry(n)?rt($5,"Ignoring IndexedDB error during garbage collection: ",n):await ny(n)}await this.mr(3e5)})}}class Hse{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return De.resolve(QS.le);const r=new $se(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(B5)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B5):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),rg()<=nn.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Use(t,e){return new Hse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(){this.changes=new Wf(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ti.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&n0(r.mutation,i,pa.empty(),zr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=bh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Av();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ku();const o=t0(),a=function(){return t0()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof qf)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),n0(c.mutation,u,c.mutation.getFieldMask(),zr.now())):o.set(u.key,pa.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new qse(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=t0();let i=new er((o,a)=>o-a),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||pa.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Xt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=_9();c.forEach(f=>{if(!s.has(f)){const p=T9(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return De.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve(bh());let a=T0,l=s;return o.next(u=>De.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?De.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Xt())).next(c=>({batchId:a,changes:w9(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new bt(n)).next(r=>{let i=Av();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Av();return this.indexManager.getCollectionParents(e,s).next(a=>De.forEach(a,l=>{const u=function(d,f){return new Dw(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ti.newInvalidDocument(c)))});let a=Av();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&n0(c.mutation,u,pa.empty(),zr.now()),tC(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return De.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wl(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:Fse(i.bundledQuery),readTime:wl(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(){this.overlays=new er(bt.comparator),this.Qr=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bh();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=bh(),s=n.length+1,o=new bt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new er((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=bh(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=bh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return De.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pse(n,r));let s=this.Qr.get(n);s===void 0&&(s=Xt(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(){this.sessionToken=di.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.$r=new jr(qr.Ur),this.Kr=new jr(qr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new qr(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new qr(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new bt(new jn([])),r=new qr(n,e),i=new qr(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new bt(new jn([])),r=new qr(n,e),i=new qr(n,e+1);let s=Xt();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qr(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qr{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return bt.comparator(e.key,n.key)||jt(e.Zr,n.Zr)}static Wr(e,n){return jt(e.Zr,n.Zr)||bt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new jr(qr.Ur)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fse(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new qr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return De.resolve(o)}lookupMutationBatch(e,n){return De.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?bN:this.nr-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qr(n,0),i=new qr(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jr(jt);return n.forEach(i=>{const s=new qr(i,0),o=new qr(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),De.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;bt.isDocumentKey(s)||(s=s.child(""));const o=new qr(new bt(s),0);let a=new jr(jt);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),De.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yn(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return De.forEach(n.mutations,i=>{const s=new qr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new qr(n,0),i=this.Xr.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zse{constructor(e){this.ii=e,this.docs=function(){return new er(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Ti.newInvalidDocument(n))}getEntries(e,n){let r=Ku();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ti.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ku();const o=n.path,a=new bt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kie(Tie(c),r)<=0||(i.has(c.key)||tC(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Tt(9500)}si(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jse(this)}getSize(e){return De.resolve(this.size)}}class Jse extends Wse{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(e){this.persistence=e,this.oi=new Wf(n=>xN(n),EN),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this._i=0,this.ai=new RN,this.targetCount=0,this.ui=Fm.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),De.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Fm(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.Tr(n),De.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.ci={},this.overlays={},this.li=new QS(0),this.hi=!1,this.hi=!0,this.Pi=new Kse,this.referenceDelegate=e(this),this.Ti=new eoe(this),this.indexManager=new zse,this.remoteDocumentCache=function(i){return new Zse(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Dse(n),this.Ei=new Yse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new Qse(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){rt("MemoryPersistence","Starting transaction:",e);const i=new toe(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return De.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class toe extends Iie{constructor(e){super(),this.currentSequenceNumber=e}}class IN{constructor(e){this.persistence=e,this.Vi=new RN,this.mi=null}static fi(e){return new IN(e)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),De.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.gi,r=>{const i=bt.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,Lt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return De.or([()=>De.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class BE{constructor(e,n){this.persistence=e,this.yi=new Wf(r=>Oie(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Use(this,n)}static fi(e,n){return new BE(e,n)}di(){}Ai(e){return De.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return De.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?De.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Lt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),De.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),De.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),De.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wx(e.data.value)),n}Dr(e,n,r){return De.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return De.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Xt(),i=Xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new PN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Vte()?8:Pie(Bte())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.bs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new noe;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(rg()<=nn.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ig(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),De.resolve()):(rg()<=nn.DEBUG&&rt("QueryEngine","Query:",ig(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(rg()<=nn.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ig(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bl(n))):De.resolve())}ws(e,n){if(I5(n))return De.resolve(null);let r=bl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=SI(n,null,"F"),r=bl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Xt(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,SI(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return I5(n)||i.isEqual(Lt.min())?De.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?De.resolve(null):(rg()<=nn.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ig(n)),this.Fs(e,o,n,Aie(i,T0)).next(a=>a))})}vs(e,n){let r=new jr(v9(e));return n.forEach((i,s)=>{tC(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return rg()<=nn.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ig(n)),this.ys.getDocumentsMatchingQuery(e,n,Ed.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="LocalStore",ioe=3e8;class soe{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new er(jt),this.Os=new Wf(s=>xN(s),EN),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gse(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function ooe(t,e,n,r){return new soe(t,e,n,r)}async function V9(t,e){const n=Dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Xt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function aoe(t,e){const n=Dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let p=De.resolve();return f.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const b=u.docVersions.get(m);yn(b!==null,48541),y.version.compareTo(b)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Xt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function H9(t){const e=Dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function loe(t,e){const n=Dt(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ti.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(di.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,b,v){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=ioe?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.Ti.updateTargetData(s,p))});let l=Ku(),u=Xt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(uoe(s,o,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(Lt.min())){const c=n.Ti.getLastRemoteSnapshotVersion(s).next(d=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return De.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function uoe(t,e,n){let r=Xt(),i=Xt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ku();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Lt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):rt(NN,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function coe(t,e){const n=Dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=bN),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function doe(t,e){const n=Dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new gd(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function RI(t,e,n){const r=Dt(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ry(o))throw o;rt(NN,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function H5(t,e,n){const r=Dt(t);let i=Lt.min(),s=Xt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Dt(l),f=d.Os.get(c);return f!==void 0?De.resolve(d.xs.get(f)):d.Ti.getTargetData(u,c)}(r,o,bl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:Lt.min(),n?s:Xt())).next(a=>(hoe(r,Zie(e),a),{documents:a,$s:s})))}function hoe(t,e,n){let r=t.Ns.get(e)||Lt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class U5{constructor(){this.activeTargetIds=ise()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class foe{constructor(){this.xo=new U5,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new U5,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="ConnectivityMonitor";class q5{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){rt(W5,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){rt(W5,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M_=null;function II(){return M_===null?M_=function(){return 268435456+Math.round(2147483648*Math.random())}():M_++,"0x"+M_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="RestConnection",goe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class moe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===OE?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=II(),a=this.jo(e,n.toUriEncodedString());rt(ek,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),c=Lw(u);return this.Jo(e,a,l,r,c).then(d=>(rt(ek,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Om(ek,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ty}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=goe[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="WebChannelConnection";class voe extends moe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=II();return new Promise((a,l)=>{const u=new WV;u.setWithCredentials(!0),u.listenOnce(qV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bx.NO_ERROR:const d=u.getResponseJson();rt(mi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case bx.TIMEOUT:rt(mi,`RPC '${e}' ${o} timed out`),l(new lt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case bx.HTTP_ERROR:const f=u.getStatus();if(rt(mi,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(x)>=0?x:Fe.UNKNOWN}(m.status);l(new lt(y,m.message))}else l(new lt(Fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new lt(Fe.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{rt(mi,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);rt(mi,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=II(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XV(),a=YV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");rt(mi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);this.E_(d);let f=!1,p=!1;const m=new yoe({Zo:b=>{p?rt(mi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(rt(mi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),rt(mi,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Xo:()=>d.close()}),y=(b,v,x)=>{b.listen(v,_=>{try{x(_)}catch(S){setTimeout(()=>{throw S},0)}})};return y(d,Cv.EventType.OPEN,()=>{p||(rt(mi,`RPC '${e}' stream ${i} transport opened.`),m.__())}),y(d,Cv.EventType.CLOSE,()=>{p||(p=!0,rt(mi,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(d))}),y(d,Cv.EventType.ERROR,b=>{p||(p=!0,Om(mi,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),m.u_(new lt(Fe.UNAVAILABLE,"The operation could not be completed")))}),y(d,Cv.EventType.MESSAGE,b=>{var v;if(!p){const x=b.data[0];yn(!!x,16349);const _=x,S=(_==null?void 0:_.error)||((v=_[0])===null||v===void 0?void 0:v.error);if(S){rt(mi,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let O=function(P){const T=vr[P];if(T!==void 0)return I9(T)}(k),A=S.message;O===void 0&&(O=Fe.INTERNAL,A="Unknown error status: "+k+" with message "+S.message),p=!0,m.u_(new lt(O,A)),d.close()}else rt(mi,`RPC '${e}' stream ${i} received:`,x),m.c_(x)}}),y(a,GV.STAT_EVENT,b=>{b.stat===yI.PROXY?rt(mi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===yI.NOPROXY&&rt(mi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function tk(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){return new xse(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=s,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="PersistentStream";class W9{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new U9(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(Xu(n.toString()),Xu("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new lt(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return rt(G5,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(rt(G5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class boe extends W9{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=Cse(this.serializer,e),r=function(s){if(!("targetChange"in s))return Lt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Lt.min():o.readTime?wl(o.readTime):Lt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=kI(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=xI(l)?{documents:kse(s,l)}:{query:Rse(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=O9(s,o.resumeToken);const u=CI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Lt.min())>0){a.readTime=jE(s,o.snapshotVersion.toTimestamp());const u=CI(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Pse(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=kI(this.serializer),n.removeTarget=e,this.Q_(n)}}class woe extends W9{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return yn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){yn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=Tse(e.writeResults,e.commitTime),r=wl(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=kI(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ase(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{}class xoe extends _oe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new lt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,AI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Fe.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,AI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new lt(Fe.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Eoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Xu(n),this.ua=!1):rt("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RemoteStore";class Soe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=s,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Gf(this)&&(rt(If,"Restarting streams for network reachability change."),await async function(l){const u=Dt(l);u.da.add(4),await jw(u),u.Va.set("Unknown"),u.da.delete(4),await oC(u)}(this))})}),this.Va=new Eoe(r,i)}}async function oC(t){if(Gf(t))for(const e of t.Aa)await e(!0)}async function jw(t){for(const e of t.Aa)await e(!1)}function q9(t,e){const n=Dt(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),DN(n)?LN(n):iy(n).N_()&&MN(n,e))}function ON(t,e){const n=Dt(t),r=iy(n);n.Ea.delete(e),r.N_()&&G9(n,e),n.Ea.size===0&&(r.N_()?r.k_():Gf(n)&&n.Va.set("Unknown"))}function MN(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iy(t).Z_(e)}function G9(t,e){t.ma.Ke(e),iy(t).X_(e)}function LN(t){t.ma=new vse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),iy(t).start(),t.Va.ca()}function DN(t){return Gf(t)&&!iy(t).O_()&&t.Ea.size>0}function Gf(t){return Dt(t).da.size===0}function Y9(t){t.ma=void 0}async function Coe(t){t.Va.set("Online")}async function Aoe(t){t.Ea.forEach((e,n)=>{MN(t,e)})}async function Toe(t,e){Y9(t),DN(t)?(t.Va.Pa(e),LN(t)):t.Va.set("Unknown")}async function koe(t,e,n){if(t.Va.set("Online"),e instanceof N9&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){rt(If,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $E(t,r)}else if(e instanceof Ex?t.ma.Xe(e):e instanceof P9?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Lt.min()))try{const r=await H9(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ma.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ea.get(u);c&&s.Ea.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ea.get(l);if(!c)return;s.Ea.set(l,c.withResumeToken(di.EMPTY_BYTE_STRING,c.snapshotVersion)),G9(s,l);const d=new gd(c.target,l,u,c.sequenceNumber);MN(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){rt(If,"Failed to raise snapshot:",r),await $E(t,r)}}async function $E(t,e,n){if(!ry(e))throw e;t.da.add(1),await jw(t),t.Va.set("Offline"),n||(n=()=>H9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{rt(If,"Retrying IndexedDB access"),await n(),t.da.delete(1),await oC(t)})}function X9(t,e){return e().catch(n=>$E(t,n,e))}async function aC(t){const e=Dt(t),n=Td(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:bN;for(;Roe(e);)try{const i=await coe(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,Ioe(e,i)}catch(i){await $E(e,i)}K9(e)&&Q9(e)}function Roe(t){return Gf(t)&&t.Ia.length<10}function Ioe(t,e){t.Ia.push(e);const n=Td(t);n.N_()&&n.ea&&n.ta(e.mutations)}function K9(t){return Gf(t)&&!Td(t).O_()&&t.Ia.length>0}function Q9(t){Td(t).start()}async function Poe(t){Td(t).ia()}async function Noe(t){const e=Td(t);for(const n of t.Ia)e.ta(n.mutations)}async function Ooe(t,e,n){const r=t.Ia.shift(),i=AN.from(r,e,n);await X9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await aC(t)}async function Moe(t,e){e&&Td(t).ea&&await async function(r,i){if(function(o){return mse(o)&&o!==Fe.ABORTED}(i.code)){const s=r.Ia.shift();Td(r).L_(),await X9(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await aC(r)}}(t,e),K9(t)&&Q9(t)}async function Y5(t,e){const n=Dt(t);n.asyncQueue.verifyOperationInProgress(),rt(If,"RemoteStore received new credentials");const r=Gf(n);n.da.add(3),await jw(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await oC(n)}async function Loe(t,e){const n=Dt(t);e?(n.da.delete(2),await oC(n)):e||(n.da.add(2),await jw(n),n.Va.set("Unknown"))}function iy(t){return t.fa||(t.fa=function(n,r,i){const s=Dt(n);return s.oa(),new boe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:Coe.bind(null,t),n_:Aoe.bind(null,t),i_:Toe.bind(null,t),Y_:koe.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),DN(t)?LN(t):t.Va.set("Unknown")):(await t.fa.stop(),Y9(t))})),t.fa}function Td(t){return t.ga||(t.ga=function(n,r,i){const s=Dt(n);return s.oa(),new woe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Poe.bind(null,t),i_:Moe.bind(null,t),na:Noe.bind(null,t),ra:Ooe.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await aC(t)):(await t.ga.stop(),t.Ia.length>0&&(rt(If,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new FN(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zN(t,e){if(Xu("AsyncQueue",`${e}: ${t}`),ry(t))return new lt(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static emptySet(e){return new xg(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||bt.comparator(n.key,r.key):(n,r)=>bt.comparator(n.key,r.key),this.keyedMap=Av(),this.sortedSet=new er(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xg)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.pa=new er(bt.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Tt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class zm{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zm(e,n,xg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Foe{constructor(){this.queries=K5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Dt(n),s=i.queries;i.queries=K5(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new lt(Fe.ABORTED,"Firestore shutting down"))}}function K5(){return new Wf(t=>y9(t),eC)}async function Z9(t,e){const n=Dt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Da()&&e.va()&&(r=2):(s=new Doe,r=e.va()?0:1);try{switch(r){case 0:s.ba=await n.onListen(i,!0);break;case 1:s.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=zN(o,`Initialization of query '${ig(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.Fa(n.onlineState),s.ba&&e.Ma(s.ba)&&jN(n)}async function J9(t,e){const n=Dt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.va()?0:1:!s.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zoe(t,e){const n=Dt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Ma(i)&&(r=!0);o.ba=i}}r&&jN(n)}function joe(t,e,n){const r=Dt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function jN(t){t.Ca.forEach(e=>{e.next()})}var PI,Q5;(Q5=PI||(PI={})).xa="default",Q5.Cache="cache";class eH{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==PI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e){this.key=e}}class nH{constructor(e){this.key=e}}class Boe{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xt(),this.mutatedKeys=Xt(),this.Za=v9(e),this.Xa=new xg(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new X5,i=n?n.Xa:this.Xa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=tC(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;f&&p?f.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),b=!0):this.ru(f,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),b=!0):f&&!p&&(r.track({type:1,doc:f}),b=!0,(l||u)&&(a=!0)),b&&(p?(o=o.add(p),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Xa:o,nu:r,Cs:a,mutatedKeys:s}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((c,d)=>function(p,m){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:b})}};return y(p)-y(m)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,o.length!==0||u?{snapshot:new zm(this.query,e.Xa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new X5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Xt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new nH(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new tH(r))}),n}au(e){this.Ha=e.$s,this.Ya=Xt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return zm.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const BN="SyncEngine";class $oe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Voe{constructor(e){this.key=e,this.cu=!1}}class Hoe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Wf(a=>y9(a),eC),this.Pu=new Map,this.Tu=new Set,this.Iu=new er(bt.comparator),this.Eu=new Map,this.du=new RN,this.Au={},this.Ru=new Map,this.Vu=Fm.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Uoe(t,e,n=!0){const r=lH(t);let i;const s=r.hu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.uu()):i=await rH(r,e,n,!0),i}async function Woe(t,e){const n=lH(t);await rH(n,e,!0,!1)}async function rH(t,e,n,r){const i=await doe(t.localStore,bl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await qoe(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&q9(t.remoteStore,i),a}async function qoe(t,e,n,r,i){t.fu=(d,f,p)=>async function(y,b,v,x){let _=b.view.tu(v);_.Cs&&(_=await H5(y.localStore,b.query,!1).then(({documents:A})=>b.view.tu(A,_)));const S=x&&x.targetChanges.get(b.targetId),k=x&&x.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(_,y.isPrimaryClient,S,k);return J5(y,b.targetId,O.ou),O.snapshot}(t,d,f,p);const s=await H5(t.localStore,e,!0),o=new Boe(e,s.$s),a=o.tu(s.documents),l=zw.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);J5(t,n,u.ou);const c=new $oe(e,n,o);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function Goe(t,e,n){const r=Dt(t),i=r.hu.get(e),s=r.Pu.get(i.targetId);if(s.length>1)return r.Pu.set(i.targetId,s.filter(o=>!eC(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await RI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ON(r.remoteStore,i.targetId),NI(r,i.targetId)}).catch(ny)):(NI(r,i.targetId),await RI(r.localStore,i.targetId,!0))}async function Yoe(t,e){const n=Dt(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ON(n.remoteStore,r.targetId))}async function Xoe(t,e,n){const r=nae(t);try{const i=await function(o,a){const l=Dt(o),u=zr.now(),c=a.reduce((p,m)=>p.add(m.key),Xt());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ku(),y=Xt();return l.Bs.getEntries(p,c).next(b=>{m=b,m.forEach((v,x)=>{x.isValidDocument()||(y=y.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{d=b;const v=[];for(const x of a){const _=dse(x,d.get(x.key).overlayedDocument);_!=null&&v.push(new qf(x.key,_,u9(_.value.mapValue),Bu.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(b=>{f=b;const v=b.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,v)})}).then(()=>({batchId:f.batchId,changes:w9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Au[o.currentUser.toKey()];u||(u=new er(jt)),u=u.insert(a,l),o.Au[o.currentUser.toKey()]=u}(r,i.batchId,n),await Bw(r,i.changes),await aC(r.remoteStore)}catch(i){const s=zN(i,"Failed to persist write");n.reject(s)}}async function iH(t,e){const n=Dt(t);try{const r=await loe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(yn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?yn(o.cu,14607):i.removedDocuments.size>0&&(yn(o.cu,42227),o.cu=!1))}),await Bw(n,r,e)}catch(r){await ny(r)}}function Z5(t,e,n){const r=Dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((s,o)=>{const a=o.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Dt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.Sa)f.Fa(a)&&(u=!0)}),u&&jN(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Koe(t,e,n){const r=Dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new er(bt.comparator);o=o.insert(s,Ti.newNoDocument(s,Lt.min()));const a=Xt().add(s),l=new iC(Lt.min(),new Map,new er(jt),o,a);await iH(r,l),r.Iu=r.Iu.remove(s),r.Eu.delete(e),$N(r)}else await RI(r.localStore,e,!1).then(()=>NI(r,e,n)).catch(ny)}async function Qoe(t,e){const n=Dt(t),r=e.batch.batchId;try{const i=await aoe(n.localStore,e);oH(n,r,null),sH(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bw(n,i)}catch(i){await ny(i)}}async function Zoe(t,e,n){const r=Dt(t);try{const i=await function(o,a){const l=Dt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(yn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);oH(r,e,n),sH(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bw(r,i)}catch(i){await ny(i)}}function sH(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function oH(t,e,n){const r=Dt(t);let i=r.Au[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function NI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||aH(t,r)})}function aH(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(ON(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),$N(t))}function J5(t,e,n){for(const r of n)r instanceof tH?(t.du.addReference(r.key,e),Joe(t,r)):r instanceof nH?(rt(BN,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||aH(t,r.key)):Tt(19791,{pu:r})}function Joe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(rt(BN,"New document in limbo: "+n),t.Tu.add(r),$N(t))}function $N(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new bt(jn.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Voe(n)),t.Iu=t.Iu.insert(n,r),q9(t.remoteStore,new gd(bl(SN(n.path)),r,"TargetPurposeLimboResolution",QS.le))}}async function Bw(t,e,n){const r=Dt(t),i=[],s=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=PN.Rs(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(l,u){const c=Dt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>De.forEach(u,f=>De.forEach(f.ds,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>De.forEach(f.As,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!ry(d))throw d;rt(NN,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.xs.get(f),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(f,y)}}}(r.localStore,s))}async function eae(t,e){const n=Dt(t);if(!n.currentUser.isEqual(e)){rt(BN,"User change. New user:",e.toKey());const r=await V9(n.localStore,e);n.currentUser=e,function(s,o){s.Ru.forEach(a=>{a.forEach(l=>{l.reject(new lt(Fe.CANCELLED,o))})}),s.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bw(n,r.ks)}}function tae(t,e){const n=Dt(t),r=n.Eu.get(e);if(r&&r.cu)return Xt().add(r.key);{let i=Xt();const s=n.Pu.get(e);if(!s)return i;for(const o of s){const a=n.hu.get(o);i=i.unionWith(a.view.eu)}return i}}function lH(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Koe.bind(null,e),e.lu.Y_=zoe.bind(null,e.eventManager),e.lu.gu=joe.bind(null,e.eventManager),e}function nae(t){const e=Dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zoe.bind(null,e),e}class VE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sC(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return ooe(this.persistence,new roe,e.initialUser,this.serializer)}Su(e){return new $9(IN.fi,this.serializer)}bu(e){return new foe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}VE.provider={build:()=>new VE};class rae extends VE{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){yn(this.persistence.referenceDelegate instanceof BE,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Vse(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new $9(r=>BE.fi(r,n),this.serializer)}}class OI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eae.bind(null,this.syncEngine),await Loe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Foe}()}createDatastore(e){const n=sC(e.databaseInfo.databaseId),r=function(s){return new voe(s)}(e.databaseInfo);return function(s,o,a,l){return new xoe(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Soe(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Z5(this.syncEngine,n,0),function(){return q5.C()?new q5:new poe}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new Hoe(i,s,o,a,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Dt(i);rt(If,"RemoteStore shutting down."),s.da.add(5),await jw(s),s.Ra.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}OI.provider={build:()=>new OI};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Xu("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="FirestoreClient";class iae{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=JV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{rt(kd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(rt(kd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zN(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nk(t,e){t.asyncQueue.verifyOperationInProgress(),rt(kd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V9(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sae(t);rt(kd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y5(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Y5(e.remoteStore,i)),t._onlineComponents=e}async function sae(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){rt(kd,"Using user provided OfflineComponentProvider");try{await nk(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Om("Error using user provided cache. Falling back to memory cache: "+n),await nk(t,new VE)}}else rt(kd,"Using default OfflineComponentProvider"),await nk(t,new rae(void 0));return t._offlineComponents}async function cH(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(rt(kd,"Using user provided OnlineComponentProvider"),await e3(t,t._uninitializedComponentsProvider._online)):(rt(kd,"Using default OnlineComponentProvider"),await e3(t,new OI))),t._onlineComponents}function oae(t){return cH(t).then(e=>e.syncEngine)}async function dH(t){const e=await cH(t),n=e.eventManager;return n.onListen=Uoe.bind(null,e.syncEngine),n.onUnlisten=Goe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Woe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Yoe.bind(null,e.syncEngine),n}function aae(t,e,n={}){const r=new ju;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new uH({next:f=>{c.xu(),o.enqueueAndForget(()=>J9(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new lt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new lt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eH(SN(a.path),c,{includeMetadataChanges:!0,Qa:!0});return Z9(s,d)}(await dH(t),t.asyncQueue,e,n,r)),r.promise}function lae(t,e,n={}){const r=new ju;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new uH({next:f=>{c.xu(),o.enqueueAndForget(()=>J9(s,d)),f.fromCache&&l.source==="server"?u.reject(new lt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new eH(a,c,{includeMetadataChanges:!0,Qa:!0});return Z9(s,d)}(await dH(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(t,e,n){if(!n)throw new lt(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uae(t,e,n,r){if(e===!0&&r===!0)throw new lt(Fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n3(t){if(!bt.isDocumentKey(t))throw new lt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r3(t){if(bt.isDocumentKey(t))throw new lt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Tt(12329,{type:typeof t})}function Pf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lC(t);throw new lt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH="firestore.googleapis.com",i3=!0;class s3{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pH,this.ssl=i3}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:i3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bse)throw new lt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uae("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hH((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yie;switch(r.type){case"firstParty":return new _ie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=t3.get(n);r&&(rt("ComponentProvider","Removing Datastore"),t3.delete(n),r.terminate())}(this),Promise.resolve()}}function cae(t,e,n,r={}){var i;t=Pf(t,uC);const s=Lw(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(fV(`https://${l}`),gV("Firestore",!0)),o.host!==pH&&o.host!==l&&Om("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!IE(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Ci.MOCK_USER;else{c=pV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new lt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Ci(f)}t._authCredentials=new vie(new QV(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new sy(this.firestore,e,this._query)}}class ys{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _d(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class _d extends sy{constructor(e,n,r){super(e,n,SN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new bt(e))}withConverter(e){return new _d(this.firestore,e,this._path)}}function rk(t,e,...n){if(t=Al(t),fH("collection","path",e),t instanceof uC){const r=jn.fromString(e,...n);return r3(r),new _d(t,null,r)}{if(!(t instanceof ys||t instanceof _d))throw new lt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return r3(r),new _d(t.firestore,null,r)}}function Jl(t,e,...n){if(t=Al(t),arguments.length===1&&(e=JV.newId()),fH("doc","path",e),t instanceof uC){const r=jn.fromString(e,...n);return n3(r),new ys(t,null,new bt(r))}{if(!(t instanceof ys||t instanceof _d))throw new lt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(jn.fromString(e,...n));return n3(r),new ys(t.firestore,t instanceof _d?t.converter:null,new bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="AsyncQueue";class a3{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new U9(this,"async_queue_retry"),this.rc=()=>{const r=tk();r&&rt(o3,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=tk();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=tk();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ju;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ry(e))throw e;rt(o3,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Xu("INTERNAL UNHANDLED ERROR: ",l3(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=FN.createAndSchedule(this,e,n,r,s=>this.uc(s));return this.Zu.push(i),i}oc(){this.Xu&&Tt(47125,{cc:l3(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function l3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class cC extends uC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new a3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a3(e),this._firestoreClient=void 0,await e}}}function dae(t,e){const n=typeof t=="object"?t:SV(),r=typeof t=="string"?t:OE,i=wV(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dV("firestore");s&&cae(i,...s)}return i}function VN(t){if(t._terminated)throw new lt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hae(t),t._firestoreClient}function hae(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Die(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,hH(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new iae(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jm(di.fromBase64String(e))}catch(n){throw new lt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jm(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new lt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new lt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new lt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=/^__.*__$/;class pae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qf(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fw(e,this.data,n,this.fieldTransforms)}}function mH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ic:t})}}class qN{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ec(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new qN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return HE(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(mH(this.Ic)&&fae.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class gae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sC(e)}bc(e,n,r,i=!1){return new qN({Ic:e,methodName:n,wc:r,path:ui.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yH(t){const e=t._freezeSettings(),n=sC(t._databaseId);return new gae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mae(t,e,n,r,i,s={}){const o=t.bc(s.merge||s.mergeFields?2:0,e,n,i);wH("Data must be an object, but it was:",o,r);const a=vH(r,o);let l,u;if(s.merge)l=new pa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=vae(e,d,n);if(!o.contains(f))throw new lt(Fe.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wae(c,f)||c.push(f)}l=new pa(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new pae(new wo(a),l,u)}function yae(t,e,n,r=!1){return GN(n,t.bc(r?4:3,e))}function GN(t,e){if(bH(t=Al(t)))return wH("Unsupported field value:",e,t),vH(t,e);if(t instanceof gH)return function(r,i){if(!mH(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=GN(a,i.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Al(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sse(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zr.fromDate(r);return{timestampValue:jE(i.serializer,s)}}if(r instanceof zr){const s=new zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jE(i.serializer,s)}}if(r instanceof UN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jm)return{bytesValue:O9(i.serializer,r._byteString)};if(r instanceof ys){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof WN)return function(o,a){return{mapValue:{fields:{[a9]:{stringValue:l9},[ME]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return CN(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${lC(r)}`)}(t,e)}function vH(t,e){const n={};return t9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uf(t,(r,i)=>{const s=GN(i,e.Ac(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bH(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zr||t instanceof UN||t instanceof jm||t instanceof ys||t instanceof gH||t instanceof WN)}function wH(t,e,n){if(!bH(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lC(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function vae(t,e,n){if((e=Al(e))instanceof HN)return e._internalPath;if(typeof e=="string")return _H(t,e);throw HE("Field path arguments must be of type string or ",t,!1,void 0,n)}const bae=new RegExp("[~\\*/\\[\\]]");function _H(t,e,n){if(e.search(bae)>=0)throw HE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new HN(...e.split("."))._internalPath}catch{throw HE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function HE(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new lt(Fe.INVALID_ARGUMENT,a+t+l)}function wae(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _ae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _ae extends xH{data(){return super.data()}}function YN(t,e){return typeof e=="string"?_H(t,e):e instanceof HN?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new lt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XN{}class Eae extends XN{}function Sae(t,e,...n){let r=[];e instanceof XN&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof KN).length,a=s.filter(l=>l instanceof dC).length;if(o>1||o>0&&a>0)throw new lt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dC extends Eae{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dC(e,n,r)}_apply(e){const n=this._parse(e);return EH(e._query,n),new sy(e.firestore,e.converter,EI(e._query,n))}_parse(e){const n=yH(e.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new lt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){c3(d,c);const m=[];for(const y of d)m.push(u3(l,s,y));f={arrayValue:{values:m}}}else f=u3(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||c3(d,c),f=yae(a,o,d,c==="in"||c==="not-in");return xr.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Cae(t,e,n){const r=e,i=YN("where",t);return dC._create(i,r,n)}class KN extends XN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new KN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ma.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)EH(o,l),o=EI(o,l)}(e._query,n),new sy(e.firestore,e.converter,EI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function u3(t,e,n){if(typeof(n=Al(n))=="string"){if(n==="")throw new lt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m9(e)&&n.indexOf("/")!==-1)throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jn.fromString(n));if(!bt.isDocumentKey(r))throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S5(t,new bt(r))}if(n instanceof ys)return S5(t,n._key);throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lC(n)}.`)}function c3(t,e){if(!Array.isArray(t)||t.length===0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EH(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new lt(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aae{convertValue(e,n="none"){switch(Ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uf(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ME].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dr(o.doubleValue));return new WN(s)}convertGeoPoint(e){return new UN(dr(e.latitude),dr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=JS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(k0(e));default:return null}}convertTimestamp(e){const n=Sd(e);return new zr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jn.fromString(e);yn(j9(r),9688,{name:e});const i=new R0(r.get(1),r.get(3)),s=new bt(r.popFirst(5));return i.isEqual(n)||Xu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SH extends xH{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sx extends SH{data(e={}){return super.data(e)}}class kae{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kv(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sx(this._firestore,this._userDataWriter,r.key,r,new kv(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kv(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Rae(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){t=Pf(t,ys);const e=Pf(t.firestore,cC);return aae(VN(e),t._key).then(n=>Pae(e,t,n))}class CH extends Aae{constructor(e){super(),this.firestore=e}convertBytes(e){return new jm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,n)}}function ik(t){t=Pf(t,sy);const e=Pf(t.firestore,cC),n=VN(e),r=new CH(e);return xae(t._query),lae(n,t._query).then(i=>new kae(e,r,t,i))}function Ky(t,e,n){t=Pf(t,ys);const r=Pf(t.firestore,cC),i=Tae(t.converter,e);return Iae(r,[mae(yH(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bu.none())])}function Iae(t,e){return function(r,i){const s=new ju;return r.asyncQueue.enqueueAndForget(async()=>Xoe(await oae(r),i,s)),s.promise}(VN(t),e)}function Pae(t,e,n){const r=n.docs.get(e._key),i=new CH(t);return new SH(t,i,e._key,r,new kv(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ty=i})(xV),C0(new Nm("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cC(new bie(r.getProvider("auth-internal")),new xie(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new lt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new R0(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),bd(h5,f5,e),bd(h5,f5,"esm2017")})();var AH=(t=>(t.ADMIN="admin",t.TEACHER="teacher",t.STUDENT="student",t))(AH||{});const Nae={apiKey:"AIzaSyDd6jdeGNhVvB6IZ2M2hDC_Tp66uhC3TUo",authDomain:"read-9fc7d.firebaseapp.com",projectId:"read-9fc7d",storageBucket:"read-9fc7d.firebasestorage.app",messagingSenderId:"794793289582",appId:"1:794793289582:web:6e0afecc5aeeb10bed437f",measurementId:"G-FYESGK4NLB"},TH=z.createContext(void 0),Oae=({children:t})=>{const e=EV(Nae),n=dae(e),r=rk(n,"users"),i=rk(n,"papersData"),s=rk(n,"readingStates"),o=fie(e),[a,l]=z.useState(void 0);z.useEffect(()=>{const A=localStorage.getItem("userId");A&&u(A)},[]);const u=async A=>{const R=await d(A);l(R)},c=async()=>{const A=await ik(r);return console.log("userDocs",A.docs.map(R=>R.data())),A.docs.map(R=>R.data())},d=async A=>(await L_(Jl(r,A))).data(),f=async A=>{const R=Sae(r,Cae("email","==",A)),P=await ik(R);return P.empty?null:P.docs[0].data()},p=async A=>{try{await Ky(Jl(r,A.id),A),console.log("User added with ID:",A.id)}catch(R){console.error("Error adding user:",R)}},m=async A=>{try{await Ky(Jl(r,A.id),A),console.log("User updated with ID:",A.id)}catch(R){console.error("Error updating user:",R)}},y=async(A,R)=>{try{const P=Jl(r,A),L=(await L_(P)).data();L.paperIds.includes(R)?console.log("Paper already exists in user with ID:",A):(L.paperIds.push(R),await Ky(Jl(r,A),L),console.log("Paper added to user with ID:",A))}catch(P){console.error("Error adding paper to user:",P)}},b=async()=>{const A=await ik(i);return console.log("paperDocs",A.docs.map(R=>R.data())),A.docs.map(R=>R.data())},v=async A=>{const R=Jl(i,A);return(await L_(R)).data()},x=async A=>{try{await Ky(Jl(i,A.id),A),console.log("Paper added with ID:",A.id)}catch(R){console.error("Error adding paper:",R)}},_=async(A,R)=>{try{const P=c5(o,A);await die(P,R),console.log("Paper file uploaded to:",P.fullPath)}catch(P){console.error("Error adding paper file:",P)}},S=async A=>{const R=c5(o,A);return await hie(R)},k=async(A,R)=>{const P=`${A}-${R}`,T=Jl(s,P),M=(await L_(T)).data();if(!M)return null;const D={...M,state:JSON.parse(M==null?void 0:M.state)};return console.log("readingStateData",D),D},O=async A=>{try{await Ky(Jl(s,A.id),{...A,state:JSON.stringify(A.state)}),console.log("Reading state added with ID:",A.id)}catch(R){console.error("Error adding reading state:",R)}};return j.jsx(TH.Provider,{value:{userData:a,setUserData:l,loadUserData:u,getAllUsers:c,getUserById:d,getUserByEmail:f,addUser:p,updateUser:m,addPaperToUser:y,getAllPapersData:b,getPaperData:v,addPaperData:x,getPaperFile:S,addPaperFile:_,getReadingStateData:k,updateReadingState:O},children:t})},hC=()=>{const t=z.useContext(TH);if(t===void 0)throw new Error("useStorageContext must be used within a StorageProvider");return t},kH=z.createContext(void 0),d3={HIGHLIGHT:"highlight"},Si={CHRONOLOGICAL:"chronological",RELATIONAL:"relational"},Mae=({children:t})=>{if(!z.useContext(Mw))throw new Error("TourContext not found");const{userData:n,getReadingStateData:r}=hC(),[i,s]=z.useState(null),[o,a]=z.useState(null),[l,u]=z.useState([]),[c,d]=z.useState(0),[f,p]=z.useState(null),[m,y]=z.useState({}),[b,v]=z.useState(!1),[x,_]=z.useState(""),[S,k]=z.useState(""),[O,A]=z.useState(null),[R,P]=z.useState([]),[T,L,M]=Wee([]),[D,N,U]=qee([]),[K,G]=z.useState(!1),[Z,X]=z.useState([Si.CHRONOLOGICAL,Si.RELATIONAL]),W=150,q=150;z.useEffect(()=>{re()},[n,i]);const Q=()=>{_(""),k(""),A(null),X([Si.CHRONOLOGICAL,Si.RELATIONAL])},H=()=>{u([]),y({}),L([]),N([]),P([]),Q()},re=async()=>{if(n&&i){console.log("load paper context",n,i);const pe=await r(n.id,i);pe?(u(pe.state.highlights),y(pe.state.readRecords),L(pe.state.nodes),N(pe.state.edges),P(Object.keys(pe.state.readRecords)),Q()):H()}};z.useEffect(()=>{d(l.filter(pe=>pe.id.startsWith(x.toString())).length)},[x]),z.useEffect(()=>{N(D.map(pe=>({...pe,hidden:!Z.includes(pe.type??"")})))},[Z]);const te=z.useCallback(pe=>{console.log("Connect",pe);const me={...pe,sourceHandle:`relational-handle-${pe.source}-source`,targetHandle:`relational-handle-${pe.target}-target`,type:Si.RELATIONAL,markerEnd:{type:xf.Arrow},hidden:!Z.includes(Si.RELATIONAL)};N(le=>p$(me,le))},[]),he=pe=>{var me;if(pe.type==="text"){const le=((me=pe.content.text)==null?void 0:me.trim())??"",ee=le.split(/\s+/),ue=ee.length>10?ee.slice(0,10).join(" ")+"...":le;return{type:pe.type,label:ue,content:pe.content.text}}else if(pe.type==="area")return{type:pe.type,label:"Image",content:pe.content.image}},de=pe=>{console.log("Add highlight",pe,l);const me=`${x}-${c}`;u(ee=>[...ee,{...pe,id:me,readRecordId:x,sessionId:S,timestamp:Date.now()}]);const le=c===0;if(L(ee=>[...ee,{id:me,type:d3.HIGHLIGHT,data:{id:me,readRecordId:x,...he(pe),summary:"",references:[],notes:""},position:{x:le?Object.keys(m).findIndex(ue=>ue===x)*W:T[T.length-1].position.x,y:le?q:T[T.length-1].position.y+q},style:{backgroundColor:m[x].color}}]),!le){const ee=T[T.length-1].id;N(ue=>[...ue,{id:me,source:ee,sourceHandle:`chronological-handle-${ee}-source`,target:me,targetHandle:`chronological-handle-${me}-target`,type:Si.CHRONOLOGICAL,markerEnd:{type:xf.Arrow},hidden:!Z.includes(Si.CHRONOLOGICAL)}])}A(me),d(ee=>ee+1)},oe=(pe,me)=>{let le=[...T];le=le.map(ee=>ee.id===pe?{...ee,data:{...ee.data,...me}}:ee),L(le)},ce=pe=>{if(pe.length===0)return;const me=`${x}-${c}`,le={id:me,type:d3.HIGHLIGHT,data:{id:me,readRecordId:x,label:"Group",children:pe,notes:""},position:{x:T.filter(ve=>pe.includes(ve.id)).reduce((ve,Te)=>ve+Te.position.x,0)/pe.length+W,y:T.filter(ve=>pe.includes(ve.id)).reduce((ve,Te)=>ve+Te.position.y,0)/pe.length},style:{backgroundColor:m[x].color}};L(ve=>[...ve,le]),console.log("nodes",T);const ee=T[T.length-1].id;N(ve=>[...ve,{id:me,source:ee,sourceHandle:`chronological-handle-${ee}-source`,target:me,targetHandle:`chronological-handle-${me}-target`,type:Si.CHRONOLOGICAL,markerEnd:{type:xf.Arrow},hidden:!Z.includes(Si.CHRONOLOGICAL)}]);const ue=pe.map(ve=>({id:`${me}-${ve}`,source:me,sourceHandle:`relational-handle-${me}-source`,target:ve,targetHandle:`relational-handle-${ve}-target`,type:Si.RELATIONAL,hidden:!Z.includes(Si.RELATIONAL)}));N(ve=>[...ve,...ue]),d(ve=>ve+1)},ge=pe=>{console.log("Delete highlight",pe),u(l.filter(me=>me.id!==pe)),L(T.filter(me=>me.id!==pe)),N(D.filter(me=>me.id!==pe&&me.source!==pe&&me.target!==pe)),A(null)},xe=()=>{console.log("Reset highlights"),u([]),L([]),N([]),A(null),d(0)},Ee=(pe,me)=>{const le=kE();y(ee=>({...ee,[le]:{id:le,title:pe,color:me}})),_(le),V(le)},Pe=pe=>{P(me=>me.filter(le=>le!==pe))},V=pe=>{P(me=>[...me,pe])};return j.jsx(kH.Provider,{value:{paperId:i,setPaperId:s,paperUrl:o,setPaperUrl:a,highlights:l,setHighlights:u,addHighlight:de,updateNodeData:oe,deleteHighlight:ge,resetHighlights:xe,pdfViewer:f,setPdfViewer:p,nodes:T,setNodes:L,onNodesChange:M,edges:D,setEdges:N,onEdgesChange:U,onConnect:te,onSelectNode:K,setOnSelectNode:G,createGroupNode:ce,displayEdgeTypes:Z,setDisplayEdgeTypes:X,readRecords:m,isAddingNewRead:b,setIsAddingNewRead:v,createRead:Ee,currentReadId:x,setCurrentReadId:_,currentSessionId:S,setCurrentSessionId:k,displayedReads:R,setReadRecords:y,hideRead:Pe,showRead:V,selectedHighlightId:O,setSelectedHighlightId:A},children:t})},ko=()=>{const t=z.useContext(kH);if(t===void 0)throw new Error("usePaperContext must be used within a PaperContextProvider");return t},O0={black:"#000",white:"#fff"},Up={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Wp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},qp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Gp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Qy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Lae={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Qu(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const fC="$$material";function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function Dae(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Fae(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var zae=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Fae(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Dae(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),vi="-ms-",WE="-moz-",dn="-webkit-",RH="comm",QN="rule",ZN="decl",jae="@import",IH="@keyframes",Bae="@layer",$ae=Math.abs,pC=String.fromCharCode,Vae=Object.assign;function Hae(t,e){return li(t,0)^45?(((e<<2^li(t,0))<<2^li(t,1))<<2^li(t,2))<<2^li(t,3):0}function PH(t){return t.trim()}function Uae(t,e){return(t=e.exec(t))?t[0]:t}function fn(t,e,n){return t.replace(e,n)}function MI(t,e){return t.indexOf(e)}function li(t,e){return t.charCodeAt(e)|0}function M0(t,e,n){return t.slice(e,n)}function ll(t){return t.length}function JN(t){return t.length}function D_(t,e){return e.push(t),t}function Wae(t,e){return t.map(e).join("")}var gC=1,Bm=1,NH=0,xs=0,_r=0,oy="";function mC(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:gC,column:Bm,length:o,return:""}}function Zy(t,e){return Vae(mC("",null,null,"",null,null,0),t,{length:-t.length},e)}function qae(){return _r}function Gae(){return _r=xs>0?li(oy,--xs):0,Bm--,_r===10&&(Bm=1,gC--),_r}function Ks(){return _r=xs<NH?li(oy,xs++):0,Bm++,_r===10&&(Bm=1,gC++),_r}function _l(){return li(oy,xs)}function Cx(){return xs}function $w(t,e){return M0(oy,t,e)}function L0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OH(t){return gC=Bm=1,NH=ll(oy=t),xs=0,[]}function MH(t){return oy="",t}function Ax(t){return PH($w(xs-1,LI(t===91?t+2:t===40?t+1:t)))}function Yae(t){for(;(_r=_l())&&_r<33;)Ks();return L0(t)>2||L0(_r)>3?"":" "}function Xae(t,e){for(;--e&&Ks()&&!(_r<48||_r>102||_r>57&&_r<65||_r>70&&_r<97););return $w(t,Cx()+(e<6&&_l()==32&&Ks()==32))}function LI(t){for(;Ks();)switch(_r){case t:return xs;case 34:case 39:t!==34&&t!==39&&LI(_r);break;case 40:t===41&&LI(t);break;case 92:Ks();break}return xs}function Kae(t,e){for(;Ks()&&t+_r!==57;)if(t+_r===84&&_l()===47)break;return"/*"+$w(e,xs-1)+"*"+pC(t===47?t:Ks())}function Qae(t){for(;!L0(_l());)Ks();return $w(t,xs)}function Zae(t){return MH(Tx("",null,null,null,[""],t=OH(t),0,[0],t))}function Tx(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,f=0,p=0,m=0,y=1,b=1,v=1,x=0,_="",S=i,k=s,O=r,A=_;b;)switch(m=x,x=Ks()){case 40:if(m!=108&&li(A,d-1)==58){MI(A+=fn(Ax(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:A+=Ax(x);break;case 9:case 10:case 13:case 32:A+=Yae(m);break;case 92:A+=Xae(Cx()-1,7);continue;case 47:switch(_l()){case 42:case 47:D_(Jae(Kae(Ks(),Cx()),e,n),l);break;default:A+="/"}break;case 123*y:a[u++]=ll(A)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+c:v==-1&&(A=fn(A,/\f/g,"")),p>0&&ll(A)-d&&D_(p>32?f3(A+";",r,n,d-1):f3(fn(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(D_(O=h3(A,e,n,u,c,i,a,_,S=[],k=[],d),s),x===123)if(c===0)Tx(A,e,O,O,S,s,d,a,k);else switch(f===99&&li(A,3)===110?100:f){case 100:case 108:case 109:case 115:Tx(t,O,O,r&&D_(h3(t,O,O,0,0,i,a,_,i,S=[],d),k),i,k,d,a,r?S:k);break;default:Tx(A,O,O,O,[""],k,0,a,k)}}u=c=p=0,y=v=1,_=A="",d=o;break;case 58:d=1+ll(A),p=m;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Gae()==125)continue}switch(A+=pC(x),x*y){case 38:v=c>0?1:(A+="\f",-1);break;case 44:a[u++]=(ll(A)-1)*v,v=1;break;case 64:_l()===45&&(A+=Ax(Ks())),f=_l(),c=d=ll(_=A+=Qae(Cx())),x++;break;case 45:m===45&&ll(A)==2&&(y=0)}}return s}function h3(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,f=i===0?s:[""],p=JN(f),m=0,y=0,b=0;m<r;++m)for(var v=0,x=M0(t,d+1,d=$ae(y=o[m])),_=t;v<p;++v)(_=PH(y>0?f[v]+" "+x:fn(x,/&\f/g,f[v])))&&(l[b++]=_);return mC(t,e,n,i===0?QN:a,l,u,c)}function Jae(t,e,n){return mC(t,e,n,RH,pC(qae()),M0(t,2,-2),0)}function f3(t,e,n,r){return mC(t,e,n,ZN,M0(t,0,r),M0(t,r+1,-1),r)}function Eg(t,e){for(var n="",r=JN(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ele(t,e,n,r){switch(t.type){case Bae:if(t.children.length)break;case jae:case ZN:return t.return=t.return||t.value;case RH:return"";case IH:return t.return=t.value+"{"+Eg(t.children,r)+"}";case QN:t.value=t.props.join(",")}return ll(n=Eg(t.children,r))?t.return=t.value+"{"+n+"}":""}function tle(t){var e=JN(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function nle(t){return function(e){e.root||(e=e.return)&&t(e)}}function LH(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var rle=function(e,n,r){for(var i=0,s=0;i=s,s=_l(),i===38&&s===12&&(n[r]=1),!L0(s);)Ks();return $w(e,xs)},ile=function(e,n){var r=-1,i=44;do switch(L0(i)){case 0:i===38&&_l()===12&&(n[r]=1),e[r]+=rle(xs-1,n,r);break;case 2:e[r]+=Ax(i);break;case 4:if(i===44){e[++r]=_l()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pC(i)}while(i=Ks());return e},sle=function(e,n){return MH(ile(OH(e),n))},p3=new WeakMap,ole=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!p3.get(r))&&!i){p3.set(e,!0);for(var s=[],o=sle(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},ale=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function DH(t,e){switch(Hae(t,e)){case 5103:return dn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dn+t+WE+t+vi+t+t;case 6828:case 4268:return dn+t+vi+t+t;case 6165:return dn+t+vi+"flex-"+t+t;case 5187:return dn+t+fn(t,/(\w+).+(:[^]+)/,dn+"box-$1$2"+vi+"flex-$1$2")+t;case 5443:return dn+t+vi+"flex-item-"+fn(t,/flex-|-self/,"")+t;case 4675:return dn+t+vi+"flex-line-pack"+fn(t,/align-content|flex-|-self/,"")+t;case 5548:return dn+t+vi+fn(t,"shrink","negative")+t;case 5292:return dn+t+vi+fn(t,"basis","preferred-size")+t;case 6060:return dn+"box-"+fn(t,"-grow","")+dn+t+vi+fn(t,"grow","positive")+t;case 4554:return dn+fn(t,/([^-])(transform)/g,"$1"+dn+"$2")+t;case 6187:return fn(fn(fn(t,/(zoom-|grab)/,dn+"$1"),/(image-set)/,dn+"$1"),t,"")+t;case 5495:case 3959:return fn(t,/(image-set\([^]*)/,dn+"$1$`$1");case 4968:return fn(fn(t,/(.+:)(flex-)?(.*)/,dn+"box-pack:$3"+vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dn+t+t;case 4095:case 3583:case 4068:case 2532:return fn(t,/(.+)-inline(.+)/,dn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ll(t)-1-e>6)switch(li(t,e+1)){case 109:if(li(t,e+4)!==45)break;case 102:return fn(t,/(.+:)(.+)-([^]+)/,"$1"+dn+"$2-$3$1"+WE+(li(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~MI(t,"stretch")?DH(fn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(li(t,e+1)!==115)break;case 6444:switch(li(t,ll(t)-3-(~MI(t,"!important")&&10))){case 107:return fn(t,":",":"+dn)+t;case 101:return fn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dn+(li(t,14)===45?"inline-":"")+"box$3$1"+dn+"$2$3$1"+vi+"$2box$3")+t}break;case 5936:switch(li(t,e+11)){case 114:return dn+t+vi+fn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dn+t+vi+fn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dn+t+vi+fn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dn+t+vi+t+t}return t}var lle=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case ZN:e.return=DH(e.value,e.length);break;case IH:return Eg([Zy(e,{value:fn(e.value,"@","@"+dn)})],i);case QN:if(e.length)return Wae(e.props,function(s){switch(Uae(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Eg([Zy(e,{props:[fn(s,/:(read-\w+)/,":"+WE+"$1")]})],i);case"::placeholder":return Eg([Zy(e,{props:[fn(s,/:(plac\w+)/,":"+dn+"input-$1")]}),Zy(e,{props:[fn(s,/:(plac\w+)/,":"+WE+"$1")]}),Zy(e,{props:[fn(s,/:(plac\w+)/,vi+"input-$1")]})],i)}return""})}},ule=[lle],cle=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||ule,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),v=1;v<b.length;v++)s[b[v]]=!0;a.push(y)});var l,u=[ole,ale];{var c,d=[ele,nle(function(y){c.insert(y)})],f=tle(u.concat(i,d)),p=function(b){return Eg(Zae(b),f)};l=function(b,v,x,_){c=x,p(b?b+"{"+v.styles+"}":v.styles),_&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new zae({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},sk={exports:{}},mn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3;function dle(){if(g3)return mn;g3=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,v=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function _(k){if(typeof k=="object"&&k!==null){var O=k.$$typeof;switch(O){case e:switch(k=k.type,k){case l:case u:case r:case s:case i:case d:return k;default:switch(k=k&&k.$$typeof,k){case a:case c:case m:case p:case o:return k;default:return O}}case n:return O}}}function S(k){return _(k)===u}return mn.AsyncMode=l,mn.ConcurrentMode=u,mn.ContextConsumer=a,mn.ContextProvider=o,mn.Element=e,mn.ForwardRef=c,mn.Fragment=r,mn.Lazy=m,mn.Memo=p,mn.Portal=n,mn.Profiler=s,mn.StrictMode=i,mn.Suspense=d,mn.isAsyncMode=function(k){return S(k)||_(k)===l},mn.isConcurrentMode=S,mn.isContextConsumer=function(k){return _(k)===a},mn.isContextProvider=function(k){return _(k)===o},mn.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},mn.isForwardRef=function(k){return _(k)===c},mn.isFragment=function(k){return _(k)===r},mn.isLazy=function(k){return _(k)===m},mn.isMemo=function(k){return _(k)===p},mn.isPortal=function(k){return _(k)===n},mn.isProfiler=function(k){return _(k)===s},mn.isStrictMode=function(k){return _(k)===i},mn.isSuspense=function(k){return _(k)===d},mn.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===u||k===s||k===i||k===d||k===f||typeof k=="object"&&k!==null&&(k.$$typeof===m||k.$$typeof===p||k.$$typeof===o||k.$$typeof===a||k.$$typeof===c||k.$$typeof===b||k.$$typeof===v||k.$$typeof===x||k.$$typeof===y)},mn.typeOf=_,mn}var m3;function hle(){return m3||(m3=1,sk.exports=dle()),sk.exports}var ok,y3;function fle(){if(y3)return ok;y3=1;var t=hle(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(m){return t.isMemo(m)?i:s[m.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;function p(m,y,b){if(typeof y!="string"){if(f){var v=d(y);v&&v!==f&&p(m,v,b)}var x=l(y);u&&(x=x.concat(u(y)));for(var _=o(m),S=o(y),k=0;k<x.length;++k){var O=x[k];if(!n[O]&&!(b&&b[O])&&!(S&&S[O])&&!(_&&_[O])){var A=c(y,O);try{a(m,O,A)}catch{}}}}return m}return ok=p,ok}fle();var ple=!0;function FH(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var eO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||ple===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},tO=function(e,n,r){eO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function gle(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var mle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yle=/[A-Z]|^ms/g,vle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,zH=function(e){return e.charCodeAt(1)===45},v3=function(e){return e!=null&&typeof e!="boolean"},ak=LH(function(t){return zH(t)?t:t.replace(yle,"-$&").toLowerCase()}),b3=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vle,function(r,i,s){return ul={name:i,styles:s,next:ul},i})}return mle[e]!==1&&!zH(e)&&typeof n=="number"&&n!==0?n+"px":n};function D0(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ul={name:i.name,styles:i.styles,next:ul},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)ul={name:o.name,styles:o.styles,next:ul},o=o.next;var a=s.styles+";";return a}return ble(t,e,n)}case"function":{if(t!==void 0){var l=ul,u=n(t);return ul=l,D0(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function ble(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=D0(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":v3(a)&&(r+=ak(s)+":"+b3(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)v3(o[l])&&(r+=ak(s)+":"+b3(s,o[l])+";");else{var u=D0(t,e,o);switch(s){case"animation":case"animationName":{r+=ak(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var w3=/label:\s*([^\s;{]+)\s*(;|$)/g,ul;function Vw(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ul=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=D0(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=D0(n,e,t[a]),r){var l=s;i+=l[a]}w3.lastIndex=0;for(var u="",c;(c=w3.exec(i))!==null;)u+="-"+c[1];var d=gle(i)+u;return{name:d,styles:i,next:ul}}var wle=function(e){return e()},jH=KR.useInsertionEffect?KR.useInsertionEffect:!1,BH=jH||wle,_3=jH||z.useLayoutEffect,$H=z.createContext(typeof HTMLElement<"u"?cle({key:"css"}):null);$H.Provider;var nO=function(e){return z.forwardRef(function(n,r){var i=z.useContext($H);return e(n,i,r)})},yC=z.createContext({}),rO={}.hasOwnProperty,DI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_le=function(e,n){var r={};for(var i in n)rO.call(n,i)&&(r[i]=n[i]);return r[DI]=e,r},xle=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return eO(n,r,i),BH(function(){return tO(n,r,i)}),null},Ele=nO(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[DI],s=[r],o="";typeof t.className=="string"?o=FH(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=Vw(s,void 0,z.useContext(yC));o+=e.key+"-"+a.name;var l={};for(var u in t)rO.call(t,u)&&u!=="css"&&u!==DI&&(l[u]=t[u]);return l.className=o,n&&(l.ref=n),z.createElement(z.Fragment,null,z.createElement(xle,{cache:e,serialized:a,isStringTag:typeof i=="string"}),z.createElement(i,l))}),Sle=Ele,x3=function(e,n){var r=arguments;if(n==null||!rO.call(n,"css"))return z.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Sle,s[1]=_le(e,n);for(var o=2;o<i;o++)s[o]=r[o];return z.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(x3||(x3={}));var Cle=nO(function(t,e){var n=t.styles,r=Vw([n],void 0,z.useContext(yC)),i=z.useRef();return _3(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),_3(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&tO(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Hw(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vw(e)}function Yf(){var t=Hw.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ale=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Tle=LH(function(t){return Ale.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),kle=Tle,Rle=function(e){return e!=="theme"},E3=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kle:Rle},S3=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Ile=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return eO(n,r,i),BH(function(){return tO(n,r,i)}),null},Ple=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=S3(e,n,r),l=a||E3(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var f=c[0];d.push(f[0]);for(var p=c.length,m=1;m<p;m++)d.push(c[m],f[m])}var y=nO(function(b,v,x){var _=u&&b.as||i,S="",k=[],O=b;if(b.theme==null){O={};for(var A in b)O[A]=b[A];O.theme=z.useContext(yC)}typeof b.className=="string"?S=FH(v.registered,k,b.className):b.className!=null&&(S=b.className+" ");var R=Vw(d.concat(k),v.registered,O);S+=v.key+"-"+R.name,o!==void 0&&(S+=" "+o);var P=u&&a===void 0?E3(_):l,T={};for(var L in b)u&&L==="as"||P(L)&&(T[L]=b[L]);return T.className=S,x&&(T.ref=x),z.createElement(z.Fragment,null,z.createElement(Ile,{cache:v,serialized:R,isStringTag:typeof _=="string"}),z.createElement(_,T))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(b,v){var x=t(b,UE({},n,v,{shouldForwardProp:S3(y,v,!0)}));return x.apply(void 0,d)},y}},Nle=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FI=Ple.bind(null);Nle.forEach(function(t){FI[t]=FI(t)});var lk={exports:{}},uk,C3;function Ole(){if(C3)return uk;C3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uk=t,uk}var ck,A3;function Mle(){if(A3)return ck;A3=1;var t=Ole();function e(){}function n(){}return n.resetWarningCache=e,ck=function(){function r(o,a,l,u,c,d){if(d!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},ck}var T3;function iO(){return T3||(T3=1,lk.exports=Mle()()),lk.exports}var Lle=iO();const Le=Es(Lle);function Dle(t){return t==null||Object.keys(t).length===0}function Fle(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(Dle(i)?n:i):e;return j.jsx(Cle,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function VH(t,e){return FI(t,e)}function zle(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const k3=[];function R3(t){return k3[0]=t,Vw(k3)}var dk={exports:{}},En={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function jle(){if(I3)return En;I3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case t:switch(y=y.type,y){case n:case i:case r:case l:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case o:case a:case d:case c:return y;case s:return y;default:return b}}case e:return b}}}return En.ContextConsumer=s,En.ContextProvider=o,En.Element=t,En.ForwardRef=a,En.Fragment=n,En.Lazy=d,En.Memo=c,En.Portal=e,En.Profiler=i,En.StrictMode=r,En.Suspense=l,En.SuspenseList=u,En.isContextConsumer=function(y){return m(y)===s},En.isContextProvider=function(y){return m(y)===o},En.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},En.isForwardRef=function(y){return m(y)===a},En.isFragment=function(y){return m(y)===n},En.isLazy=function(y){return m(y)===d},En.isMemo=function(y){return m(y)===c},En.isPortal=function(y){return m(y)===e},En.isProfiler=function(y){return m(y)===i},En.isStrictMode=function(y){return m(y)===r},En.isSuspense=function(y){return m(y)===l},En.isSuspenseList=function(y){return m(y)===u},En.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===o||y.$$typeof===s||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},En.typeOf=m,En}var P3;function Ble(){return P3||(P3=1,dk.exports=jle()),dk.exports}var HH=Ble();function hl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UH(t){if(z.isValidElement(t)||HH.isValidElementType(t)||!hl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=UH(t[n])}),e}function Gr(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return hl(t)&&hl(e)&&Object.keys(e).forEach(i=>{z.isValidElement(e[i])||HH.isValidElementType(e[i])?r[i]=e[i]:hl(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&hl(t[i])?r[i]=Gr(t[i],e[i],n):n.clone?r[i]=hl(e[i])?UH(e[i]):e[i]:r[i]=e[i]}),r}const $le=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Vle(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=$le(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function c(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function Hle(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function Ule(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function Wle(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function qle(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Gle={borderRadius:4};function r0(t,e){return e?Gr(t,e,{clone:!1}):t}const vC={xs:0,sm:600,md:900,lg:1200,xl:1536},N3={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${vC[t]}px)`},Yle={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:vC[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ya(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||N3;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||N3;return Object.keys(e).reduce((o,a)=>{if(Ule(s.keys,a)){const l=Wle(r.containerQueries?r:Yle,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||vC).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function WH(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function qH(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Xle(t,...e){const n=WH(t),r=[n,...e].reduce((i,s)=>Gr(i,s),{});return qH(Object.keys(n),r)}function Kle(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function hk({values:t,breakpoints:e,base:n}){const r=n||Kle(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ye(t){if(typeof t!="string")throw new Error(Qu(7));return t.charAt(0).toUpperCase()+t.slice(1)}function bC(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function qE(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=bC(t,n)||r,e&&(i=e(i,r,t)),i}function fr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=bC(l,r)||{};return ya(o,a,d=>{let f=qE(u,i,d);return d===f&&typeof d=="string"&&(f=qE(u,i,`${e}${d==="default"?"":Ye(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function Qle(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Zle={m:"margin",p:"padding"},Jle={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},eue=Qle(t=>{if(t.length>2)if(O3[t])t=O3[t];else return[t];const[e,n]=t.split(""),r=Zle[e],i=Jle[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),sO=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],oO=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sO,...oO];function Uw(t,e,n,r){const i=bC(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function wC(t){return Uw(t,"spacing",8)}function Nf(t,e){return typeof e=="string"||e==null?e:t(e)}function tue(t,e){return n=>t.reduce((r,i)=>(r[i]=Nf(e,n),r),{})}function nue(t,e,n,r){if(!e.includes(n))return null;const i=eue(n),s=tue(i,r),o=t[n];return ya(t,o,s)}function GH(t,e){const n=wC(t.theme);return Object.keys(t).map(r=>nue(t,e,r,n)).reduce(r0,{})}function nr(t){return GH(t,sO)}nr.propTypes={};nr.filterProps=sO;function rr(t){return GH(t,oO)}rr.propTypes={};rr.filterProps=oO;function YH(t=8,e=wC({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function _C(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?r0(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function vo(t){return typeof t!="number"?t:`${t}px solid`}function Ro(t,e){return fr({prop:t,themeKey:"borders",transform:e})}const rue=Ro("border",vo),iue=Ro("borderTop",vo),sue=Ro("borderRight",vo),oue=Ro("borderBottom",vo),aue=Ro("borderLeft",vo),lue=Ro("borderColor"),uue=Ro("borderTopColor"),cue=Ro("borderRightColor"),due=Ro("borderBottomColor"),hue=Ro("borderLeftColor"),fue=Ro("outline",vo),pue=Ro("outlineColor"),xC=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Uw(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Nf(e,r)});return ya(t,t.borderRadius,n)}return null};xC.propTypes={};xC.filterProps=["borderRadius"];_C(rue,iue,sue,oue,aue,lue,uue,cue,due,hue,xC,fue,pue);const EC=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Uw(t.theme,"spacing",8),n=r=>({gap:Nf(e,r)});return ya(t,t.gap,n)}return null};EC.propTypes={};EC.filterProps=["gap"];const SC=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Uw(t.theme,"spacing",8),n=r=>({columnGap:Nf(e,r)});return ya(t,t.columnGap,n)}return null};SC.propTypes={};SC.filterProps=["columnGap"];const CC=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Uw(t.theme,"spacing",8),n=r=>({rowGap:Nf(e,r)});return ya(t,t.rowGap,n)}return null};CC.propTypes={};CC.filterProps=["rowGap"];const gue=fr({prop:"gridColumn"}),mue=fr({prop:"gridRow"}),yue=fr({prop:"gridAutoFlow"}),vue=fr({prop:"gridAutoColumns"}),bue=fr({prop:"gridAutoRows"}),wue=fr({prop:"gridTemplateColumns"}),_ue=fr({prop:"gridTemplateRows"}),xue=fr({prop:"gridTemplateAreas"}),Eue=fr({prop:"gridArea"});_C(EC,SC,CC,gue,mue,yue,vue,bue,wue,_ue,xue,Eue);function Sg(t,e){return e==="grey"?e:t}const Sue=fr({prop:"color",themeKey:"palette",transform:Sg}),Cue=fr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Sg}),Aue=fr({prop:"backgroundColor",themeKey:"palette",transform:Sg});_C(Sue,Cue,Aue);function Gs(t){return t<=1&&t!==0?`${t*100}%`:t}const Tue=fr({prop:"width",transform:Gs}),aO=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||vC[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Gs(n)}};return ya(t,t.maxWidth,e)}return null};aO.filterProps=["maxWidth"];const kue=fr({prop:"minWidth",transform:Gs}),Rue=fr({prop:"height",transform:Gs}),Iue=fr({prop:"maxHeight",transform:Gs}),Pue=fr({prop:"minHeight",transform:Gs});fr({prop:"size",cssProperty:"width",transform:Gs});fr({prop:"size",cssProperty:"height",transform:Gs});const Nue=fr({prop:"boxSizing"});_C(Tue,aO,kue,Rue,Iue,Pue,Nue);const Ww={border:{themeKey:"borders",transform:vo},borderTop:{themeKey:"borders",transform:vo},borderRight:{themeKey:"borders",transform:vo},borderBottom:{themeKey:"borders",transform:vo},borderLeft:{themeKey:"borders",transform:vo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:vo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xC},color:{themeKey:"palette",transform:Sg},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Sg},backgroundColor:{themeKey:"palette",transform:Sg},p:{style:rr},pt:{style:rr},pr:{style:rr},pb:{style:rr},pl:{style:rr},px:{style:rr},py:{style:rr},padding:{style:rr},paddingTop:{style:rr},paddingRight:{style:rr},paddingBottom:{style:rr},paddingLeft:{style:rr},paddingX:{style:rr},paddingY:{style:rr},paddingInline:{style:rr},paddingInlineStart:{style:rr},paddingInlineEnd:{style:rr},paddingBlock:{style:rr},paddingBlockStart:{style:rr},paddingBlockEnd:{style:rr},m:{style:nr},mt:{style:nr},mr:{style:nr},mb:{style:nr},ml:{style:nr},mx:{style:nr},my:{style:nr},margin:{style:nr},marginTop:{style:nr},marginRight:{style:nr},marginBottom:{style:nr},marginLeft:{style:nr},marginX:{style:nr},marginY:{style:nr},marginInline:{style:nr},marginInlineStart:{style:nr},marginInlineEnd:{style:nr},marginBlock:{style:nr},marginBlockStart:{style:nr},marginBlockEnd:{style:nr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:EC},rowGap:{style:CC},columnGap:{style:SC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Gs},maxWidth:{style:aO},minWidth:{transform:Gs},height:{transform:Gs},maxHeight:{transform:Gs},minHeight:{transform:Gs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Oue(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Mue(t,e){return typeof t=="function"?t(e):t}function Lue(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=bC(i,u)||{};return d?d(o):ya(o,r,m=>{let y=qE(f,c,m);return m===y&&typeof m=="string"&&(y=qE(f,c,`${n}${m==="default"?"":Ye(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Ww;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=WH(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(f=>{const p=Mue(l[f],i);if(p!=null)if(typeof p=="object")if(s[f])d=r0(d,t(f,p,i,s));else{const m=ya({theme:i},p,y=>({[f]:y}));Oue(m,p)?d[f]=e({sx:p,theme:i}):d=r0(d,m)}else d=r0(d,t(f,p,i,s))}),Hle(i,qH(c,d))}return Array.isArray(r)?r.map(o):o(r)}return e}const Of=Lue();Of.filterProps=["sx"];function Due(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function AC(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=Vle(n),l=YH(i);let u=Gr({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...Gle,...s}},o);return u=qle(u),u.applyStyles=Due,u=e.reduce((c,d)=>Gr(c,d),u),u.unstable_sxConfig={...Ww,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(d){return Of({sx:d,theme:this})},u}function Fue(t){return Object.keys(t).length===0}function zue(t=null){const e=z.useContext(yC);return!e||Fue(e)?t:e}const jue=AC();function TC(t=jue){return zue(t)}function Bue({styles:t,themeId:e,defaultTheme:n={}}){const r=TC(n),i=typeof t=="function"?t(e&&r[e]||r):t;return j.jsx(Fle,{styles:i})}const $ue=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Ww;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function lO(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=$ue(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return hl(a)?{...r,...a}:r}:s={...r,...e},{...i,sx:s}}const M3=t=>t,Vue=()=>{let t=M3;return{configure(e){t=e},generate(e){return t(e)},reset(){t=M3}}},XH=Vue();function KH(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KH(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KH(t))&&(r&&(r+=" "),r+=e);return r}function Hue(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=VH("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Of);return z.forwardRef(function(l,u){const c=TC(n),{className:d,component:f="div",...p}=lO(l);return j.jsx(s,{as:f,ref:u,className:Je(d,i?i(r):r),theme:e&&c[e]||c,...p})})}const Uue={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function St(t,e,n="Mui"){const r=Uue[e];return r?`${n}-${r}`:`${XH.generate(t)}-${e}`}function Ct(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=St(t,i,n)}),r}function QH(t){const{variants:e,...n}=t,r={variants:e,style:R3(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=R3(i.style))}),r}const Wue=AC();function fk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function que(t){return t?(e,n)=>n[t]:null}function Gue(t,e,n){t.theme=Xue(t.theme)?n:t.theme[e]||t.theme}function kx(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>kx(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return ZH(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function ZH(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function JH(t={}){const{themeId:e,defaultTheme:n=Wue,rootShouldForwardProp:r=fk,slotShouldForwardProp:i=fk}=t;function s(a){Gue(a,e,n)}return(a,l={})=>{zle(a,k=>k.filter(O=>O!==Of));const{name:u,slot:c,skipVariantsResolver:d,skipSx:f,overridesResolver:p=que(Que(c)),...m}=l,y=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,b=f||!1;let v=fk;c==="Root"||c==="root"?v=r:c?v=i:Kue(a)&&(v=void 0);const x=VH(a,{shouldForwardProp:v,label:Yue(),...m}),_=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(A){return kx(A,k)};if(hl(k)){const O=QH(k);return O.variants?function(R){return kx(R,O)}:O.style}return k},S=(...k)=>{const O=[],A=k.map(_),R=[];if(O.push(s),u&&p&&R.push(function(M){var K,G;const N=(G=(K=M.theme.components)==null?void 0:K[u])==null?void 0:G.styleOverrides;if(!N)return null;const U={};for(const Z in N)U[Z]=kx(M,N[Z]);return p(M,U)}),u&&!y&&R.push(function(M){var U,K;const D=M.theme,N=(K=(U=D==null?void 0:D.components)==null?void 0:U[u])==null?void 0:K.variants;return N?ZH(M,N):null}),b||R.push(Of),Array.isArray(A[0])){const L=A.shift(),M=new Array(O.length).fill(""),D=new Array(R.length).fill("");let N;N=[...M,...L,...D],N.raw=[...M,...L.raw,...D],O.unshift(N)}const P=[...O,...A,...R],T=x(...P);return a.muiName&&(T.muiName=a.muiName),T};return x.withConfig&&(S.withConfig=x.withConfig),S}}function Yue(t,e){return void 0}function Xue(t){for(const e in t)return!1;return!0}function Kue(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Que(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const Zue=JH();function F0(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=F0(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function Jue(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:F0(e.components[n].defaultProps,r)}function ece({props:t,name:e,defaultTheme:n,themeId:r}){let i=TC(n);return r&&(i=i[r]||i),Jue({theme:i,name:e,props:t})}const kl=typeof window<"u"?z.useLayoutEffect:z.useEffect;function eU(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function uO(t,e=0,n=1){return eU(t,e,n)}function tce(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Rd(t){if(t.type)return t;if(t.charAt(0)==="#")return Rd(tce(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Qu(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Qu(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const nce=t=>{const e=Rd(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Rv=(t,e)=>{try{return nce(t)}catch{return t}};function kC(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function tU(t){t=Rd(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),kC({type:a,values:l})}function zI(t){t=Rd(t);let e=t.type==="hsl"||t.type==="hsla"?Rd(tU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function rce(t,e){const n=zI(t),r=zI(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Un(t,e){return t=Rd(t),e=uO(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,kC(t)}function F_(t,e,n){try{return Un(t,e)}catch{return t}}function RC(t,e){if(t=Rd(t),e=uO(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return kC(t)}function kn(t,e,n){try{return RC(t,e)}catch{return t}}function IC(t,e){if(t=Rd(t),e=uO(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return kC(t)}function Rn(t,e,n){try{return IC(t,e)}catch{return t}}function nU(t,e=.15){return zI(t)>.5?RC(t,e):IC(t,e)}function z_(t,e,n){try{return nU(t,e)}catch{return t}}function L3(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function rU(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Rx(t,e){var n,r,i;return z.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Zs(t){return t&&t.ownerDocument||document}function Zu(t){return Zs(t).defaultView||window}function D3(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let F3=0;function ice(t){const[e,n]=z.useState(t),r=t||e;return z.useEffect(()=>{e==null&&(F3+=1,n(`mui-${F3}`))},[e]),r}const sce={...KR},z3=sce.useId;function ay(t){if(z3!==void 0){const e=z3();return t??e}return ice(t)}function z0({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=z.useRef(t!==void 0),[s,o]=z.useState(e),a=i?t:s,l=z.useCallback(u=>{i||o(u)},[]);return[a,l]}function $u(t){const e=z.useRef(t);return kl(()=>{e.current=t}),z.useRef((...n)=>(0,e.current)(...n)).current}function Cr(...t){const e=z.useRef(void 0),n=z.useCallback(r=>{const i=t.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,a=o(r);return typeof a=="function"?a:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s==null?void 0:s())}},t);return z.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const j3={};function iU(t,e){const n=z.useRef(j3);return n.current===j3&&(n.current=t(e)),n}const oce=[];function ace(t){z.useEffect(t,oce)}class PC{constructor(){at(this,"currentId",null);at(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});at(this,"disposeEffect",()=>this.clear)}static create(){return new PC}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function wh(){const t=iU(PC.create).current;return ace(t.disposeEffect),t}function GE(t){try{return t.matches(":focus-visible")}catch{}return!1}function sU(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function At(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}function lce(t){return typeof t=="string"}function oU(t,e,n){return t===void 0||lce(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function aU(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function B3(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function lU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=Je(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const o=aU({...i,...r}),a=B3(r),l=B3(i),u=e(o),c=Je(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},f={...u,...n,...l,...a};return c.length>0&&(f.className=c),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:u.ref}}function uU(t,e,n){return typeof t=="function"?t(e,n):t}function cU(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=t,o=i?{}:uU(n,r),{props:a,internalRef:l}=lU({...s,externalSlotProps:o}),u=Cr(l,o==null?void 0:o.ref,(d=t.additionalProps)==null?void 0:d.ref);return oU(e,{...a,ref:u},r)}function Xf(t){var e;return parseInt(z.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const uce=z.createContext(),cO=()=>z.useContext(uce)??!1,cce=z.createContext(void 0);function dce(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?F0(i.defaultProps,r):!i.styleOverrides&&!i.variants?F0(i,r):r}function hce({props:t,name:e}){const n=z.useContext(cce);return dce({props:t,name:e,theme:{components:n}})}const $3={theme:void 0};function fce(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&($3.theme=i.theme,s=QH(t($3)),e=s,n=i.theme),s}}function pce(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const V3=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},gce=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},mce=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function pk(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return gce(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=mce(a,l);Object.assign(i,{[c]:d}),V3(s,a,`var(${c})`,u),V3(o,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function yce(t,e={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=pk(l,e);let f=d;const p={},{[a]:m,...y}=s;if(Object.entries(y||{}).forEach(([_,S])=>{const{vars:k,css:O,varsWithDefaults:A}=pk(S,e);f=Gr(f,A),p[_]={css:O,vars:k}}),m){const{css:_,vars:S,varsWithDefaults:k}=pk(m,e);f=Gr(f,k),p[a]={css:_,vars:S}}function b(_,S){var O,A;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),_){if(k==="media")return t.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((A=(O=s[_])==null?void 0:O.palette)==null?void 0:A.mode)||_})`]:{":root":S}};if(k)return t.defaultColorScheme===_?`:root, ${k.replace("%s",String(_))}`:k.replace("%s",String(_))}return":root"}return{vars:f,generateThemeVars:()=>{let _={...u};return Object.entries(p).forEach(([,{vars:S}])=>{_=Gr(_,S)}),_},generateStyleSheets:()=>{var R,P;const _=[],S=t.defaultColorScheme||"light";function k(T,L){Object.keys(L).length&&_.push(typeof T=="string"?{[T]:{...L}}:T)}k(n(void 0,{...c}),c);const{[S]:O,...A}=p;if(O){const{css:T}=O,L=(P=(R=s[S])==null?void 0:R.palette)==null?void 0:P.mode,M=!r&&L?{colorScheme:L,...T}:{...T};k(n(S,{...M}),M)}return Object.entries(A).forEach(([T,{css:L}])=>{var N,U;const M=(U=(N=s[T])==null?void 0:N.palette)==null?void 0:U.mode,D=!r&&M?{colorScheme:M,...L}:{...L};k(n(T,{...D}),D)}),_}}}function vce(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const bce=AC(),wce=Zue("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function _ce(t){return ece({props:t,name:"MuiStack",defaultTheme:bce})}function xce(t,e){const n=z.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(z.cloneElement(e,{key:`separator-${s}`})),r),[])}const Ece=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],Sce=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...ya({theme:e},hk({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=wC(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),s=hk({values:t.direction,base:i}),o=hk({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const f=u>0?s[c[u-1]]:"column";s[l]=f}}),n=Gr(n,ya({theme:e},o,(l,u)=>t.useFlexGap?{gap:Nf(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Ece(u?s[u]:t.direction)}`]:Nf(r,l)}}))}return n=Xle(e.breakpoints,n),n};function Cce(t={}){const{createStyledComponent:e=wce,useThemeProps:n=_ce,componentName:r="MuiStack"}=t,i=()=>At({root:["root"]},l=>St(r,l),{}),s=e(Sce);return z.forwardRef(function(l,u){const c=n(l),d=lO(c),{component:f="div",direction:p="column",spacing:m=0,divider:y,children:b,className:v,useFlexGap:x=!1,..._}=d,S={direction:p,spacing:m,useFlexGap:x},k=i();return j.jsx(s,{as:f,ownerState:S,ref:u,className:Je(k.root,v),..._,children:y?xce(b,y):b})})}function dU(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:O0.white,default:O0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Ace=dU();function hU(){return{text:{primary:O0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:O0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const H3=hU();function U3(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=IC(t.main,i):e==="dark"&&(t.dark=RC(t.main,s)))}function Tce(t="light"){return t==="dark"?{main:qp[200],light:qp[50],dark:qp[400]}:{main:qp[700],light:qp[400],dark:qp[800]}}function kce(t="light"){return t==="dark"?{main:Wp[200],light:Wp[50],dark:Wp[400]}:{main:Wp[500],light:Wp[300],dark:Wp[700]}}function Rce(t="light"){return t==="dark"?{main:Up[500],light:Up[300],dark:Up[700]}:{main:Up[700],light:Up[400],dark:Up[800]}}function Ice(t="light"){return t==="dark"?{main:Gp[400],light:Gp[300],dark:Gp[700]}:{main:Gp[700],light:Gp[500],dark:Gp[900]}}function Pce(t="light"){return t==="dark"?{main:Yp[400],light:Yp[300],dark:Yp[700]}:{main:Yp[800],light:Yp[500],dark:Yp[900]}}function Nce(t="light"){return t==="dark"?{main:Qy[400],light:Qy[300],dark:Qy[700]}:{main:"#ed6c02",light:Qy[500],dark:Qy[900]}}function dO(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||Tce(e),o=t.secondary||kce(e),a=t.error||Rce(e),l=t.info||Ice(e),u=t.success||Pce(e),c=t.warning||Nce(e);function d(y){return rce(y,H3.text.primary)>=n?H3.text.primary:Ace.text.primary}const f=({color:y,name:b,mainShade:v=500,lightShade:x=300,darkShade:_=700})=>{if(y={...y},!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(Qu(11,b?` (${b})`:"",v));if(typeof y.main!="string")throw new Error(Qu(12,b?` (${b})`:"",JSON.stringify(y.main)));return U3(y,"light",x,r),U3(y,"dark",_,r),y.contrastText||(y.contrastText=d(y.main)),y};let p;return e==="light"?p=dU():e==="dark"&&(p=hU()),Gr({common:{...O0},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:Lae,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r,...p},i)}function Oce(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function Mce(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Lce(t){return Math.round(t*1e5)/1e5}const W3={textTransform:"uppercase"},q3='"Roboto", "Helvetica", "Arial", sans-serif';function Dce(t,e){const{fontFamily:n=q3,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,f=r/14,p=c||(b=>`${b/l*f}rem`),m=(b,v,x,_,S)=>({fontFamily:n,fontWeight:b,fontSize:p(v),lineHeight:x,...n===q3?{letterSpacing:`${Lce(_/v)}em`}:{},...S,...u}),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(o,14,1.75,.4,W3),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,W3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gr({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...y},d,{clone:!1})}const Fce=.2,zce=.14,jce=.12;function Vn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Fce})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zce})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${jce})`].join(",")}const Bce=["none",Vn(0,2,1,-1,0,1,1,0,0,1,3,0),Vn(0,3,1,-2,0,2,2,0,0,1,5,0),Vn(0,3,3,-2,0,3,4,0,0,1,8,0),Vn(0,2,4,-1,0,4,5,0,0,1,10,0),Vn(0,3,5,-1,0,5,8,0,0,1,14,0),Vn(0,3,5,-1,0,6,10,0,0,1,18,0),Vn(0,4,5,-2,0,7,10,1,0,2,16,1),Vn(0,5,5,-3,0,8,10,1,0,3,14,2),Vn(0,5,6,-3,0,9,12,1,0,3,16,2),Vn(0,6,6,-3,0,10,14,1,0,4,18,3),Vn(0,6,7,-4,0,11,15,1,0,4,20,3),Vn(0,7,8,-4,0,12,17,2,0,5,22,4),Vn(0,7,8,-4,0,13,19,2,0,5,24,4),Vn(0,7,9,-4,0,14,21,2,0,5,26,4),Vn(0,8,9,-5,0,15,22,2,0,6,28,5),Vn(0,8,10,-5,0,16,24,2,0,6,30,5),Vn(0,8,11,-5,0,17,26,2,0,6,32,5),Vn(0,9,11,-5,0,18,28,2,0,7,34,6),Vn(0,9,12,-6,0,19,29,2,0,7,36,6),Vn(0,10,13,-6,0,20,31,3,0,8,38,7),Vn(0,10,13,-6,0,21,33,3,0,8,40,7),Vn(0,10,14,-6,0,22,35,3,0,8,42,7),Vn(0,11,14,-7,0,23,36,3,0,9,44,8),Vn(0,11,15,-7,0,24,38,3,0,9,46,8)],$ce={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Vce={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function G3(t){return`${Math.round(t)}ms`}function Hce(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Uce(t){const e={...$ce,...t.easing},n={...Vce,...t.duration};return{getAutoHeightDuration:Hce,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:G3(o)} ${a} ${typeof l=="string"?l:G3(l)}`).join(",")},...t,easing:e,duration:n}}const Wce={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qce(t){return hl(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function fU(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!qce(a)||o.startsWith("unstable_")?delete r[o]:hl(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function jI(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Qu(20));const c=dO(s),d=AC(t);let f=Gr(d,{mixins:Mce(d.breakpoints,r),palette:c,shadows:Bce.slice(),typography:Dce(c,a),transitions:Uce(o),zIndex:{...Wce}});return f=Gr(f,u),f=e.reduce((p,m)=>Gr(p,m),f),f.unstable_sxConfig={...Ww,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(m){return Of({sx:m,theme:this})},f.toRuntimeSource=fU,f}function BI(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const Gce=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=BI(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function pU(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function gU(t){return t==="dark"?Gce:[]}function Yce(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=dO(e);return{palette:s,opacity:{...pU(s.mode),...n},overlays:r||gU(s.mode),...i}}function Xce(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Kce=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Qce=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return Kce(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function Zce(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Ne(t,e,n){!t[e]&&n&&(t[e]=n)}function Iv(t){return typeof t!="string"||!t.startsWith("hsl")?t:tU(t)}function eu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Rv(Iv(t[e])))}function Jce(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ja=t=>{try{return t()}catch{}},ede=(t="mui")=>pce(t);function gk(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=Yce({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=jI({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...pU(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||gU(i)},o}function tde(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=Xce,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),f=ede(s),{[d]:p,light:m,dark:y,...b}=n,v={...b};let x=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(x=!0),!x)throw new Error(Qu(21,d));const _=gk(v,x,u,d);m&&!v.light&&gk(v,m,void 0,"light"),y&&!v.dark&&gk(v,y,void 0,"dark");let S={defaultColorScheme:d,..._,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:v,font:{...Oce(_.typography),..._.font},spacing:Jce(u.spacing)};Object.keys(S.colorSchemes).forEach(P=>{const T=S.colorSchemes[P].palette,L=M=>{const D=M.split("-"),N=D[1],U=D[2];return f(M,T[N][U])};if(T.mode==="light"&&(Ne(T.common,"background","#fff"),Ne(T.common,"onBackground","#000")),T.mode==="dark"&&(Ne(T.common,"background","#000"),Ne(T.common,"onBackground","#fff")),Zce(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){Ne(T.Alert,"errorColor",kn(T.error.light,.6)),Ne(T.Alert,"infoColor",kn(T.info.light,.6)),Ne(T.Alert,"successColor",kn(T.success.light,.6)),Ne(T.Alert,"warningColor",kn(T.warning.light,.6)),Ne(T.Alert,"errorFilledBg",L("palette-error-main")),Ne(T.Alert,"infoFilledBg",L("palette-info-main")),Ne(T.Alert,"successFilledBg",L("palette-success-main")),Ne(T.Alert,"warningFilledBg",L("palette-warning-main")),Ne(T.Alert,"errorFilledColor",ja(()=>T.getContrastText(T.error.main))),Ne(T.Alert,"infoFilledColor",ja(()=>T.getContrastText(T.info.main))),Ne(T.Alert,"successFilledColor",ja(()=>T.getContrastText(T.success.main))),Ne(T.Alert,"warningFilledColor",ja(()=>T.getContrastText(T.warning.main))),Ne(T.Alert,"errorStandardBg",Rn(T.error.light,.9)),Ne(T.Alert,"infoStandardBg",Rn(T.info.light,.9)),Ne(T.Alert,"successStandardBg",Rn(T.success.light,.9)),Ne(T.Alert,"warningStandardBg",Rn(T.warning.light,.9)),Ne(T.Alert,"errorIconColor",L("palette-error-main")),Ne(T.Alert,"infoIconColor",L("palette-info-main")),Ne(T.Alert,"successIconColor",L("palette-success-main")),Ne(T.Alert,"warningIconColor",L("palette-warning-main")),Ne(T.AppBar,"defaultBg",L("palette-grey-100")),Ne(T.Avatar,"defaultBg",L("palette-grey-400")),Ne(T.Button,"inheritContainedBg",L("palette-grey-300")),Ne(T.Button,"inheritContainedHoverBg",L("palette-grey-A100")),Ne(T.Chip,"defaultBorder",L("palette-grey-400")),Ne(T.Chip,"defaultAvatarColor",L("palette-grey-700")),Ne(T.Chip,"defaultIconColor",L("palette-grey-700")),Ne(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ne(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ne(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ne(T.LinearProgress,"primaryBg",Rn(T.primary.main,.62)),Ne(T.LinearProgress,"secondaryBg",Rn(T.secondary.main,.62)),Ne(T.LinearProgress,"errorBg",Rn(T.error.main,.62)),Ne(T.LinearProgress,"infoBg",Rn(T.info.main,.62)),Ne(T.LinearProgress,"successBg",Rn(T.success.main,.62)),Ne(T.LinearProgress,"warningBg",Rn(T.warning.main,.62)),Ne(T.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),Ne(T.Slider,"primaryTrack",Rn(T.primary.main,.62)),Ne(T.Slider,"secondaryTrack",Rn(T.secondary.main,.62)),Ne(T.Slider,"errorTrack",Rn(T.error.main,.62)),Ne(T.Slider,"infoTrack",Rn(T.info.main,.62)),Ne(T.Slider,"successTrack",Rn(T.success.main,.62)),Ne(T.Slider,"warningTrack",Rn(T.warning.main,.62));const M=z_(T.background.default,.8);Ne(T.SnackbarContent,"bg",M),Ne(T.SnackbarContent,"color",ja(()=>T.getContrastText(M))),Ne(T.SpeedDialAction,"fabHoverBg",z_(T.background.paper,.15)),Ne(T.StepConnector,"border",L("palette-grey-400")),Ne(T.StepContent,"border",L("palette-grey-400")),Ne(T.Switch,"defaultColor",L("palette-common-white")),Ne(T.Switch,"defaultDisabledColor",L("palette-grey-100")),Ne(T.Switch,"primaryDisabledColor",Rn(T.primary.main,.62)),Ne(T.Switch,"secondaryDisabledColor",Rn(T.secondary.main,.62)),Ne(T.Switch,"errorDisabledColor",Rn(T.error.main,.62)),Ne(T.Switch,"infoDisabledColor",Rn(T.info.main,.62)),Ne(T.Switch,"successDisabledColor",Rn(T.success.main,.62)),Ne(T.Switch,"warningDisabledColor",Rn(T.warning.main,.62)),Ne(T.TableCell,"border",Rn(F_(T.divider,1),.88)),Ne(T.Tooltip,"bg",F_(T.grey[700],.92))}if(T.mode==="dark"){Ne(T.Alert,"errorColor",Rn(T.error.light,.6)),Ne(T.Alert,"infoColor",Rn(T.info.light,.6)),Ne(T.Alert,"successColor",Rn(T.success.light,.6)),Ne(T.Alert,"warningColor",Rn(T.warning.light,.6)),Ne(T.Alert,"errorFilledBg",L("palette-error-dark")),Ne(T.Alert,"infoFilledBg",L("palette-info-dark")),Ne(T.Alert,"successFilledBg",L("palette-success-dark")),Ne(T.Alert,"warningFilledBg",L("palette-warning-dark")),Ne(T.Alert,"errorFilledColor",ja(()=>T.getContrastText(T.error.dark))),Ne(T.Alert,"infoFilledColor",ja(()=>T.getContrastText(T.info.dark))),Ne(T.Alert,"successFilledColor",ja(()=>T.getContrastText(T.success.dark))),Ne(T.Alert,"warningFilledColor",ja(()=>T.getContrastText(T.warning.dark))),Ne(T.Alert,"errorStandardBg",kn(T.error.light,.9)),Ne(T.Alert,"infoStandardBg",kn(T.info.light,.9)),Ne(T.Alert,"successStandardBg",kn(T.success.light,.9)),Ne(T.Alert,"warningStandardBg",kn(T.warning.light,.9)),Ne(T.Alert,"errorIconColor",L("palette-error-main")),Ne(T.Alert,"infoIconColor",L("palette-info-main")),Ne(T.Alert,"successIconColor",L("palette-success-main")),Ne(T.Alert,"warningIconColor",L("palette-warning-main")),Ne(T.AppBar,"defaultBg",L("palette-grey-900")),Ne(T.AppBar,"darkBg",L("palette-background-paper")),Ne(T.AppBar,"darkColor",L("palette-text-primary")),Ne(T.Avatar,"defaultBg",L("palette-grey-600")),Ne(T.Button,"inheritContainedBg",L("palette-grey-800")),Ne(T.Button,"inheritContainedHoverBg",L("palette-grey-700")),Ne(T.Chip,"defaultBorder",L("palette-grey-700")),Ne(T.Chip,"defaultAvatarColor",L("palette-grey-300")),Ne(T.Chip,"defaultIconColor",L("palette-grey-300")),Ne(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ne(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ne(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ne(T.LinearProgress,"primaryBg",kn(T.primary.main,.5)),Ne(T.LinearProgress,"secondaryBg",kn(T.secondary.main,.5)),Ne(T.LinearProgress,"errorBg",kn(T.error.main,.5)),Ne(T.LinearProgress,"infoBg",kn(T.info.main,.5)),Ne(T.LinearProgress,"successBg",kn(T.success.main,.5)),Ne(T.LinearProgress,"warningBg",kn(T.warning.main,.5)),Ne(T.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),Ne(T.Slider,"primaryTrack",kn(T.primary.main,.5)),Ne(T.Slider,"secondaryTrack",kn(T.secondary.main,.5)),Ne(T.Slider,"errorTrack",kn(T.error.main,.5)),Ne(T.Slider,"infoTrack",kn(T.info.main,.5)),Ne(T.Slider,"successTrack",kn(T.success.main,.5)),Ne(T.Slider,"warningTrack",kn(T.warning.main,.5));const M=z_(T.background.default,.98);Ne(T.SnackbarContent,"bg",M),Ne(T.SnackbarContent,"color",ja(()=>T.getContrastText(M))),Ne(T.SpeedDialAction,"fabHoverBg",z_(T.background.paper,.15)),Ne(T.StepConnector,"border",L("palette-grey-600")),Ne(T.StepContent,"border",L("palette-grey-600")),Ne(T.Switch,"defaultColor",L("palette-grey-300")),Ne(T.Switch,"defaultDisabledColor",L("palette-grey-600")),Ne(T.Switch,"primaryDisabledColor",kn(T.primary.main,.55)),Ne(T.Switch,"secondaryDisabledColor",kn(T.secondary.main,.55)),Ne(T.Switch,"errorDisabledColor",kn(T.error.main,.55)),Ne(T.Switch,"infoDisabledColor",kn(T.info.main,.55)),Ne(T.Switch,"successDisabledColor",kn(T.success.main,.55)),Ne(T.Switch,"warningDisabledColor",kn(T.warning.main,.55)),Ne(T.TableCell,"border",kn(F_(T.divider,1),.68)),Ne(T.Tooltip,"bg",F_(T.grey[700],.92))}eu(T.background,"default"),eu(T.background,"paper"),eu(T.common,"background"),eu(T.common,"onBackground"),eu(T,"divider"),Object.keys(T).forEach(M=>{const D=T[M];M!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&Ne(T[M],"mainChannel",Rv(Iv(D.main))),D.light&&Ne(T[M],"lightChannel",Rv(Iv(D.light))),D.dark&&Ne(T[M],"darkChannel",Rv(Iv(D.dark))),D.contrastText&&Ne(T[M],"contrastTextChannel",Rv(Iv(D.contrastText))),M==="text"&&(eu(T[M],"primary"),eu(T[M],"secondary")),M==="action"&&(D.active&&eu(T[M],"active"),D.selected&&eu(T[M],"selected")))})}),S=e.reduce((P,T)=>Gr(P,T),S);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:Qce(S)},{vars:O,generateThemeVars:A,generateStyleSheets:R}=yce(S,k);return S.vars=O,Object.entries(S.colorSchemes[S.defaultColorScheme]).forEach(([P,T])=>{S[P]=T}),S.generateThemeVars=A,S.generateStyleSheets=R,S.generateSpacing=function(){return YH(u.spacing,wC(this))},S.getColorSchemeSelector=vce(a),S.spacing=S.generateSpacing(),S.shouldSkipGeneratingVar=o,S.unstable_sxConfig={...Ww,...u==null?void 0:u.unstable_sxConfig},S.unstable_sx=function(T){return Of({sx:T,theme:this})},S.toRuntimeSource=fU,S}function Y3(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:dO({...n===!0?{}:n.palette,mode:e})})}function mU(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return jI(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=jI({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},Y3(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},Y3(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),tde({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}function nde(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function rde(t){return parseFloat(t)}const hO=mU();function Kf(){const t=TC(hO);return t[fC]||t}function yU(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const qi=t=>yU(t)&&t!=="classes",Ue=JH({themeId:fC,defaultTheme:hO,rootShouldForwardProp:qi});function ide(t){return j.jsx(Bue,{...t,defaultTheme:hO,themeId:fC})}function sde(t){return function(n){return j.jsx(ide,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function ode(){return lO}const Nt=fce;function kt(t){return hce(t)}function ade(t){return St("MuiSvgIcon",t)}Ct("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const lde=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ye(e)}`,`fontSize${Ye(n)}`]};return At(i,ade,r)},ude=Ue("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ye(n.color)}`],e[`fontSize${Ye(n.fontSize)}`]]}})(Nt(({theme:t})=>{var e,n,r,i,s,o,a,l,u,c,d,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var b,v;return{props:{color:y},style:{color:(v=(b=(t.vars??t).palette)==null?void 0:b[y])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(f=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),$I=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:f="0 0 24 24",...p}=r,m=z.isValidElement(i)&&i.type==="svg",y={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:m},b={};c||(b.viewBox=f);const v=lde(y);return j.jsxs(ude,{as:a,className:Je(v.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...b,...p,...m&&i.props,ownerState:y,children:[m?i.props.children:i,d?j.jsx("title",{children:d}):null]})});$I.muiName="SvgIcon";function _n(t,e){function n(r,i){return j.jsx($I,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=$I.muiName,z.memo(z.forwardRef(n))}function fO(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const s=typeof e=="function"?e(i):e,o=typeof t=="function"?t({...i,...s}):t,a=Je(i==null?void 0:i.className,s==null?void 0:s.className,o==null?void 0:o.className);return{...s,...o,...!!a&&{className:a},...(s==null?void 0:s.style)&&(o==null?void 0:o.style)&&{style:{...s.style,...o.style}},...(s==null?void 0:s.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const n=e,r=Je(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function vU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},VI(t,e)}function bU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,VI(t,e)}const X3={disabled:!1},YE=Xe.createContext(null);var cde=function(e){return e.scrollTop},Pv="unmounted",ch="exited",dh="entering",ag="entered",HI="exiting",_a=function(t){bU(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=ch,s.appearStatus=dh):l=ag:r.unmountOnExit||r.mountOnEnter?l=Pv:l=ch,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Pv?{status:ch}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==dh&&o!==ag&&(s=dh):(o===dh||o===ag)&&(s=HI)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===dh){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this);o&&cde(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ch&&this.setState({status:Pv})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[pd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||X3.disabled){this.safeSetState({status:ag},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:dh},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:ag},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:pd.findDOMNode(this);if(!s||X3.disabled){this.safeSetState({status:ch},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:HI},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:ch},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:pd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Pv)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=vU(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Xe.createElement(YE.Provider,{value:null},typeof o=="function"?o(i,a):Xe.cloneElement(Xe.Children.only(o),a))},e}(Xe.Component);_a.contextType=YE;_a.propTypes={};function Xp(){}_a.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xp,onEntering:Xp,onEntered:Xp,onExit:Xp,onExiting:Xp,onExited:Xp};_a.UNMOUNTED=Pv;_a.EXITED=ch;_a.ENTERING=dh;_a.ENTERED=ag;_a.EXITING=HI;function dde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pO(t,e){var n=function(s){return e&&z.isValidElement(s)?e(s):s},r=Object.create(null);return t&&z.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function hde(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function _h(t,e,n){return n[e]!=null?n[e]:t.props[e]}function fde(t,e){return pO(t.children,function(n){return z.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:_h(n,"appear",t),enter:_h(n,"enter",t),exit:_h(n,"exit",t)})})}function pde(t,e,n){var r=pO(t.children),i=hde(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(z.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=z.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=z.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:_h(o,"exit",t),enter:_h(o,"enter",t)}):!l&&a&&!c?i[s]=z.cloneElement(o,{in:!1}):l&&a&&z.isValidElement(u)&&(i[s]=z.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:_h(o,"exit",t),enter:_h(o,"enter",t)}))}}),i}var gde=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},mde={component:"div",childFactory:function(e){return e}},gO=function(t){bU(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(dde(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?fde(i,a):pde(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=pO(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=UE({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=vU(i,["component","childFactory"]),l=this.state.contextValue,u=gde(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Xe.createElement(YE.Provider,{value:l},u):Xe.createElement(YE.Provider,{value:l},Xe.createElement(s,a,u))},e}(Xe.Component);gO.propTypes={};gO.defaultProps=mde;const mO=t=>t.scrollTop;function $m(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function yde(t){return St("MuiPaper",t)}Ct("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const vde=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return At(s,yde,i)},bde=Ue("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Nt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Vm=z.forwardRef(function(e,n){var p;const r=kt({props:e,name:"MuiPaper"}),i=Kf(),{className:s,component:o="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:o,elevation:a,square:l,variant:u},f=vde(d);return j.jsx(bde,{as:o,ownerState:d,className:Je(f.root,s),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Un("#fff",BI(a))}, ${Un("#fff",BI(a))})`}},...c.style}})});function Bt(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:d={[t]:void 0},...f}=s,p=c[t]||r,m=uU(d[t],i),{props:{component:y,...b},internalRef:v}=lU({className:n,...l,externalForwardedProps:t==="root"?f:void 0,externalSlotProps:m}),x=Cr(v,m==null?void 0:m.ref,e.ref),_=t==="root"?y||u:y,S=oU(p,{...t==="root"&&!u&&!c[t]&&o,...t!=="root"&&!c[t]&&o,...b,..._&&!a&&{as:_},..._&&a&&{component:_},ref:x},i);return[p,S]}class XE{constructor(){at(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new XE}static use(){const e=iU(XE.create).current,[n,r]=z.useState(!1);return e.shouldMount=n,e.setShouldMount=r,z.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=_de(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function wde(){return XE.use()}function _de(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function xde(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=z.useState(!1),f=Je(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=Je(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),z.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),j.jsx("span",{className:f,style:p,children:j.jsx("span",{className:m})})}const yo=Ct("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),UI=550,Ede=80,Sde=Yf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Cde=Yf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Ade=Yf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Tde=Ue("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kde=Ue(xde,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${yo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Sde};
    animation-duration: ${UI}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${yo.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${yo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${yo.childLeaving} {
    opacity: 0;
    animation-name: ${Cde};
    animation-duration: ${UI}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${yo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Ade};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Rde=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...a}=r,[l,u]=z.useState([]),c=z.useRef(0),d=z.useRef(null);z.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=z.useRef(!1),p=wh(),m=z.useRef(null),y=z.useRef(null),b=z.useCallback(S=>{const{pulsate:k,rippleX:O,rippleY:A,rippleSize:R,cb:P}=S;u(T=>[...T,j.jsx(kde,{classes:{ripple:Je(s.ripple,yo.ripple),rippleVisible:Je(s.rippleVisible,yo.rippleVisible),ripplePulsate:Je(s.ripplePulsate,yo.ripplePulsate),child:Je(s.child,yo.child),childLeaving:Je(s.childLeaving,yo.childLeaving),childPulsate:Je(s.childPulsate,yo.childPulsate)},timeout:UI,pulsate:k,rippleX:O,rippleY:A,rippleSize:R},c.current)]),c.current+=1,d.current=P},[s]),v=z.useCallback((S={},k={},O=()=>{})=>{const{pulsate:A=!1,center:R=i||k.pulsate,fakeElement:P=!1}=k;if((S==null?void 0:S.type)==="mousedown"&&f.current){f.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(f.current=!0);const T=P?null:y.current,L=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let M,D,N;if(R||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)M=Math.round(L.width/2),D=Math.round(L.height/2);else{const{clientX:U,clientY:K}=S.touches&&S.touches.length>0?S.touches[0]:S;M=Math.round(U-L.left),D=Math.round(K-L.top)}if(R)N=Math.sqrt((2*L.width**2+L.height**2)/3),N%2===0&&(N+=1);else{const U=Math.max(Math.abs((T?T.clientWidth:0)-M),M)*2+2,K=Math.max(Math.abs((T?T.clientHeight:0)-D),D)*2+2;N=Math.sqrt(U**2+K**2)}S!=null&&S.touches?m.current===null&&(m.current=()=>{b({pulsate:A,rippleX:M,rippleY:D,rippleSize:N,cb:O})},p.start(Ede,()=>{m.current&&(m.current(),m.current=null)})):b({pulsate:A,rippleX:M,rippleY:D,rippleSize:N,cb:O})},[i,b,p]),x=z.useCallback(()=>{v({},{pulsate:!0})},[v]),_=z.useCallback((S,k)=>{if(p.clear(),(S==null?void 0:S.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{_(S,k)});return}m.current=null,u(O=>O.length>0?O.slice(1):O),d.current=k},[p]);return z.useImperativeHandle(n,()=>({pulsate:x,start:v,stop:_}),[x,v,_]),j.jsx(Tde,{className:Je(yo.root,s.root,o),ref:y,...a,children:j.jsx(gO,{component:null,exit:!0,children:l})})});function Ide(t){return St("MuiButtonBase",t)}const Pde=Ct("MuiButtonBase",["root","disabled","focusVisible"]),Nde=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=At({root:["root",e&&"disabled",n&&"focusVisible"]},Ide,i);return n&&r&&(o.root+=` ${r}`),o},Ode=Ue("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Pde.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qw=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:y,onClick:b,onContextMenu:v,onDragLeave:x,onFocus:_,onFocusVisible:S,onKeyDown:k,onKeyUp:O,onMouseDown:A,onMouseLeave:R,onMouseUp:P,onTouchEnd:T,onTouchMove:L,onTouchStart:M,tabIndex:D=0,TouchRippleProps:N,touchRippleRef:U,type:K,...G}=r,Z=z.useRef(null),X=wde(),W=Cr(X.ref,U),[q,Q]=z.useState(!1);u&&q&&Q(!1),z.useImperativeHandle(i,()=>({focusVisible:()=>{Q(!0),Z.current.focus()}}),[]);const H=X.shouldMount&&!c&&!u;z.useEffect(()=>{q&&f&&!c&&X.pulsate()},[c,f,q,X]);const re=tu(X,"start",A,d),te=tu(X,"stop",v,d),he=tu(X,"stop",x,d),de=tu(X,"stop",P,d),oe=tu(X,"stop",ye=>{q&&ye.preventDefault(),R&&R(ye)},d),ce=tu(X,"start",M,d),ge=tu(X,"stop",T,d),xe=tu(X,"stop",L,d),Ee=tu(X,"stop",ye=>{GE(ye.target)||Q(!1),y&&y(ye)},!1),Pe=$u(ye=>{Z.current||(Z.current=ye.currentTarget),GE(ye.target)&&(Q(!0),S&&S(ye)),_&&_(ye)}),V=()=>{const ye=Z.current;return l&&l!=="button"&&!(ye.tagName==="A"&&ye.href)},pe=$u(ye=>{f&&!ye.repeat&&q&&ye.key===" "&&X.stop(ye,()=>{X.start(ye)}),ye.target===ye.currentTarget&&V()&&ye.key===" "&&ye.preventDefault(),k&&k(ye),ye.target===ye.currentTarget&&V()&&ye.key==="Enter"&&!u&&(ye.preventDefault(),b&&b(ye))}),me=$u(ye=>{f&&ye.key===" "&&q&&!ye.defaultPrevented&&X.stop(ye,()=>{X.pulsate(ye)}),O&&O(ye),b&&ye.target===ye.currentTarget&&V()&&ye.key===" "&&!ye.defaultPrevented&&b(ye)});let le=l;le==="button"&&(G.href||G.to)&&(le=m);const ee={};le==="button"?(ee.type=K===void 0?"button":K,ee.disabled=u):(!G.href&&!G.to&&(ee.role="button"),u&&(ee["aria-disabled"]=u));const ue=Cr(n,Z),ve={...r,centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:f,tabIndex:D,focusVisible:q},Te=Nde(ve);return j.jsxs(Ode,{as:le,className:Je(Te.root,a),ownerState:ve,onBlur:Ee,onClick:b,onContextMenu:te,onFocus:Pe,onKeyDown:pe,onKeyUp:me,onMouseDown:re,onMouseLeave:oe,onMouseUp:de,onDragLeave:he,onTouchEnd:ge,onTouchMove:xe,onTouchStart:ce,ref:ue,tabIndex:u?-1:D,type:K,...ee,...G,children:[o,H?j.jsx(Rde,{ref:W,center:s,...N}):null]})});function tu(t,e,n,r=!1){return $u(i=>(n&&n(i),r||t[e](i),!0))}function Mde(t){return typeof t.main=="string"}function Lde(t,e=[]){if(!Mde(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function Co(t=[]){return([,e])=>e&&Lde(e,t)}function Dde(t){return St("MuiCircularProgress",t)}Ct("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Oc=44,WI=Yf`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,qI=Yf`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Fde=typeof WI!="string"?Hw`
        animation: ${WI} 1.4s linear infinite;
      `:null,zde=typeof qI!="string"?Hw`
        animation: ${qI} 1.4s ease-in-out infinite;
      `:null,jde=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${Ye(r)}`],svg:["svg"],circle:["circle",`circle${Ye(n)}`,i&&"circleDisableShrink"]};return At(s,Dde,e)},Bde=Ue("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Ye(n.color)}`]]}})(Nt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Fde||{animation:`${WI} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),$de=Ue("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Vde=Ue("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Ye(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Nt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:zde||{animation:`${qI} 1.4s ease-in-out infinite`}}]}))),wU=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate",...f}=r,p={...r,color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d},m=jde(p),y={},b={},v={};if(d==="determinate"){const x=2*Math.PI*((Oc-u)/2);y.strokeDasharray=x.toFixed(3),v["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*x).toFixed(3)}px`,b.transform="rotate(-90deg)"}return j.jsx(Bde,{className:Je(m.root,i),style:{width:a,height:a,...b,...l},ownerState:p,ref:n,role:"progressbar",...v,...f,children:j.jsx($de,{className:m.svg,ownerState:p,viewBox:`${Oc/2} ${Oc/2} ${Oc} ${Oc}`,children:j.jsx(Vde,{className:m.circle,style:y,ownerState:p,cx:Oc,cy:Oc,r:(Oc-u)/2,fill:"none",strokeWidth:u})})})});function Hde(t){return St("MuiIconButton",t)}const K3=Ct("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Ude=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s,loading:o}=t,a={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${Ye(r)}`,i&&`edge${Ye(i)}`,`size${Ye(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return At(a,Hde,e)},Wde=Ue(qw,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Ye(n.color)}`],n.edge&&e[`edge${Ye(n.edge)}`],e[`size${Ye(n.size)}`]]}})(Nt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Nt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Un((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${K3.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${K3.loading}`]:{color:"transparent"}}))),qde=Ue("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),xh=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:d,loading:f=null,loadingIndicator:p,...m}=r,y=ay(d),b=p??j.jsx(wU,{"aria-labelledby":y,color:"inherit",size:16}),v={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:f,loadingIndicator:b,size:c},x=Ude(v);return j.jsxs(Wde,{id:f?y:d,className:Je(x.root,o),centerRipple:!0,focusRipple:!u,disabled:l||f,ref:n,...m,ownerState:v,children:[typeof f=="boolean"&&j.jsx("span",{className:x.loadingWrapper,style:{display:"contents"},children:j.jsx(qde,{className:x.loadingIndicator,ownerState:v,children:f&&b})}),s]})});function Gde(t){return St("MuiTypography",t)}const Q3=Ct("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Yde={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Xde=ode(),Kde=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${Ye(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return At(a,Gde,o)},Qde=Ue("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ye(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Nt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(Co()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Ye(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),Z3={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},rn=z.forwardRef(function(e,n){const{color:r,...i}=kt({props:e,name:"MuiTypography"}),s=!Yde[r],o=Xde({...i,...s&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:f=!1,variant:p="body1",variantMapping:m=Z3,...y}=o,b={...o,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:f,variant:p,variantMapping:m},v=u||(f?"p":m[p]||Z3[p])||"span",x=Kde(b);return j.jsx(Qde,{as:v,ref:n,className:Je(x.root,l),...y,ownerState:b,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});var vs="top",Ao="bottom",To="right",bs="left",yO="auto",Gw=[vs,Ao,To,bs],Hm="start",j0="end",Zde="clippingParents",_U="viewport",Jy="popper",Jde="reference",J3=Gw.reduce(function(t,e){return t.concat([e+"-"+Hm,e+"-"+j0])},[]),xU=[].concat(Gw,[yO]).reduce(function(t,e){return t.concat([e,e+"-"+Hm,e+"-"+j0])},[]),ehe="beforeRead",the="read",nhe="afterRead",rhe="beforeMain",ihe="main",she="afterMain",ohe="beforeWrite",ahe="write",lhe="afterWrite",uhe=[ehe,the,nhe,rhe,ihe,she,ohe,ahe,lhe];function Rl(t){return t?(t.nodeName||"").toLowerCase():null}function Js(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Mf(t){var e=Js(t).Element;return t instanceof e||t instanceof Element}function So(t){var e=Js(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function vO(t){if(typeof ShadowRoot>"u")return!1;var e=Js(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function che(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!So(s)||!Rl(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function dhe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!So(i)||!Rl(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const hhe={name:"applyStyles",enabled:!0,phase:"write",fn:che,effect:dhe,requires:["computeStyles"]};function xl(t){return t.split("-")[0]}var Sf=Math.max,KE=Math.min,Um=Math.round;function GI(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function EU(){return!/^((?!chrome|android).)*safari/i.test(GI())}function Wm(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&So(t)&&(i=t.offsetWidth>0&&Um(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Um(r.height)/t.offsetHeight||1);var o=Mf(t)?Js(t):window,a=o.visualViewport,l=!EU()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function bO(t){var e=Wm(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function SU(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&vO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ju(t){return Js(t).getComputedStyle(t)}function fhe(t){return["table","td","th"].indexOf(Rl(t))>=0}function Md(t){return((Mf(t)?t.ownerDocument:t.document)||window.document).documentElement}function NC(t){return Rl(t)==="html"?t:t.assignedSlot||t.parentNode||(vO(t)?t.host:null)||Md(t)}function e4(t){return!So(t)||Ju(t).position==="fixed"?null:t.offsetParent}function phe(t){var e=/firefox/i.test(GI()),n=/Trident/i.test(GI());if(n&&So(t)){var r=Ju(t);if(r.position==="fixed")return null}var i=NC(t);for(vO(i)&&(i=i.host);So(i)&&["html","body"].indexOf(Rl(i))<0;){var s=Ju(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Yw(t){for(var e=Js(t),n=e4(t);n&&fhe(n)&&Ju(n).position==="static";)n=e4(n);return n&&(Rl(n)==="html"||Rl(n)==="body"&&Ju(n).position==="static")?e:n||phe(t)||e}function wO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function i0(t,e,n){return Sf(t,KE(e,n))}function ghe(t,e,n){var r=i0(t,e,n);return r>n?n:r}function CU(){return{top:0,right:0,bottom:0,left:0}}function AU(t){return Object.assign({},CU(),t)}function TU(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var mhe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,AU(typeof e!="number"?e:TU(e,Gw))};function yhe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=xl(n.placement),l=wO(a),u=[bs,To].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=mhe(i.padding,n),f=bO(s),p=l==="y"?vs:bs,m=l==="y"?Ao:To,y=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],b=o[l]-n.rects.reference[l],v=Yw(s),x=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,_=y/2-b/2,S=d[p],k=x-f[c]-d[m],O=x/2-f[c]/2+_,A=i0(S,O,k),R=l;n.modifiersData[r]=(e={},e[R]=A,e.centerOffset=A-O,e)}}function vhe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||SU(e.elements.popper,i)&&(e.elements.arrow=i))}const bhe={name:"arrow",enabled:!0,phase:"main",fn:yhe,effect:vhe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qm(t){return t.split("-")[1]}var whe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _he(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Um(n*i)/i||0,y:Um(r*i)/i||0}}function t4(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,m=o.y,y=m===void 0?0:m,b=typeof c=="function"?c({x:p,y}):{x:p,y};p=b.x,y=b.y;var v=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),_=bs,S=vs,k=window;if(u){var O=Yw(n),A="clientHeight",R="clientWidth";if(O===Js(n)&&(O=Md(n),Ju(O).position!=="static"&&a==="absolute"&&(A="scrollHeight",R="scrollWidth")),O=O,i===vs||(i===bs||i===To)&&s===j0){S=Ao;var P=d&&O===k&&k.visualViewport?k.visualViewport.height:O[A];y-=P-r.height,y*=l?1:-1}if(i===bs||(i===vs||i===Ao)&&s===j0){_=To;var T=d&&O===k&&k.visualViewport?k.visualViewport.width:O[R];p-=T-r.width,p*=l?1:-1}}var L=Object.assign({position:a},u&&whe),M=c===!0?_he({x:p,y},Js(n)):{x:p,y};if(p=M.x,y=M.y,l){var D;return Object.assign({},L,(D={},D[S]=x?"0":"",D[_]=v?"0":"",D.transform=(k.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",D))}return Object.assign({},L,(e={},e[S]=x?y+"px":"",e[_]=v?p+"px":"",e.transform="",e))}function xhe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:xl(e.placement),variation:qm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,t4(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,t4(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ehe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xhe,data:{}};var j_={passive:!0};function She(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Js(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,j_)}),a&&l.addEventListener("resize",n.update,j_),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,j_)}),a&&l.removeEventListener("resize",n.update,j_)}}const Che={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:She,data:{}};var Ahe={left:"right",right:"left",bottom:"top",top:"bottom"};function Ix(t){return t.replace(/left|right|bottom|top/g,function(e){return Ahe[e]})}var The={start:"end",end:"start"};function n4(t){return t.replace(/start|end/g,function(e){return The[e]})}function _O(t){var e=Js(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xO(t){return Wm(Md(t)).left+_O(t).scrollLeft}function khe(t,e){var n=Js(t),r=Md(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=EU();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+xO(t),y:l}}function Rhe(t){var e,n=Md(t),r=_O(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Sf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Sf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+xO(t),l=-r.scrollTop;return Ju(i||n).direction==="rtl"&&(a+=Sf(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function EO(t){var e=Ju(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function kU(t){return["html","body","#document"].indexOf(Rl(t))>=0?t.ownerDocument.body:So(t)&&EO(t)?t:kU(NC(t))}function s0(t,e){var n;e===void 0&&(e=[]);var r=kU(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Js(r),o=i?[s].concat(s.visualViewport||[],EO(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(s0(NC(o)))}function YI(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ihe(t,e){var n=Wm(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function r4(t,e,n){return e===_U?YI(khe(t,n)):Mf(e)?Ihe(e,n):YI(Rhe(Md(t)))}function Phe(t){var e=s0(NC(t)),n=["absolute","fixed"].indexOf(Ju(t).position)>=0,r=n&&So(t)?Yw(t):t;return Mf(r)?e.filter(function(i){return Mf(i)&&SU(i,r)&&Rl(i)!=="body"}):[]}function Nhe(t,e,n,r){var i=e==="clippingParents"?Phe(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=r4(t,u,r);return l.top=Sf(c.top,l.top),l.right=KE(c.right,l.right),l.bottom=KE(c.bottom,l.bottom),l.left=Sf(c.left,l.left),l},r4(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function RU(t){var e=t.reference,n=t.element,r=t.placement,i=r?xl(r):null,s=r?qm(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case vs:l={x:o,y:e.y-n.height};break;case Ao:l={x:o,y:e.y+e.height};break;case To:l={x:e.x+e.width,y:a};break;case bs:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?wO(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Hm:l[u]=l[u]-(e[c]/2-n[c]/2);break;case j0:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function B0(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?Zde:a,u=n.rootBoundary,c=u===void 0?_U:u,d=n.elementContext,f=d===void 0?Jy:d,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,b=y===void 0?0:y,v=AU(typeof b!="number"?b:TU(b,Gw)),x=f===Jy?Jde:Jy,_=t.rects.popper,S=t.elements[m?x:f],k=Nhe(Mf(S)?S:S.contextElement||Md(t.elements.popper),l,c,o),O=Wm(t.elements.reference),A=RU({reference:O,element:_,placement:i}),R=YI(Object.assign({},_,A)),P=f===Jy?R:O,T={top:k.top-P.top+v.top,bottom:P.bottom-k.bottom+v.bottom,left:k.left-P.left+v.left,right:P.right-k.right+v.right},L=t.modifiersData.offset;if(f===Jy&&L){var M=L[i];Object.keys(T).forEach(function(D){var N=[To,Ao].indexOf(D)>=0?1:-1,U=[vs,Ao].indexOf(D)>=0?"y":"x";T[D]+=M[U]*N})}return T}function Ohe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?xU:l,c=qm(r),d=c?a?J3:J3.filter(function(m){return qm(m)===c}):Gw,f=d.filter(function(m){return u.indexOf(m)>=0});f.length===0&&(f=d);var p=f.reduce(function(m,y){return m[y]=B0(t,{placement:y,boundary:i,rootBoundary:s,padding:o})[xl(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function Mhe(t){if(xl(t)===yO)return[];var e=Ix(t);return[n4(t),e,n4(e)]}function Lhe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,b=e.options.placement,v=xl(b),x=v===b,_=l||(x||!m?[Ix(b)]:Mhe(b)),S=[b].concat(_).reduce(function(re,te){return re.concat(xl(te)===yO?Ohe(e,{placement:te,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:y}):te)},[]),k=e.rects.reference,O=e.rects.popper,A=new Map,R=!0,P=S[0],T=0;T<S.length;T++){var L=S[T],M=xl(L),D=qm(L)===Hm,N=[vs,Ao].indexOf(M)>=0,U=N?"width":"height",K=B0(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),G=N?D?To:bs:D?Ao:vs;k[U]>O[U]&&(G=Ix(G));var Z=Ix(G),X=[];if(s&&X.push(K[M]<=0),a&&X.push(K[G]<=0,K[Z]<=0),X.every(function(re){return re})){P=L,R=!1;break}A.set(L,X)}if(R)for(var W=m?3:1,q=function(te){var he=S.find(function(de){var oe=A.get(de);if(oe)return oe.slice(0,te).every(function(ce){return ce})});if(he)return P=he,"break"},Q=W;Q>0;Q--){var H=q(Q);if(H==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const Dhe={name:"flip",enabled:!0,phase:"main",fn:Lhe,requiresIfExists:["offset"],data:{_skip:!1}};function i4(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function s4(t){return[vs,To,Ao,bs].some(function(e){return t[e]>=0})}function Fhe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=B0(e,{elementContext:"reference"}),a=B0(e,{altBoundary:!0}),l=i4(o,r),u=i4(a,i,s),c=s4(l),d=s4(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const zhe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fhe};function jhe(t,e,n){var r=xl(t),i=[bs,vs].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[bs,To].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Bhe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=xU.reduce(function(c,d){return c[d]=jhe(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const $he={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Bhe};function Vhe(t){var e=t.state,n=t.name;e.modifiersData[n]=RU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Hhe={name:"popperOffsets",enabled:!0,phase:"read",fn:Vhe,data:{}};function Uhe(t){return t==="x"?"y":"x"}function Whe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,m=n.tetherOffset,y=m===void 0?0:m,b=B0(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=xl(e.placement),x=qm(e.placement),_=!x,S=wO(v),k=Uhe(S),O=e.modifiersData.popperOffsets,A=e.rects.reference,R=e.rects.popper,P=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,T=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,M={x:0,y:0};if(O){if(s){var D,N=S==="y"?vs:bs,U=S==="y"?Ao:To,K=S==="y"?"height":"width",G=O[S],Z=G+b[N],X=G-b[U],W=p?-R[K]/2:0,q=x===Hm?A[K]:R[K],Q=x===Hm?-R[K]:-A[K],H=e.elements.arrow,re=p&&H?bO(H):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:CU(),he=te[N],de=te[U],oe=i0(0,A[K],re[K]),ce=_?A[K]/2-W-oe-he-T.mainAxis:q-oe-he-T.mainAxis,ge=_?-A[K]/2+W+oe+de+T.mainAxis:Q+oe+de+T.mainAxis,xe=e.elements.arrow&&Yw(e.elements.arrow),Ee=xe?S==="y"?xe.clientTop||0:xe.clientLeft||0:0,Pe=(D=L==null?void 0:L[S])!=null?D:0,V=G+ce-Pe-Ee,pe=G+ge-Pe,me=i0(p?KE(Z,V):Z,G,p?Sf(X,pe):X);O[S]=me,M[S]=me-G}if(a){var le,ee=S==="x"?vs:bs,ue=S==="x"?Ao:To,ve=O[k],Te=k==="y"?"height":"width",ye=ve+b[ee],Me=ve-b[ue],je=[vs,bs].indexOf(v)!==-1,ze=(le=L==null?void 0:L[k])!=null?le:0,we=je?ye:ve-A[Te]-R[Te]-ze+T.altAxis,Re=je?ve+A[Te]+R[Te]-ze-T.altAxis:Me,Be=p&&je?ghe(we,ve,Re):i0(p?we:ye,ve,p?Re:Me);O[k]=Be,M[k]=Be-ve}e.modifiersData[r]=M}}const qhe={name:"preventOverflow",enabled:!0,phase:"main",fn:Whe,requiresIfExists:["offset"]};function Ghe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Yhe(t){return t===Js(t)||!So(t)?_O(t):Ghe(t)}function Xhe(t){var e=t.getBoundingClientRect(),n=Um(e.width)/t.offsetWidth||1,r=Um(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Khe(t,e,n){n===void 0&&(n=!1);var r=So(e),i=So(e)&&Xhe(e),s=Md(e),o=Wm(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Rl(e)!=="body"||EO(s))&&(a=Yhe(e)),So(e)?(l=Wm(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=xO(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Qhe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Zhe(t){var e=Qhe(t);return uhe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Jhe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function efe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var o4={placement:"bottom",modifiers:[],strategy:"absolute"};function a4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function tfe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?o4:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},o4,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:c,setOptions:function(v){var x=typeof v=="function"?v(c.options):v;y(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:Mf(a)?s0(a):a.contextElement?s0(a.contextElement):[],popper:s0(l)};var _=Zhe(efe([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(S){return S.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var v=c.elements,x=v.reference,_=v.popper;if(a4(x,_)){c.rects={reference:Khe(x,Yw(_),c.options.strategy==="fixed"),popper:bO(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(T){return c.modifiersData[T.name]=Object.assign({},T.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var k=c.orderedModifiers[S],O=k.fn,A=k.options,R=A===void 0?{}:A,P=k.name;typeof O=="function"&&(c=O({state:c,options:R,name:P,instance:p})||c)}}}},update:Jhe(function(){return new Promise(function(b){p.forceUpdate(),b(c)})}),destroy:function(){y(),f=!0}};if(!a4(a,l))return p;p.setOptions(u).then(function(b){!f&&u.onFirstUpdate&&u.onFirstUpdate(b)});function m(){c.orderedModifiers.forEach(function(b){var v=b.name,x=b.options,_=x===void 0?{}:x,S=b.effect;if(typeof S=="function"){var k=S({state:c,name:v,instance:p,options:_}),O=function(){};d.push(k||O)}})}function y(){d.forEach(function(b){return b()}),d=[]}return p}}var nfe=[Che,Hhe,Ehe,hhe,$he,Dhe,qhe,bhe,zhe],rfe=tfe({defaultModifiers:nfe});function ife(t){return typeof t=="function"?t():t}const IU=z.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=z.useState(null),l=Cr(z.isValidElement(r)?Xf(r):null,n);if(kl(()=>{s||a(ife(i)||document.body)},[i,s]),kl(()=>{if(o&&!s)return D3(n,o),()=>{D3(n,null)}},[n,o,s]),s){if(z.isValidElement(r)){const u={ref:l};return z.cloneElement(r,u)}return r}return o&&zu.createPortal(r,o)});function sfe(t){return St("MuiPopper",t)}Ct("MuiPopper",["root"]);function ofe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function XI(t){return typeof t=="function"?t():t}function afe(t){return t.nodeType!==void 0}const lfe=t=>{const{classes:e}=t;return At({root:["root"]},sfe,e)},ufe={},cfe=z.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:f={},slots:p={},TransitionProps:m,ownerState:y,...b}=e,v=z.useRef(null),x=Cr(v,n),_=z.useRef(null),S=Cr(_,d),k=z.useRef(S);kl(()=>{k.current=S},[S]),z.useImperativeHandle(d,()=>_.current,[]);const O=ofe(u,s),[A,R]=z.useState(O),[P,T]=z.useState(XI(r));z.useEffect(()=>{_.current&&_.current.forceUpdate()}),z.useEffect(()=>{r&&T(XI(r))},[r]),kl(()=>{if(!P||!l)return;const U=Z=>{R(Z.placement)};let K=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:Z})=>{U(Z)}}];a!=null&&(K=K.concat(a)),c&&c.modifiers!=null&&(K=K.concat(c.modifiers));const G=rfe(P,v.current,{placement:O,...c,modifiers:K});return k.current(G),()=>{G.destroy(),k.current(null)}},[P,o,a,l,c,O]);const L={placement:A};m!==null&&(L.TransitionProps=m);const M=lfe(e),D=p.root??"div",N=cU({elementType:D,externalSlotProps:f.root,externalForwardedProps:b,additionalProps:{role:"tooltip",ref:x},ownerState:e,className:M.root});return j.jsx(D,{...N,children:typeof i=="function"?i(L):i})}),dfe=z.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:f=ufe,popperRef:p,style:m,transition:y=!1,slotProps:b={},slots:v={},...x}=e,[_,S]=z.useState(!0),k=()=>{S(!1)},O=()=>{S(!0)};if(!l&&!c&&(!y||_))return null;let A;if(s)A=s;else if(r){const T=XI(r);A=T&&afe(T)?Zs(T).body:Zs(null).body}const R=!c&&l&&(!y||_)?"none":void 0,P=y?{in:c,onEnter:k,onExited:O}:void 0;return j.jsx(IU,{disablePortal:a,container:A,children:j.jsx(cfe,{anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:y?!_:c,placement:d,popperOptions:f,popperRef:p,slotProps:b,slots:v,...x,style:{position:"fixed",top:0,left:0,display:R,...m},TransitionProps:P,children:i})})}),hfe=Ue(dfe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),PU=z.forwardRef(function(e,n){const r=cO(),i=kt({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:b,transition:v,slots:x,slotProps:_,...S}=i,k=(x==null?void 0:x.root)??(a==null?void 0:a.Root),O={anchorEl:s,container:u,disablePortal:c,keepMounted:d,modifiers:f,open:p,placement:m,popperOptions:y,popperRef:b,transition:v,...S};return j.jsx(hfe,{as:o,direction:r?"rtl":"ltr",slots:{root:k},slotProps:_??l,...O,ref:n})});function B_(t){return parseInt(t,10)||0}const ffe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function pfe(t){for(const e in t)return!1;return!0}function l4(t){return pfe(t)||t.outerHeightStyle===0&&!t.overflowing}const gfe=z.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a,...l}=e,{current:u}=z.useRef(a!=null),c=z.useRef(null),d=Cr(n,c),f=z.useRef(null),p=z.useRef(null),m=z.useCallback(()=>{const _=c.current,S=p.current;if(!_||!S)return;const O=Zu(_).getComputedStyle(_);if(O.width==="0px")return{outerHeightStyle:0,overflowing:!1};S.style.width=O.width,S.value=_.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const A=O.boxSizing,R=B_(O.paddingBottom)+B_(O.paddingTop),P=B_(O.borderBottomWidth)+B_(O.borderTopWidth),T=S.scrollHeight;S.value="x";const L=S.scrollHeight;let M=T;s&&(M=Math.max(Number(s)*L,M)),i&&(M=Math.min(Number(i)*L,M)),M=Math.max(M,L);const D=M+(A==="border-box"?R+P:0),N=Math.abs(M-T)<=1;return{outerHeightStyle:D,overflowing:N}},[i,s,e.placeholder]),y=$u(()=>{const _=c.current,S=m();if(!_||!S||l4(S))return!1;const k=S.outerHeightStyle;return f.current!=null&&f.current!==k}),b=z.useCallback(()=>{const _=c.current,S=m();if(!_||!S||l4(S))return;const k=S.outerHeightStyle;f.current!==k&&(f.current=k,_.style.height=`${k}px`),_.style.overflow=S.overflowing?"hidden":""},[m]),v=z.useRef(-1);kl(()=>{const _=rU(b),S=c==null?void 0:c.current;if(!S)return;const k=Zu(S);k.addEventListener("resize",_);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(()=>{y()&&(O.unobserve(S),cancelAnimationFrame(v.current),b(),v.current=requestAnimationFrame(()=>{O.observe(S)}))}),O.observe(S)),()=>{_.clear(),cancelAnimationFrame(v.current),k.removeEventListener("resize",_),O&&O.disconnect()}},[m,b,y]),kl(()=>{b()});const x=_=>{u||b(),r&&r(_)};return j.jsxs(z.Fragment,{children:[j.jsx("textarea",{value:a,onChange:x,ref:d,rows:s,style:o,...l}),j.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...ffe.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function KI(t){return typeof t=="string"}function Ld({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const OC=z.createContext(void 0);function Ol(){return z.useContext(OC)}function u4(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function QE(t,e=!1){return t&&(u4(t.value)&&t.value!==""||e&&u4(t.defaultValue)&&t.defaultValue!=="")}function mfe(t){return t.startAdornment}function yfe(t){return St("MuiInputBase",t)}const Gm=Ct("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var c4;const MC=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ye(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},LC=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},vfe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:f,startAdornment:p,type:m}=t,y={root:["root",`color${Ye(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",f&&f!=="medium"&&`size${Ye(f)}`,c&&"multiline",p&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return At(y,yfe,e)},DC=Ue("div",{name:"MuiInputBase",slot:"Root",overridesResolver:MC})(Nt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Gm.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),FC=Ue("input",{name:"MuiInputBase",slot:"Input",overridesResolver:LC})(Nt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Gm.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Gm.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),d4=sde({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),SO=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:f,disableInjectingGlobalStyles:p,endAdornment:m,error:y,fullWidth:b=!1,id:v,inputComponent:x="input",inputProps:_={},inputRef:S,margin:k,maxRows:O,minRows:A,multiline:R=!1,name:P,onBlur:T,onChange:L,onClick:M,onFocus:D,onKeyDown:N,onKeyUp:U,placeholder:K,readOnly:G,renderSuffix:Z,rows:X,size:W,slotProps:q={},slots:Q={},startAdornment:H,type:re="text",value:te,...he}=r,de=_.value!=null?_.value:te,{current:oe}=z.useRef(de!=null),ce=z.useRef(),ge=z.useCallback(tt=>{},[]),xe=Cr(ce,S,_.ref,ge),[Ee,Pe]=z.useState(!1),V=Ol(),pe=Ld({props:r,muiFormControl:V,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=V?V.focused:Ee,z.useEffect(()=>{!V&&f&&Ee&&(Pe(!1),T&&T())},[V,f,Ee,T]);const me=V&&V.onFilled,le=V&&V.onEmpty,ee=z.useCallback(tt=>{QE(tt)?me&&me():le&&le()},[me,le]);kl(()=>{oe&&ee({value:de})},[de,ee,oe]);const ue=tt=>{D&&D(tt),_.onFocus&&_.onFocus(tt),V&&V.onFocus?V.onFocus(tt):Pe(!0)},ve=tt=>{T&&T(tt),_.onBlur&&_.onBlur(tt),V&&V.onBlur?V.onBlur(tt):Pe(!1)},Te=(tt,...Yt)=>{if(!oe){const wt=tt.target||ce.current;if(wt==null)throw new Error(Qu(1));ee({value:wt.value})}_.onChange&&_.onChange(tt,...Yt),L&&L(tt,...Yt)};z.useEffect(()=>{ee(ce.current)},[]);const ye=tt=>{ce.current&&tt.currentTarget===tt.target&&ce.current.focus(),M&&M(tt)};let Me=x,je=_;R&&Me==="input"&&(X?je={type:void 0,minRows:X,maxRows:X,...je}:je={type:void 0,maxRows:O,minRows:A,...je},Me=gfe);const ze=tt=>{ee(tt.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};z.useEffect(()=>{V&&V.setAdornedStart(!!H)},[V,H]);const we={...r,color:pe.color||"primary",disabled:pe.disabled,endAdornment:m,error:pe.error,focused:pe.focused,formControl:V,fullWidth:b,hiddenLabel:pe.hiddenLabel,multiline:R,size:pe.size,startAdornment:H,type:re},Re=vfe(we),Be=Q.root||u.Root||DC,et=q.root||c.root||{},yt=Q.input||u.Input||FC;return je={...je,...q.input??c.input},j.jsxs(z.Fragment,{children:[!p&&typeof d4=="function"&&(c4||(c4=j.jsx(d4,{}))),j.jsxs(Be,{...et,ref:n,onClick:ye,...he,...!KI(Be)&&{ownerState:{...we,...et.ownerState}},className:Je(Re.root,et.className,a,G&&"MuiInputBase-readOnly"),children:[H,j.jsx(OC.Provider,{value:null,children:j.jsx(yt,{"aria-invalid":pe.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:d,disabled:pe.disabled,id:v,onAnimationStart:ze,name:P,placeholder:K,readOnly:G,required:pe.required,rows:X,value:de,onKeyDown:N,onKeyUp:U,type:re,...je,...!KI(yt)&&{as:Me,ownerState:{...we,...je.ownerState}},ref:xe,className:Je(Re.input,je.className,G&&"MuiInputBase-readOnly"),onBlur:ve,onChange:Te,onFocus:ue})}),m,Z?Z({...pe,startAdornment:H}):null]})]})});function bfe(t){return St("MuiInput",t)}const ev={...Gm,...Ct("MuiInput",["root","underline","input"])};function wfe(t){return St("MuiOutlinedInput",t)}const Ba={...Gm,...Ct("MuiOutlinedInput",["root","notchedOutline","input"])};function _fe(t){return St("MuiFilledInput",t)}const oh={...Gm,...Ct("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},xfe=_n(j.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Efe=_n(j.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Sfe(t){return St("MuiAvatar",t)}Ct("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Cfe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return At({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Sfe,e)},Afe=Ue("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Nt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Tfe=Ue("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),kfe=Ue(Efe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Rfe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=z.useState(!1);return z.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const h4=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:f,srcSet:p,variant:m="circular",...y}=r;let b=null;const v={...r,component:a,variant:m},x=Rfe({...c,...typeof u.img=="function"?u.img(v):u.img,src:f,srcSet:p}),_=f||p,S=_&&x!=="error";v.colorDefault=!S,delete v.ownerState;const k=Cfe(v),[O,A]=Bt("img",{className:k.img,elementType:Tfe,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:f,srcSet:p,sizes:d},ownerState:v});return S?b=j.jsx(O,{...A}):s||s===0?b=s:_&&i?b=i[0]:b=j.jsx(kfe,{ownerState:v,className:k.fallback}),j.jsx(Afe,{as:a,className:Je(k.root,o),ref:n,...y,ownerState:v,children:b})}),Ife={entering:{opacity:1},entered:{opacity:1}},QI=z.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:b,timeout:v=i,TransitionComponent:x=_a,..._}=e,S=z.useRef(null),k=Cr(S,Xf(a),n),O=N=>U=>{if(N){const K=S.current;U===void 0?N(K):N(K,U)}},A=O(f),R=O((N,U)=>{mO(N);const K=$m({style:b,timeout:v,easing:l},{mode:"enter"});N.style.webkitTransition=r.transitions.create("opacity",K),N.style.transition=r.transitions.create("opacity",K),c&&c(N,U)}),P=O(d),T=O(y),L=O(N=>{const U=$m({style:b,timeout:v,easing:l},{mode:"exit"});N.style.webkitTransition=r.transitions.create("opacity",U),N.style.transition=r.transitions.create("opacity",U),p&&p(N)}),M=O(m),D=N=>{s&&s(S.current,N)};return j.jsx(x,{appear:o,in:u,nodeRef:S,onEnter:R,onEntered:P,onEntering:A,onExit:L,onExited:M,onExiting:T,addEndListener:D,timeout:v,..._,children:(N,{ownerState:U,...K})=>z.cloneElement(a,{style:{opacity:0,visibility:N==="exited"&&!u?"hidden":void 0,...Ife[N],...b,...a.props.style},ref:k,...K})})});function Pfe(t){return St("MuiBackdrop",t)}Ct("MuiBackdrop",["root","invisible"]);const Nfe=t=>{const{classes:e,invisible:n}=t;return At({root:["root",n&&"invisible"]},Pfe,e)},Ofe=Ue("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),NU=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:f={},TransitionComponent:p,transitionDuration:m,...y}=r,b={...r,component:o,invisible:a},v=Nfe(b),x={transition:p,root:u.Root,...f},_={...c,...d},S={slots:x,slotProps:_},[k,O]=Bt("root",{elementType:Ofe,externalForwardedProps:S,className:Je(v.root,s),ownerState:b}),[A,R]=Bt("transition",{elementType:QI,externalForwardedProps:S,ownerState:b});return j.jsx(A,{in:l,timeout:m,...y,...R,children:j.jsx(k,{"aria-hidden":!0,...O,classes:v,ref:n,children:i})})}),Mfe=Ct("MuiBox",["root"]),Lfe=mU(),Et=Hue({themeId:fC,defaultTheme:Lfe,defaultClassName:Mfe.root,generateClassName:XH.generate});function Dfe(t){return St("MuiButton",t)}const ah=Ct("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),Ffe=z.createContext({}),zfe=z.createContext(void 0),jfe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:a,classes:l}=t,u={root:["root",o&&"loading",s,`${s}${Ye(e)}`,`size${Ye(i)}`,`${s}Size${Ye(i)}`,`color${Ye(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${Ye(a)}`],startIcon:["icon","startIcon",`iconSize${Ye(i)}`],endIcon:["icon","endIcon",`iconSize${Ye(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=At(u,Dfe,l);return{...l,...c}},OU=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Bfe=Ue(qw,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ye(n.color)}`],e[`size${Ye(n.size)}`],e[`${n.variant}Size${Ye(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${ah.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${ah.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${ah.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${ah.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Co()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Un(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ah.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ah.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${ah.loading}`]:{color:"transparent"}}}]}})),$fe=Ue("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Ye(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...OU]})),Vfe=Ue("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Ye(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...OU]})),Hfe=Ue("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),f4=Ue("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Ln=z.forwardRef(function(e,n){const r=z.useContext(Ffe),i=z.useContext(zfe),s=F0(r,e),o=kt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:f=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:b=!1,id:v,loading:x=null,loadingIndicator:_,loadingPosition:S="center",size:k="medium",startIcon:O,type:A,variant:R="text",...P}=o,T=ay(v),L=_??j.jsx(wU,{"aria-labelledby":T,color:"inherit",size:16}),M={...o,color:l,component:u,disabled:d,disableElevation:f,disableFocusRipple:p,fullWidth:b,loading:x,loadingIndicator:L,loadingPosition:S,size:k,type:A,variant:R},D=jfe(M),N=(O||x&&S==="start")&&j.jsx($fe,{className:D.startIcon,ownerState:M,children:O||j.jsx(f4,{className:D.loadingIconPlaceholder,ownerState:M})}),U=(m||x&&S==="end")&&j.jsx(Vfe,{className:D.endIcon,ownerState:M,children:m||j.jsx(f4,{className:D.loadingIconPlaceholder,ownerState:M})}),K=i||"",G=typeof x=="boolean"?j.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:x&&j.jsx(Hfe,{className:D.loadingIndicator,ownerState:M,children:L})}):null;return j.jsxs(Bfe,{ownerState:M,className:Je(r.className,D.root,c,K),component:u,disabled:d||x,focusRipple:!p,focusVisibleClassName:Je(D.focusVisible,y),ref:n,type:A,id:x?T:v,...P,classes:D,children:[N,S!=="end"&&G,a,S==="end"&&G,U]})});function Ufe(t){return St("PrivateSwitchBase",t)}Ct("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Wfe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ye(i)}`],input:["input"]};return At(s,Ufe,e)},qfe=Ue(qw)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Gfe=Ue("input",{shouldForwardProp:qi})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Yfe=z.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,defaultChecked:o,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:f,inputRef:p,name:m,onBlur:y,onChange:b,onFocus:v,readOnly:x,required:_=!1,tabIndex:S,type:k,value:O,slots:A={},slotProps:R={},...P}=e,[T,L]=z0({controlled:i,default:!!o,name:"SwitchBase",state:"checked"}),M=Ol(),D=te=>{v&&v(te),M&&M.onFocus&&M.onFocus(te)},N=te=>{y&&y(te),M&&M.onBlur&&M.onBlur(te)},U=te=>{if(te.nativeEvent.defaultPrevented)return;const he=te.target.checked;L(he),b&&b(te,he)};let K=a;M&&typeof K>"u"&&(K=M.disabled);const G=k==="checkbox"||k==="radio",Z={...e,checked:T,disabled:K,disableFocusRipple:l,edge:u},X=Wfe(Z),W={slots:A,slotProps:{input:f,...R}},[q,Q]=Bt("root",{ref:n,elementType:qfe,className:X.root,shouldForwardComponentProp:!0,externalForwardedProps:{...W,component:"span",...P},getSlotProps:te=>({...te,onFocus:he=>{var de;(de=te.onFocus)==null||de.call(te,he),D(he)},onBlur:he=>{var de;(de=te.onBlur)==null||de.call(te,he),N(he)}}),ownerState:Z,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:K,role:void 0,tabIndex:null}}),[H,re]=Bt("input",{ref:p,elementType:Gfe,className:X.input,externalForwardedProps:W,getSlotProps:te=>({onChange:he=>{var de;(de=te.onChange)==null||de.call(te,he),U(he)}}),ownerState:Z,additionalProps:{autoFocus:r,checked:i,defaultChecked:o,disabled:K,id:G?d:void 0,name:m,readOnly:x,required:_,tabIndex:S,type:k,...k==="checkbox"&&O===void 0?{}:{value:O}}});return j.jsxs(q,{...Q,children:[j.jsx(H,{...re}),T?s:c]})}),Xfe=_n(j.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Kfe=_n(j.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Qfe=_n(j.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Zfe(t){return St("MuiCheckbox",t)}const mk=Ct("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Jfe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,s={root:["root",n&&"indeterminate",`color${Ye(r)}`,`size${Ye(i)}`]},o=At(s,Zfe,e);return{...e,...o}},epe=Ue(Yfe,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ye(n.size)}`],n.color!=="default"&&e[`color${Ye(n.color)}`]]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Un(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e},style:{[`&.${mk.checked}, &.${mk.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${mk.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),tpe=j.jsx(Kfe,{}),npe=j.jsx(Xfe,{}),rpe=j.jsx(Qfe,{}),ZI=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=tpe,color:s="primary",icon:o=npe,indeterminate:a=!1,indeterminateIcon:l=rpe,inputProps:u,size:c="medium",disableRipple:d=!1,className:f,slots:p={},slotProps:m={},...y}=r,b=a?l:o,v=a?l:i,x={...r,disableRipple:d,color:s,indeterminate:a,size:c},_=Jfe(x),S=m.input??u,[k,O]=Bt("root",{ref:n,elementType:epe,className:Je(_.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:m,...y},ownerState:x,additionalProps:{type:"checkbox",icon:z.cloneElement(b,{fontSize:b.props.fontSize??c}),checkedIcon:z.cloneElement(v,{fontSize:v.props.fontSize??c}),disableRipple:d,slots:p,slotProps:{input:fO(typeof S=="function"?S(x):S,{"data-indeterminate":a})}}});return j.jsx(k,{...O,classes:_})});function ipe(t){const e=Zs(t);return e.body===t?Zu(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function o0(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function p4(t){return parseInt(Zu(t).getComputedStyle(t).paddingRight,10)||0}function spe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function g4(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=!s.includes(o),l=!spe(o);a&&l&&o0(o,i)})}function yk(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function ope(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(ipe(r)){const o=sU(Zu(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${p4(r)+o}px`;const a=Zs(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${p4(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Zs(r).body;else{const o=r.parentElement,a=Zu(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function ape(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class lpe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&o0(e.modalRef,!1);const i=ape(n);g4(n,e.mount,e.modalRef,i,!0);const s=yk(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=yk(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=ope(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=yk(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&o0(e.modalRef,n),g4(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&o0(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const upe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cpe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function dpe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function hpe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||dpe(t))}function fpe(t){const e=[],n=[];return Array.from(t.querySelectorAll(upe)).forEach((r,i)=>{const s=cpe(r);s===-1||!hpe(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function ppe(){return!0}function gpe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=fpe,isEnabled:o=ppe,open:a}=t,l=z.useRef(!1),u=z.useRef(null),c=z.useRef(null),d=z.useRef(null),f=z.useRef(null),p=z.useRef(!1),m=z.useRef(null),y=Cr(Xf(e),m),b=z.useRef(null);z.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),z.useEffect(()=>{if(!a||!m.current)return;const _=Zs(m.current);return m.current.contains(_.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),z.useEffect(()=>{if(!a||!m.current)return;const _=Zs(m.current),S=A=>{b.current=A,!(r||!o()||A.key!=="Tab")&&_.activeElement===m.current&&A.shiftKey&&(l.current=!0,c.current&&c.current.focus())},k=()=>{var P,T;const A=m.current;if(A===null)return;if(!_.hasFocus()||!o()||l.current){l.current=!1;return}if(A.contains(_.activeElement)||r&&_.activeElement!==u.current&&_.activeElement!==c.current)return;if(_.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let R=[];if((_.activeElement===u.current||_.activeElement===c.current)&&(R=s(m.current)),R.length>0){const L=!!((P=b.current)!=null&&P.shiftKey&&((T=b.current)==null?void 0:T.key)==="Tab"),M=R[0],D=R[R.length-1];typeof M!="string"&&typeof D!="string"&&(L?D.focus():M.focus())}else A.focus()};_.addEventListener("focusin",k),_.addEventListener("keydown",S,!0);const O=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(O),_.removeEventListener("focusin",k),_.removeEventListener("keydown",S,!0)}},[n,r,i,o,a,s]);const v=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0,f.current=_.target;const S=e.props.onFocus;S&&S(_)},x=_=>{d.current===null&&(d.current=_.relatedTarget),p.current=!0};return j.jsxs(z.Fragment,{children:[j.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:u,"data-testid":"sentinelStart"}),z.cloneElement(e,{ref:y,onFocus:v}),j.jsx("div",{tabIndex:a?0:-1,onFocus:x,ref:c,"data-testid":"sentinelEnd"})]})}function mpe(t){return typeof t=="function"?t():t}function ype(t){return t?t.props.hasOwnProperty("in"):!1}const m4=()=>{},$_=new lpe;function vpe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:a,onClose:l,open:u,rootRef:c}=t,d=z.useRef({}),f=z.useRef(null),p=z.useRef(null),m=Cr(p,c),[y,b]=z.useState(!u),v=ype(a);let x=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(x=!1);const _=()=>Zs(f.current),S=()=>(d.current.modalRef=p.current,d.current.mount=f.current,d.current),k=()=>{$_.mount(S(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},O=$u(()=>{const U=mpe(e)||_().body;$_.add(S(),U),p.current&&k()}),A=()=>$_.isTopModal(S()),R=$u(U=>{f.current=U,U&&(u&&A()?k():p.current&&o0(p.current,x))}),P=z.useCallback(()=>{$_.remove(S(),x)},[x]);z.useEffect(()=>()=>{P()},[P]),z.useEffect(()=>{u?O():(!v||!i)&&P()},[u,P,v,i,O]);const T=U=>K=>{var G;(G=U.onKeyDown)==null||G.call(U,K),!(K.key!=="Escape"||K.which===229||!A())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},L=U=>K=>{var G;(G=U.onClick)==null||G.call(U,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(U={})=>{const K=aU(t);delete K.onTransitionEnter,delete K.onTransitionExited;const G={...K,...U};return{role:"presentation",...G,onKeyDown:T(G),ref:m}},getBackdropProps:(U={})=>{const K=U;return{"aria-hidden":!0,...K,onClick:L(K),open:u}},getTransitionProps:()=>{const U=()=>{b(!1),s&&s()},K=()=>{b(!0),o&&o(),i&&P()};return{onEnter:L3(U,(a==null?void 0:a.props.onEnter)??m4),onExited:L3(K,(a==null?void 0:a.props.onExited)??m4)}},rootRef:m,portalRef:R,isTopModal:A,exited:y,hasTransition:v}}function bpe(t){return St("MuiModal",t)}Ct("MuiModal",["root","hidden","backdrop"]);const wpe=t=>{const{open:e,exited:n,classes:r}=t;return At({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},bpe,r)},_pe=Ue("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Nt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),xpe=Ue(NU,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),MU=z.forwardRef(function(e,n){const r=kt({name:"MuiModal",props:e}),{BackdropComponent:i=xpe,BackdropProps:s,classes:o,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:f={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:b=!1,disablePortal:v=!1,disableRestoreFocus:x=!1,disableScrollLock:_=!1,hideBackdrop:S=!1,keepMounted:k=!1,onBackdropClick:O,onClose:A,onTransitionEnter:R,onTransitionExited:P,open:T,slotProps:L={},slots:M={},theme:D,...N}=r,U={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:b,disablePortal:v,disableRestoreFocus:x,disableScrollLock:_,hideBackdrop:S,keepMounted:k},{getRootProps:K,getBackdropProps:G,getTransitionProps:Z,portalRef:X,isTopModal:W,exited:q,hasTransition:Q}=vpe({...U,rootRef:n}),H={...U,exited:q},re=wpe(H),te={};if(u.props.tabIndex===void 0&&(te.tabIndex="-1"),Q){const{onEnter:xe,onExited:Ee}=Z();te.onEnter=xe,te.onExited=Ee}const he={slots:{root:f.Root,backdrop:f.Backdrop,...M},slotProps:{...p,...L}},[de,oe]=Bt("root",{ref:n,elementType:_pe,externalForwardedProps:{...he,...N,component:d},getSlotProps:K,ownerState:H,className:Je(a,re==null?void 0:re.root,!H.open&&H.exited&&(re==null?void 0:re.hidden))}),[ce,ge]=Bt("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:he,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:xe=>G({...xe,onClick:Ee=>{O&&O(Ee),xe!=null&&xe.onClick&&xe.onClick(Ee)}}),className:Je(s==null?void 0:s.className,re==null?void 0:re.backdrop),ownerState:H});return!k&&!T&&(!Q||q)?null:j.jsx(IU,{ref:X,container:c,disablePortal:v,children:j.jsxs(de,{...oe,children:[!S&&i?j.jsx(ce,{...ge}):null,j.jsx(gpe,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:x,isEnabled:W,open:T,children:z.cloneElement(u,te)})]})})});function Epe(t){return St("MuiDialog",t)}const vk=Ct("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),LU=z.createContext({}),Spe=Ue(NU,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),Cpe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${Ye(n)}`],paper:["paper",`paperScroll${Ye(n)}`,`paperWidth${Ye(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return At(o,Epe,e)},Ape=Ue(MU,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),Tpe=Ue("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ye(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),kpe=Ue(Vm,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ye(n.scroll)}`],e[`paperWidth${Ye(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Nt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${vk.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${vk.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${vk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Px=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiDialog"}),i=Kf(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:d,className:f,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:y=!1,maxWidth:b="sm",onBackdropClick:v,onClick:x,onClose:_,open:S,PaperComponent:k=Vm,PaperProps:O={},scroll:A="paper",slots:R={},slotProps:P={},TransitionComponent:T=QI,transitionDuration:L=s,TransitionProps:M,...D}=r,N={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:b,scroll:A},U=Cpe(N),K=z.useRef(),G=V=>{K.current=V.target===V.currentTarget},Z=V=>{x&&x(V),K.current&&(K.current=null,v&&v(V),_&&_(V,"backdropClick"))},X=ay(a),W=z.useMemo(()=>({titleId:X}),[X]),q={transition:T,...R},Q={transition:M,paper:O,backdrop:c,...P},H={slots:q,slotProps:Q},[re,te]=Bt("root",{elementType:Ape,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:N,className:Je(U.root,f),ref:n}),[he,de]=Bt("backdrop",{elementType:Spe,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:N}),[oe,ce]=Bt("paper",{elementType:kpe,shouldForwardComponentProp:!0,externalForwardedProps:H,ownerState:N,className:Je(U.paper,O.className)}),[ge,xe]=Bt("container",{elementType:Tpe,externalForwardedProps:H,ownerState:N,className:Je(U.container)}),[Ee,Pe]=Bt("transition",{elementType:QI,externalForwardedProps:H,ownerState:N,additionalProps:{appear:!0,in:S,timeout:L,role:"presentation"}});return j.jsx(re,{closeAfterTransition:!0,slots:{backdrop:he},slotProps:{backdrop:{transitionDuration:L,as:u,...de}},disableEscapeKeyDown:p,onClose:_,open:S,onClick:Z,...te,...D,children:j.jsx(Ee,{...Pe,children:j.jsx(ge,{onMouseDown:G,...xe,children:j.jsx(oe,{as:k,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":X,"aria-modal":l,...ce,children:j.jsx(LU.Provider,{value:W,children:d})})})})})});function Rpe(t){return St("MuiDialogActions",t)}Ct("MuiDialogActions",["root","spacing"]);const Ipe=t=>{const{classes:e,disableSpacing:n}=t;return At({root:["root",!n&&"spacing"]},Rpe,e)},Ppe=Ue("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Nx=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...o}=r,a={...r,disableSpacing:s},l=Ipe(a);return j.jsx(Ppe,{className:Je(l.root,i),ownerState:a,ref:n,...o})});function Npe(t){return St("MuiDialogContent",t)}Ct("MuiDialogContent",["root","dividers"]);function Ope(t){return St("MuiDialogTitle",t)}const Mpe=Ct("MuiDialogTitle",["root"]),Lpe=t=>{const{classes:e,dividers:n}=t;return At({root:["root",n&&"dividers"]},Npe,e)},Dpe=Ue("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Nt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${Mpe.root} + &`]:{paddingTop:0}}}]}))),Ox=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,a={...r,dividers:s},l=Lpe(a);return j.jsx(Dpe,{className:Je(l.root,i),ownerState:a,ref:n,...o})}),Fpe=t=>{const{classes:e}=t;return At({root:["root"]},Ope,e)},zpe=Ue(rn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),Mx=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,a=r,l=Fpe(a),{titleId:u=s}=z.useContext(LU);return j.jsx(zpe,{component:"h2",className:Je(l.root,i),ownerState:a,ref:n,variant:"h6",id:s??u,...o})});function jpe(t){return St("MuiDivider",t)}const y4=Ct("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Bpe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return At({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},jpe,r)},$pe=Ue("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Nt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Un(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Vpe=Ue("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Nt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),JI=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:a="horizontal",component:l=s||a==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:d=l!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth",...m}=r,y={...r,absolute:i,component:l,flexItem:u,light:c,orientation:a,role:d,textAlign:f,variant:p},b=Bpe(y);return j.jsx($pe,{as:l,className:Je(b.root,o),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:s?j.jsx(Vpe,{className:b.wrapper,ownerState:y,children:s}):null})});JI&&(JI.muiSkipListHighlight=!0);function Hpe(t){return St("MuiFab",t)}const v4=Ct("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Upe=t=>{const{color:e,variant:n,classes:r,size:i}=t,s={root:["root",n,`size${Ye(i)}`,e==="inherit"?"colorInherit":e]},o=At(s,Hpe,r);return{...r,...o}},Wpe=Ue(qw,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>qi(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ye(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Ye(n.size)],e[n.color]]}})(Nt(({theme:t})=>{var e,n;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(e=t.palette).getContrastText)==null?void 0:n.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${v4.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Nt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(Co(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Nt(({theme:t})=>({[`&.${v4.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),DU=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:f="circular",...p}=r,m={...r,color:o,component:a,disabled:l,disableFocusRipple:u,size:d,variant:f},y=Upe(m);return j.jsx(Wpe,{className:Je(y.root,s),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:Je(y.focusVisible,c),ownerState:m,ref:n,...p,classes:y,children:i})}),qpe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${Ye(s)}`,o&&"hiddenLabel",a&&"multiline"],input:["input"]},u=At(l,_fe,e);return{...e,...u}},Gpe=Ue(DC,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...MC(t,e),!n.disableUnderline&&e.underline]}})(Nt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${oh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${oh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oh.disabled}, .${oh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${oh.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Co()).map(([o])=>{var a;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[o])==null?void 0:a.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:a})=>o.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Ype=Ue(FC,{name:"MuiFilledInput",slot:"Input",overridesResolver:LC})(Nt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),CO=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:f={},type:p="text",...m}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:p},b=qpe(r),v={root:{ownerState:y},input:{ownerState:y}},x=d??o?Gr(v,d??o):v,_=f.root??s.Root??Gpe,S=f.input??s.Input??Ype;return j.jsx(SO,{slots:{root:_,input:S},slotProps:x,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:p,...m,classes:b})});CO.muiName="Input";function Xpe(t){return St("MuiFormControl",t)}Ct("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Kpe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ye(n)}`,r&&"fullWidth"]};return At(i,Xpe,e)},Qpe=Ue("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Ye(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),FU=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:m=!1,size:y="medium",variant:b="outlined",...v}=r,x={...r,color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:f,margin:p,required:m,size:y,variant:b},_=Kpe(x),[S,k]=z.useState(()=>{let U=!1;return i&&z.Children.forEach(i,K=>{if(!Rx(K,["Input","Select"]))return;const G=Rx(K,["Select"])?K.props.input:K;G&&mfe(G.props)&&(U=!0)}),U}),[O,A]=z.useState(()=>{let U=!1;return i&&z.Children.forEach(i,K=>{Rx(K,["Input","Select"])&&(QE(K.props,!0)||QE(K.props.inputProps,!0))&&(U=!0)}),U}),[R,P]=z.useState(!1);l&&R&&P(!1);const T=c!==void 0&&!l?c:R;let L;z.useRef(!1);const M=z.useCallback(()=>{A(!0)},[]),D=z.useCallback(()=>{A(!1)},[]),N=z.useMemo(()=>({adornedStart:S,setAdornedStart:k,color:o,disabled:l,error:u,filled:O,focused:T,fullWidth:d,hiddenLabel:f,size:y,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:D,onFilled:M,registerEffect:L,required:m,variant:b}),[S,o,l,u,O,T,d,f,L,D,M,m,y,b]);return j.jsx(OC.Provider,{value:N,children:j.jsx(Qpe,{as:a,ownerState:x,className:Je(_.root,s),ref:n,...v,children:i})})});function Zpe(t){return St("MuiFormControlLabel",t)}const Nv=Ct("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Jpe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:s}=t,o={root:["root",n&&"disabled",`labelPlacement${Ye(r)}`,i&&"error",s&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return At(o,Zpe,e)},ege=Ue("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Nv.label}`]:e.label},e.root,e[`labelPlacement${Ye(n.labelPlacement)}`]]}})(Nt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Nv.disabled}`]:{cursor:"default"},[`& .${Nv.label}`]:{[`&.${Nv.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),tge=Ue("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Nt(({theme:t})=>({[`&.${Nv.error}`]:{color:(t.vars||t).palette.error.main}}))),eP=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:o={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:f="end",name:p,onChange:m,required:y,slots:b={},slotProps:v={},value:x,..._}=r,S=Ol(),k=l??a.props.disabled??(S==null?void 0:S.disabled),O=y??a.props.required,A={disabled:k,required:O};["checked","name","onChange","value","inputRef"].forEach(U=>{typeof a.props[U]>"u"&&typeof r[U]<"u"&&(A[U]=r[U])});const R=Ld({props:r,muiFormControl:S,states:["error"]}),P={...r,disabled:k,labelPlacement:f,required:O,error:R.error},T=Jpe(P),L={slots:b,slotProps:{...o,...v}},[M,D]=Bt("typography",{elementType:rn,externalForwardedProps:L,ownerState:P});let N=d;return N!=null&&N.type!==rn&&!u&&(N=j.jsx(M,{component:"span",...D,className:Je(T.label,D==null?void 0:D.className),children:N})),j.jsxs(ege,{className:Je(T.root,s),ownerState:P,ref:n,..._,children:[z.cloneElement(a,A),O?j.jsxs("div",{children:[N,j.jsxs(tge,{ownerState:P,"aria-hidden":!0,className:T.asterisk,children:[" ","*"]})]}):N]})});function nge(t){return St("MuiFormGroup",t)}Ct("MuiFormGroup",["root","row","error"]);const rge=t=>{const{classes:e,row:n,error:r}=t;return At({root:["root",n&&"row",r&&"error"]},nge,e)},ige=Ue("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),sge=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...o}=r,a=Ol(),l=Ld({props:r,muiFormControl:a,states:["error"]}),u={...r,row:s,error:l.error},c=rge(u);return j.jsx(ige,{className:Je(c.root,i),ownerState:u,ref:n,...o})});function oge(t){return St("MuiFormHelperText",t)}const b4=Ct("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var w4;const age=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${Ye(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return At(u,oge,e)},lge=Ue("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ye(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${b4.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${b4.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),uge=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:f,variant:p,...m}=r,y=Ol(),b=Ld({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),v={...r,component:o,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete v.ownerState;const x=age(v);return j.jsx(lge,{as:o,className:Je(x.root,s),ref:n,...m,ownerState:v,children:i===" "?w4||(w4=j.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function cge(t){return St("MuiFormLabel",t)}const a0=Ct("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dge=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${Ye(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return At(l,cge,e)},hge=Ue("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Nt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Co()).map(([e])=>({props:{color:e},style:{[`&.${a0.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${a0.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${a0.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),fge=Ue("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Nt(({theme:t})=>({[`&.${a0.error}`]:{color:(t.vars||t).palette.error.main}}))),pge=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:a="label",disabled:l,error:u,filled:c,focused:d,required:f,...p}=r,m=Ol(),y=Ld({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),b={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},v=dge(b);return j.jsxs(hge,{as:a,ownerState:b,className:Je(v.root,s),ref:n,...p,children:[i,y.required&&j.jsxs(fge,{ownerState:b,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]})});function tP(t){return`scale(${t}, ${t**2})`}const gge={entering:{opacity:1,transform:tP(1)},entered:{opacity:1,transform:"none"}},bk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ZE=z.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:f,onExiting:p,style:m,timeout:y="auto",TransitionComponent:b=_a,...v}=e,x=wh(),_=z.useRef(),S=Kf(),k=z.useRef(null),O=Cr(k,Xf(s),n),A=U=>K=>{if(U){const G=k.current;K===void 0?U(G):U(G,K)}},R=A(c),P=A((U,K)=>{mO(U);const{duration:G,delay:Z,easing:X}=$m({style:m,timeout:y,easing:o},{mode:"enter"});let W;y==="auto"?(W=S.transitions.getAutoHeightDuration(U.clientHeight),_.current=W):W=G,U.style.transition=[S.transitions.create("opacity",{duration:W,delay:Z}),S.transitions.create("transform",{duration:bk?W:W*.666,delay:Z,easing:X})].join(","),l&&l(U,K)}),T=A(u),L=A(p),M=A(U=>{const{duration:K,delay:G,easing:Z}=$m({style:m,timeout:y,easing:o},{mode:"exit"});let X;y==="auto"?(X=S.transitions.getAutoHeightDuration(U.clientHeight),_.current=X):X=K,U.style.transition=[S.transitions.create("opacity",{duration:X,delay:G}),S.transitions.create("transform",{duration:bk?X:X*.666,delay:bk?G:G||X*.333,easing:Z})].join(","),U.style.opacity=0,U.style.transform=tP(.75),d&&d(U)}),D=A(f),N=U=>{y==="auto"&&x.start(_.current||0,U),r&&r(k.current,U)};return j.jsx(b,{appear:i,in:a,nodeRef:k,onEnter:P,onEntered:T,onEntering:R,onExit:M,onExited:D,onExiting:L,addEndListener:N,timeout:y==="auto"?null:y,...v,children:(U,{ownerState:K,...G})=>z.cloneElement(s,{style:{opacity:0,transform:tP(.75),visibility:U==="exited"&&!a?"hidden":void 0,...gge[U],...m,...s.props.style},ref:O,...G})})});ZE&&(ZE.muiSupportAuto=!0);const mge=t=>{const{classes:e,disableUnderline:n}=t,i=At({root:["root",!n&&"underline"],input:["input"]},bfe,e);return{...e,...i}},yge=Ue(DC,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...MC(t,e),!n.disableUnderline&&e.underline]}})(Nt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ev.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ev.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ev.disabled}, .${ev.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ev.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Co()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),vge=Ue(FC,{name:"MuiInput",slot:"Input",overridesResolver:LC})({}),AO=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:f="text",...p}=r,m=mge(r),b={root:{ownerState:{disableUnderline:i}}},v=c??o?Gr(c??o,b):b,x=d.root??s.Root??yge,_=d.input??s.Input??vge;return j.jsx(SO,{slots:{root:x,input:_},slotProps:v,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:f,...p,classes:m})});AO.muiName="Input";function bge(t){return St("MuiInputAdornment",t)}const _4=Ct("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var x4;const wge=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ye(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},_ge=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:o}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Ye(i)}`,o,r&&"hiddenLabel",s&&`size${Ye(s)}`]};return At(a,bge,e)},xge=Ue("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:wge})(Nt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${_4.positionStart}&:not(.${_4.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Ege=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c,...d}=r,f=Ol()||{};let p=c;c&&f.variant,f&&!p&&(p=f.variant);const m={...r,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:u,variant:p},y=_ge(m);return j.jsx(OC.Provider,{value:null,children:j.jsx(xge,{as:o,ownerState:m,className:Je(y.root,s),ref:n,...d,children:typeof i=="string"&&!l?j.jsx(rn,{color:"textSecondary",children:i}):j.jsxs(z.Fragment,{children:[u==="start"?x4||(x4=j.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function Sge(t){return St("MuiInputLabel",t)}Ct("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Cge=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ye(r)}`,o],asterisk:[a&&"asterisk"]},u=At(l,Sge,e);return{...e,...u}},Age=Ue(pge,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${a0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Nt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Tge=z.forwardRef(function(e,n){const r=kt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:a,className:l,...u}=r,c=Ol();let d=o;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const f=Ld({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:c,shrink:d,size:f.size,variant:f.variant,required:f.required,focused:f.focused},m=Cge(p);return j.jsx(Age,{"data-shrink":d,ref:n,className:Je(m.root,l),...u,ownerState:p,classes:m})}),$0=z.createContext({});function kge(t){return St("MuiList",t)}Ct("MuiList",["root","padding","dense","subheader"]);const Rge=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return At({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},kge,e)},Ige=Ue("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Pge=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=z.useMemo(()=>({dense:a}),[a]),f={...r,component:o,dense:a,disablePadding:l},p=Rge(f);return j.jsx($0.Provider,{value:d,children:j.jsxs(Ige,{as:o,className:Je(p.root,s),ref:n,ownerState:f,...c,children:[u,i]})})});function Nge(t){return St("MuiListItemIcon",t)}const E4=Ct("MuiListItemIcon",["root","alignItemsFlexStart"]),Oge=t=>{const{alignItems:e,classes:n}=t;return At({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Nge,n)},Mge=Ue("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Nt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),S4=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,o=z.useContext($0),a={...r,alignItems:o.alignItems},l=Oge(a);return j.jsx(Mge,{className:Je(l.root,i),ownerState:a,ref:n,...s})});function Lge(t){return St("MuiListItemText",t)}const mg=Ct("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Dge=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return At({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Lge,e)},Fge=Ue("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${mg.primary}`]:e.primary},{[`& .${mg.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Q3.root}:where(& .${mg.primary})`]:{display:"block"},[`.${Q3.root}:where(& .${mg.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),C4=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d,slots:f={},slotProps:p={},...m}=r,{dense:y}=z.useContext($0);let b=l??i,v=c;const x={...r,disableTypography:o,inset:a,primary:!!b,secondary:!!v,dense:y},_=Dge(x),S={slots:f,slotProps:{primary:u,secondary:d,...p}},[k,O]=Bt("root",{className:Je(_.root,s),elementType:Fge,externalForwardedProps:{...S,...m},ownerState:x,ref:n}),[A,R]=Bt("primary",{className:_.primary,elementType:rn,externalForwardedProps:S,ownerState:x}),[P,T]=Bt("secondary",{className:_.secondary,elementType:rn,externalForwardedProps:S,ownerState:x});return b!=null&&b.type!==rn&&!o&&(b=j.jsx(A,{variant:y?"body2":"body1",component:R!=null&&R.variant?void 0:"span",...R,children:b})),v!=null&&v.type!==rn&&!o&&(v=j.jsx(P,{variant:"body2",color:"textSecondary",...T,children:v})),j.jsxs(k,{...O,children:[b,v]})});function wk(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function A4(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function zU(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function tv(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!zU(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const zge=z.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...f}=e,p=z.useRef(null),m=z.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});kl(()=>{i&&p.current.focus()},[i]),z.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(_,{direction:S})=>{const k=!p.current.style.width;if(_.clientHeight<p.current.clientHeight&&k){const O=`${sU(Zu(_))}px`;p.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=O,p.current.style.width=`calc(100% + ${O})`}return p.current}}),[]);const y=_=>{const S=p.current,k=_.key;if(_.ctrlKey||_.metaKey||_.altKey){c&&c(_);return}const A=Zs(S).activeElement;if(k==="ArrowDown")_.preventDefault(),tv(S,A,u,l,wk);else if(k==="ArrowUp")_.preventDefault(),tv(S,A,u,l,A4);else if(k==="Home")_.preventDefault(),tv(S,null,u,l,wk);else if(k==="End")_.preventDefault(),tv(S,null,u,l,A4);else if(k.length===1){const R=m.current,P=k.toLowerCase(),T=performance.now();R.keys.length>0&&(T-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&P!==R.keys[0]&&(R.repeating=!1)),R.lastTime=T,R.keys.push(P);const L=A&&!R.repeating&&zU(A,R);R.previousKeyMatched&&(L||tv(S,A,!1,l,wk,R))?_.preventDefault():R.previousKeyMatched=!1}c&&c(_)},b=Cr(p,n);let v=-1;z.Children.forEach(o,(_,S)=>{if(!z.isValidElement(_)){v===S&&(v+=1,v>=o.length&&(v=-1));return}_.props.disabled||(d==="selectedMenu"&&_.props.selected||v===-1)&&(v=S),v===S&&(_.props.disabled||_.props.muiSkipListHighlight||_.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const x=z.Children.map(o,(_,S)=>{if(S===v){const k={};return s&&(k.autoFocus=!0),_.props.tabIndex===void 0&&d==="selectedMenu"&&(k.tabIndex=0),z.cloneElement(_,k)}return _});return j.jsx(Pge,{role:"menu",ref:b,className:a,onKeyDown:y,tabIndex:i?0:-1,...f,children:x})});function jge(t){return St("MuiPopover",t)}Ct("MuiPopover",["root","paper"]);function T4(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function k4(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function R4(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function V_(t){return typeof t=="function"?t():t}const Bge=t=>{const{classes:e}=t;return At({root:["root"],paper:["paper"]},jge,e)},$ge=Ue(MU,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),jU=Ue(Vm,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vge=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:f=8,marginThreshold:p=16,open:m,PaperProps:y={},slots:b={},slotProps:v={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:_,transitionDuration:S="auto",TransitionProps:k={},disableScrollLock:O=!1,...A}=r,R=z.useRef(),P={...r,anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:p,transformOrigin:x,TransitionComponent:_,transitionDuration:S,TransitionProps:k},T=Bge(P),L=z.useCallback(()=>{if(l==="anchorPosition")return a;const ge=V_(s),Ee=(ge&&ge.nodeType===1?ge:Zs(R.current).body).getBoundingClientRect();return{top:Ee.top+T4(Ee,o.vertical),left:Ee.left+k4(Ee,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),M=z.useCallback(ge=>({vertical:T4(ge,x.vertical),horizontal:k4(ge,x.horizontal)}),[x.horizontal,x.vertical]),D=z.useCallback(ge=>{const xe={width:ge.offsetWidth,height:ge.offsetHeight},Ee=M(xe);if(l==="none")return{top:null,left:null,transformOrigin:R4(Ee)};const Pe=L();let V=Pe.top-Ee.vertical,pe=Pe.left-Ee.horizontal;const me=V+xe.height,le=pe+xe.width,ee=Zu(V_(s)),ue=ee.innerHeight-p,ve=ee.innerWidth-p;if(p!==null&&V<p){const Te=V-p;V-=Te,Ee.vertical+=Te}else if(p!==null&&me>ue){const Te=me-ue;V-=Te,Ee.vertical+=Te}if(p!==null&&pe<p){const Te=pe-p;pe-=Te,Ee.horizontal+=Te}else if(le>ve){const Te=le-ve;pe-=Te,Ee.horizontal+=Te}return{top:`${Math.round(V)}px`,left:`${Math.round(pe)}px`,transformOrigin:R4(Ee)}},[s,l,L,M,p]),[N,U]=z.useState(m),K=z.useCallback(()=>{const ge=R.current;if(!ge)return;const xe=D(ge);xe.top!==null&&ge.style.setProperty("top",xe.top),xe.left!==null&&(ge.style.left=xe.left),ge.style.transformOrigin=xe.transformOrigin,U(!0)},[D]);z.useEffect(()=>(O&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[s,O,K]);const G=()=>{K()},Z=()=>{U(!1)};z.useEffect(()=>{m&&K()}),z.useImperativeHandle(i,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),z.useEffect(()=>{if(!m)return;const ge=rU(()=>{K()}),xe=Zu(V_(s));return xe.addEventListener("resize",ge),()=>{ge.clear(),xe.removeEventListener("resize",ge)}},[s,m,K]);let X=S;const W={slots:{transition:_,...b},slotProps:{transition:k,paper:y,...v}},[q,Q]=Bt("transition",{elementType:ZE,externalForwardedProps:W,ownerState:P,getSlotProps:ge=>({...ge,onEntering:(xe,Ee)=>{var Pe;(Pe=ge.onEntering)==null||Pe.call(ge,xe,Ee),G()},onExited:xe=>{var Ee;(Ee=ge.onExited)==null||Ee.call(ge,xe),Z()}}),additionalProps:{appear:!0,in:m}});S==="auto"&&!q.muiSupportAuto&&(X=void 0);const H=d||(s?Zs(V_(s)).body:void 0),[re,{slots:te,slotProps:he,...de}]=Bt("root",{ref:n,elementType:$ge,externalForwardedProps:{...W,...A},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:fO(typeof v.backdrop=="function"?v.backdrop(P):v.backdrop,{invisible:!0})},container:H,open:m},ownerState:P,className:Je(T.root,c)}),[oe,ce]=Bt("paper",{ref:R,className:T.paper,elementType:jU,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:N?void 0:{opacity:0}},ownerState:P});return j.jsx(re,{...de,...!KI(re)&&{slots:te,slotProps:he,disableScrollLock:O},children:j.jsx(q,{...Q,timeout:X,children:j.jsx(oe,{...ce,children:u})})})});function Hge(t){return St("MuiMenu",t)}Ct("MuiMenu",["root","paper","list"]);const Uge={vertical:"top",horizontal:"right"},Wge={vertical:"top",horizontal:"left"},qge=t=>{const{classes:e}=t;return At({root:["root"],paper:["paper"],list:["list"]},Hge,e)},Gge=Ue(Vge,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yge=Ue(jU,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Xge=Ue(zge,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),BU=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:f,transitionDuration:p="auto",TransitionProps:{onEntering:m,...y}={},variant:b="selectedMenu",slots:v={},slotProps:x={},..._}=r,S=cO(),k={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:b},O=qge(k),A=i&&!a&&c,R=z.useRef(null),P=(X,W)=>{R.current&&R.current.adjustStyleForScrollbar(X,{direction:S?"rtl":"ltr"}),m&&m(X,W)},T=X=>{X.key==="Tab"&&(X.preventDefault(),u&&u(X,"tabKeyDown"))};let L=-1;z.Children.map(s,(X,W)=>{z.isValidElement(X)&&(X.props.disabled||(b==="selectedMenu"&&X.props.selected||L===-1)&&(L=W))});const M={slots:v,slotProps:{list:l,transition:y,paper:d,...x}},D=cU({elementType:v.root,externalSlotProps:x.root,ownerState:k,className:[O.root,o]}),[N,U]=Bt("paper",{className:O.paper,elementType:Yge,externalForwardedProps:M,shouldForwardComponentProp:!0,ownerState:k}),[K,G]=Bt("list",{className:Je(O.list,l.className),elementType:Xge,shouldForwardComponentProp:!0,externalForwardedProps:M,getSlotProps:X=>({...X,onKeyDown:W=>{var q;T(W),(q=X.onKeyDown)==null||q.call(X,W)}}),ownerState:k}),Z=typeof M.slotProps.transition=="function"?M.slotProps.transition(k):M.slotProps.transition;return j.jsx(Gge,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Uge:Wge,slots:{root:v.root,paper:N,backdrop:v.backdrop,...v.transition&&{transition:v.transition}},slotProps:{root:D,paper:U,backdrop:typeof x.backdrop=="function"?x.backdrop(k):x.backdrop,transition:{...Z,onEntering:(...X)=>{var W;P(...X),(W=Z==null?void 0:Z.onEntering)==null||W.call(Z,...X)}}},open:c,ref:n,transitionDuration:p,ownerState:k,..._,classes:f,children:j.jsx(K,{actions:R,autoFocus:i&&(L===-1||a),autoFocusItem:A,variant:b,...G,children:s})})});function Kge(t){return St("MuiMenuItem",t)}const nv=Ct("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Qge=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Zge=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=At({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Kge,o);return{...o,...l}},Jge=Ue(qw,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Qge})(Nt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nv.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Un(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${nv.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Un(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${nv.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Un(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Un(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${nv.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${nv.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${y4.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${y4.inset}`]:{marginLeft:52},[`& .${mg.root}`]:{marginTop:0,marginBottom:0},[`& .${mg.inset}`]:{paddingLeft:36},[`& .${E4.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${E4.root} svg`]:{fontSize:"1.25rem"}}}]}))),nP=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:f,...p}=r,m=z.useContext($0),y=z.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),b=z.useRef(null);kl(()=>{i&&b.current&&b.current.focus()},[i]);const v={...r,dense:y.dense,divider:a,disableGutters:l},x=Zge(r),_=Cr(b,n);let S;return r.disabled||(S=d!==void 0?d:-1),j.jsx($0.Provider,{value:y,children:j.jsx(Jge,{ref:_,role:c,tabIndex:S,component:s,focusVisibleClassName:Je(x.focusVisible,u),className:Je(x.root,f),...p,ownerState:v,classes:x})})});function eme(t){return St("MuiNativeSelect",t)}const TO=Ct("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tme=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ye(n)}`,s&&"iconOpen",r&&"disabled"]};return At(a,eme,e)},$U=Ue("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${TO.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),nme=Ue($U,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${TO.multiple}`]:e.multiple}]}})({}),VU=Ue("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${TO.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),rme=Ue(VU,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ye(n.variant)}`],n.open&&e.iconOpen]}})({}),ime=z.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:s},d=tme(c);return j.jsxs(z.Fragment,{children:[j.jsx(nme,{ownerState:c,className:Je(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:j.jsx(rme,{as:o,ownerState:c,className:d.icon})]})});var I4;const sme=Ue("fieldset",{shouldForwardProp:qi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ome=Ue("legend",{shouldForwardProp:qi})(Nt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function ame(t){const{children:e,classes:n,className:r,label:i,notched:s,...o}=t,a=i!=null&&i!=="",l={...t,notched:s,withLabel:a};return j.jsx(sme,{"aria-hidden":!0,className:r,ownerState:l,...o,children:j.jsx(ome,{ownerState:l,children:a?j.jsx("span",{children:i}):I4||(I4=j.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const lme=t=>{const{classes:e}=t,r=At({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},wfe,e);return{...e,...r}},ume=Ue(DC,{shouldForwardProp:t=>qi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:MC})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ba.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ba.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ba.focused} .${Ba.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Co()).map(([n])=>({props:{color:n},style:{[`&.${Ba.focused} .${Ba.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Ba.error} .${Ba.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ba.disabled} .${Ba.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),cme=Ue(ame,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Nt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),dme=Ue(FC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:LC})(Nt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),kO=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:s=!1,inputComponent:o="input",label:a,multiline:l=!1,notched:u,slots:c={},slotProps:d={},type:f="text",...p}=r,m=lme(r),y=Ol(),b=Ld({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...r,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:y,fullWidth:s,hiddenLabel:b.hiddenLabel,multiline:l,size:b.size,type:f},x=c.root??i.Root??ume,_=c.input??i.Input??dme,[S,k]=Bt("notchedOutline",{elementType:cme,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:v,externalForwardedProps:{slots:c,slotProps:d},additionalProps:{label:a!=null&&a!==""&&b.required?j.jsxs(z.Fragment,{children:[a," ","*"]}):a}});return j.jsx(SO,{slots:{root:x,input:_},slotProps:d,renderSuffix:O=>j.jsx(S,{...k,notched:typeof u<"u"?u:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:s,inputComponent:o,multiline:l,ref:n,type:f,...p,classes:{...m,notchedOutline:null}})});kO.muiName="Input";function HU(t){return St("MuiSelect",t)}const rv=Ct("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var P4;const hme=Ue($U,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${rv.select}`]:e.select},{[`&.${rv.select}`]:e[n.variant]},{[`&.${rv.error}`]:e.error},{[`&.${rv.multiple}`]:e.multiple}]}})({[`&.${rv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),fme=Ue(VU,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ye(n.variant)}`],n.open&&e.iconOpen]}})({}),pme=Ue("input",{shouldForwardProp:t=>yU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function N4(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function gme(t){return t==null||typeof t=="string"&&!t.trim()}const mme=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ye(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return At(a,HU,e)},yme=z.forwardRef(function(e,n){var sn;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:y,labelId:b,MenuProps:v={},multiple:x,name:_,onBlur:S,onChange:k,onClose:O,onFocus:A,onOpen:R,open:P,readOnly:T,renderValue:L,required:M,SelectDisplayProps:D={},tabIndex:N,type:U,value:K,variant:G="standard",...Z}=e,[X,W]=z0({controlled:K,default:c,name:"Select"}),[q,Q]=z0({controlled:P,default:u,name:"Select"}),H=z.useRef(null),re=z.useRef(null),[te,he]=z.useState(null),{current:de}=z.useRef(P!=null),[oe,ce]=z.useState(),ge=Cr(n,y),xe=z.useCallback(nt=>{re.current=nt,nt&&he(nt)},[]),Ee=te==null?void 0:te.parentNode;z.useImperativeHandle(ge,()=>({focus:()=>{re.current.focus()},node:H.current,value:X}),[X]),z.useEffect(()=>{u&&q&&te&&!de&&(ce(o?null:Ee.clientWidth),re.current.focus())},[te,o]),z.useEffect(()=>{s&&re.current.focus()},[s]),z.useEffect(()=>{if(!b)return;const nt=Zs(re.current).getElementById(b);if(nt){const pt=()=>{getSelection().isCollapsed&&re.current.focus()};return nt.addEventListener("click",pt),()=>{nt.removeEventListener("click",pt)}}},[b]);const Pe=(nt,pt)=>{nt?R&&R(pt):O&&O(pt),de||(ce(o?null:Ee.clientWidth),Q(nt))},V=nt=>{nt.button===0&&(nt.preventDefault(),re.current.focus(),Pe(!0,nt))},pe=nt=>{Pe(!1,nt)},me=z.Children.toArray(a),le=nt=>{const pt=me.find(Ut=>Ut.props.value===nt.target.value);pt!==void 0&&(W(pt.props.value),k&&k(nt,pt))},ee=nt=>pt=>{let Ut;if(pt.currentTarget.hasAttribute("tabindex")){if(x){Ut=Array.isArray(X)?X.slice():[];const on=X.indexOf(nt.props.value);on===-1?Ut.push(nt.props.value):Ut.splice(on,1)}else Ut=nt.props.value;if(nt.props.onClick&&nt.props.onClick(pt),X!==Ut&&(W(Ut),k)){const on=pt.nativeEvent||pt,Pi=new on.constructor(on.type,on);Object.defineProperty(Pi,"target",{writable:!0,value:{value:Ut,name:_}}),k(Pi,nt)}x||Pe(!1,pt)}},ue=nt=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(nt.key)&&(nt.preventDefault(),Pe(!0,nt))},ve=te!==null&&q,Te=nt=>{!ve&&S&&(Object.defineProperty(nt,"target",{writable:!0,value:{value:X,name:_}}),S(nt))};delete Z["aria-invalid"];let ye,Me;const je=[];let ze=!1;(QE({value:X})||f)&&(L?ye=L(X):ze=!0);const we=me.map(nt=>{if(!z.isValidElement(nt))return null;let pt;if(x){if(!Array.isArray(X))throw new Error(Qu(2));pt=X.some(Ut=>N4(Ut,nt.props.value)),pt&&ze&&je.push(nt.props.children)}else pt=N4(X,nt.props.value),pt&&ze&&(Me=nt.props.children);return z.cloneElement(nt,{"aria-selected":pt?"true":"false",onClick:ee(nt),onKeyUp:Ut=>{Ut.key===" "&&Ut.preventDefault(),nt.props.onKeyUp&&nt.props.onKeyUp(Ut)},role:"option",selected:pt,value:void 0,"data-value":nt.props.value})});ze&&(x?je.length===0?ye=null:ye=je.reduce((nt,pt,Ut)=>(nt.push(pt),Ut<je.length-1&&nt.push(", "),nt),[]):ye=Me);let Re=oe;!o&&de&&te&&(Re=Ee.clientWidth);let Be;typeof N<"u"?Be=N:Be=d?null:0;const et=D.id||(_?`mui-component-select-${_}`:void 0),yt={...e,variant:G,value:X,open:ve,error:p},tt=mme(yt),Yt={...v.PaperProps,...(sn=v.slotProps)==null?void 0:sn.paper},wt=ay();return j.jsxs(z.Fragment,{children:[j.jsx(hme,{as:"div",ref:xe,tabIndex:Be,role:"combobox","aria-controls":ve?wt:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":ve?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[b,et].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":M?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:ue,onMouseDown:d||T?null:V,onBlur:Te,onFocus:A,...D,ownerState:yt,className:Je(D.className,tt.select,l),id:et,children:gme(ye)?P4||(P4=j.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ye}),j.jsx(pme,{"aria-invalid":p,value:Array.isArray(X)?X.join(","):X,name:_,ref:H,"aria-hidden":!0,onChange:le,tabIndex:-1,disabled:d,className:tt.nativeInput,autoFocus:s,required:M,...Z,ownerState:yt}),j.jsx(fme,{as:m,className:tt.icon,ownerState:yt}),j.jsx(BU,{id:`menu-${_||""}`,anchorEl:Ee,open:ve,onClose:pe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,slotProps:{...v.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:wt,...v.MenuListProps},paper:{...Yt,style:{minWidth:Re,...Yt!=null?Yt.style:null}}},children:we})]})}),vme=t=>{const{classes:e}=t,r=At({root:["root"]},HU,e);return{...e,...r}},RO={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>qi(t)&&t!=="variant",slot:"Root"},bme=Ue(AO,RO)(""),wme=Ue(kO,RO)(""),_me=Ue(CO,RO)(""),IO=z.forwardRef(function(e,n){const r=kt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=xfe,id:d,input:f,inputProps:p,label:m,labelId:y,MenuProps:b,multiple:v=!1,native:x=!1,onClose:_,onOpen:S,open:k,renderValue:O,SelectDisplayProps:A,variant:R="outlined",...P}=r,T=x?ime:yme,L=Ol(),M=Ld({props:r,muiFormControl:L,states:["variant","error"]}),D=M.variant||R,N={...r,variant:D,classes:o},U=vme(N),{root:K,...G}=U,Z=f||{standard:j.jsx(bme,{ownerState:N}),outlined:j.jsx(wme,{label:m,ownerState:N}),filled:j.jsx(_me,{ownerState:N})}[D],X=Cr(n,Xf(Z));return j.jsx(z.Fragment,{children:z.cloneElement(Z,{inputComponent:T,inputProps:{children:s,error:M.error,IconComponent:c,variant:D,type:void 0,multiple:v,...x?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:b,onClose:_,onOpen:S,open:k,renderValue:O,SelectDisplayProps:{id:d,...A}},...p,classes:p?Gr(G,p.classes):G,...f?f.props.inputProps:{}},...(v&&x||u)&&D==="outlined"?{notched:!0}:{},ref:X,className:Je(Z.props.className,a,U.root),...!f&&{variant:D},...P})})});IO.muiName="Select";function xme(t){return St("MuiSkeleton",t)}Ct("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Eme=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return At({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},xme,e)},rP=Yf`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,iP=Yf`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Sme=typeof rP!="string"?Hw`
        animation: ${rP} 2s ease-in-out 0.5s infinite;
      `:null,Cme=typeof iP!="string"?Hw`
        &::after {
          animation: ${iP} 2s linear 0.5s infinite;
        }
      `:null,Ame=Ue("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(Nt(({theme:t})=>{const e=nde(t.shape.borderRadius)||"px",n=rde(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Un(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${e}/${Math.round(n/.6*10)/10}${e}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Sme||{animation:`${rP} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(t.vars||t).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Cme||{"&::after":{animation:`${iP} 2s linear 0.5s infinite`}}}]}})),O4=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:u="text",width:c,...d}=r,f={...r,animation:i,component:o,variant:u,hasChildren:!!d.children},p=Eme(f);return j.jsx(Ame,{as:o,ref:n,className:Je(p.root,s),ownerState:f,...d,style:{width:c,height:a,...l}})}),Tme={entering:{transform:"none"},entered:{transform:"none"}},kme=z.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:f,onExit:p,onExited:m,onExiting:y,style:b,timeout:v=i,TransitionComponent:x=_a,..._}=e,S=z.useRef(null),k=Cr(S,Xf(a),n),O=N=>U=>{if(N){const K=S.current;U===void 0?N(K):N(K,U)}},A=O(f),R=O((N,U)=>{mO(N);const K=$m({style:b,timeout:v,easing:l},{mode:"enter"});N.style.webkitTransition=r.transitions.create("transform",K),N.style.transition=r.transitions.create("transform",K),c&&c(N,U)}),P=O(d),T=O(y),L=O(N=>{const U=$m({style:b,timeout:v,easing:l},{mode:"exit"});N.style.webkitTransition=r.transitions.create("transform",U),N.style.transition=r.transitions.create("transform",U),p&&p(N)}),M=O(m),D=N=>{s&&s(S.current,N)};return j.jsx(x,{appear:o,in:u,nodeRef:S,onEnter:R,onEntered:P,onEntering:A,onExit:L,onExited:M,onExiting:T,addEndListener:D,timeout:v,..._,children:(N,{ownerState:U,...K})=>z.cloneElement(a,{style:{transform:"scale(0)",visibility:N==="exited"&&!u?"hidden":void 0,...Tme[N],...b,...a.props.style},ref:k,...K})})});function Rme(t){return St("MuiSpeedDial",t)}const H_=Ct("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),Ime=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${Ye(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return At(i,Rme,e)};function iv(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const Mc=32,U_=16,Pme=Ue("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${Ye(n.direction)}`]]}})(Nt(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${H_.actions}`]:{flexDirection:"column-reverse",marginBottom:-Mc,paddingBottom:U_+Mc}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${H_.actions}`]:{flexDirection:"column",marginTop:-Mc,paddingTop:U_+Mc}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${H_.actions}`]:{flexDirection:"row-reverse",marginRight:-Mc,paddingRight:U_+Mc}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${H_.actions}`]:{flexDirection:"row",marginLeft:-Mc,paddingLeft:U_+Mc}}}]}))),Nme=Ue(DU,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})({pointerEvents:"auto"}),Ome=Ue("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),Mme=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiSpeedDial"}),i=Kf(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:a,...l}={},children:u,className:c,direction:d="up",hidden:f=!1,icon:p,onBlur:m,onClose:y,onFocus:b,onKeyDown:v,onMouseEnter:x,onMouseLeave:_,onOpen:S,open:k,openIcon:O,slots:A={},slotProps:R={},TransitionComponent:P,TransitionProps:T,transitionDuration:L=s,...M}=r,[D,N]=z0({controlled:k,default:!1,name:"SpeedDial",state:"open"}),U={...r,open:D,direction:d},K=Ime(U),G=wh(),Z=z.useRef(0),X=z.useRef(),W=z.useRef([]);W.current=[W.current[0]];const q=z.useCallback(ee=>{W.current[0]=ee},[]),Q=Cr(a,q),H=(ee,ue)=>ve=>{W.current[ee+1]=ve,ue&&ue(ve)},re=ee=>{v&&v(ee);const ue=ee.key.replace("Arrow","").toLowerCase(),{current:ve=ue}=X;if(ee.key==="Escape"){N(!1),W.current[0].focus(),y&&y(ee,"escapeKeyDown");return}if(iv(ue)===iv(ve)&&iv(ue)!==void 0){ee.preventDefault();const Te=ue===ve?1:-1,ye=eU(Z.current+Te,0,W.current.length-1);W.current[ye].focus(),Z.current=ye,X.current=ve}};z.useEffect(()=>{D||(Z.current=0,X.current=void 0)},[D]);const te=ee=>{ee.type==="mouseleave"&&_&&_(ee),ee.type==="blur"&&m&&m(ee),G.clear(),ee.type==="blur"?G.start(0,()=>{N(!1),y&&y(ee,"blur")}):(N(!1),y&&y(ee,"mouseLeave"))},he=ee=>{l.onClick&&l.onClick(ee),G.clear(),D?(N(!1),y&&y(ee,"toggle")):(N(!0),S&&S(ee,"toggle"))},de=ee=>{ee.type==="mouseenter"&&x&&x(ee),ee.type==="focus"&&b&&b(ee),G.clear(),D||G.start(0,()=>{N(!0),S&&S(ee,{focus:"focus",mouseenter:"mouseEnter"}[ee.type])})},oe=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ce=z.Children.toArray(u).filter(ee=>z.isValidElement(ee)),ge=ce.map((ee,ue)=>{const{FabProps:{ref:ve,...Te}={},tooltipPlacement:ye}=ee.props,Me=ye||(iv(d)==="vertical"?"left":"top");return z.cloneElement(ee,{FabProps:{...Te,ref:H(ue,ve)},delay:30*(D?ue:ce.length-ue),open:D,tooltipPlacement:Me,id:`${oe}-action-${ue}`})}),xe={transition:P,...A},Ee={transition:T,...R},Pe={slots:xe,slotProps:Ee},[V,pe]=Bt("root",{elementType:Pme,externalForwardedProps:{...Pe,...M},ownerState:U,ref:n,className:Je(K.root,c),additionalProps:{role:"presentation"},getSlotProps:ee=>({...ee,onKeyDown:ue=>{var ve;(ve=ee.onKeyDown)==null||ve.call(ee,ue),re(ue)},onBlur:ue=>{var ve;(ve=ee.onBlur)==null||ve.call(ee,ue),te(ue)},onFocus:ue=>{var ve;(ve=ee.onFocus)==null||ve.call(ee,ue),de(ue)},onMouseEnter:ue=>{var ve;(ve=ee.onMouseEnter)==null||ve.call(ee,ue),de(ue)},onMouseLeave:ue=>{var ve;(ve=ee.onMouseLeave)==null||ve.call(ee,ue),te(ue)}})}),[me,le]=Bt("transition",{elementType:kme,externalForwardedProps:Pe,ownerState:U});return j.jsxs(V,{...pe,children:[j.jsx(me,{in:!f,timeout:L,unmountOnExit:!0,...le,children:j.jsx(Nme,{color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":D,"aria-controls":`${oe}-actions`,...l,onClick:he,className:Je(K.fab,l.className),ref:Q,ownerState:U,children:z.isValidElement(p)&&Rx(p,["SpeedDialIcon"])?z.cloneElement(p,{open:D}):p})}),j.jsx(Ome,{id:`${oe}-actions`,role:"menu","aria-orientation":iv(d),className:Je(K.actions,!D&&K.actionsClosed),ownerState:U,children:ge})]})});function Lme(t){return St("MuiTooltip",t)}const sr=Ct("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Dme(t){return Math.round(t*1e5)/1e5}const Fme=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ye(s.split("-")[0])}`],arrow:["arrow"]};return At(o,Lme,e)},zme=Ue(PU,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Nt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${sr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${sr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${sr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${sr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${sr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${sr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${sr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${sr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),jme=Ue("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ye(n.placement.split("-")[0])}`]]}})(Nt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Un(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${sr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${sr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${sr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${sr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Dme(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${sr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${sr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${sr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${sr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${sr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${sr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${sr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${sr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${sr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${sr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Bme=Ue("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Nt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Un(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let W_=!1;const M4=new PC;let sv={x:0,y:0};function q_(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const sP=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:o,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:d=!1,disableInteractive:f=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:y=0,enterTouchDelay:b=700,followCursor:v=!1,id:x,leaveDelay:_=0,leaveTouchDelay:S=1500,onClose:k,onOpen:O,open:A,placement:R="bottom",PopperComponent:P,PopperProps:T={},slotProps:L={},slots:M={},title:D,TransitionComponent:N,TransitionProps:U,...K}=r,G=z.isValidElement(s)?s:j.jsx("span",{children:s}),Z=Kf(),X=cO(),[W,q]=z.useState(),[Q,H]=z.useState(null),re=z.useRef(!1),te=f||v,he=wh(),de=wh(),oe=wh(),ce=wh(),[ge,xe]=z0({controlled:A,default:!1,name:"Tooltip",state:"open"});let Ee=ge;const Pe=ay(x),V=z.useRef(),pe=$u(()=>{V.current!==void 0&&(document.body.style.WebkitUserSelect=V.current,V.current=void 0),ce.clear()});z.useEffect(()=>pe,[pe]);const me=Rt=>{M4.clear(),W_=!0,xe(!0),O&&!Ee&&O(Rt)},le=$u(Rt=>{M4.start(800+_,()=>{W_=!1}),xe(!1),k&&Ee&&k(Rt),he.start(Z.transitions.duration.shortest,()=>{re.current=!1})}),ee=Rt=>{re.current&&Rt.type!=="touchstart"||(W&&W.removeAttribute("title"),de.clear(),oe.clear(),m||W_&&y?de.start(W_?y:m,()=>{me(Rt)}):me(Rt))},ue=Rt=>{de.clear(),oe.start(_,()=>{le(Rt)})},[,ve]=z.useState(!1),Te=Rt=>{GE(Rt.target)||(ve(!1),ue(Rt))},ye=Rt=>{W||q(Rt.currentTarget),GE(Rt.target)&&(ve(!0),ee(Rt))},Me=Rt=>{re.current=!0;const Gn=G.props;Gn.onTouchStart&&Gn.onTouchStart(Rt)},je=Rt=>{Me(Rt),oe.clear(),he.clear(),pe(),V.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(b,()=>{document.body.style.WebkitUserSelect=V.current,ee(Rt)})},ze=Rt=>{G.props.onTouchEnd&&G.props.onTouchEnd(Rt),pe(),oe.start(S,()=>{le(Rt)})};z.useEffect(()=>{if(!Ee)return;function Rt(Gn){Gn.key==="Escape"&&le(Gn)}return document.addEventListener("keydown",Rt),()=>{document.removeEventListener("keydown",Rt)}},[le,Ee]);const we=Cr(Xf(G),q,n);!D&&D!==0&&(Ee=!1);const Re=z.useRef(),Be=Rt=>{const Gn=G.props;Gn.onMouseMove&&Gn.onMouseMove(Rt),sv={x:Rt.clientX,y:Rt.clientY},Re.current&&Re.current.update()},et={},yt=typeof D=="string";u?(et.title=!Ee&&yt&&!d?D:null,et["aria-describedby"]=Ee?Pe:null):(et["aria-label"]=yt?D:null,et["aria-labelledby"]=Ee&&!yt?Pe:null);const tt={...et,...K,...G.props,className:Je(K.className,G.props.className),onTouchStart:Me,ref:we,...v?{onMouseMove:Be}:{}},Yt={};p||(tt.onTouchStart=je,tt.onTouchEnd=ze),d||(tt.onMouseOver=q_(ee,tt.onMouseOver),tt.onMouseLeave=q_(ue,tt.onMouseLeave),te||(Yt.onMouseOver=ee,Yt.onMouseLeave=ue)),c||(tt.onFocus=q_(ye,tt.onFocus),tt.onBlur=q_(Te,tt.onBlur),te||(Yt.onFocus=ye,Yt.onBlur=Te));const wt={...r,isRtl:X,arrow:i,disableInteractive:te,placement:R,PopperComponentProp:P,touch:re.current},sn=typeof L.popper=="function"?L.popper(wt):L.popper,nt=z.useMemo(()=>{var Gn,Ca;let Rt=[{name:"arrow",enabled:!!Q,options:{element:Q,padding:4}}];return(Gn=T.popperOptions)!=null&&Gn.modifiers&&(Rt=Rt.concat(T.popperOptions.modifiers)),(Ca=sn==null?void 0:sn.popperOptions)!=null&&Ca.modifiers&&(Rt=Rt.concat(sn.popperOptions.modifiers)),{...T.popperOptions,...sn==null?void 0:sn.popperOptions,modifiers:Rt}},[Q,T.popperOptions,sn==null?void 0:sn.popperOptions]),pt=Fme(wt),Ut=typeof L.transition=="function"?L.transition(wt):L.transition,on={slots:{popper:a.Popper,transition:a.Transition??N,tooltip:a.Tooltip,arrow:a.Arrow,...M},slotProps:{arrow:L.arrow??l.arrow,popper:{...T,...sn??l.popper},tooltip:L.tooltip??l.tooltip,transition:{...U,...Ut??l.transition}}},[Pi,eo]=Bt("popper",{elementType:zme,externalForwardedProps:on,ownerState:wt,className:Je(pt.popper,T==null?void 0:T.className)}),[Tr,pr]=Bt("transition",{elementType:ZE,externalForwardedProps:on,ownerState:wt}),[Ni,Gi]=Bt("tooltip",{elementType:jme,className:pt.tooltip,externalForwardedProps:on,ownerState:wt}),[Sa,Io]=Bt("arrow",{elementType:Bme,className:pt.arrow,externalForwardedProps:on,ownerState:wt,ref:H});return j.jsxs(z.Fragment,{children:[z.cloneElement(G,tt),j.jsx(Pi,{as:P??PU,placement:R,anchorEl:v?{getBoundingClientRect:()=>({top:sv.y,left:sv.x,right:sv.x,bottom:sv.y,width:0,height:0})}:W,popperRef:Re,open:W?Ee:!1,id:Pe,transition:!0,...Yt,...eo,popperOptions:nt,children:({TransitionProps:Rt})=>j.jsx(Tr,{timeout:Z.transitions.duration.shorter,...Rt,...pr,children:j.jsxs(Ni,{...Gi,children:[D,i?j.jsx(Sa,{...Io}):null]})})})]})});function $me(t){return St("MuiSpeedDialAction",t)}const G_=Ct("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Vme=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Ye(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return At(i,$me,r)},Hme=Ue(DU,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(Nt(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:nU(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),Ume=Ue("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${Ye(n.tooltipPlacement)}`]]}})(Nt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${G_.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${G_.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${G_.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${G_.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),Wme=Ue("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(Nt(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),Y_=z.forwardRef(function(e,n){var Z;const r=kt({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:s=0,FabProps:o={},icon:a,id:l,open:u,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:f="left",tooltipTitle:p,slots:m={},slotProps:y={},...b}=r,v={...r,tooltipPlacement:f},x=Vme(v),_={slots:m,slotProps:{fab:o,...y,tooltip:fO(typeof y.tooltip=="function"?y.tooltip(v):y.tooltip,{title:p,open:d,placement:f,classes:c})}},[S,k]=z.useState((Z=_.slotProps.tooltip)==null?void 0:Z.open),O=()=>{k(!1)},A=()=>{k(!0)},R={transitionDelay:`${s}ms`},[P,T]=Bt("fab",{elementType:Hme,externalForwardedProps:_,ownerState:v,shouldForwardComponentProp:!0,className:Je(x.fab,i),additionalProps:{style:R,tabIndex:-1,role:"menuitem",size:"small"}}),[L,M]=Bt("tooltip",{elementType:sP,externalForwardedProps:_,shouldForwardComponentProp:!0,ref:n,additionalProps:{id:l},ownerState:v,getSlotProps:X=>({...X,onClose:W=>{var q;(q=X.onClose)==null||q.call(X,W),O()},onOpen:W=>{var q;(q=X.onOpen)==null||q.call(X,W),A()}})}),[D,N]=Bt("staticTooltip",{elementType:Ume,externalForwardedProps:_,ownerState:v,ref:n,className:x.staticTooltip,additionalProps:{id:l}}),[U,K]=Bt("staticTooltipLabel",{elementType:Wme,externalForwardedProps:_,ownerState:v,className:x.staticTooltipLabel,additionalProps:{style:R,id:`${l}-label`}}),G=j.jsx(P,{...T,children:a});return M.open?j.jsxs(D,{...N,...b,children:[j.jsx(U,{...K,children:M.title}),z.cloneElement(G,{"aria-labelledby":`${l}-label`})]}):(!u&&S&&k(!1),j.jsx(L,{...M,title:M.title,open:u&&S,placement:M.placement,classes:M.classes,...b,children:G}))}),Lx=Cce({createStyledComponent:Ue("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>kt({props:t,name:"MuiStack"})}),UU=z.createContext();function qme(t){return St("MuiTable",t)}Ct("MuiTable",["root","stickyHeader"]);const Gme=t=>{const{classes:e,stickyHeader:n}=t;return At({root:["root",n&&"stickyHeader"]},qme,e)},Yme=Ue("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Nt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),L4="table",Xme=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTable"}),{className:i,component:s=L4,padding:o="normal",size:a="medium",stickyHeader:l=!1,...u}=r,c={...r,component:s,padding:o,size:a,stickyHeader:l},d=Gme(c),f=z.useMemo(()=>({padding:o,size:a,stickyHeader:l}),[o,a,l]);return j.jsx(UU.Provider,{value:f,children:j.jsx(Yme,{as:s,role:s===L4?null:"table",ref:n,className:Je(d.root,i),ownerState:c,...u})})}),zC=z.createContext();function Kme(t){return St("MuiTableBody",t)}Ct("MuiTableBody",["root"]);const Qme=t=>{const{classes:e}=t;return At({root:["root"]},Kme,e)},Zme=Ue("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),Jme={variant:"body"},D4="tbody",eye=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTableBody"}),{className:i,component:s=D4,...o}=r,a={...r,component:s},l=Qme(a);return j.jsx(zC.Provider,{value:Jme,children:j.jsx(Zme,{className:Je(l.root,i),as:s,ref:n,role:s===D4?null:"rowgroup",ownerState:a,...o})})});function tye(t){return St("MuiTableCell",t)}const nye=Ct("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),rye=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${Ye(r)}`,i!=="normal"&&`padding${Ye(i)}`,`size${Ye(s)}`]};return At(a,tye,e)},iye=Ue("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Ye(n.size)}`],n.padding!=="normal"&&e[`padding${Ye(n.padding)}`],n.align!=="inherit"&&e[`align${Ye(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Nt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?IC(Un(t.palette.divider,1),.88):RC(Un(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${nye.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Kp=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:u,sortDirection:c,variant:d,...f}=r,p=z.useContext(UU),m=z.useContext(zC),y=m&&m.variant==="head";let b;o?b=o:b=y?"th":"td";let v=l;b==="td"?v=void 0:!v&&y&&(v="col");const x=d||m&&m.variant,_={...r,align:i,component:b,padding:a||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:x==="head"&&p&&p.stickyHeader,variant:x},S=rye(_);let k=null;return c&&(k=c==="asc"?"ascending":"descending"),j.jsx(iye,{as:b,ref:n,className:Je(S.root,s),"aria-sort":k,scope:v,ownerState:_,...f})});function sye(t){return St("MuiTableHead",t)}Ct("MuiTableHead",["root"]);const oye=t=>{const{classes:e}=t;return At({root:["root"]},sye,e)},aye=Ue("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),lye={variant:"head"},F4="thead",uye=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTableHead"}),{className:i,component:s=F4,...o}=r,a={...r,component:s},l=oye(a);return j.jsx(zC.Provider,{value:lye,children:j.jsx(aye,{as:s,className:Je(l.root,i),ref:n,role:s===F4?null:"rowgroup",ownerState:a,...o})})});function cye(t){return St("MuiTableRow",t)}const z4=Ct("MuiTableRow",["root","selected","hover","head","footer"]),dye=t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return At({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},cye,e)},hye=Ue("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Nt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${z4.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${z4.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Un(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Un(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),j4="tr",_k=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTableRow"}),{className:i,component:s=j4,hover:o=!1,selected:a=!1,...l}=r,u=z.useContext(zC),c={...r,component:s,hover:o,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},d=dye(c);return j.jsx(hye,{as:s,ref:n,className:Je(d.root,i),role:s===j4?null:"row",ownerState:c,...l})});function fye(t){return St("MuiTextField",t)}Ct("MuiTextField",["root"]);const pye={standard:AO,filled:CO,outlined:kO},gye=t=>{const{classes:e}=t;return At({root:["root"]},fye,e)},mye=Ue(FU,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Xo=z.forwardRef(function(e,n){const r=kt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:b,inputProps:v,InputProps:x,inputRef:_,label:S,maxRows:k,minRows:O,multiline:A=!1,name:R,onBlur:P,onChange:T,onFocus:L,placeholder:M,required:D=!1,rows:N,select:U=!1,SelectProps:K,slots:G={},slotProps:Z={},type:X,value:W,variant:q="outlined",...Q}=r,H={...r,autoFocus:s,color:l,disabled:c,error:d,fullWidth:p,multiline:A,required:D,select:U,variant:q},re=gye(H),te=ay(y),he=m&&te?`${te}-helper-text`:void 0,de=S&&te?`${te}-label`:void 0,oe=pye[q],ce={slots:G,slotProps:{input:x,inputLabel:b,htmlInput:v,formHelperText:f,select:K,...Z}},ge={},xe=ce.slotProps.inputLabel;q==="outlined"&&(xe&&typeof xe.shrink<"u"&&(ge.notched=xe.shrink),ge.label=S),U&&((!K||!K.native)&&(ge.id=void 0),ge["aria-describedby"]=void 0);const[Ee,Pe]=Bt("root",{elementType:mye,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...Q},ownerState:H,className:Je(re.root,a),ref:n,additionalProps:{disabled:c,error:d,fullWidth:p,required:D,color:l,variant:q}}),[V,pe]=Bt("input",{elementType:oe,externalForwardedProps:ce,additionalProps:ge,ownerState:H}),[me,le]=Bt("inputLabel",{elementType:Tge,externalForwardedProps:ce,ownerState:H}),[ee,ue]=Bt("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:H}),[ve,Te]=Bt("formHelperText",{elementType:uge,externalForwardedProps:ce,ownerState:H}),[ye,Me]=Bt("select",{elementType:IO,externalForwardedProps:ce,ownerState:H}),je=j.jsx(V,{"aria-describedby":he,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:p,multiline:A,name:R,rows:N,maxRows:k,minRows:O,type:X,value:W,id:te,inputRef:_,onBlur:P,onChange:T,onFocus:L,placeholder:M,inputProps:ue,slots:{input:G.htmlInput?ee:void 0},...pe});return j.jsxs(Ee,{...Pe,children:[S!=null&&S!==""&&j.jsx(me,{htmlFor:te,id:de,...le,children:S}),U?j.jsx(ye,{"aria-describedby":he,id:te,labelId:de,value:W,input:je,...Me,children:o}):je,m&&j.jsx(ve,{id:he,...Te,children:m})]})}),oP=_n(j.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),yye=_n(j.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),vye=_n(j.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),bye=_n(j.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),wye=_n(j.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),_ye=_n(j.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),xye=_n(j.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),WU=_n(j.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),B4=_n(j.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),qU=_n(j.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator"),Eye=_n(j.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Sye=_n(j.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),Cye=_n(j.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),Aye=_n(j.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),Tye=_n(j.jsx("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),kye=_n(j.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),Rye=_n(j.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),Iye=_n(j.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Pye=_n(j.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),Nye=_n(j.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),Oye=_n(j.jsx("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),Mye=_n(j.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-1h8v-2H5zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}),"TipsAndUpdates"),Lye=_n(j.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),$4=_n(j.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),GU="/re-ad-logo.svg";var ov={},V4;function Dye(){if(V4)return ov;V4=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.parse=o,ov.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function o(f,p){const m=new s,y=f.length;if(y<2)return m;const b=(p==null?void 0:p.decode)||c;let v=0;do{const x=f.indexOf("=",v);if(x===-1)break;const _=f.indexOf(";",v),S=_===-1?y:_;if(x>S){v=f.lastIndexOf(";",x-1)+1;continue}const k=a(f,v,x),O=l(f,x,k),A=f.slice(k,O);if(m[A]===void 0){let R=a(f,x+1,S),P=l(f,S,R);const T=b(f.slice(R,P));m[A]=T}v=S+1}while(v<y);return m}function a(f,p,m){do{const y=f.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function l(f,p,m){for(;p>m;){const y=f.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(f,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const b=y(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let v=f+"="+b;if(!m)return v;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);v+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);v+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);v+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);v+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(v+="; HttpOnly"),m.secure&&(v+="; Secure"),m.partitioned&&(v+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return v}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function d(f){return i.call(f)==="[object Date]"}return ov}Dye();var H4="popstate";function Fye(t={}){function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Qf(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),aP("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:V0(s))}function r(i,s){va(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return jye(e,n,r,t)}function Jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function va(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zye(){return Math.random().toString(36).substring(2,10)}function U4(t,e){return{usr:t.state,key:t.key,idx:e}}function aP(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qf(e):e,state:n,key:e&&e.key||r||zye()}}function V0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jye(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let b=c(),v=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:v})}function f(b,v){a="PUSH";let x=aP(y.location,b,v);n&&n(x,b),u=c()+1;let _=U4(x,u),S=y.createHref(x);try{o.pushState(_,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:y.location,delta:1})}function p(b,v){a="REPLACE";let x=aP(y.location,b,v);n&&n(x,b),u=c();let _=U4(x,u),S=y.createHref(x);o.replaceState(_,"",S),s&&l&&l({action:a,location:y.location,delta:0})}function m(b){return Bye(b)}let y={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H4,d),l=b,()=>{i.removeEventListener(H4,d),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let v=m(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return o.go(b)}};return y}function Bye(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Jn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:V0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function YU(t,e,n="/"){return $ye(t,e,n,!1)}function $ye(t,e,n,r){let i=typeof e=="string"?Qf(e):e,s=ec(i.pathname||"/",n);if(s==null)return null;let o=XU(t);Vye(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=Jye(s);a=Qye(o[l],u,r)}return a}function XU(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jn(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=Vu([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Jn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),XU(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Xye(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of KU(s.path))i(s,o,l)}),e}function KU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=KU(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Vye(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kye(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Hye=/^:[\w-]+$/,Uye=3,Wye=2,qye=1,Gye=10,Yye=-2,W4=t=>t==="*";function Xye(t,e){let n=t.split("/"),r=n.length;return n.some(W4)&&(r+=Yye),e&&(r+=Wye),n.filter(i=>!W4(i)).reduce((i,s)=>i+(Hye.test(s)?Uye:s===""?qye:Gye),r)}function Kye(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Qye(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=JE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=JE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Vu([s,d.pathname]),pathnameBase:rve(Vu([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Vu([s,d.pathnameBase]))}return o}function JE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zye(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Zye(t,e=!1,n=!0){va(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jye(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return va(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eve(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qf(t):t;return{pathname:n?n.startsWith("/")?n:tve(n,e):e,search:ive(r),hash:sve(i)}}function tve(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xk(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nve(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function QU(t){let e=nve(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ZU(t,e,n,r=!1){let i;typeof t=="string"?i=Qf(t):(i={...t},Jn(!i.pathname||!i.pathname.includes("?"),xk("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),xk("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),xk("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=eve(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Vu=t=>t.join("/").replace(/\/\/+/g,"/"),rve=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ive=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sve=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ove(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var JU=["POST","PUT","PATCH","DELETE"];new Set(JU);var ave=["GET",...JU];new Set(ave);var ly=z.createContext(null);ly.displayName="DataRouter";var jC=z.createContext(null);jC.displayName="DataRouterState";var e8=z.createContext({isTransitioning:!1});e8.displayName="ViewTransition";var lve=z.createContext(new Map);lve.displayName="Fetchers";var uve=z.createContext(null);uve.displayName="Await";var Ml=z.createContext(null);Ml.displayName="Navigation";var Xw=z.createContext(null);Xw.displayName="Location";var ic=z.createContext({outlet:null,matches:[],isDataRoute:!1});ic.displayName="Route";var PO=z.createContext(null);PO.displayName="RouteError";function cve(t,{relative:e}={}){Jn(Kw(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=z.useContext(Ml),{hash:i,pathname:s,search:o}=Qw(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Vu([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Kw(){return z.useContext(Xw)!=null}function Dd(){return Jn(Kw(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Xw).location}var t8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n8(t){z.useContext(Ml).static||z.useLayoutEffect(t)}function NO(){let{isDataRoute:t}=z.useContext(ic);return t?Eve():dve()}function dve(){Jn(Kw(),"useNavigate() may be used only in the context of a <Router> component.");let t=z.useContext(ly),{basename:e,navigator:n}=z.useContext(Ml),{matches:r}=z.useContext(ic),{pathname:i}=Dd(),s=JSON.stringify(QU(r)),o=z.useRef(!1);return n8(()=>{o.current=!0}),z.useCallback((l,u={})=>{if(va(o.current,t8),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=ZU(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Vu([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}z.createContext(null);function Qw(t,{relative:e}={}){let{matches:n}=z.useContext(ic),{pathname:r}=Dd(),i=JSON.stringify(QU(n));return z.useMemo(()=>ZU(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function hve(t,e){return r8(t,e)}function r8(t,e,n,r){var v;Jn(Kw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=z.useContext(Ml),{matches:s}=z.useContext(ic),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",c=o&&o.route;{let x=c&&c.path||"";i8(l,!c||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let d=Dd(),f;if(e){let x=typeof e=="string"?Qf(e):e;Jn(u==="/"||((v=x.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${x.pathname}" was given in the \`location\` prop.`),f=x}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let x=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=YU(t,{pathname:m});va(c||y!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),va(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=yve(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Vu([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Vu([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&b?z.createElement(Xw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function fve(){let t=xve(),e=ove(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:s},"ErrorBoundary")," or"," ",z.createElement("code",{style:s},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,o)}var pve=z.createElement(fve,null),gve=class extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?z.createElement(ic.Provider,{value:this.props.routeContext},z.createElement(PO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mve({routeContext:t,match:e,children:n}){let r=z.useContext(ly);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ic.Provider,{value:t},n)}function yve(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Jn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,p=null,m=null;n&&(d=s&&u.route.id?s[u.route.id]:void 0,p=u.route.errorElement||pve,o&&(a<0&&c===0?(i8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,m=null):a===c&&(f=!0,m=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),b=()=>{let v;return d?v=p:f?v=m:u.route.Component?v=z.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,z.createElement(mve,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?z.createElement(gve,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}function OO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vve(t){let e=z.useContext(ly);return Jn(e,OO(t)),e}function bve(t){let e=z.useContext(jC);return Jn(e,OO(t)),e}function wve(t){let e=z.useContext(ic);return Jn(e,OO(t)),e}function MO(t){let e=wve(t),n=e.matches[e.matches.length-1];return Jn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function _ve(){return MO("useRouteId")}function xve(){var r;let t=z.useContext(PO),e=bve("useRouteError"),n=MO("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Eve(){let{router:t}=vve("useNavigate"),e=MO("useNavigate"),n=z.useRef(!1);return n8(()=>{n.current=!0}),z.useCallback(async(i,s={})=>{va(n.current,t8),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var q4={};function i8(t,e,n){!e&&!q4[t]&&(q4[t]=!0,va(!1,n))}z.memo(Sve);function Sve({routes:t,future:e,state:n}){return r8(t,void 0,n,e)}function Dx(t){Jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cve({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Jn(!Kw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=z.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Qf(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,p=z.useMemo(()=>{let m=ec(l,o);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:f},navigationType:r}},[o,l,u,c,d,f,r]);return va(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:z.createElement(Ml.Provider,{value:a},z.createElement(Xw.Provider,{children:e,value:p}))}function Ave({children:t,location:e}){return hve(lP(t),e)}function lP(t,e=[]){let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let s=[...e,i];if(r.type===z.Fragment){n.push.apply(n,lP(r.props.children,s));return}Jn(r.type===Dx,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Jn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lP(r.props.children,s)),n.push(o)}),n}var Fx="get",zx="application/x-www-form-urlencoded";function BC(t){return t!=null&&typeof t.tagName=="string"}function Tve(t){return BC(t)&&t.tagName.toLowerCase()==="button"}function kve(t){return BC(t)&&t.tagName.toLowerCase()==="form"}function Rve(t){return BC(t)&&t.tagName.toLowerCase()==="input"}function Ive(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pve(t,e){return t.button===0&&(!e||e==="_self")&&!Ive(t)}var X_=null;function Nve(){if(X_===null)try{new FormData(document.createElement("form"),0),X_=!1}catch{X_=!0}return X_}var Ove=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ek(t){return t!=null&&!Ove.has(t)?(va(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zx}"`),null):t}function Mve(t,e){let n,r,i,s,o;if(kve(t)){let a=t.getAttribute("action");r=a?ec(a,e):null,n=t.getAttribute("method")||Fx,i=Ek(t.getAttribute("enctype"))||zx,s=new FormData(t)}else if(Tve(t)||Rve(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ec(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Fx,i=Ek(t.getAttribute("formenctype"))||Ek(a.getAttribute("enctype"))||zx,s=new FormData(a,t),!Nve()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(BC(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fx,r=null,i=zx,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function LO(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Lve(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dve(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Fve(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await Lve(s,n);return o.links?o.links():[]}return[]}));return $ve(r.flat(1).filter(Dve).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G4(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function zve(t,e,{includeHydrateFallback:n}={}){return jve(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function jve(t){return[...new Set(t)]}function Bve(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $ve(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(Bve(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vve=new Set([100,101,204,205]);function Hve(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ec(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function s8(){let t=z.useContext(ly);return LO(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Uve(){let t=z.useContext(jC);return LO(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var DO=z.createContext(void 0);DO.displayName="FrameworkContext";function o8(){let t=z.useContext(DO);return LO(t,"You must render this element inside a <HydratedRouter> element"),t}function Wve(t,e){let n=z.useContext(DO),[r,i]=z.useState(!1),[s,o]=z.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=z.useRef(null);z.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=v=>{v.forEach(x=>{o(x.isIntersecting)})},b=new IntersectionObserver(y,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),z.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:av(a,p),onBlur:av(l,m),onMouseEnter:av(u,p),onMouseLeave:av(c,m),onTouchStart:av(d,p)}]:[!1,f,{}]}function av(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qve({page:t,...e}){let{router:n}=s8(),r=z.useMemo(()=>YU(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?z.createElement(Yve,{page:t,matches:r,...e}):null}function Gve(t){let{manifest:e,routeModules:n}=o8(),[r,i]=z.useState([]);return z.useEffect(()=>{let s=!1;return Fve(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function Yve({page:t,matches:e,...n}){let r=Dd(),{manifest:i,routeModules:s}=o8(),{basename:o}=s8(),{loaderData:a,matches:l}=Uve(),u=z.useMemo(()=>G4(t,e,l,i,r,"data"),[t,e,l,i,r]),c=z.useMemo(()=>G4(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=z.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(v=>{var _;let x=i.routes[v.route.id];!x||!x.hasLoader||(!u.some(S=>S.route.id===v.route.id)&&v.route.id in a&&((_=s[v.route.id])!=null&&_.shouldRevalidate)||x.hasClientLoader?y=!0:m.add(v.route.id))}),m.size===0)return[];let b=Hve(t,o);return y&&m.size>0&&b.searchParams.set("_routes",e.filter(v=>m.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,u,e,t,s]),f=z.useMemo(()=>zve(c,i),[c,i]),p=Gve(c);return z.createElement(z.Fragment,null,d.map(m=>z.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),f.map(m=>z.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>z.createElement("link",{key:m,...y})))}function Xve(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a8&&(window.__reactRouterVersion="7.6.2")}catch{}function Kve({basename:t,children:e,window:n}){let r=z.useRef();r.current==null&&(r.current=Fye({window:n,v5Compat:!0}));let i=r.current,[s,o]=z.useState({action:i.action,location:i.location}),a=z.useCallback(l=>{z.startTransition(()=>o(l))},[o]);return z.useLayoutEffect(()=>i.listen(a),[i,a]),z.createElement(Cve,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var l8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u8=z.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},p){let{basename:m}=z.useContext(Ml),y=typeof u=="string"&&l8.test(u),b,v=!1;if(typeof u=="string"&&y&&(b=u,a8))try{let P=new URL(window.location.href),T=u.startsWith("//")?new URL(P.protocol+u):new URL(u),L=ec(T.pathname,m);T.origin===P.origin&&L!=null?u=L+T.search+T.hash:v=!0}catch{va(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=cve(u,{relative:i}),[_,S,k]=Wve(r,f),O=e0e(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function A(P){e&&e(P),P.defaultPrevented||O(P)}let R=z.createElement("a",{...f,...k,href:b||x,onClick:v||s?e:A,ref:Xve(p,S),target:l,"data-discover":!y&&n==="render"?"true":void 0});return _&&!y?z.createElement(z.Fragment,null,R,z.createElement(qve,{page:x})):R});u8.displayName="Link";var Qve=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=Qw(o,{relative:u.relative}),f=Dd(),p=z.useContext(jC),{navigator:m,basename:y}=z.useContext(Ml),b=p!=null&&s0e(d)&&a===!0,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,x=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(x=x.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&y&&(_=ec(_,y)||_);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=x===v||!i&&x.startsWith(v)&&x.charAt(S)==="/",O=_!=null&&(_===v||!i&&_.startsWith(v)&&_.charAt(v.length)==="/"),A={isActive:k,isPending:O,isTransitioning:b},R=k?e:void 0,P;typeof r=="function"?P=r(A):P=[r,k?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(A):s;return z.createElement(u8,{...u,"aria-current":R,className:P,ref:c,style:T,to:o,viewTransition:a},typeof l=="function"?l(A):l)});Qve.displayName="NavLink";var Zve=z.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Fx,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},p)=>{let m=r0e(),y=i0e(a,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&l8.test(a),x=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let S=_.nativeEvent.submitter,k=(S==null?void 0:S.getAttribute("formmethod"))||o;m(S||_.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d})};return z.createElement("form",{ref:p,method:b,action:y,onSubmit:r?l:x,...f,"data-discover":!v&&t==="render"?"true":void 0})});Zve.displayName="Form";function Jve(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c8(t){let e=z.useContext(ly);return Jn(e,Jve(t)),e}function e0e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=NO(),l=Dd(),u=Qw(t,{relative:s});return z.useCallback(c=>{if(Pve(c,e)){c.preventDefault();let d=n!==void 0?n:V0(l)===V0(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var t0e=0,n0e=()=>`__${String(++t0e)}__`;function r0e(){let{router:t}=c8("useSubmit"),{basename:e}=z.useContext(Ml),n=_ve();return z.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=Mve(r,e);if(i.navigate===!1){let c=i.fetcherKey||n0e();await t.fetch(c,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function i0e(t,{relative:e}={}){let{basename:n}=z.useContext(Ml),r=z.useContext(ic);Jn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Qw(t||".",{relative:e})},o=Dd();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Vu([n,s.pathname])),V0(s)}function s0e(t,e={}){let n=z.useContext(e8);Jn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c8("useViewTransitionState"),i=Qw(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ec(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ec(n.nextLocation.pathname,r)||n.nextLocation.pathname;return JE(i.pathname,o)!=null||JE(i.pathname,s)!=null}[...Vve];function o0e({onAnalyticsClick:t,onTimelineClick:e}){var y,b,v;const{paperUrl:n,readRecords:r,currentReadId:i,setCurrentReadId:s,setIsAddingNewRead:o,displayedReads:a,hideRead:l,showRead:u}=ko(),c=NO(),d=z.useContext(Mw);if(!d)throw new Error("TourContext not found");const{setRunTour:f}=d,p=()=>{if(!n){alert("Please upload a paper first");return}o(!0)},m=()=>{f(!0)};return j.jsxs("div",{className:"NavBar",children:[j.jsxs("div",{className:"logo-text",children:[j.jsx("img",{src:GU,height:40,alt:"re:ad",style:{cursor:"pointer"},onClick:()=>{c("/papers")}}),j.jsx(xh,{sx:{ml:3},className:"mui-button",size:"small",onClick:m,children:j.jsx(Mye,{})})]}),j.jsxs(Et,{className:"highlights",sx:{mx:2},children:[Object.values(r).length>0&&Object.values(r).map(x=>j.jsx(Et,{className:"read",sx:{borderBottom:i===x.id?`2px solid ${x.color}`:"none"},children:j.jsx(eP,{control:j.jsx(ZI,{onChange:()=>{a.includes(x.id)?l(x.id):u(x.id)},sx:{color:x.color,"&.Mui-checked":{color:x.color}},checked:a.includes(x.id),disabled:i===x.id}),label:x.title})},x.id)),Object.values(r).length>0?j.jsx(xh,{onClick:p,children:j.jsx(oP,{})}):j.jsx(Ln,{className:"mui-button add-new-read-btn",size:"small",variant:"text",startIcon:j.jsx(oP,{}),onClick:p,children:j.jsx("span",{style:{lineHeight:0},children:"new read"})})]}),j.jsxs(Et,{className:"active-read",sx:{mx:3,display:"flex",flexDirection:"row",alignItems:"center",gap:1},children:[j.jsx("h4",{children:"active read:"}),Object.values(r).length>0?j.jsx("div",{children:j.jsx(FU,{size:"small",fullWidth:!0,children:j.jsx(IO,{value:i,onChange:x=>s(x.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:(y=r[i])==null?void 0:y.color},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:(b=r[i])==null?void 0:b.color},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:(v=r[i])==null?void 0:v.color}},children:Object.values(r).map(x=>j.jsx(nP,{value:x.id,children:x.title},x.id))})})}):j.jsx("div",{children:j.jsx("p",{children:"none"})})]}),j.jsxs(Et,{sx:{mx:2,display:"flex",gap:1},children:[j.jsx(sP,{title:"Reading Analytics",children:j.jsx(xh,{onClick:t,children:j.jsx(yye,{})})}),j.jsx(sP,{title:"Highlight Timeline",children:j.jsx(xh,{onClick:e,children:j.jsx(Oye,{})})})]})]})}const a0e="modulepreload",l0e=function(t){return"/"+t},Y4={},Ov=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(u=>{if(u=l0e(u),u in Y4)return;Y4[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":a0e,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Sk,X4;function u0e(){if(X4)return Sk;X4=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,l=typeof fd=="object"&&fd&&fd.Object===Object&&fd,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,f=d.toString,p=Math.max,m=Math.min,y=function(){return c.Date.now()};function b(k,O,A){var R,P,T,L,M,D,N=0,U=!1,K=!1,G=!0;if(typeof k!="function")throw new TypeError(t);O=S(O)||0,v(A)&&(U=!!A.leading,K="maxWait"in A,T=K?p(S(A.maxWait)||0,O):T,G="trailing"in A?!!A.trailing:G);function Z(de){var oe=R,ce=P;return R=P=void 0,N=de,L=k.apply(ce,oe),L}function X(de){return N=de,M=setTimeout(Q,O),U?Z(de):L}function W(de){var oe=de-D,ce=de-N,ge=O-oe;return K?m(ge,T-ce):ge}function q(de){var oe=de-D,ce=de-N;return D===void 0||oe>=O||oe<0||K&&ce>=T}function Q(){var de=y();if(q(de))return H(de);M=setTimeout(Q,W(de))}function H(de){return M=void 0,G&&R?Z(de):(R=P=void 0,L)}function re(){M!==void 0&&clearTimeout(M),N=0,R=D=P=M=void 0}function te(){return M===void 0?L:H(y())}function he(){var de=y(),oe=q(de);if(R=arguments,P=this,D=de,oe){if(M===void 0)return X(D);if(K)return M=setTimeout(Q,O),Z(D)}return M===void 0&&(M=setTimeout(Q,O)),L}return he.cancel=re,he.flush=te,he}function v(k){var O=typeof k;return!!k&&(O=="object"||O=="function")}function x(k){return!!k&&typeof k=="object"}function _(k){return typeof k=="symbol"||x(k)&&f.call(k)==n}function S(k){if(typeof k=="number")return k;if(_(k))return e;if(v(k)){var O=typeof k.valueOf=="function"?k.valueOf():k;k=v(O)?O+"":O}if(typeof k!="string")return k===0?k:+k;k=k.replace(r,"");var A=s.test(k);return A||o.test(k)?a(k.slice(2),A?2:8):i.test(k)?e:+k}return Sk=b,Sk}var c0e=u0e();const d0e=Es(c0e),uP=z.createContext(void 0),d8=()=>{const t=z.useContext(uP);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},h8=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),f8=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,s=o=>h8(o,i);return{boundingRect:s(t),rects:(e||[]).map(s)}},h0e=(t,e)=>{const[n,r,i,s]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(r-s),pageNumber:t.pageNumber}},p8=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return h0e(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const s=r*t.x1/t.width,o=i*t.y1/t.height,a=r*t.x2/t.width,l=i*t.y2/t.height;return{left:s,top:o,width:a-s,height:l-o,pageNumber:t.pageNumber}},f0e=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,s=r.getPageView(i-1).viewport,o=a=>p8(a,s,n);return{boundingRect:o(t),rects:(e||[]).map(o)}},p0e=t=>{const e=Array.from(t).map(c=>{const{left:d,top:f,width:p,height:m,pageNumber:y}=c,b=d,v=d+p,x=f,_=f+m;return{X0:b,X1:v,Y0:x,Y1:_,pageNumber:y}});let n=Number.MAX_SAFE_INTEGER;e.forEach(c=>{n=Math.min(n,c.pageNumber??n)});const r=e.filter(c=>(c.X0>0||c.X1>0||c.Y0>0||c.Y1>0)&&c.pageNumber===n),i=r.reduce((c,d)=>({X0:Math.min(c.X0,d.X0),X1:Math.max(c.X1,d.X1),Y0:Math.min(c.Y0,d.Y0),Y1:Math.max(c.Y1,d.Y1),pageNumber:n}),r[0]),{X0:s,X1:o,Y0:a,Y1:l,pageNumber:u}=i;return{left:s,top:a,width:o-s,height:l-a,pageNumber:u}},g0e=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),m0e=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,y0e=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,v0e=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,b0e=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},K4=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},w0e=t=>{const e=g0e(t),n=new Set,r=e.filter(s=>e.every(o=>!v0e(s,o)));let i=0;for(;i<=2;)r.forEach(s=>{r.forEach(o=>{s===o||n.has(s)||n.has(o)||y0e(s,o)&&(m0e(s,o)&&(K4(s,o),s.height=Math.max(s.height,o.height),n.add(o)),b0e(s,o)&&(K4(s,o),n.add(o)))})}),i+=1;return r.filter(s=>!n.has(s))},_0e=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),x0e=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const s of r)for(const o of e){const a=o.node.getBoundingClientRect();if(_0e(s,a)&&s.width>0&&s.height>0&&s.width<a.width&&s.left>a.left&&s.height<a.height){const l={top:s.top+o.node.scrollTop-a.top,left:s.left+o.node.scrollLeft-a.left,width:s.width,height:s.height,pageNumber:o.number};i.push(l)}}return n?w0e(i):i},E0e=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const s={...n,position:{...n.position,rects:n.position.rects.filter(o=>i===o.pageNumber)}};e[i].push(s)}),e),{}),g8=t=>(t||{}).ownerDocument||document,eS=t=>(g8(t)||{}).defaultView||window,H0=t=>t instanceof HTMLElement||t instanceof eS(t).HTMLElement,S0e=t=>t instanceof HTMLCanvasElement||t instanceof eS(t).HTMLCanvasElement,fl=t=>t,l0=t=>{const e=fl(t.closest(".page"));if(!e||!H0(e))return null;const n=Number(fl(e).dataset.pageNumber);return{node:e,number:n}},C0e=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!H0(e)||!H0(n))return[];const r=l0(fl(e)),i=l0(fl(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const s=[];let o=r.number;const a=r.node.ownerDocument;for(;o<=i.number;){const l=l0(a.querySelector(`[data-page-number='${o}'`));l&&s.push(l),o++}return s},A0e=(t,e)=>{const n=g8(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},m8=z.createContext(void 0),T0e=()=>{const t=z.useContext(m8);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},k0e=(t,e)=>{const{left:n,top:r,width:i,height:s}=e,o=t?t.ownerDocument:null,a=o&&o.createElement("canvas");if(!a||!S0e(a))return"";a.width=i,a.height=s;const l=a.getContext("2d");if(!l||!t)return"";const u=window.devicePixelRatio;return l.drawImage(t,n*u,r*u,i*u,s*u,0,0,i,s),a.toDataURL("image/png")},y8=(t,e,n)=>k0e(n.getPageView(e-1).canvas,t),R0e="empty-id",I0e=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:s})=>{const o=t[e]||[];return Xe.createElement("div",null,o.map((a,l)=>{const u={...a,id:"id"in a?a.id:R0e,position:f0e(a.position,r)},c=n===u.id,d={highlight:u,viewportToScaled:f=>{const p=r.getPageView((f.pageNumber||e)-1).viewport;return h8(f,p)},screenshot:f=>y8(f,e,r),isScrolledTo:c,highlightBindings:i};return Xe.createElement(m8.Provider,{value:d,key:l},s)}))},Q4=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),Z4=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},P0e=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:s,style:o})=>{const[a,l]=z.useState(null),[u,c]=z.useState(null),[d,f]=z.useState(!1),p=z.useRef(null),m=z.useRef(null),y=()=>{n&&n(),l(null),c(null),f(!1)};return z.useEffect(()=>{if(s&&s(!!(a&&u)),!p.current)return;const b=fl(p.current.parentElement),v=S=>{if(!a||!u||!m.current)return;const k=Q4(a,u),O=k.width>=1&&k.height>=1;if(!b.contains(fl(S.target))||!O){y();return}f(!0);const A=l0(m.current);if(!A)return;const R={...k,top:k.top-A.node.offsetTop,left:k.left-A.node.offsetLeft,pageNumber:A.number},P={boundingRect:R,rects:[]},T=f8(P,t),L=y8(R,R.pageNumber,t);e&&e(P,T,L,y,S)},x=S=>{!p.current||!a||d||c(Z4(b,S.pageX,S.pageY))},_=S=>{const k=A=>i(A)&&H0(A.target)&&!!fl(A.target).closest(".page"),O=A=>a&&!fl(A.target).closest(".PdfHighlighter__tip-container");if(!k(S)){O(S)&&y();return}m.current=fl(S.target),r&&r(S),l(Z4(b,S.pageX,S.pageY)),c(null),f(!1)};return b.addEventListener("mousemove",x),b.addEventListener("mousedown",_),document.addEventListener("mouseup",v),()=>{b.removeEventListener("mousemove",x),b.removeEventListener("mousedown",_),document.removeEventListener("mouseup",v)}},[a,u]),Xe.createElement("div",{className:"MouseSelection-container",ref:p},a&&u&&Xe.createElement("div",{className:"MouseSelection",style:{...Q4(a,u),...o}}))},N0e=(t,e,n)=>Math.min(Math.max(t,e),n),Ck=5,O0e=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=z.useState(0),[i,s]=z.useState(0),o=z.useRef(null),a=()=>{if(!o.current)return;const{offsetHeight:P,offsetWidth:T}=o.current;r(P),s(T)};e.current=a,z.useLayoutEffect(()=>{a()},[a]);const{getTip:l}=d8(),u=l();if(!u)return null;const{position:c,content:d}=u,{boundingRect:f}=c,p=f.pageNumber,m=t.getPageView(p-1).div,y=m.getBoundingClientRect(),{left:b,width:v}=y,x=t.container.scrollTop,_=m.offsetLeft+f.left+f.width/2,S=f.top+m.offsetTop,k=S+f.height,A=S-n-Ck<x?k+Ck:S-n-Ck,R=N0e(_-i/2,0,b+v-i);return Xe.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:A,left:R,height:"max-content",width:"max-content"},ref:o},d)};let v8,b8,w8;(async()=>{const t=await Ov(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);v8=t.EventBus,b8=t.PDFLinkService,w8=t.PDFViewer})();const M0e=10,L0e="auto",D0e="rgba(153,193,218,255)",F0e=t=>A0e(t,"PdfHighlighter__highlight-layer"),J4=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},z0e=({highlights:t,onScrollAway:e,pdfScaleValue:n=L0e,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:s,selectionTip:o,enableAreaSelection:a,mouseSelectionStyle:l,pdfDocument:u,children:c,textSelectionColor:d=D0e,utilsRef:f,style:p})=>{const[m,y]=z.useState(null),[b,v]=z.useState(!1),x=z.useRef(null),_=z.useRef({}),S=z.useRef(null),k=z.useRef(null),O=z.useRef(null),A=z.useRef(!1),R=z.useRef(!1),P=z.useRef(()=>{}),T=z.useRef(new v8),L=z.useRef(new b8({eventBus:T.current,externalLinkTarget:2})),M=z.useRef(null),D=z.useRef(null);z.useLayoutEffect(()=>{if(!x.current)return;const de=d0e(()=>{D.current=D.current||new w8({container:x.current,eventBus:T.current,textLayerMode:2,removePageBorders:!0,linkService:L.current}),D.current.setDocument(u),L.current.setDocument(u),L.current.setViewer(D.current),v(!0)},100);return de(),()=>{de.cancel()}},[document]),z.useLayoutEffect(()=>{if(!x.current)return;M.current=new ResizeObserver(Z),M.current.observe(x.current);const de=x.current.ownerDocument;return T.current.on("textlayerrendered",W),T.current.on("pagesinit",Z),de.addEventListener("keydown",G),W(),()=>{var oe;T.current.off("pagesinit",Z),T.current.off("textlayerrendered",W),de.removeEventListener("keydown",G),(oe=M.current)==null||oe.disconnect()}},[o,t,r]);const N=()=>{e&&e(),O.current=null,W()},U=()=>{const de=x.current,oe=eS(de).getSelection();if(!de||!oe||oe.isCollapsed||!D.current)return;const ce=oe.rangeCount>0?oe.getRangeAt(0):null;if(!ce||!de.contains(ce.commonAncestorContainer))return;const ge=C0e(ce);if(!ge||ge.length===0)return;const xe=x0e(ce,ge);if(xe.length===0)return;const Ee={boundingRect:p0e(xe),rects:xe},Pe=f8(Ee,D.current),V={text:oe.toString().split(`
`).join(" ")};k.current={content:V,type:"text",position:Pe,makeGhostHighlight:()=>(S.current={content:V,type:"text",position:Pe},i&&i(S.current),re(),W(),S.current)},r&&r(k.current),o&&y({position:Ee,content:o})},K=de=>{!H0(de.target)||fl(de.target).closest(".PdfHighlighter__tip-container")||(y(null),re(),H(),Q(!1))},G=de=>{de.code==="Escape"&&(re(),H(),y(null))},Z=()=>{D.current&&(D.current.currentScaleValue=n.toString())},X=(de,oe)=>{D.current&&de.reactRoot.render(Xe.createElement(uP.Provider,{value:he},Xe.createElement(I0e,{highlightsByPage:E0e([...t,S.current]),pageNumber:oe,scrolledToHighlightId:O.current,viewer:D.current,highlightBindings:de,children:c})))},W=()=>{var de;if(D.current)for(let oe=1;oe<=u.numPages;oe++){const ce=_.current[oe];if((de=ce==null?void 0:ce.container)!=null&&de.isConnected)X(ce,oe);else{const{textLayer:ge}=D.current.getPageView(oe-1)||{};if(!ge)continue;const xe=F0e(ge.div);if(xe){const Ee=_B.createRoot(xe);_.current[oe]={reactRoot:Ee,container:xe,textLayer:ge.div},X(_.current[oe],oe)}}}},q=()=>!!k.current||!!S.current||A.current||R.current,Q=de=>{var oe;de!==void 0?R.current=de:R.current=!R.current,D.current&&((oe=D.current.viewer)==null||oe.classList.toggle("PdfHighlighter--disable-selection",R.current))},H=()=>{s&&S.current&&s(S.current),S.current=null,W()},re=()=>{k.current=null;const de=x.current,oe=eS(de).getSelection();!de||!oe||oe.removeAllRanges()},he={isEditingOrHighlighting:q,getCurrentSelection:()=>k.current,getGhostHighlight:()=>S.current,removeGhostHighlight:H,toggleEditInProgress:Q,isEditInProgress:()=>R.current,isSelectionInProgress:()=>!!k.current||A.current,scrollToHighlight:de=>{const{boundingRect:oe,usePdfCoordinates:ce}=de.position,ge=oe.pageNumber;D.current.container.removeEventListener("scroll",N);const xe=D.current.getPageView(ge-1).viewport;D.current.scrollPageIntoView({pageNumber:ge,destArray:[null,{name:"XYZ"},...xe.convertToPdfPoint(0,p8(oe,xe,ce).top-M0e),0]}),O.current=de.id,W(),setTimeout(()=>{D.current.container.addEventListener("scroll",N,{once:!0})},100)},getViewer:()=>D.current,getTip:()=>m,setTip:y,updateTipPosition:P.current};return f(he),Xe.createElement(uP.Provider,{value:he},Xe.createElement("div",{ref:x,className:"PdfHighlighter",onPointerDown:K,onPointerUp:U,style:p},Xe.createElement("div",{className:"pdfViewer"}),Xe.createElement("style",null,`
          .textLayer ::selection {
            background: ${d};
          }
        `),b&&Xe.createElement(O0e,{viewer:D.current,updateTipPositionRef:P}),b&&a&&Xe.createElement(P0e,{viewer:D.current,onChange:de=>A.current=de,enableAreaSelection:a,style:l,onDragStart:()=>J4(D.current,!0),onReset:()=>{k.current=null,J4(D.current,!1)},onSelection:(de,oe,ce,ge)=>{k.current={content:{image:ce},type:"area",position:oe,makeGhostHighlight:()=>(S.current={position:oe,type:"area",content:{image:ce}},i&&i(S.current),ge(),W(),S.current)},r&&r(k.current),o&&y({position:de,content:o})}})))},j0e=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:s,style:o})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:l}=t.position;return Xe.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:s},Xe.createElement("div",{className:"TextHighlight__parts"},l.map((u,c)=>Xe.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:c,style:{...u,...o},className:"TextHighlight__part"}))))};var lv={exports:{}},Ak={};function _8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=_8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ez(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=_8(t))&&(r&&(r+=" "),r+=e);return r}const B0e=Object.freeze(Object.defineProperty({__proto__:null,clsx:ez,default:ez},Symbol.toStringTag,{value:"Module"})),$0e=uY(B0e);var ur={},Lc={},tz;function $C(){if(tz)return Lc;tz=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.dontSetMe=i,Lc.findInArray=t,Lc.int=r,Lc.isFunction=e,Lc.isNum=n;function t(s,o){for(let a=0,l=s.length;a<l;a++)if(o.apply(o,[s[a],a,s]))return s[a]}function e(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function n(s){return typeof s=="number"&&!isNaN(s)}function r(s){return parseInt(s,10)}function i(s,o,a){if(s[o])return new Error("Invalid prop ".concat(o," passed to ").concat(a," - do not set this, set it on the child."))}return Lc}var Dc={},nz;function V0e(){if(nz)return Dc;nz=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.browserPrefixToKey=n,Dc.browserPrefixToStyle=r,Dc.default=void 0,Dc.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(s=window.document)===null||s===void 0||(s=s.documentElement)===null||s===void 0?void 0:s.style;if(!a||o in a)return"";for(let l=0;l<t.length;l++)if(n(o,t[l])in a)return t[l];return""}function n(s,o){return o?"".concat(o).concat(i(s)):s}function r(s,o){return o?"-".concat(o.toLowerCase(),"-").concat(s):s}function i(s){let o="",a=!0;for(let l=0;l<s.length;l++)a?(o+=s[l].toUpperCase(),a=!1):s[l]==="-"?a=!0:o+=s[l];return o}return Dc.default=e(),Dc}var rz;function FO(){if(rz)return ur;rz=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.addClassName=k,ur.addEvent=a,ur.addUserSelectStyles=_,ur.createCSSTransform=m,ur.createSVGTransform=y,ur.getTouch=v,ur.getTouchIdentifier=x,ur.getTranslation=b,ur.innerHeight=d,ur.innerWidth=f,ur.matchesSelector=s,ur.matchesSelectorAndParentsTo=o,ur.offsetXYFromParent=p,ur.outerHeight=u,ur.outerWidth=c,ur.removeClassName=O,ur.removeEvent=l,ur.removeUserSelectStyles=S;var t=$C(),e=r(V0e());function n(A){if(typeof WeakMap!="function")return null;var R=new WeakMap,P=new WeakMap;return(n=function(T){return T?P:R})(A)}function r(A,R){if(A&&A.__esModule)return A;if(A===null||typeof A!="object"&&typeof A!="function")return{default:A};var P=n(R);if(P&&P.has(A))return P.get(A);var T={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in A)if(M!=="default"&&Object.prototype.hasOwnProperty.call(A,M)){var D=L?Object.getOwnPropertyDescriptor(A,M):null;D&&(D.get||D.set)?Object.defineProperty(T,M,D):T[M]=A[M]}return T.default=A,P&&P.set(A,T),T}let i="";function s(A,R){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(P){return(0,t.isFunction)(A[P])})),(0,t.isFunction)(A[i])?A[i](R):!1}function o(A,R,P){let T=A;do{if(s(T,R))return!0;if(T===P)return!1;T=T.parentNode}while(T);return!1}function a(A,R,P,T){if(!A)return;const L={capture:!0,...T};A.addEventListener?A.addEventListener(R,P,L):A.attachEvent?A.attachEvent("on"+R,P):A["on"+R]=P}function l(A,R,P,T){if(!A)return;const L={capture:!0,...T};A.removeEventListener?A.removeEventListener(R,P,L):A.detachEvent?A.detachEvent("on"+R,P):A["on"+R]=null}function u(A){let R=A.clientHeight;const P=A.ownerDocument.defaultView.getComputedStyle(A);return R+=(0,t.int)(P.borderTopWidth),R+=(0,t.int)(P.borderBottomWidth),R}function c(A){let R=A.clientWidth;const P=A.ownerDocument.defaultView.getComputedStyle(A);return R+=(0,t.int)(P.borderLeftWidth),R+=(0,t.int)(P.borderRightWidth),R}function d(A){let R=A.clientHeight;const P=A.ownerDocument.defaultView.getComputedStyle(A);return R-=(0,t.int)(P.paddingTop),R-=(0,t.int)(P.paddingBottom),R}function f(A){let R=A.clientWidth;const P=A.ownerDocument.defaultView.getComputedStyle(A);return R-=(0,t.int)(P.paddingLeft),R-=(0,t.int)(P.paddingRight),R}function p(A,R,P){const L=R===R.ownerDocument.body?{left:0,top:0}:R.getBoundingClientRect(),M=(A.clientX+R.scrollLeft-L.left)/P,D=(A.clientY+R.scrollTop-L.top)/P;return{x:M,y:D}}function m(A,R){const P=b(A,R,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:P}}function y(A,R){return b(A,R,"")}function b(A,R,P){let{x:T,y:L}=A,M="translate(".concat(T).concat(P,",").concat(L).concat(P,")");if(R){const D="".concat(typeof R.x=="string"?R.x:R.x+P),N="".concat(typeof R.y=="string"?R.y:R.y+P);M="translate(".concat(D,", ").concat(N,")")+M}return M}function v(A,R){return A.targetTouches&&(0,t.findInArray)(A.targetTouches,P=>R===P.identifier)||A.changedTouches&&(0,t.findInArray)(A.changedTouches,P=>R===P.identifier)}function x(A){if(A.targetTouches&&A.targetTouches[0])return A.targetTouches[0].identifier;if(A.changedTouches&&A.changedTouches[0])return A.changedTouches[0].identifier}function _(A){if(!A)return;let R=A.getElementById("react-draggable-style-el");R||(R=A.createElement("style"),R.type="text/css",R.id="react-draggable-style-el",R.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,R.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,A.getElementsByTagName("head")[0].appendChild(R)),A.body&&k(A.body,"react-draggable-transparent-selection")}function S(A){if(A)try{if(A.body&&O(A.body,"react-draggable-transparent-selection"),A.selection)A.selection.empty();else{const R=(A.defaultView||window).getSelection();R&&R.type!=="Caret"&&R.removeAllRanges()}}catch{}}function k(A,R){A.classList?A.classList.add(R):A.className.match(new RegExp("(?:^|\\s)".concat(R,"(?!\\S)")))||(A.className+=" ".concat(R))}function O(A,R){A.classList?A.classList.remove(R):A.className=A.className.replace(new RegExp("(?:^|\\s)".concat(R,"(?!\\S)"),"g"),"")}return ur}var $a={},iz;function x8(){if(iz)return $a;iz=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.canDragX=i,$a.canDragY=s,$a.createCoreData=a,$a.createDraggableData=l,$a.getBoundPosition=n,$a.getControlPosition=o,$a.snapToGrid=r;var t=$C(),e=FO();function n(d,f,p){if(!d.props.bounds)return[f,p];let{bounds:m}=d.props;m=typeof m=="string"?m:u(m);const y=c(d);if(typeof m=="string"){const{ownerDocument:b}=y,v=b.defaultView;let x;if(m==="parent"?x=y.parentNode:x=b.querySelector(m),!(x instanceof v.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const _=x,S=v.getComputedStyle(y),k=v.getComputedStyle(_);m={left:-y.offsetLeft+(0,t.int)(k.paddingLeft)+(0,t.int)(S.marginLeft),top:-y.offsetTop+(0,t.int)(k.paddingTop)+(0,t.int)(S.marginTop),right:(0,e.innerWidth)(_)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(k.paddingRight)-(0,t.int)(S.marginRight),bottom:(0,e.innerHeight)(_)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(k.paddingBottom)-(0,t.int)(S.marginBottom)}}return(0,t.isNum)(m.right)&&(f=Math.min(f,m.right)),(0,t.isNum)(m.bottom)&&(p=Math.min(p,m.bottom)),(0,t.isNum)(m.left)&&(f=Math.max(f,m.left)),(0,t.isNum)(m.top)&&(p=Math.max(p,m.top)),[f,p]}function r(d,f,p){const m=Math.round(f/d[0])*d[0],y=Math.round(p/d[1])*d[1];return[m,y]}function i(d){return d.props.axis==="both"||d.props.axis==="x"}function s(d){return d.props.axis==="both"||d.props.axis==="y"}function o(d,f,p){const m=typeof f=="number"?(0,e.getTouch)(d,f):null;if(typeof f=="number"&&!m)return null;const y=c(p),b=p.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(m||d,b,p.props.scale)}function a(d,f,p){const m=!(0,t.isNum)(d.lastX),y=c(d);return m?{node:y,deltaX:0,deltaY:0,lastX:f,lastY:p,x:f,y:p}:{node:y,deltaX:f-d.lastX,deltaY:p-d.lastY,lastX:d.lastX,lastY:d.lastY,x:f,y:p}}function l(d,f){const p=d.props.scale;return{node:f.node,x:d.state.x+f.deltaX/p,y:d.state.y+f.deltaY/p,deltaX:f.deltaX/p,deltaY:f.deltaY/p,lastX:d.state.x,lastY:d.state.y}}function u(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function c(d){const f=d.findDOMNode();if(!f)throw new Error("<DraggableCore>: Unmounted during event!");return f}return $a}var uv={},K_={},sz;function E8(){if(sz)return K_;sz=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.default=t;function t(){}return K_}var oz;function H0e(){if(oz)return uv;oz=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.default=void 0;var t=u(Vf()),e=a(iO()),n=a(FS()),r=FO(),i=x8(),s=$C(),o=a(E8());function a(b){return b&&b.__esModule?b:{default:b}}function l(b){if(typeof WeakMap!="function")return null;var v=new WeakMap,x=new WeakMap;return(l=function(_){return _?x:v})(b)}function u(b,v){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var x=l(v);if(x&&x.has(b))return x.get(b);var _={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in b)if(k!=="default"&&Object.prototype.hasOwnProperty.call(b,k)){var O=S?Object.getOwnPropertyDescriptor(b,k):null;O&&(O.get||O.set)?Object.defineProperty(_,k,O):_[k]=b[k]}return _.default=b,x&&x.set(b,_),_}function c(b,v,x){return v=d(v),v in b?Object.defineProperty(b,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[v]=x,b}function d(b){var v=f(b,"string");return typeof v=="symbol"?v:String(v)}function f(b,v){if(typeof b!="object"||b===null)return b;var x=b[Symbol.toPrimitive];if(x!==void 0){var _=x.call(b,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(b)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,y=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const x=this.findDOMNode();if(!x||!x.ownerDocument||!x.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:_}=x;if(this.props.disabled||!(v.target instanceof _.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(v.target,this.props.handle,x)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(v.target,this.props.cancel,x))return;v.type==="touchstart"&&v.preventDefault();const S=(0,r.getTouchIdentifier)(v);this.touchIdentifier=S;const k=(0,i.getControlPosition)(v,S,this);if(k==null)return;const{x:O,y:A}=k,R=(0,i.createCoreData)(this,O,A);(0,o.default)("DraggableCore: handleDragStart: %j",R),(0,o.default)("calling",this.props.onStart),!(this.props.onStart(v,R)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(_),this.dragging=!0,this.lastX=O,this.lastY=A,(0,r.addEvent)(_,m.move,this.handleDrag),(0,r.addEvent)(_,m.stop,this.handleDragStop))}),c(this,"handleDrag",v=>{const x=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(x==null)return;let{x:_,y:S}=x;if(Array.isArray(this.props.grid)){let A=_-this.lastX,R=S-this.lastY;if([A,R]=(0,i.snapToGrid)(this.props.grid,A,R),!A&&!R)return;_=this.lastX+A,S=this.lastY+R}const k=(0,i.createCoreData)(this,_,S);if((0,o.default)("DraggableCore: handleDrag: %j",k),this.props.onDrag(v,k)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const R=document.createEvent("MouseEvents");R.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(R)}return}this.lastX=_,this.lastY=S}),c(this,"handleDragStop",v=>{if(!this.dragging)return;const x=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(x==null)return;let{x:_,y:S}=x;if(Array.isArray(this.props.grid)){let R=_-this.lastX||0,P=S-this.lastY||0;[R,P]=(0,i.snapToGrid)(this.props.grid,R,P),_=this.lastX+R,S=this.lastY+P}const k=(0,i.createCoreData)(this,_,S);if(this.props.onStop(v,k)===!1||this.mounted===!1)return!1;const A=this.findDOMNode();A&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(A.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",k),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,A&&((0,o.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(A.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(A.ownerDocument,m.stop,this.handleDragStop))}),c(this,"onMouseDown",v=>(m=p.mouse,this.handleDragStart(v))),c(this,"onMouseUp",v=>(m=p.mouse,this.handleDragStop(v))),c(this,"onTouchStart",v=>(m=p.touch,this.handleDragStart(v))),c(this,"onTouchEnd",v=>(m=p.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,r.addEvent)(v,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:x}=v;(0,r.removeEvent)(x,p.mouse.move,this.handleDrag),(0,r.removeEvent)(x,p.touch.move,this.handleDrag),(0,r.removeEvent)(x,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(x,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(v,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(x)}}findDOMNode(){var v,x;return(v=this.props)!==null&&v!==void 0&&v.nodeRef?(x=this.props)===null||x===void 0||(x=x.nodeRef)===null||x===void 0?void 0:x.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return uv.default=y,c(y,"displayName","DraggableCore"),c(y,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(b,v){if(b[v]&&b[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),c(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),uv}var az;function U0e(){return az||(az=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=f(Vf()),n=c(iO()),r=c(FS()),i=c($0e),s=FO(),o=x8(),a=$C(),l=c(H0e()),u=c(E8());function c(x){return x&&x.__esModule?x:{default:x}}function d(x){if(typeof WeakMap!="function")return null;var _=new WeakMap,S=new WeakMap;return(d=function(k){return k?S:_})(x)}function f(x,_){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var S=d(_);if(S&&S.has(x))return S.get(x);var k={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in x)if(A!=="default"&&Object.prototype.hasOwnProperty.call(x,A)){var R=O?Object.getOwnPropertyDescriptor(x,A):null;R&&(R.get||R.set)?Object.defineProperty(k,A,R):k[A]=x[A]}return k.default=x,S&&S.set(x,k),k}function p(){return p=Object.assign?Object.assign.bind():function(x){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(x[k]=S[k])}return x},p.apply(this,arguments)}function m(x,_,S){return _=y(_),_ in x?Object.defineProperty(x,_,{value:S,enumerable:!0,configurable:!0,writable:!0}):x[_]=S,x}function y(x){var _=b(x,"string");return typeof _=="symbol"?_:String(_)}function b(x,_){if(typeof x!="object"||x===null)return x;var S=x[Symbol.toPrimitive];if(S!==void 0){var k=S.call(x,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(x)}class v extends e.Component{static getDerivedStateFromProps(_,S){let{position:k}=_,{prevPropsPosition:O}=S;return k&&(!O||k.x!==O.x||k.y!==O.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:k,prevPropsPosition:O}),{x:k.x,y:k.y,prevPropsPosition:{...k}}):null}constructor(_){super(_),m(this,"onDragStart",(S,k)=>{if((0,u.default)("Draggable: onDragStart: %j",k),this.props.onStart(S,(0,o.createDraggableData)(this,k))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(S,k)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",k);const O=(0,o.createDraggableData)(this,k),A={x:O.x,y:O.y,slackX:0,slackY:0};if(this.props.bounds){const{x:P,y:T}=A;A.x+=this.state.slackX,A.y+=this.state.slackY;const[L,M]=(0,o.getBoundPosition)(this,A.x,A.y);A.x=L,A.y=M,A.slackX=this.state.slackX+(P-A.x),A.slackY=this.state.slackY+(T-A.y),O.x=A.x,O.y=A.y,O.deltaX=A.x-this.state.x,O.deltaY=A.y-this.state.y}if(this.props.onDrag(S,O)===!1)return!1;this.setState(A)}),m(this,"onDragStop",(S,k)=>{if(!this.state.dragging||this.props.onStop(S,(0,o.createDraggableData)(this,k))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",k);const A={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:P,y:T}=this.props.position;A.x=P,A.y=T}this.setState(A)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,S;return(_=(S=this.props)===null||S===void 0||(S=S.nodeRef)===null||S===void 0?void 0:S.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:S,children:k,defaultPosition:O,defaultClassName:A,defaultClassNameDragging:R,defaultClassNameDragged:P,position:T,positionOffset:L,scale:M,...D}=this.props;let N={},U=null;const G=!!!T||this.state.dragging,Z=T||O,X={x:(0,o.canDragX)(this)&&G?this.state.x:Z.x,y:(0,o.canDragY)(this)&&G?this.state.y:Z.y};this.state.isElementSVG?U=(0,s.createSVGTransform)(X,L):N=(0,s.createCSSTransform)(X,L);const W=(0,i.default)(k.props.className||"",A,{[R]:this.state.dragging,[P]:this.state.dragged});return e.createElement(l.default,p({},D,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(k),{className:W,style:{...k.props.style,...N},transform:U}))}}t.default=v,m(v,"displayName","Draggable"),m(v,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(v,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Ak)),Ak}var lz;function W0e(){if(lz)return lv.exports;lz=1;const{default:t,DraggableCore:e}=U0e();return lv.exports=t,lv.exports.default=t,lv.exports.DraggableCore=e,lv.exports}var q0e=W0e();const G0e=Es(q0e);var br=function(){return br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},br.apply(this,arguments)},uz={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},cz={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Q_={width:"20px",height:"20px",position:"absolute",zIndex:1},Y0e={top:br(br({},uz),{top:"-5px"}),right:br(br({},cz),{left:void 0,right:"-5px"}),bottom:br(br({},uz),{top:void 0,bottom:"-5px"}),left:br(br({},cz),{left:"-5px"}),topRight:br(br({},Q_),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:br(br({},Q_),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:br(br({},Q_),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:br(br({},Q_),{left:"-10px",top:"-10px",cursor:"nw-resize"})},X0e=z.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,s=t.className,o=z.useCallback(function(u){e(u,n)},[e,n]),a=z.useCallback(function(u){e(u,n)},[e,n]),l=z.useMemo(function(){return br(br({position:"absolute",userSelect:"none"},Y0e[n]),i??{})},[i,n]);return j.jsx("div",{className:s||void 0,style:l,onMouseDown:o,onTouchStart:a,children:r})}),K0e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ha=function(){return Ha=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ha.apply(this,arguments)},Q0e={width:"auto",height:"auto"},Z_=function(t,e,n){return Math.max(Math.min(t,n),e)},dz=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},Qp=function(t,e){return new RegExp(t,"i").test(e)},J_=function(t){return!!(t.touches&&t.touches.length)},Z0e=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},hz=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,o,a){return Math.abs(o-t)<Math.abs(e[s]-t)?a:s},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},Tk=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},ex=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},J0e=function(t,e,n,r,i,s,o){return r=ex(r,t.width,e,n),i=ex(i,t.height,e,n),s=ex(s,t.width,e,n),o=ex(o,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},ebe=function(t){return Array.isArray(t)?t:[t,t]},tbe=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],fz="__resizable_base__",nbe=function(t){K0e(e,t);function e(n){var r,i,s,o,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(fz):u.className+=fz,l.appendChild(u),u},a.removeBase=function(l){var u=a.parentNode;u&&u.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(o=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Q0e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),d=c/u[a]*100;return"".concat(d,"%")}return Tk(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?Tk(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?Tk(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&Qp("left",s),a=i&&Qp("top",s),l,u;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(l=o?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=ebe(this.props.resizeRatio||1),o=s[0],a=s[1],l=this.state,u=l.direction,c=l.original,d=this.props,f=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,m=d.lockAspectRatioExtraWidth,y=c.width,b=c.height,v=p||0,x=m||0;return Qp("right",u)&&(y=c.width+(n-c.x)*o/i,f&&(b=(y-x)/this.ratio+v)),Qp("left",u)&&(y=c.width-(n-c.x)*o/i,f&&(b=(y-x)/this.ratio+v)),Qp("bottom",u)&&(b=c.height+(r-c.y)*a/i,f&&(y=(b-v)*this.ratio+x)),Qp("top",u)&&(b=c.height-(r-c.y)*a/i,f&&(y=(b-v)*this.ratio+x)),{newWidth:y,newHeight:b}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,a=o.lockAspectRatio,l=o.lockAspectRatioExtraHeight,u=o.lockAspectRatioExtraWidth,c=typeof s.width>"u"?10:s.width,d=typeof i.width>"u"||i.width<0?n:i.width,f=typeof s.height>"u"?10:s.height,p=typeof i.height>"u"||i.height<0?r:i.height,m=l||0,y=u||0;if(a){var b=(f-m)*this.ratio+y,v=(p-m)*this.ratio+y,x=(c-y)/this.ratio+m,_=(d-y)/this.ratio+m,S=Math.max(c,b),k=Math.min(d,v),O=Math.max(f,x),A=Math.min(p,_);n=Z_(n,S,k),r=Z_(r,O,A)}else n=Z_(n,c,d),r=Z_(r,f,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,l=o.top,u=o.right,c=o.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=l*n,this.resizableBottom=c*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&Z0e(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&J_(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Ha(Ha({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&J_(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,a=i.minWidth,l=i.minHeight,u=J_(n)?n.touches[0].clientX:n.clientX,c=J_(n)?n.touches[0].clientY:n.clientY,d=this.state,f=d.direction,p=d.original,m=d.width,y=d.height,b=this.getParentSize(),v=J0e(b,this.window.innerWidth,this.window.innerHeight,s,o,a,l);s=v.maxWidth,o=v.maxHeight,a=v.minWidth,l=v.minHeight;var x=this.calculateNewSizeFromDirection(u,c),_=x.newHeight,S=x.newWidth,k=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(S=hz(S,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=hz(_,this.props.snap.y,this.props.snapGap));var O=this.calculateNewSizeFromAspectRatio(S,_,{width:k.maxWidth,height:k.maxHeight},{width:a,height:l});if(S=O.newWidth,_=O.newHeight,this.props.grid){var A=dz(S,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),R=dz(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),P=this.props.snapGap||0,T=P===0||Math.abs(A-S)<=P?A:S,L=P===0||Math.abs(R-_)<=P?R:_;S=T,_=L}var M={width:S-p.width,height:_-p.height};if(this.delta=M,m&&typeof m=="string"){if(m.endsWith("%")){var D=S/b.width*100;S="".concat(D,"%")}else if(m.endsWith("vw")){var N=S/this.window.innerWidth*100;S="".concat(N,"vw")}else if(m.endsWith("vh")){var U=S/this.window.innerHeight*100;S="".concat(U,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var D=_/b.height*100;_="".concat(D,"%")}else if(y.endsWith("vw")){var N=_/this.window.innerWidth*100;_="".concat(N,"vw")}else if(y.endsWith("vh")){var U=_/this.window.innerHeight*100;_="".concat(U,"vh")}}var K={width:this.createSizeForCssProperty(S,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?K.flexBasis=K.width:this.flexDir==="column"&&(K.flexBasis=K.height);var G=this.state.width!==K.width,Z=this.state.height!==K.height,X=this.state.flexBasis!==K.flexBasis,W=G||Z||X;W&&zu.flushSync(function(){r.setState(K)}),this.props.onResize&&W&&this.props.onResize(n,f,this.resizable,M)}},e.prototype.onMouseUp=function(n){var r,i,s=this.state,o=s.isResizing,a=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Ha(Ha({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,u=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(d){return i[d]!==!1?j.jsx(X0e,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:s&&s[d],className:o&&o[d],children:u&&u[d]?u[d]:null},d):null});return j.jsx("div",{className:l,style:a,children:c})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,a){return tbe.indexOf(a)!==-1||(o[a]=n.props[a]),o},{}),i=Ha(Ha(Ha({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return j.jsxs(s,Ha({style:i,className:this.props.className},r,{ref:function(o){o&&(n.resizable=o)},children:[this.state.isResizing&&j.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(z.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cP=function(t,e){return cP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},cP(t,e)};function rbe(t,e){cP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Nr=function(){return Nr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nr.apply(this,arguments)};function ibe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var sbe={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},obe=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},abe=function(t){rbe(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,s=this.getDraggablePosition(),o=s.x,a=s.y;this.draggable.setState({x:o-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var l=s.getBoundingClientRect(),u=l.left,c=l.top,d=document.body.getBoundingClientRect(),f=-(u-s.offsetLeft*o-d.left)/o,p=-(c-s.offsetTop*o-d.top)/o,m=(document.body.offsetWidth-this.resizable.size.width*o)/o+f,y=(document.body.offsetHeight-this.resizable.size.height*o)/o+p;return this.setState({bounds:{top:p,right:m,bottom:y,left:f}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var b=s.getBoundingClientRect(),v=b.left,x=b.top,_=-(v-s.offsetLeft*o)/o,S=-(x-s.offsetTop*o)/o,m=(window.innerWidth-this.resizable.size.width*o)/o+_,y=(window.innerHeight-this.resizable.size.height*o)/o+S;return this.setState({bounds:{top:S,right:m,bottom:y,left:_}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var k=a.getBoundingClientRect(),O=k.left,A=k.top,R=s.getBoundingClientRect(),P=R.left,T=R.top,L=(O-P)/o,M=A-T;if(this.resizable){this.updateOffsetFromParent();var D=this.offsetFromParent;this.setState({bounds:{top:M-D.top,right:L+(a.offsetWidth-this.resizable.size.width)-D.left/o,bottom:M+(a.offsetHeight-this.resizable.size.height)-D.top,left:L-D.left/o}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,Nr(Nr({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(n,Nr(Nr({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,Nr(Nr({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,s=i.left,o=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,Nr(Nr({},r),{x:r.x+s,y:r.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,Nr(Nr({},r),{x:r.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,Nr(Nr({},r),{x:this.originalPosition.x+s,y:r.y+o,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),u=void 0;this.props.bounds==="parent"?u=l:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(u instanceof HTMLElement||u===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),f=d.maxWidth,p=d.maxHeight,m=this.getParentSize();if(f&&typeof f=="string")if(f.endsWith("%")){var y=Number(f.replace("%",""))/100;f=m.width*y}else f.endsWith("px")&&(f=Number(f.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=m.height*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));var b=c.getBoundingClientRect(),v=b.left,x=b.top,_=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),S=_.left,k=_.top,O=this.getOffsetWidth(u),A=this.getOffsetHeight(u),R=r.toLowerCase().endsWith("left"),P=r.toLowerCase().endsWith("right"),T=r.startsWith("top"),L=r.startsWith("bottom");if((R||T)&&this.resizable){var M=(v-S)/s+this.resizable.size.width;this.setState({maxWidth:M>Number(f)?f:M})}if(P||this.props.lockAspectRatio&&!R&&!T){var M=O+(S-v)/s;this.setState({maxWidth:M>Number(f)?f:M})}if((T||R)&&this.resizable){var M=(x-k)/s+this.resizable.size.height;this.setState({maxHeight:M>Number(p)?p:M})}if(L||this.props.lockAspectRatio&&!T&&!R){var M=A+(k-x)/s;this.setState({maxHeight:M>Number(p)?p:M})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,s){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-s.width,u=-s.height,c=["top","left","topLeft","bottomLeft","topRight"];c.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=u));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&zu.flushSync(function(){o.draggable.setState(a)}),this.updateOffsetFromParent();var f=this.offsetFromParent,p=this.getDraggablePosition().x+f.left,m=this.getDraggablePosition().y+f.top;this.resizingPosition={x:p,y:m},this.props.onResize&&this.props.onResize(n,r,i,s,{x:p,y:m})},e.prototype.onResizeStop=function(n,r,i,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,l=o.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,s,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var s=r.getBoundingClientRect(),o=s.left,a=s.top,l=i.getBoundingClientRect(),u=this.getDraggablePosition(),c=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-o+c-u.x*n,top:l.top-a+d-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,s=r.style,o=r.dragHandleClassName,a=r.position,l=r.onMouseDown,u=r.onMouseUp,c=r.dragAxis,d=r.dragGrid,f=r.bounds,p=r.enableUserSelectHack,m=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var b=r.resizeHandleStyles,v=r.resizeHandleClasses,x=r.resizeHandleComponent,_=r.enableResizing,S=r.resizeGrid,k=r.resizeHandleWrapperClass,O=r.resizeHandleWrapperStyle,A=r.scale,R=r.allowAnyClick,P=r.dragPositionOffset,T=ibe(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),L=this.props.default?Nr({},this.props.default):void 0;delete T.default;var M=i||o?{cursor:"auto"}:{cursor:"move"},D=Nr(Nr(Nr({},sbe),M),s),N=this.offsetFromParent,U=N.left,K=N.top,G;a&&(G={x:a.x-U,y:a.y-K});var Z=this.state.resizing?void 0:G,X=this.state.resizing?"both":c;return z.createElement(G0e,{ref:function(W){W&&(n.draggable=W)},handle:o?".".concat(o):void 0,defaultPosition:L,onMouseDown:l,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:X,disabled:i,grid:d,bounds:f?this.state.bounds:void 0,position:Z,enableUserSelectHack:p,cancel:m,scale:A,allowAnyClick:R,nodeRef:this.resizableElement,positionOffset:P},z.createElement(nbe,Nr({},T,{ref:function(W){W&&(n.resizable=W,n.resizableElement.current=W.resizable)},defaultSize:L,size:this.props.size,enable:typeof _=="boolean"?obe(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:D,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:S,handleWrapperClass:k,handleWrapperStyle:O,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:b,handleClasses:v,handleComponent:x,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(z.PureComponent);const lbe=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:s,style:o})=>{const a=n?"AreaHighlight--scrolledTo":"",l=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return Xe.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},Xe.createElement(abe,{className:"AreaHighlight__part",onDragStop:(u,c)=>{const d={...t.position.boundingRect,top:c.y,left:c.x};e&&e(d)},onResizeStop:(u,c,d,f,p)=>{var y;const m={top:p.y,left:p.x,width:d.offsetWidth,height:d.offsetHeight,pageNumber:((y=l0(d))==null?void 0:y.number)||-1};e&&e(m)},onDragStart:s,onResizeStart:s,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:l,bounds:r,onClick:u=>{u.stopPropagation(),u.preventDefault()},style:o}))};var u0={};u0.d=(t,e)=>{for(var n in e)u0.o(e,n)&&!u0.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};u0.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ot=globalThis.pdfjsLib={};u0.d(Ot,{AbortException:()=>Jf,AnnotationEditorLayer:()=>w2,AnnotationEditorParamsType:()=>Mt,AnnotationEditorType:()=>tn,AnnotationEditorUIManager:()=>Df,AnnotationLayer:()=>o1e,AnnotationMode:()=>Uc,CMapCompressionType:()=>hP,ColorPicker:()=>oS,DOMSVGFactory:()=>BO,DrawLayer:()=>S2,FeatureTest:()=>ps,GlobalWorkerOptions:()=>Hu,ImageKind:()=>jx,InvalidPDFException:()=>C8,MissingPDFException:()=>Zf,OPS:()=>Ko,Outliner:()=>t2,PDFDataRangeTransport:()=>wW,PDFDateString:()=>N8,PDFWorker:()=>Ag,PasswordResponses:()=>hbe,PermissionFlag:()=>dbe,PixelsPerInch:()=>Id,RenderingCancelledException:()=>$O,TextLayer:()=>Ym,UnexpectedResponseException:()=>WC,Util:()=>mt,VerbosityLevel:()=>VC,XfaLayer:()=>xW,build:()=>Bwe,createValidAbsoluteUrl:()=>mbe,fetchData:()=>KC,getDocument:()=>Pwe,getFilenameFromUrl:()=>Abe,getPdfFilenameFromUrl:()=>Tbe,getXfaPageViewport:()=>kbe,isDataScheme:()=>VO,isPdfFile:()=>HO,noContextMenu:()=>ws,normalizeUnicode:()=>xbe,renderTextLayer:()=>xwe,setLayerDimensions:()=>Lf,shadow:()=>ln,updateTextLayer:()=>Ewe,version:()=>jwe});const Ri=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),S8=[1,0,0,1,0,0],dP=[.001,0,0,.001,0,0],ube=1e7,kk=1.35,mo={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Uc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},cbe="pdfjs_internal_editor_",tn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Mt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},dbe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},jx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Pr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},cv={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VC={ERRORS:0,WARNINGS:1,INFOS:5},hP={NONE:0,BINARY:1},Ko={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},hbe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let HC=VC.WARNINGS;function fbe(t){Number.isInteger(t)&&(HC=t)}function pbe(){return HC}function UC(t){HC>=VC.INFOS&&console.log(`Info: ${t}`)}function Ht(t){HC>=VC.WARNINGS&&console.log(`Warning: ${t}`)}function Cn(t){throw new Error(t)}function Fr(t,e){t||Cn(e)}function gbe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mbe(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=_be(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(gbe(r))return r}catch{}return null}function ln(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Fd=function(){function e(n,r){this.constructor===e&&Cn("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class fP extends Fd{constructor(e,n){super(e,"PasswordException"),this.code=n}}class pP extends Fd{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class C8 extends Fd{constructor(e){super(e,"InvalidPDFException")}}class Zf extends Fd{constructor(e){super(e,"MissingPDFException")}}class WC extends Fd{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class ybe extends Fd{constructor(e){super(e,"FormatError")}}class Jf extends Fd{constructor(e){super(e,"AbortException")}}function A8(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Cn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),o=t.subarray(i,s);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function qC(t){typeof t!="string"&&Cn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function vbe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function zO(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function bbe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function wbe(){try{return new Function(""),!0}catch{return!1}}class ps{static get isLittleEndian(){return ln(this,"isLittleEndian",bbe())}static get isEvalSupported(){return ln(this,"isEvalSupported",wbe())}static get isOffscreenCanvasSupported(){return ln(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ln(this,"platform",{isMac:navigator.platform.includes("Mac")}):ln(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return ln(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const Rk=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Wu,Bx,gP;class mt{static makeHexColor(e,n,r){return`#${Rk[e]}${Rk[n]}${Rk[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,s=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),s=this.applyTransform([e[0],e[3]],n),o=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],s[0],o[0]),Math.min(r[1],i[1],s[1],o[1]),Math.max(r[0],i[0],s[0],o[0]),Math.max(r[1],i[1],s[1],o[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],s=e[2]*n[0]+e[3]*n[2],o=e[2]*n[1]+e[3]*n[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-s*i))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>o?null:[r,s,i,o]}static bezierBoundingBox(e,n,r,i,s,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],ie(this,Wu,gP).call(this,e,r,s,a,n,i,o,l,3*(-e+3*(r-s)+a),6*(e-2*r+s),3*(r-e),u),ie(this,Wu,gP).call(this,e,r,s,a,n,i,o,l,3*(-n+3*(i-o)+l),6*(n-2*i+o),3*(i-n),u),u}}Wu=new WeakSet,Bx=function(e,n,r,i,s,o,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,m=d*(d*(d*e+3*u*n)+3*f*r)+p*i,y=d*(d*(d*s+3*u*o)+3*f*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],y),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],y)},gP=function(e,n,r,i,s,o,a,l,u,c,d,f){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&ie(this,Wu,Bx).call(this,e,n,r,i,s,o,a,l,-d/c,f);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;ie(this,Wu,Bx).call(this,e,n,r,i,s,o,a,l,(-c+m)/y,f),ie(this,Wu,Bx).call(this,e,n,r,i,s,o,a,l,(-c-m)/y,f)},se(mt,Wu);function _be(t){return decodeURIComponent(escape(t))}let Ik=null,pz=null;function xbe(t){return Ik||(Ik=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pz=new Map([["ﬅ","ſt"]])),t.replaceAll(Ik,(e,n,r)=>n?n.normalize("NFKC"):pz.get(r))}function Ebe(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return A8(t)}const T8="pdfjs_internal_id_",nu={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class GC{constructor(){this.constructor===GC&&Cn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var Q0;const _M=class _M{constructor({enableHWA:e=!1}={}){se(this,Q0,!1);this.constructor===_M&&Cn("Cannot initialize BaseCanvasFactory."),ne(this,Q0,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!E(this,Q0)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Cn("Abstract method `_createCanvas` called.")}};Q0=new WeakMap;let tS=_M;class YC{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===YC&&Cn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?hP.BINARY:hP.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Cn("Abstract method `_fetchData` called.")}}class XC{constructor({baseUrl:e=null}){this.constructor===XC&&Cn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Cn("Abstract method `_fetchData` called.")}}class jO{constructor(){this.constructor===jO&&Cn("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Cn("Abstract method `_createSVG` called.")}}const su="http://www.w3.org/2000/svg",mh=class mh{};at(mh,"CSS",96),at(mh,"PDF",72),at(mh,"PDF_TO_CSS_UNITS",mh.CSS/mh.PDF);let Id=mh;var Sh,qa,du,as,vS,Ch,ht,wi,lg,ug,$x,k8,mP,cg,Mv,Lv,yP,Dv;class Sbe extends GC{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();se(this,ht);se(this,Sh);se(this,qa);se(this,du);se(this,as);se(this,vS);se(this,Ch,0);ne(this,du,n),ne(this,as,r)}addFilter(n){if(!n)return"none";let r=E(this,ht,wi).get(n);if(r)return r;const[i,s,o]=ie(this,ht,$x).call(this,n),a=n.length===1?i:`${i}${s}${o}`;if(r=E(this,ht,wi).get(a),r)return E(this,ht,wi).set(n,r),r;const l=`g_${E(this,du)}_transfer_map_${Os(this,Ch)._++}`,u=`url(#${l})`;E(this,ht,wi).set(n,u),E(this,ht,wi).set(a,u);const c=ie(this,ht,cg).call(this,l);return ie(this,ht,Lv).call(this,i,s,o,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,s="base";let o=E(this,ht,lg).get(s);if((o==null?void 0:o.key)===i||(o?((m=o.filter)==null||m.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},E(this,ht,lg).set(s,o)),!n||!r))return o.url;const a=ie(this,ht,Dv).call(this,n);n=mt.makeHexColor(...a);const l=ie(this,ht,Dv).call(this,r);if(r=mt.makeHexColor(...l),E(this,ht,ug).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return o.url;const u=new Array(256);for(let y=0;y<=255;y++){const b=y/255;u[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const c=u.join(","),d=`g_${E(this,du)}_hcm_filter`,f=o.filter=ie(this,ht,cg).call(this,d);ie(this,ht,Lv).call(this,c,c,c,f),ie(this,ht,mP).call(this,f);const p=(y,b)=>{const v=a[y]/255,x=l[y]/255,_=new Array(b+1);for(let S=0;S<=b;S++)_[S]=v+S/b*(x-v);return _.join(",")};return ie(this,ht,Lv).call(this,p(0,5),p(1,5),p(2,5),f),o.url=`url(#${d})`,o.url}addAlphaFilter(n){let r=E(this,ht,wi).get(n);if(r)return r;const[i]=ie(this,ht,$x).call(this,[n]),s=`alpha_${i}`;if(r=E(this,ht,wi).get(s),r)return E(this,ht,wi).set(n,r),r;const o=`g_${E(this,du)}_alpha_map_${Os(this,Ch)._++}`,a=`url(#${o})`;E(this,ht,wi).set(n,a),E(this,ht,wi).set(s,a);const l=ie(this,ht,cg).call(this,o);return ie(this,ht,yP).call(this,i,l),a}addLuminosityFilter(n){let r=E(this,ht,wi).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=ie(this,ht,$x).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=E(this,ht,wi).get(s),r)return E(this,ht,wi).set(n,r),r;const o=`g_${E(this,du)}_luminosity_map_${Os(this,Ch)._++}`,a=`url(#${o})`;E(this,ht,wi).set(n,a),E(this,ht,wi).set(s,a);const l=ie(this,ht,cg).call(this,o);return ie(this,ht,k8).call(this,l),n&&ie(this,ht,yP).call(this,i,l),a}addHighlightHCMFilter(n,r,i,s,o){var x;const a=`${r}-${i}-${s}-${o}`;let l=E(this,ht,lg).get(n);if((l==null?void 0:l.key)===a||(l?((x=l.filter)==null||x.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},E(this,ht,lg).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(ie(this,ht,Dv).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[s,o].map(ie(this,ht,Dv).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),E(this,ht,ug).style.color="";const y=(_,S,k)=>{const O=new Array(256),A=(f-d)/k,R=_/255,P=(S-_)/(255*k);let T=0;for(let L=0;L<=k;L++){const M=Math.round(d+L*A),D=R+L*P;for(let N=T;N<=M;N++)O[N]=D;T=M+1}for(let L=T;L<256;L++)O[L]=O[T-1];return O.join(",")},b=`g_${E(this,du)}_hcm_${n}_filter`,v=l.filter=ie(this,ht,cg).call(this,b);return ie(this,ht,mP).call(this,v),ie(this,ht,Lv).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),v),l.url=`url(#${b})`,l.url}destroy(n=!1){n&&E(this,ht,lg).size!==0||(E(this,qa)&&(E(this,qa).parentNode.parentNode.remove(),ne(this,qa,null)),E(this,Sh)&&(E(this,Sh).clear(),ne(this,Sh,null)),ne(this,Ch,0))}}Sh=new WeakMap,qa=new WeakMap,du=new WeakMap,as=new WeakMap,vS=new WeakMap,Ch=new WeakMap,ht=new WeakSet,wi=function(){return E(this,Sh)||ne(this,Sh,new Map)},lg=function(){return E(this,vS)||ne(this,vS,new Map)},ug=function(){if(!E(this,qa)){const n=E(this,as).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=E(this,as).createElementNS(su,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ne(this,qa,E(this,as).createElementNS(su,"defs")),n.append(i),i.append(E(this,qa)),E(this,as).body.append(n)}return E(this,qa)},$x=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let f=0;f<256;f++)c[f]=u[f]/255;const d=c.join(",");return[d,d,d]}const[r,i,s]=n,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=i[u]/255,l[u]=s[u]/255;return[o.join(","),a.join(","),l.join(",")]},k8=function(n){const r=E(this,as).createElementNS(su,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},mP=function(n){const r=E(this,as).createElementNS(su,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},cg=function(n){const r=E(this,as).createElementNS(su,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),E(this,ht,ug).append(r),r},Mv=function(n,r,i){const s=E(this,as).createElementNS(su,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},Lv=function(n,r,i,s){const o=E(this,as).createElementNS(su,"feComponentTransfer");s.append(o),ie(this,ht,Mv).call(this,o,"feFuncR",n),ie(this,ht,Mv).call(this,o,"feFuncG",r),ie(this,ht,Mv).call(this,o,"feFuncB",i)},yP=function(n,r){const i=E(this,as).createElementNS(su,"feComponentTransfer");r.append(i),ie(this,ht,Mv).call(this,i,"feFuncA",n)},Dv=function(n){return E(this,ht,ug).style.color=n,UO(getComputedStyle(E(this,ht,ug)).getPropertyValue("color"))};class Cbe extends tS{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function KC(t,e="text"){if(Fv(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class R8 extends YC{_fetchData(e,n){return KC(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):qC(r),compressionType:n}))}}class I8 extends XC{_fetchData(e){return KC(e,"arraybuffer").then(n=>new Uint8Array(n))}}class BO extends jO{_createSVG(e){return document.createElementNS(su,e)}}class Zw{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,f=1;break;case 90:u=0,c=1,d=1,f=0;break;case 270:u=0,c=-1,d=-1,f=0;break;case 0:u=1,c=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,m,y,b;u===0?(p=Math.abs(l-e[1])*n+i,m=Math.abs(a-e[0])*n+s,y=(e[3]-e[1])*n,b=(e[2]-e[0])*n):(p=Math.abs(a-e[0])*n+i,m=Math.abs(l-e[1])*n+s,y=(e[2]-e[0])*n,b=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,f*n,p-u*n*a-d*n*l,m-c*n*a-f*n*l],this.width=y,this.height=b}get rawDims(){const{viewBox:e}=this;return ln(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Zw({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){return mt.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=mt.applyTransform([e[0],e[1]],this.transform),r=mt.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return mt.applyInverseTransform([e,n],this.transform)}}class $O extends Fd{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function VO(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function HO(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Abe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Tbe(t,e="document.pdf"){if(typeof t!="string")return e;if(VO(t))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class gz{constructor(){at(this,"started",Object.create(null));at(this,"times",[])}time(e){e in this.started&&Ht(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ht(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Fv(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function ws(t){t.preventDefault()}function P8(t){console.log("Deprecated API usage: "+t)}let mz;class N8{static toDateObject(e){if(!e||typeof e!="string")return null;mz||(mz=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=mz.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(o+=c,a+=d):u==="+"&&(o-=c,a-=d),new Date(Date.UTC(r,i,s,o,a,l))}}function kbe(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Zw({viewBox:s,scale:e,rotation:n})}function UO(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ht(`Not a valid color format: "${t}"`),[0,0,0])}function Rbe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,UO(r))}e.remove()}function Zn(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform();return[e,n,r,i,s,o]}function ru(t){const{a:e,b:n,c:r,d:i,e:s,f:o}=t.getTransform().invertSelf();return[e,n,r,i,s,o]}function Lf(t,e,n=!1,r=!0){if(e instanceof Zw){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:o}=t,a=ps.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!n||e.rotation%180===0?(o.width=c,o.height=d):(o.width=d,o.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}var Ah,Th,Fs,kh,bS,O8,Ui,M8,L8,Vx,D8,bP;const wS=class wS{constructor(e){se(this,Ui);se(this,Ah,null);se(this,Th,null);se(this,Fs);se(this,kh,null);ne(this,Fs,e)}render(){const e=ne(this,Ah,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=E(this,Fs)._uiManager._signal;e.addEventListener("contextmenu",ws,{signal:n}),e.addEventListener("pointerdown",ie(wS,bS,O8),{signal:n});const r=ne(this,kh,document.createElement("div"));r.className="buttons",e.append(r);const i=E(this,Fs).toolbarPosition;if(i){const{style:s}=e,o=E(this,Fs)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ie(this,Ui,D8).call(this),e}hide(){var e;E(this,Ah).classList.add("hidden"),(e=E(this,Th))==null||e.hideDropdown()}show(){E(this,Ah).classList.remove("hidden")}addAltTextButton(e){ie(this,Ui,Vx).call(this,e),E(this,kh).prepend(e,E(this,Ui,bP))}addColorPicker(e){ne(this,Th,e);const n=e.renderButton();ie(this,Ui,Vx).call(this,n),E(this,kh).prepend(n,E(this,Ui,bP))}remove(){var e;E(this,Ah).remove(),(e=E(this,Th))==null||e.destroy(),ne(this,Th,null)}};Ah=new WeakMap,Th=new WeakMap,Fs=new WeakMap,kh=new WeakMap,bS=new WeakSet,O8=function(e){e.stopPropagation()},Ui=new WeakSet,M8=function(e){E(this,Fs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},L8=function(e){E(this,Fs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Vx=function(e){const n=E(this,Fs)._uiManager._signal;e.addEventListener("focusin",ie(this,Ui,M8).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",ie(this,Ui,L8).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",ws,{signal:n})},D8=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${E(this,Fs).editorType}-button`),ie(this,Ui,Vx).call(this,e),e.addEventListener("click",n=>{E(this,Fs)._uiManager.delete()},{signal:E(this,Fs)._uiManager._signal}),E(this,kh).append(e)},bP=function(){const e=document.createElement("div");return e.className="divider",e},se(wS,bS);let vP=wS;var Z0,Rh,Ih,Nd,F8,z8,j8;class Ibe{constructor(e){se(this,Nd);se(this,Z0,null);se(this,Rh,null);se(this,Ih);ne(this,Ih,e)}show(e,n,r){const[i,s]=ie(this,Nd,z8).call(this,n,r),{style:o}=E(this,Rh)||ne(this,Rh,ie(this,Nd,F8).call(this));e.append(E(this,Rh)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){E(this,Rh).remove()}}Z0=new WeakMap,Rh=new WeakMap,Ih=new WeakMap,Nd=new WeakSet,F8=function(){const e=ne(this,Rh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ws,{signal:E(this,Ih)._signal});const n=ne(this,Z0,document.createElement("div"));return n.className="buttons",e.append(n),ie(this,Nd,j8).call(this),e},z8=function(e,n){let r=0,i=0;for(const s of e){const o=s.y+s.height;if(o<r)continue;const a=s.x+(n?s.width:0);if(o>r){i=a,r=o;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},j8=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=E(this,Ih)._signal;e.addEventListener("contextmenu",ws,{signal:r}),e.addEventListener("click",()=>{E(this,Ih).highlightSelection("floating_button")},{signal:r}),E(this,Z0).append(e)};function nS(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function Pbe(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var _S;class Nbe{constructor(){se(this,_S,0)}get id(){return`${cbe}${Os(this,_S)._++}`}}_S=new WeakMap;var J0,xS,ho,eb,_P;const xM=class xM{constructor(){se(this,eb);se(this,J0,Ebe());se(this,xS,0);se(this,ho,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ln(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return ie(this,eb,_P).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return ie(this,eb,_P).call(this,e,e)}async getFromId(e){E(this,ho)||ne(this,ho,new Map);const n=E(this,ho).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=E(this,ho).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){E(this,ho)||ne(this,ho,new Map);const n=E(this,ho).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${E(this,J0)}_`)}};J0=new WeakMap,xS=new WeakMap,ho=new WeakMap,eb=new WeakSet,_P=async function(e,n){E(this,ho)||ne(this,ho,new Map);let r=E(this,ho).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${E(this,J0)}_${Os(this,xS)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await KC(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const s=xM._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const d=r.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=c});o.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return E(this,ho).set(e,r),r&&E(this,ho).set(r.id,r),r};let wP=xM;var Ur,qc,tb,Wr;class Obe{constructor(e=128){se(this,Ur,[]);se(this,qc,!1);se(this,tb);se(this,Wr,-1);ne(this,tb,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&e(),E(this,qc))return;const l={cmd:e,undo:n,post:r,type:s};if(E(this,Wr)===-1){E(this,Ur).length>0&&(E(this,Ur).length=0),ne(this,Wr,0),E(this,Ur).push(l);return}if(o&&E(this,Ur)[E(this,Wr)].type===s){a&&(l.undo=E(this,Ur)[E(this,Wr)].undo),E(this,Ur)[E(this,Wr)]=l;return}const u=E(this,Wr)+1;u===E(this,tb)?E(this,Ur).splice(0,1):(ne(this,Wr,u),u<E(this,Ur).length&&E(this,Ur).splice(u)),E(this,Ur).push(l)}undo(){if(E(this,Wr)===-1)return;ne(this,qc,!0);const{undo:e,post:n}=E(this,Ur)[E(this,Wr)];e(),n==null||n(),ne(this,qc,!1),ne(this,Wr,E(this,Wr)-1)}redo(){if(E(this,Wr)<E(this,Ur).length-1){ne(this,Wr,E(this,Wr)+1),ne(this,qc,!0);const{cmd:e,post:n}=E(this,Ur)[E(this,Wr)];e(),n==null||n(),ne(this,qc,!1)}}hasSomethingToUndo(){return E(this,Wr)!==-1}hasSomethingToRedo(){return E(this,Wr)<E(this,Ur).length-1}destroy(){ne(this,Ur,null)}}Ur=new WeakMap,qc=new WeakMap,tb=new WeakMap,Wr=new WeakMap;var ES,B8;class Jw{constructor(e){se(this,ES);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=ps.platform;for(const[r,i,s={}]of e)for(const o of r){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:i,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(ie(this,ES,B8).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:o=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...o,n)(),s||(n.stopPropagation(),n.preventDefault()))}}ES=new WeakSet,B8=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const SS=class SS{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Rbe(e),ln(this,"_colors",e)}convert(e){const n=UO(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,o)=>s===n[o]))return SS._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?mt.makeHexColor(...n):e}};at(SS,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let xP=SS;var Rg,zs,Or,ti,Ig,hu,Pg,Qo,Ng,Ph,Ga,Zo,Nh,nb,rb,Ya,Og,Gc,Xa,CS,Yc,ib,Oh,sb,Mg,ni,bn,fu,Mh,ob,ab,lb,ub,cb,db,hb,fb,pb,gb,mb,yb,vb,Xc,Ka,pu,bb,Ke,Hx,$8,V8,Ux,H8,U8,W8,EP,q8,SP,CP,G8,ji,zc,Y8,X8,AP,K8,zv,TP;const vg=class vg{constructor(e,n,r,i,s,o,a,l,u){se(this,Ke);se(this,Rg,new AbortController);se(this,zs,null);se(this,Or,new Map);se(this,ti,new Map);se(this,Ig,null);se(this,hu,null);se(this,Pg,null);se(this,Qo,new Obe);se(this,Ng,0);se(this,Ph,new Set);se(this,Ga,null);se(this,Zo,null);se(this,Nh,new Set);se(this,nb,!1);se(this,rb,null);se(this,Ya,null);se(this,Og,null);se(this,Gc,!1);se(this,Xa,null);se(this,CS,new Nbe);se(this,Yc,!1);se(this,ib,!1);se(this,Oh,null);se(this,sb,null);se(this,Mg,null);se(this,ni,tn.NONE);se(this,bn,new Set);se(this,fu,null);se(this,Mh,null);se(this,ob,null);se(this,ab,this.blur.bind(this));se(this,lb,this.focus.bind(this));se(this,ub,this.copy.bind(this));se(this,cb,this.cut.bind(this));se(this,db,this.paste.bind(this));se(this,hb,this.keydown.bind(this));se(this,fb,this.keyup.bind(this));se(this,pb,this.onEditingAction.bind(this));se(this,gb,this.onPageChanging.bind(this));se(this,mb,this.onScaleChanging.bind(this));se(this,yb,this.onRotationChanging.bind(this));se(this,vb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});se(this,Xc,[0,0]);se(this,Ka,null);se(this,pu,null);se(this,bb,null);this._signal=E(this,Rg).signal,ne(this,pu,e),ne(this,bb,n),ne(this,Ig,r),this._eventBus=i,this._eventBus._on("editingaction",E(this,pb)),this._eventBus._on("pagechanging",E(this,gb)),this._eventBus._on("scalechanging",E(this,mb)),this._eventBus._on("rotationchanging",E(this,yb)),ie(this,Ke,H8).call(this),ie(this,Ke,G8).call(this),ie(this,Ke,EP).call(this),ne(this,hu,s.annotationStorage),ne(this,rb,s.filterFactory),ne(this,Mh,o),ne(this,Og,a||null),ne(this,nb,l),ne(this,Mg,u||null),this.viewParameters={realScale:Id.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=vg.prototype,n=o=>E(o,pu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ln(this,"_keyboardManager",new Jw([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&E(o,pu).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&E(o,pu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r;(e=E(this,Rg))==null||e.abort(),ne(this,Rg,null),this._signal=null,this._eventBus._off("editingaction",E(this,pb)),this._eventBus._off("pagechanging",E(this,gb)),this._eventBus._off("scalechanging",E(this,mb)),this._eventBus._off("rotationchanging",E(this,yb));for(const i of E(this,ti).values())i.destroy();E(this,ti).clear(),E(this,Or).clear(),E(this,Nh).clear(),ne(this,zs,null),E(this,bn).clear(),E(this,Qo).destroy(),(n=E(this,Ig))==null||n.destroy(),(r=E(this,Xa))==null||r.hide(),ne(this,Xa,null),E(this,Ya)&&(clearTimeout(E(this,Ya)),ne(this,Ya,null)),E(this,Ka)&&(clearTimeout(E(this,Ka)),ne(this,Ka,null))}async mlGuess(e){var n;return((n=E(this,Mg))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!E(this,Mg)}get hcmFilter(){return ln(this,"hcmFilter",E(this,Mh)?E(this,rb).addHCMFilter(E(this,Mh).foreground,E(this,Mh).background):"none")}get direction(){return ln(this,"direction",getComputedStyle(E(this,pu)).direction)}get highlightColors(){return ln(this,"highlightColors",E(this,Og)?new Map(E(this,Og).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return ln(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ne(this,sb,e)}editAltText(e){var n;(n=E(this,Ig))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){ne(this,Ng,e-1)}focusMainContainer(){E(this,pu).focus()}findParent(e,n){for(const r of E(this,ti).values()){const{x:i,y:s,width:o,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+o&&n>=s&&n<=s+a)return r}return null}disableUserSelect(e=!1){E(this,bb).classList.toggle("noUserSelect",e)}addShouldRescale(e){E(this,Nh).add(e)}removeShouldRescale(e){E(this,Nh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Id.PDF_TO_CSS_UNITS;for(const n of E(this,Nh))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}=n,a=n.toString(),u=ie(this,Ke,Hx).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty(),E(this,ni)===tn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:tn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of E(this,ti).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&E(this,hu)&&!E(this,hu).has(e.id)&&E(this,hu).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,E(this,Gc)&&(ne(this,Gc,!1),ie(this,Ke,Ux).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of E(this,bn))if(n.div.contains(e)){ne(this,Oh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!E(this,Oh))return;const[e,n]=E(this,Oh);ne(this,Oh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){ie(this,Ke,EP).call(this),ie(this,Ke,SP).call(this)}removeEditListeners(){ie(this,Ke,q8).call(this),ie(this,Ke,CP).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of E(this,Zo))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of E(this,Zo))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=E(this,zs))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of E(this,bn)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const o of E(this,Zo))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ht(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=i.deserialize(l);if(!u)return;s.push(u)}const o=()=>{for(const l of s)ie(this,Ke,AP).call(this,l);ie(this,Ke,TP).call(this,s)},a=()=>{for(const l of s)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){Ht(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),E(this,ni)!==tn.NONE&&!this.isEditorHandlingKeyboard&&vg._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,E(this,Gc)&&(ne(this,Gc,!1),ie(this,Ke,Ux).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ie(this,Ke,U8).call(this),ie(this,Ke,SP).call(this),ie(this,Ke,ji).call(this,{isEditing:E(this,ni)!==tn.NONE,isEmpty:ie(this,Ke,zv).call(this),hasSomethingToUndo:E(this,Qo).hasSomethingToUndo(),hasSomethingToRedo:E(this,Qo).hasSomethingToRedo(),hasSelectedEditor:!1})):(ie(this,Ke,W8).call(this),ie(this,Ke,CP).call(this),ie(this,Ke,ji).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!E(this,Zo)){ne(this,Zo,e);for(const n of E(this,Zo))ie(this,Ke,zc).call(this,n.defaultPropertiesToUpdate)}}getId(){return E(this,CS).id}get currentLayer(){return E(this,ti).get(E(this,Ng))}getLayer(e){return E(this,ti).get(e)}get currentPageIndex(){return E(this,Ng)}addLayer(e){E(this,ti).set(e.pageIndex,e),E(this,Yc)?e.enable():e.disable()}removeLayer(e){E(this,ti).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(E(this,ni)!==e){if(ne(this,ni,e),e===tn.NONE){this.setEditingState(!1),ie(this,Ke,X8).call(this);return}this.setEditingState(!0),ie(this,Ke,Y8).call(this),this.unselectAll();for(const i of E(this,ti).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of E(this,Or).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==E(this,ni)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(E(this,Zo)){switch(e){case Mt.CREATE:this.currentLayer.addNewEditor();return;case Mt.HIGHLIGHT_DEFAULT_COLOR:(r=E(this,sb))==null||r.updateColor(n);break;case Mt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(E(this,ob)||ne(this,ob,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of E(this,bn))i.updateParams(e,n);for(const i of E(this,Zo))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const o of E(this,Or).values())o.editorType===e&&o.show(n);(((s=E(this,ob))==null?void 0:s.get(Mt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&ie(this,Ke,zc).call(this,[[Mt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(E(this,ib)!==e){ne(this,ib,e);for(const n of E(this,ti).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of E(this,Or).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return E(this,Or).get(e)}addEditor(e){E(this,Or).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(E(this,Ya)&&clearTimeout(E(this,Ya)),ne(this,Ya,setTimeout(()=>{this.focusMainContainer(),ne(this,Ya,null)},0))),E(this,Or).delete(e.id),this.unselect(e),(!e.annotationElementId||!E(this,Ph).has(e.annotationElementId))&&((n=E(this,hu))==null||n.remove(e.id))}addDeletedAnnotationElement(e){E(this,Ph).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return E(this,Ph).has(e)}removeDeletedAnnotationElement(e){E(this,Ph).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){E(this,zs)!==e&&(ne(this,zs,e),e&&ie(this,Ke,zc).call(this,e.propertiesToUpdate))}updateUI(e){E(this,Ke,K8)===e&&ie(this,Ke,zc).call(this,e.propertiesToUpdate)}toggleSelected(e){if(E(this,bn).has(e)){E(this,bn).delete(e),e.unselect(),ie(this,Ke,ji).call(this,{hasSelectedEditor:this.hasSelection});return}E(this,bn).add(e),e.select(),ie(this,Ke,zc).call(this,e.propertiesToUpdate),ie(this,Ke,ji).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of E(this,bn))n!==e&&n.unselect();E(this,bn).clear(),E(this,bn).add(e),e.select(),ie(this,Ke,zc).call(this,e.propertiesToUpdate),ie(this,Ke,ji).call(this,{hasSelectedEditor:!0})}isSelected(e){return E(this,bn).has(e)}get firstSelectedEditor(){return E(this,bn).values().next().value}unselect(e){e.unselect(),E(this,bn).delete(e),ie(this,Ke,ji).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return E(this,bn).size!==0}get isEnterHandled(){return E(this,bn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){E(this,Qo).undo(),ie(this,Ke,ji).call(this,{hasSomethingToUndo:E(this,Qo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ie(this,Ke,zv).call(this)})}redo(){E(this,Qo).redo(),ie(this,Ke,ji).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:E(this,Qo).hasSomethingToRedo(),isEmpty:ie(this,Ke,zv).call(this)})}addCommands(e){E(this,Qo).add(e),ie(this,Ke,ji).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ie(this,Ke,zv).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...E(this,bn)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)ie(this,Ke,AP).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=E(this,zs))==null||e.commitOrRemove()}hasSomethingToControl(){return E(this,zs)||this.hasSelection}selectAll(){for(const e of E(this,bn))e.commit();ie(this,Ke,TP).call(this,E(this,Or).values())}unselectAll(){if(!(E(this,zs)&&(E(this,zs).commitOrRemove(),E(this,ni)!==tn.NONE))&&this.hasSelection){for(const e of E(this,bn))e.unselect();E(this,bn).clear(),ie(this,Ke,ji).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;E(this,Xc)[0]+=e,E(this,Xc)[1]+=n;const[i,s]=E(this,Xc),o=[...E(this,bn)],a=1e3;E(this,Ka)&&clearTimeout(E(this,Ka)),ne(this,Ka,setTimeout(()=>{ne(this,Ka,null),E(this,Xc)[0]=E(this,Xc)[1]=0,this.addCommands({cmd:()=>{for(const l of o)E(this,Or).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of o)E(this,Or).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,Ga,new Map);for(const e of E(this,bn))E(this,Ga).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!E(this,Ga))return!1;this.disableUserSelect(!1);const e=E(this,Ga);ne(this,Ga,null);let n=!1;for(const[{x:i,y:s,pageIndex:o},a]of e)a.newX=i,a.newY=s,a.newPageIndex=o,n||(n=i!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const r=(i,s,o,a)=>{if(E(this,Or).has(i.id)){const l=E(this,ti).get(a);l?i._setParentAndPosition(l,s,o):(i.pageIndex=a,i.x=s,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:o,newPageIndex:a}]of e)r(i,s,o,a)},undo:()=>{for(const[i,{savedX:s,savedY:o,savedPageIndex:a}]of e)r(i,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(E(this,Ga))for(const r of E(this,Ga).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||E(this,bn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return E(this,zs)===e}getActive(){return E(this,zs)}getMode(){return E(this,ni)}get imageManager(){return ln(this,"imageManager",new wP)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,f)=>({x:(c-i)/o,y:1-(u+d-r)/s,width:f/o,height:d/s});break;case"180":a=(u,c,d,f)=>({x:1-(u+d-r)/s,y:1-(c+f-i)/o,width:d/s,height:f/o});break;case"270":a=(u,c,d,f)=>({x:1-(c+f-i)/o,y:(u-r)/s,width:f/o,height:d/s});break;default:a=(u,c,d,f)=>({x:(u-r)/s,y:(c-i)/o,width:d/s,height:f/o});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:m,height:y}of d.getClientRects())m===0||y===0||l.push(a(f,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(E(this,Pg)||ne(this,Pg,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=E(this,Pg))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=E(this,Pg))==null?void 0:i.get(e.data.id);if(!n)return;const r=E(this,hu).getRawValue(n);r&&(E(this,ni)===tn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Rg=new WeakMap,zs=new WeakMap,Or=new WeakMap,ti=new WeakMap,Ig=new WeakMap,hu=new WeakMap,Pg=new WeakMap,Qo=new WeakMap,Ng=new WeakMap,Ph=new WeakMap,Ga=new WeakMap,Zo=new WeakMap,Nh=new WeakMap,nb=new WeakMap,rb=new WeakMap,Ya=new WeakMap,Og=new WeakMap,Gc=new WeakMap,Xa=new WeakMap,CS=new WeakMap,Yc=new WeakMap,ib=new WeakMap,Oh=new WeakMap,sb=new WeakMap,Mg=new WeakMap,ni=new WeakMap,bn=new WeakMap,fu=new WeakMap,Mh=new WeakMap,ob=new WeakMap,ab=new WeakMap,lb=new WeakMap,ub=new WeakMap,cb=new WeakMap,db=new WeakMap,hb=new WeakMap,fb=new WeakMap,pb=new WeakMap,gb=new WeakMap,mb=new WeakMap,yb=new WeakMap,vb=new WeakMap,Xc=new WeakMap,Ka=new WeakMap,pu=new WeakMap,bb=new WeakMap,Ke=new WeakSet,Hx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},$8=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ie(this,Ke,Hx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(E(this,Xa)||ne(this,Xa,new Ibe(this)),E(this,Xa).show(r,i,this.direction==="ltr"))},V8=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){E(this,fu)&&((s=E(this,Xa))==null||s.hide(),ne(this,fu,null),ie(this,Ke,ji).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===E(this,fu))return;if(!ie(this,Ke,Hx).call(this,e).closest(".textLayer")){E(this,fu)&&((o=E(this,Xa))==null||o.hide(),ne(this,fu,null),ie(this,Ke,ji).call(this,{hasSelectedText:!1}));return}if((a=E(this,Xa))==null||a.hide(),ne(this,fu,n),ie(this,Ke,ji).call(this,{hasSelectedText:!0}),!(E(this,ni)!==tn.HIGHLIGHT&&E(this,ni)!==tn.NONE)&&(E(this,ni)===tn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ne(this,Gc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),c.type==="pointerup"&&ie(this,Ke,Ux).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},Ux=function(e=""){E(this,ni)===tn.HIGHLIGHT?this.highlightSelection(e):E(this,nb)&&ie(this,Ke,$8).call(this)},H8=function(){document.addEventListener("selectionchange",ie(this,Ke,V8).bind(this),{signal:this._signal})},U8=function(){const e=this._signal;window.addEventListener("focus",E(this,lb),{signal:e}),window.addEventListener("blur",E(this,ab),{signal:e})},W8=function(){window.removeEventListener("focus",E(this,lb)),window.removeEventListener("blur",E(this,ab))},EP=function(){const e=this._signal;window.addEventListener("keydown",E(this,hb),{signal:e}),window.addEventListener("keyup",E(this,fb),{signal:e})},q8=function(){window.removeEventListener("keydown",E(this,hb)),window.removeEventListener("keyup",E(this,fb))},SP=function(){const e=this._signal;document.addEventListener("copy",E(this,ub),{signal:e}),document.addEventListener("cut",E(this,cb),{signal:e}),document.addEventListener("paste",E(this,db),{signal:e})},CP=function(){document.removeEventListener("copy",E(this,ub)),document.removeEventListener("cut",E(this,cb)),document.removeEventListener("paste",E(this,db))},G8=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ji=function(e){Object.entries(e).some(([r,i])=>E(this,vb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(E(this,vb),e)}),E(this,ni)===tn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ie(this,Ke,zc).call(this,[[Mt.HIGHLIGHT_FREE,!0]]))},zc=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Y8=function(){if(!E(this,Yc)){ne(this,Yc,!0);for(const e of E(this,ti).values())e.enable();for(const e of E(this,Or).values())e.enable()}},X8=function(){if(this.unselectAll(),E(this,Yc)){ne(this,Yc,!1);for(const e of E(this,ti).values())e.disable();for(const e of E(this,Or).values())e.disable()}},AP=function(e){const n=E(this,ti).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},K8=function(){let e=null;for(e of E(this,bn));return e},zv=function(){if(E(this,Or).size===0)return!0;if(E(this,Or).size===1)for(const e of E(this,Or).values())return e.isEmpty();return!1},TP=function(e){for(const n of E(this,bn))n.unselect();E(this,bn).clear();for(const n of e)n.isEmpty()||(E(this,bn).add(n),n.select());ie(this,Ke,ji).call(this,{hasSelectedEditor:this.hasSelection})},at(vg,"TRANSLATE_SMALL",1),at(vg,"TRANSLATE_BIG",10);let Df=vg;var gu,mu,Jo,yu,js,Lg,ea,wb,kP;const au=class au{constructor(e){se(this,wb);se(this,gu,"");se(this,mu,!1);se(this,Jo,null);se(this,yu,null);se(this,js,null);se(this,Lg,!1);se(this,ea,null);ne(this,ea,e)}static initialize(e){au._l10nPromise||(au._l10nPromise=e)}async render(){const e=ne(this,Jo,document.createElement("button"));e.className="altText";const n=await au._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=E(this,ea)._uiManager._signal;e.addEventListener("contextmenu",ws,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),E(this,ea)._uiManager.editAltText(E(this,ea))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(ne(this,Lg,!0),i(s))},{signal:r}),await ie(this,wb,kP).call(this),e}finish(){E(this,Jo)&&(E(this,Jo).focus({focusVisible:E(this,Lg)}),ne(this,Lg,!1))}isEmpty(){return!E(this,gu)&&!E(this,mu)}get data(){return{altText:E(this,gu),decorative:E(this,mu)}}set data({altText:e,decorative:n}){E(this,gu)===e&&E(this,mu)===n||(ne(this,gu,e),ne(this,mu,n),ie(this,wb,kP).call(this))}toggle(e=!1){E(this,Jo)&&(!e&&E(this,js)&&(clearTimeout(E(this,js)),ne(this,js,null)),E(this,Jo).disabled=!e)}destroy(){var e;(e=E(this,Jo))==null||e.remove(),ne(this,Jo,null),ne(this,yu,null)}};gu=new WeakMap,mu=new WeakMap,Jo=new WeakMap,yu=new WeakMap,js=new WeakMap,Lg=new WeakMap,ea=new WeakMap,wb=new WeakSet,kP=async function(){var i;const e=E(this,Jo);if(!e)return;if(!E(this,gu)&&!E(this,mu)){e.classList.remove("done"),(i=E(this,yu))==null||i.remove();return}e.classList.add("done"),au._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{e.setAttribute("aria-label",s)});let n=E(this,yu);if(!n){ne(this,yu,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const s=n.id=`alt-text-tooltip-${E(this,ea).id}`;e.setAttribute("aria-describedby",s);const o=100,a=E(this,ea)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(E(this,js)),ne(this,js,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ne(this,js,setTimeout(()=>{ne(this,js,null),E(this,yu).classList.add("show"),E(this,ea)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;E(this,js)&&(clearTimeout(E(this,js)),ne(this,js,null)),(l=E(this,yu))==null||l.classList.remove("show")},{signal:a})}n.innerText=E(this,mu)?await au._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):E(this,gu),n.parentNode||e.append(n);const r=E(this,ea).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},at(au,"_l10nPromise",null);let rS=au;var Lh,ta,xi,Dg,Dh,ri,Fh,Fg,zg,Ei,_b,zh,Kc,xb,jh,vu,Qa,jg,Bg,fo,Eb,AS,Wt,RP,Sb,IP,PP,Q8,Z8,NP,OP,MP,J8,eW,tW,nW,LP,jv;const In=class In{constructor(e){se(this,Wt);se(this,Lh,null);se(this,ta,null);se(this,xi,null);se(this,Dg,!1);se(this,Dh,!1);se(this,ri,null);se(this,Fh,null);se(this,Fg,this.focusin.bind(this));se(this,zg,this.focusout.bind(this));se(this,Ei,null);se(this,_b,"");se(this,zh,!1);se(this,Kc,null);se(this,xb,!1);se(this,jh,!1);se(this,vu,!1);se(this,Qa,null);se(this,jg,0);se(this,Bg,0);se(this,fo,null);at(this,"_initialOptions",Object.create(null));at(this,"_isVisible",!0);at(this,"_uiManager",null);at(this,"_focusEventsAllowed",!0);at(this,"_l10nPromise",null);se(this,Eb,!1);se(this,AS,In._zIndex++);this.constructor===In&&Cn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=In.prototype._resizeWithKeyboard,n=Df.TRANSLATE_SMALL,r=Df.TRANSLATE_BIG;return ln(this,"_resizerKeyboardManager",new Jw([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],In.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ln(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Mbe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(In._l10nPromise||(In._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(s=>[s,e.get(s.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),r!=null&&r.strings)for(const s of r.strings)In._l10nPromise.set(s,e.get(s));if(In._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);In._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Cn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return E(this,Eb)}set _isDraggable(e){var n;ne(this,Eb,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=E(this,AS)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ie(this,Wt,jv).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(E(this,zh)?ne(this,zh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/o,this.fixAndSetPosition()}translate(e,n){ie(this,Wt,RP).call(this,this.parentDimensions,e,n)}translateInPage(e,n){E(this,Kc)||ne(this,Kc,[this.x,this.y]),ie(this,Wt,RP).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){E(this,Kc)||ne(this,Kc,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[a,l]=this.getBaseTranslation();s+=a,o+=l,this.div.style.left=`${(100*s).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!E(this,Kc)&&(E(this,Kc)[0]!==this.x||E(this,Kc)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=In,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:s,width:o,height:a}=this;if(o*=n,a*=r,i*=n,s*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-o,i)),s=Math.max(0,Math.min(r-a,s));break;case 90:i=Math.max(0,Math.min(n-a,i)),s=Math.min(r,Math.max(o,s));break;case 180:i=Math.min(n,Math.max(o,i)),s=Math.min(r,Math.max(a,s));break;case 270:i=Math.min(n,Math.max(a,i)),s=Math.max(0,Math.min(r-o,s));break}this.x=i/=n,this.y=s/=r;const[l,u]=this.getBaseTranslation();i+=l,s+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return ie(r=In,Sb,IP).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return ie(r=In,Sb,IP).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,s=r*e;return ps.isCSSRoundSupported?[Math.round(i),Math.round(s)]:[i,s]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,E(this,Dh)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),s=!E(this,Dh)&&n.endsWith("%");if(i&&s)return;const[o,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!E(this,Dh)&&!s&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=E(this,xi))==null||e.finish()}async addEditToolbar(){return E(this,Ei)||E(this,jh)?E(this,Ei):(ne(this,Ei,new vP(this)),this.div.append(E(this,Ei).render()),E(this,xi)&&E(this,Ei).addAltTextButton(await E(this,xi).render()),E(this,Ei))}removeEditToolbar(){var e;E(this,Ei)&&(E(this,Ei).remove(),ne(this,Ei,null),(e=E(this,xi))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){E(this,xi)||(rS.initialize(In._l10nPromise),ne(this,xi,new rS(this)),E(this,Lh)&&(E(this,xi).data=E(this,Lh),ne(this,Lh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=E(this,xi))==null?void 0:e.data}set altTextData(e){E(this,xi)&&(E(this,xi).data=e)}hasAltText(){var e;return!((e=E(this,xi))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=E(this,Dg)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",E(this,Fg),{signal:e}),this.div.addEventListener("focusout",E(this,zg),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),nS(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=ps.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ne(this,zh,!0),this._isDraggable){ie(this,Wt,J8).call(this,e);return}ie(this,Wt,MP).call(this,e)}moveInDOM(){E(this,Qa)&&clearTimeout(E(this,Qa)),ne(this,Qa,setTimeout(()=>{var e;ne(this,Qa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*s,f=this.y*o,p=this.width*s,m=this.height*o;switch(r){case 0:return[d+u+a,o-f-c-m+l,d+u+p+a,o-f-c+l];case 90:return[d+c+a,o-f+u+l,d+c+m+a,o-f+u+p+l];case 180:return[d-u-p+a,o-f+c+l,d-u+a,o-f+c+m+l];case 270:return[d-c-m+a,o-f-u-p+l,d-c+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,o]=e,a=s-r,l=o-i;switch(this.rotation){case 0:return[r,n-o,a,l];case 90:return[r,n-i,l,a];case 180:return[s,n-i,a,l];case 270:return[s,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ne(this,jh,!0)}disableEditMode(){ne(this,jh,!1)}isInEditMode(){return E(this,jh)}shouldGetKeyboardEvents(){return E(this,vu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",E(this,Fg),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",E(this,zg),{signal:e})}rotate(e){}serialize(e=!1,n=null){Cn("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,ne(i,Lh,e.accessibilityData);const[s,o]=i.pageDimensions,[a,l,u,c]=i.getRectInCurrentCoords(e.rect,o);return i.x=a/s,i.y=l/o,i.width=u/s,i.height=c/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",E(this,Fg)),this.div.removeEventListener("focusout",E(this,zg)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),E(this,Qa)&&(clearTimeout(E(this,Qa)),ne(this,Qa,null)),ie(this,Wt,jv).call(this),this.removeEditToolbar(),E(this,fo)){for(const e of E(this,fo).values())clearTimeout(e);ne(this,fo,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(ie(this,Wt,Q8).call(this),E(this,ri).classList.remove("hidden"),nS(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ne(this,Fh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=E(this,ri).children;if(!E(this,ta)){ne(this,ta,Array.from(n));const o=ie(this,Wt,eW).bind(this),a=ie(this,Wt,tW).bind(this),l=this._uiManager._signal;for(const u of E(this,ta)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",ie(this,Wt,nW).bind(this,c),{signal:l}),In._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>u.setAttribute("aria-label",d))}}const r=E(this,ta)[0];let i=0;for(const o of n){if(o===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(E(this,ta).length/4);if(s!==i){if(s<i)for(let a=0;a<i-s;a++)E(this,ri).append(E(this,ri).firstChild);else if(s>i)for(let a=0;a<s-i;a++)E(this,ri).firstChild.before(E(this,ri).lastChild);let o=0;for(const a of n){const u=E(this,ta)[o++].getAttribute("data-resizer-name");In._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>a.setAttribute("aria-label",c))}}ie(this,Wt,LP).call(this,0),ne(this,vu,!0),E(this,ri).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){E(this,vu)&&ie(this,Wt,OP).call(this,E(this,_b),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){ie(this,Wt,jv).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!E(this,Ei)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=E(this,Ei))==null||i.show())});return}(n=E(this,Ei))==null||n.show()}unselect(){var e,n,r,i;(e=E(this,ri))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=E(this,Ei))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return E(this,xb)}set isEditing(e){ne(this,xb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){ne(this,Dh,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){E(this,fo)||ne(this,fo,new Map);const{action:r}=e;let i=E(this,fo).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),E(this,fo).delete(r),E(this,fo).size===0&&ne(this,fo,null)},In._telemetryTimeout),E(this,fo).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ne(this,Dg,!1)}disable(){this.div&&(this.div.tabIndex=-1),ne(this,Dg,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Lh=new WeakMap,ta=new WeakMap,xi=new WeakMap,Dg=new WeakMap,Dh=new WeakMap,ri=new WeakMap,Fh=new WeakMap,Fg=new WeakMap,zg=new WeakMap,Ei=new WeakMap,_b=new WeakMap,zh=new WeakMap,Kc=new WeakMap,xb=new WeakMap,jh=new WeakMap,vu=new WeakMap,Qa=new WeakMap,jg=new WeakMap,Bg=new WeakMap,fo=new WeakMap,Eb=new WeakMap,AS=new WeakMap,Wt=new WeakSet,RP=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},Sb=new WeakSet,IP=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},PP=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},Q8=function(){if(E(this,ri))return;ne(this,ri,document.createElement("div")),E(this,ri).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");E(this,ri).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ie(this,Wt,Z8).bind(this,r),{signal:n}),i.addEventListener("contextmenu",ws,{signal:n}),i.tabIndex=-1}this.div.prepend(E(this,ri))},Z8=function(e,n){var y;n.preventDefault();const{isMac:r}=ps.platform;if(n.button!==0||n.ctrlKey&&r)return;(y=E(this,xi))==null||y.toggle(!1);const i=ie(this,Wt,OP).bind(this,e),s=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",ws,{signal:o});const l=this.x,u=this.y,c=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var b;this.parent.togglePointerEvents(!0),(b=E(this,xi))==null||b.toggle(!0),this._isDraggable=s,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",ws),this.parent.div.style.cursor=f,this.div.style.cursor=p,ie(this,Wt,NP).call(this,l,u,c,d)};window.addEventListener("pointerup",m,{signal:o}),window.addEventListener("blur",m,{signal:o})},NP=function(e,n,r,i){const s=this.x,o=this.y,a=this.width,l=this.height;s===e&&o===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=o;const[u,c]=this.parentDimensions;this.setDims(u*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},OP=function(e,n){const[r,i]=this.parentDimensions,s=this.x,o=this.y,a=this.width,l=this.height,u=In.MIN_SIZE/r,c=In.MIN_SIZE/i,d=G=>Math.round(G*1e4)/1e4,f=ie(this,Wt,PP).call(this,this.rotation),p=(G,Z)=>[f[0]*G+f[2]*Z,f[1]*G+f[3]*Z],m=ie(this,Wt,PP).call(this,360-this.rotation),y=(G,Z)=>[m[0]*G+m[2]*Z,m[1]*G+m[3]*Z];let b,v,x=!1,_=!1;switch(e){case"topLeft":x=!0,b=(G,Z)=>[0,0],v=(G,Z)=>[G,Z];break;case"topMiddle":b=(G,Z)=>[G/2,0],v=(G,Z)=>[G/2,Z];break;case"topRight":x=!0,b=(G,Z)=>[G,0],v=(G,Z)=>[0,Z];break;case"middleRight":_=!0,b=(G,Z)=>[G,Z/2],v=(G,Z)=>[0,Z/2];break;case"bottomRight":x=!0,b=(G,Z)=>[G,Z],v=(G,Z)=>[0,0];break;case"bottomMiddle":b=(G,Z)=>[G/2,Z],v=(G,Z)=>[G/2,0];break;case"bottomLeft":x=!0,b=(G,Z)=>[0,Z],v=(G,Z)=>[G,0];break;case"middleLeft":_=!0,b=(G,Z)=>[0,Z/2],v=(G,Z)=>[G,Z/2];break}const S=b(a,l),k=v(a,l);let O=p(...k);const A=d(s+O[0]),R=d(o+O[1]);let P=1,T=1,[L,M]=this.screenToPageTranslation(n.movementX,n.movementY);if([L,M]=y(L/r,M/i),x){const G=Math.hypot(a,l);P=T=Math.max(Math.min(Math.hypot(k[0]-S[0]-L,k[1]-S[1]-M)/G,1/a,1/l),u/a,c/l)}else _?P=Math.max(u,Math.min(1,Math.abs(k[0]-S[0]-L)))/a:T=Math.max(c,Math.min(1,Math.abs(k[1]-S[1]-M)))/l;const D=d(a*P),N=d(l*T);O=p(...v(D,N));const U=A-O[0],K=R-O[1];this.width=D,this.height=N,this.x=U,this.y=K,this.setDims(r*D,i*N),this.fixAndSetPosition()},MP=function(e){const{isMac:n}=ps.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},J8=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const s=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:s},ne(this,jg,e.clientX),ne(this,Bg,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[c,d]=this.screenToPageTranslation(l-E(this,jg),u-E(this,Bg));ne(this,jg,l),ne(this,Bg,u),this._uiManager.dragSelectedEditors(c,d)},window.addEventListener("pointermove",i,r));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),ne(this,zh,!1),this._uiManager.endDragSession()||ie(this,Wt,MP).call(this,e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})},eW=function(e){In._resizerKeyboardManager.exec(this,e)},tW=function(e){var n;E(this,vu)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==E(this,ri)&&ie(this,Wt,jv).call(this)},nW=function(e){ne(this,_b,E(this,vu)?e:"")},LP=function(e){if(E(this,ta))for(const n of E(this,ta))n.tabIndex=e},jv=function(){if(ne(this,vu,!1),ie(this,Wt,LP).call(this,-1),E(this,Fh)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=E(this,Fh);ie(this,Wt,NP).call(this,e,n,r,i),ne(this,Fh,null)}},se(In,Sb),at(In,"_borderLineWidth",-1),at(In,"_colorManager",new xP),at(In,"_zIndex",1),at(In,"_telemetryTimeout",1e3);let wn=In;class Mbe extends wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const yz=3285377520,uo=4294901760,Va=65535;class rW{constructor(e){this.h1=e?e&4294967295:yz,this.h2=e?e&4294967295:yz}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const v=e.charCodeAt(y);v<=255?n[r++]=v:(n[r++]=v>>>8,n[r++]=v&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,o=new Uint32Array(n.buffer,0,i);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,f=461845907,p=d&Va,m=f&Va;for(let y=0;y<i;y++)y&1?(a=o[y],a=a*d&uo|a*p&Va,a=a<<15|a>>>17,a=a*f&uo|a*m&Va,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[y],l=l*d&uo|l*p&Va,l=l<<15|l>>>17,l=l*f&uo|l*m&Va,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,s){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&uo|a*p&Va,a=a<<15|a>>>17,a=a*f&uo|a*m&Va,i&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&uo|e*36045&Va,n=n*4283543511&uo|((n<<16|e>>>16)*2950163797&uo)>>>16,e^=n>>>1,e=e*444984403&uo|e*60499&Va,n=n*3301882366&uo|((n<<16|e>>>16)*3120437893&uo)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const DP=Object.freeze({map:null,hash:"",transfer:void 0});var Bh,ii,TS,iW;class WO{constructor(){se(this,TS);se(this,Bh,!1);se(this,ii,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=E(this,ii).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return E(this,ii).get(e)}remove(e){if(E(this,ii).delete(e),E(this,ii).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of E(this,ii).values())if(n instanceof wn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=E(this,ii).get(e);let i=!1;if(r!==void 0)for(const[s,o]of Object.entries(n))r[s]!==o&&(i=!0,r[s]=o);else i=!0,E(this,ii).set(e,n);i&&ie(this,TS,iW).call(this),n instanceof wn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return E(this,ii).has(e)}getAll(){return E(this,ii).size>0?zO(E(this,ii)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return E(this,ii).size}resetModified(){E(this,Bh)&&(ne(this,Bh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new sW(this)}get serializable(){if(E(this,ii).size===0)return DP;const e=new Map,n=new rW,r=[],i=Object.create(null);let s=!1;for(const[o,a]of E(this,ii)){const l=a instanceof wn?a.serialize(!1,i):a;l&&(e.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:DP}get editorStats(){let e=null;const n=new Map;for(const r of E(this,ii).values()){if(!(r instanceof wn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;n.has(s)||n.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}Bh=new WeakMap,ii=new WeakMap,TS=new WeakSet,iW=function(){E(this,Bh)||(ne(this,Bh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Cb;class sW extends WO{constructor(n){super();se(this,Cb);const{map:r,hash:i,transfer:s}=n.serializable,o=structuredClone(r,s?{transfer:s}:null);ne(this,Cb,{map:o,hash:i,transfer:s})}get print(){Cn("Should not call PrintAnnotationStorage.print")}get serializable(){return E(this,Cb)}}Cb=new WeakMap;var $g;class Lbe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){se(this,$g,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),E(this,$g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||E(this,$g).has(e.loadedName))){if(Fr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,o=new FontFace(r,i,s);this.addNativeFontFace(o);try{await o.load(),E(this,$g).add(r),n==null||n(e)}catch{Ht(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Cn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ht(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return ln(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ri||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ln(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(Fr(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ln(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(S,k){return S.charCodeAt(k)<<24|S.charCodeAt(k+1)<<16|S.charCodeAt(k+2)<<8|S.charCodeAt(k+3)&255}function i(S,k,O,A){const R=S.substring(0,k),P=S.substring(k+O);return R+A+P}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(S,k){if(++u>30){Ht("Load test font never loaded."),k();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(c.bind(null,S,k))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const m=16,y=1482184792;let b=r(f,m);for(s=0,o=d.length-3;s<o;s+=4)b=b-y+r(d,s)|0;s<d.length&&(b=b-y+r(d+"XXX",s)|0),f=i(f,m,4,vbe(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(x);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const S of[e.loadedName,d]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=S,_.append(k)}this._document.body.append(_),c(d,()=>{_.remove(),n.complete()})}}$g=new WeakMap;class Dbe{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=A8(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(s){Ht(`getPathGenerator - ignoring character: "${s}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(s,o){};const i=[];for(let s=0,o=r.length;s<o;)switch(r[s++]){case nu.BEZIER_CURVE_TO:{const[a,l,u,c,d,f]=r.slice(s,s+6);i.push(p=>p.bezierCurveTo(a,l,u,c,d,f)),s+=6}break;case nu.MOVE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.moveTo(a,l)),s+=2}break;case nu.LINE_TO:{const[a,l]=r.slice(s,s+2);i.push(u=>u.lineTo(a,l)),s+=2}break;case nu.QUADRATIC_CURVE_TO:{const[a,l,u,c]=r.slice(s,s+4);i.push(d=>d.quadraticCurveTo(a,l,u,c)),s+=4}break;case nu.RESTORE:i.push(a=>a.restore());break;case nu.SAVE:i.push(a=>a.save());break;case nu.SCALE:Fr(i.length===2,"Scale command is only valid at the third position.");break;case nu.TRANSFORM:{const[a,l,u,c,d,f]=r.slice(s,s+6);i.push(p=>p.transform(a,l,u,c,d,f)),s+=6}break;case nu.TRANSLATE:{const[a,l]=r.slice(s,s+2);i.push(u=>u.translate(a,l)),s+=2}break}return this.compiledGlyphs[n]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](o)}}}if(Ri){var FP=Promise.withResolvers(),c0=null;(async()=>{const e=await Ov(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Ov(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Ov(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Ov(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let s,o;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:s,path2d:o}))})().then(e=>{c0=e,FP.resolve()},e=>{Ht(`loadPackages: ${e}`),c0=new Map,FP.resolve()})}class Il{static get promise(){return FP.promise}static get(e){return c0==null?void 0:c0.get(e)}}const oW=function(t){return Il.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class Fbe extends GC{}class zbe extends tS{_createCanvas(e,n){return Il.get("canvas").createCanvas(e,n)}}class jbe extends YC{_fetchData(e,n){return oW(e).then(r=>({cMapData:r,compressionType:n}))}}class Bbe extends XC{_fetchData(e){return oW(e)}}const Vi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function zP(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class e1{constructor(){this.constructor===e1&&Cn("Cannot initialize BaseShadingPattern.")}getPattern(){Cn("Abstract method `getPattern` called.")}}class $be extends e1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===Vi.STROKE||i===Vi.FILL){const o=n.current.getClippedPathBoundingBox(i,Zn(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-o[0],-o[1]),r=mt.transform(r,[1,0,0,1,o[0],o[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),zP(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else zP(e,this._bbox),s=this._createGradient(e);return s}}function Pk(t,e,n,r,i,s,o,a){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=o,o=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=o,o=a,a=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=o,o=f);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,x=(l[i+1]+e.offsetY)*e.scaleY;if(m>=x)return;const _=u[s],S=u[s+1],k=u[s+2],O=u[o],A=u[o+1],R=u[o+2],P=u[a],T=u[a+1],L=u[a+2],M=Math.round(m),D=Math.round(x);let N,U,K,G,Z,X,W,q;for(let Q=M;Q<=D;Q++){if(Q<b){const de=Q<m?0:(m-Q)/(m-b);N=p-(p-y)*de,U=_-(_-O)*de,K=S-(S-A)*de,G=k-(k-R)*de}else{let de;Q>x?de=1:b===x?de=0:de=(b-Q)/(b-x),N=y-(y-v)*de,U=O-(O-P)*de,K=A-(A-T)*de,G=R-(R-L)*de}let H;Q<m?H=0:Q>x?H=1:H=(m-Q)/(m-x),Z=p-(p-v)*H,X=_-(_-P)*H,W=S-(S-T)*H,q=k-(k-L)*H;const re=Math.round(Math.min(N,Z)),te=Math.round(Math.max(N,Z));let he=d*Q+re*4;for(let de=re;de<=te;de++)H=(N-de)/(N-Z),H<0?H=0:H>1&&(H=1),c[he++]=U-(U-X)*H|0,c[he++]=K-(K-W)*H|0,c[he++]=G-(G-q)*H|0,c[he++]=255}}function Vbe(t,e,n){const r=e.coords,i=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(s=0;s<l;s++){let c=s*a;for(let d=0;d<u;d++,c++)Pk(t,n,r[c],r[c+1],r[c+a],i[c],i[c+1],i[c+a]),Pk(t,n,r[c+a+1],r[c+1],r[c+a],i[c+a+1],i[c+1],i[c+a])}break;case"triangles":for(s=0,o=r.length;s<o;s+=3)Pk(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Hbe extends e1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},b=d+2*2,v=f+2*2,x=r.getCanvas("mesh",b,v,!1),_=x.context,S=_.createImageData(d,f);if(n){const O=S.data;for(let A=0,R=O.length;A<R;A+=4)O[A]=n[0],O[A+1]=n[1],O[A+2]=n[2],O[A+3]=255}for(const O of this._figures)Vbe(S,O,y);return _.putImageData(S,2,2),{canvas:x.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,n,r,i){zP(e,this._bbox);let s;if(i===Vi.SHADING)s=mt.singularValueDecompose2dScale(Zn(e));else if(s=mt.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=mt.singularValueDecompose2dScale(this.matrix);s=[s[0]*a[0],s[1]*a[1]]}const o=this._createMeshCanvas(s,i===Vi.SHADING?null:this._background,n.cachedCanvases);return i!==Vi.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Ube extends e1{getPattern(){return"hotpink"}}function Wbe(t){switch(t[0]){case"RadialAxial":return new $be(t);case"Mesh":return new Hbe(t);case"Dummy":return new Ube}throw new Error(`Unknown IR type: ${t[0]}`)}const vz={COLORED:1,UNCOLORED:2},kS=class kS{constructor(e,n,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,s=this.ystep,o=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;UC("TilingType: "+a);const c=r[0],d=r[1],f=r[2],p=r[3],m=mt.singularValueDecompose2dScale(this.matrix),y=mt.singularValueDecompose2dScale(this.baseTransform),b=[m[0]*y[0],m[1]*y[1]],v=this.getSizeAndScale(i,this.ctx.canvas.width,b[0]),x=this.getSizeAndScale(s,this.ctx.canvas.height,b[1]),_=e.cachedCanvases.getCanvas("pattern",v.size,x.size,!0),S=_.context,k=u.createCanvasGraphics(S);k.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,o,l);let O=c,A=d,R=f,P=p;return c<0&&(O=0,R+=Math.abs(c)),d<0&&(A=0,P+=Math.abs(d)),S.translate(-(v.scale*O),-(x.scale*A)),k.transform(v.scale,0,0,x.scale,0,0),S.save(),this.clipBbox(k,O,A,R,P),k.baseTransform=Zn(k.ctx),k.executeOperatorList(n),k.endDrawing(),{canvas:_.canvas,scaleX:v.scale,scaleY:x.scale,offsetX:O,offsetY:A}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(kS.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const o=i-n,a=s-r;e.ctx.rect(n,r,o,a),e.current.updateRectMinMax(Zn(e.ctx),[n,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case vz.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,s.fillColor=o.fillStyle,s.strokeColor=o.strokeStyle;break;case vz.UNCOLORED:const a=mt.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,s.fillColor=a,s.strokeColor=a;break;default:throw new ybe(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let s=r;i!==Vi.SHADING&&(s=mt.transform(s,n.baseTransform),this.matrix&&(s=mt.transform(s,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(s);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};at(kS,"MAX_PATTERN_SIZE",3e3);let jP=kS;function qbe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=ps.isLittleEndian?4278190080:255,[l,u]=o?[s,a]:[a,s],c=r>>3,d=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const b=e+c;e<b;e++){const v=e<f?t[e]:255;n[p++]=v&128?u:l,n[p++]=v&64?u:l,n[p++]=v&32?u:l,n[p++]=v&16?u:l,n[p++]=v&8?u:l,n[p++]=v&4?u:l,n[p++]=v&2?u:l,n[p++]=v&1?u:l}if(d===0)continue;const y=e<f?t[e++]:255;for(let b=0;b<d;b++)n[p++]=y&1<<7-b?u:l}return{srcPos:e,destPos:p}}const bz=16,wz=100,Gbe=15,_z=10,xz=1e3,us=16;function Ybe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,s,o,a,l){e.transform(r,i,s,o,a,l),this.__originalTransform(r,i,s,o,a,l)},t.setTransform=function(r,i,s,o,a,l){e.setTransform(r,i,s,o,a,l),this.__originalSetTransform(r,i,s,o,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,o,a){e.bezierCurveTo(n,r,i,s,o,a),this.__originalBezierCurveTo(n,r,i,s,o,a)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Xbe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function tx(t,e,n,r,i,s,o,a,l,u){const[c,d,f,p,m,y]=Zn(t);if(d===0&&f===0){const x=o*c+m,_=Math.round(x),S=a*p+y,k=Math.round(S),O=(o+l)*c+m,A=Math.abs(Math.round(O)-_)||1,R=(a+u)*p+y,P=Math.abs(Math.round(R)-k)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(p),_,k),t.drawImage(e,n,r,i,s,0,0,A,P),t.setTransform(c,d,f,p,m,y),[A,P]}if(c===0&&p===0){const x=a*f+m,_=Math.round(x),S=o*d+y,k=Math.round(S),O=(a+u)*f+m,A=Math.abs(Math.round(O)-_)||1,R=(o+l)*d+y,P=Math.abs(Math.round(R)-k)||1;return t.setTransform(0,Math.sign(d),Math.sign(f),0,_,k),t.drawImage(e,n,r,i,s,0,0,P,A),t.setTransform(c,d,f,p,m,y),[P,A]}t.drawImage(e,n,r,i,s,o,a,l,u);const b=Math.hypot(c,d),v=Math.hypot(f,p);return[b*l,v*u]}function Kbe(t){const{width:e,height:n}=t;if(e>xz||n>xz)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let o=new Uint8Array(s*(n+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),f=0;for(const v of t.data){let x=128;for(;x>0;)d[f++]=v&x?0:255,x>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[l]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[l]=2,++p),a=1;a<n;a++){f=a*c,u=a*s,d[f-c]!==d[f]&&(o[u]=d[f]?1:8,++p);let v=(d[f]?4:0)+(d[f-c]?8:0);for(l=1;l<e;l++)v=(v>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0),i[v]&&(o[u+l]=i[v],++p),f++;if(d[f-c]!==d[f]&&(o[u+l]=d[f]?2:4,++p),p>r)return null}for(f=c*(n-1),u=a*s,d[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)d[f]!==d[f+1]&&(o[u+l]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=n;a++){let v=a*s;const x=v+e;for(;v<x&&!o[v];)v++;if(v===x)continue;y.moveTo(v%s,a);const _=v;let S=o[v];do{const k=m[S];do v+=k;while(!o[v]);const O=o[v];O!==5&&O!==10?(S=O,o[v]=0):(S=O&51*S>>4,o[v]&=S>>2|S<<2),y.lineTo(v%s,v/s|0),o[v]||--p}while(_!==v);--a}return d=null,o=null,function(v){v.save(),v.scale(1/e,-1/n),v.translate(0,-n),v.fill(y),v.beginPath(),v.restore()}}class Ez{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=S8,this.textMatrixScale=1,this.fontMatrix=dP,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=mt.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=mt.applyTransform(n,e),i=mt.applyTransform(n.slice(2),e),s=mt.applyTransform([n[0],n[3]],e),o=mt.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],o[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],o[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],o[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],o[1])}updateScalingPathMinMax(e,n){mt.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,s,o,a,l,u,c){const d=mt.bezierBoundingBox(n,r,i,s,o,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=Vi.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Vi.STROKE){n||Cn("Stroke bounding box must include transform.");const i=mt.singularValueDecompose2dScale(n),s=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=o,r[2]+=s,r[3]+=o}return r}updateClipFromPath(){const e=mt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Vi.FILL,n=null){return mt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function Sz(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%us,s=(n-i)/us,o=i===0?s:s+1,a=t.createImageData(r,us);let l=0,u;const c=e.data,d=a.data;let f,p,m,y;if(e.kind===jx.GRAYSCALE_1BPP){const b=c.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),x=v.length,_=r+7>>3,S=4294967295,k=ps.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<s?us:i,u=0,p=0;p<m;p++){const O=b-l;let A=0;const R=O>_?r:O*8-7,P=R&-8;let T=0,L=0;for(;A<P;A+=8)L=c[l++],v[u++]=L&128?S:k,v[u++]=L&64?S:k,v[u++]=L&32?S:k,v[u++]=L&16?S:k,v[u++]=L&8?S:k,v[u++]=L&4?S:k,v[u++]=L&2?S:k,v[u++]=L&1?S:k;for(;A<R;A++)T===0&&(L=c[l++],T=128),v[u++]=L&T?S:k,T>>=1}for(;u<x;)v[u++]=0;t.putImageData(a,0,f*us)}}else if(e.kind===jx.RGBA_32BPP){for(p=0,y=r*us*4,f=0;f<s;f++)d.set(c.subarray(l,l+y)),l+=y,t.putImageData(a,0,p),p+=us;f<o&&(y=r*i*4,d.set(c.subarray(l,l+y)),t.putImageData(a,0,p))}else if(e.kind===jx.RGB_24BPP)for(m=us,y=r*m,f=0;f<o;f++){for(f>=s&&(m=i,y=r*m),u=0,p=y;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(a,0,f*us)}else throw new Error(`bad image kind: ${e.kind}`)}function Cz(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%us,s=(n-i)/us,o=i===0?s:s+1,a=t.createImageData(r,us);let l=0;const u=e.data,c=a.data;for(let d=0;d<o;d++){const f=d<s?us:i;({srcPos:l}=qbe({src:u,srcPos:l,dest:c,width:r,height:f,nonBlackColor:0})),t.putImageData(a,0,d*us)}}function dv(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function nx(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Ri){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function Az(t,e){if(e)return!0;const n=mt.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Id.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const Qbe=["butt","round","square"],Zbe=["miter","round","bevel"],Jbe={},Tz={};var Od,BP,$P;const EM=class EM{constructor(e,n,r,i,s,{optionalContentConfig:o,markedContentStack:a=null},l,u){se(this,Od);this.ctx=e,this.current=new Ez(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Xbe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Zn(this.compositeCtx))}this.ctx.save(),nx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Zn(this.ctx)}executeOperatorList(e,n,r,i){const s=e.argsArray,o=e.fnArray;let a=n||0;const l=s.length;if(l===a)return a;const u=l-a>_z&&typeof r=="function",c=u?Date.now()+Gbe:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=o[a],m!==Ko.dependency)this[m].apply(this,s[a]);else for(const y of s[a]){const b=y.startsWith("g_")?f:p;if(!b.has(y))return b.get(y,r),a}if(a++,a===l)return a;if(u&&++d>_z){if(Date.now()>c)return r(),a;d=0}}}endDrawing(){ie(this,Od,BP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),ie(this,Od,$P).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let s=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,u="prescale1",c,d;for(;s>2&&a>1||o>2&&l>1;){let f=a,p=l;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),c=this.cachedCanvases.getCanvas(u,f,p),d=c.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,l,0,0,f,p),e=c.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,o=this.current.patternFill,a=Zn(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),s]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const P=l.get(u);if(P&&!o){const T=Math.round(Math.min(a[0],a[2])+a[4]),L=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:P,offsetX:T,offsetY:L}}c=P}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),Cz(d.context,e));let f=mt.transform(a,[1/r,0,0,-1/i,0,0]);f=mt.transform(f,[1,0,0,1,0,-i]);const[p,m,y,b]=mt.getAxialAlignedBoundingBox([0,0,r,i],f),v=Math.round(y-p)||1,x=Math.round(b-m)||1,_=this.cachedCanvases.getCanvas("fillCanvas",v,x),S=_.context,k=p,O=m;S.translate(-k,-O),S.transform(...f),c||(c=this._scaleImage(d.canvas,ru(S)),c=c.img,l&&o&&l.set(u,c)),S.imageSmoothingEnabled=Az(Zn(S),e.interpolate),tx(S,c,0,0,c.width,c.height,0,0,r,i),S.globalCompositeOperation="source-in";const A=mt.transform(ru(S),[1,0,0,1,-k,-O]);return S.fillStyle=o?s.getPattern(n,this,A,Vi.FILL):s,S.fillRect(0,0,r,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(k),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Qbe[e]}setLineJoin(e){this.ctx.lineJoin=Zbe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Zn(this.suspendedCtx)),dv(this.suspendedCtx,s),Ybe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],o=i[1],a=i[2]-s,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,s,o,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,o,a,l,u,c,d){let f=e.canvas,p=l-c,m=u-d;if(o){if(p<0||m<0||p+r>f.width||m+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),v=b.context;v.drawImage(f,-p,-m),o.some(x=>x!==0)&&(v.globalCompositeOperation="destination-atop",v.fillStyle=mt.makeHexColor(...o),v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over"),f=b.canvas,p=m=0}else if(o.some(b=>b!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,m,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=mt.makeHexColor(...o),e.fillRect(p,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(f,p,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(dv(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dv(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,s,o){this.ctx.transform(e,n,r,i,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,s=this.current;let o=s.x,a=s.y,l,u;const c=Zn(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,f=d?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case Ko.rectangle:o=n[m++],a=n[m++];const b=n[m++],v=n[m++],x=o+b,_=a+v;i.moveTo(o,a),b===0||v===0?i.lineTo(x,_):(i.lineTo(x,a),i.lineTo(x,_),i.lineTo(o,_)),d||s.updateRectMinMax(c,[o,a,x,_]),i.closePath();break;case Ko.moveTo:o=n[m++],a=n[m++],i.moveTo(o,a),d||s.updatePathMinMax(c,o,a);break;case Ko.lineTo:o=n[m++],a=n[m++],i.lineTo(o,a),d||s.updatePathMinMax(c,o,a);break;case Ko.curveTo:l=o,u=a,o=n[m+4],a=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],o,a),s.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],o,a,f),m+=6;break;case Ko.curveTo2:l=o,u=a,i.bezierCurveTo(o,a,n[m],n[m+1],n[m+2],n[m+3]),s.updateCurvePathMinMax(c,l,u,o,a,n[m],n[m+1],n[m+2],n[m+3],f),o=n[m+2],a=n[m+3],m+=4;break;case Ko.curveTo3:l=o,u=a,o=n[m+2],a=n[m+3],i.bezierCurveTo(n[m],n[m+1],o,a,o,a),s.updateCurvePathMinMax(c,l,u,n[m],n[m+1],o,a,o,a,f),m+=4;break;case Ko.closePath:i.closePath();break}d&&s.updateScalingPathMinMax(c,f),s.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,ru(n),Vi.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,ru(n),Vi.FILL),s=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),s&&n.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Jbe}eoClip(){this.pendingClip=Tz}beginText(){this.current.textMatrix=S8,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||dP,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((c=r.systemFontInfo)==null?void 0:c.css)||`"${s}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=n;n<bz?u=bz:n>wz&&(u=wz),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,s,o){this.current.textMatrix=[e,n,r,i,s,o],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const s=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,c=l&bi.FILL_STROKE_MASK,d=!!(l&bi.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(s.save(),s.translate(n,r),s.beginPath(),p(s,u),i&&s.setTransform(...i),(c===bi.FILL||c===bi.FILL_STROKE)&&s.fill(),(c===bi.STROKE||c===bi.FILL_STROKE)&&s.stroke(),s.restore()):((c===bi.FILL||c===bi.FILL_STROKE)&&s.fillText(e,n,r),(c===bi.STROKE||c===bi.FILL_STROKE)&&s.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Zn(s),x:n,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return ln(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const s=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,f=r.vertical,p=f?1:-1,m=r.defaultVMetrics,y=i*n.fontMatrix[0],b=n.textRenderingMode===bi.FILL&&!r.disableFontFace&&!n.patternFill;s.save(),s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),u>0?s.scale(c,-1):s.scale(c,1);let v;if(n.patternFill){s.save();const O=n.fillColor.getPattern(s,this,ru(s),Vi.FILL);v=Zn(s),s.restore(),s.fillStyle=O}let x=n.lineWidth;const _=n.textMatrixScale;if(_===0||x===0){const O=n.textRenderingMode&bi.FILL_STROKE_MASK;(O===bi.STROKE||O===bi.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=_;if(o!==1&&(s.scale(o,o),x/=o),s.lineWidth=x,r.isInvalidPDFjsFont){const O=[];let A=0;for(const R of e)O.push(R.unicode),A+=R.width;s.fillText(O.join(""),0,0),n.x+=A*y*c,s.restore(),this.compose();return}let S=0,k;for(k=0;k<d;++k){const O=e[k];if(typeof O=="number"){S+=p*O*i/1e3;continue}let A=!1;const R=(O.isSpace?l:0)+a,P=O.fontChar,T=O.accent;let L,M,D=O.width;if(f){const U=O.vmetric||m,K=-(O.vmetric?U[1]:D*.5)*y,G=U[2]*y;D=U?-U[0]:D,L=K/o,M=(S+G)/o}else L=S/o,M=0;if(r.remeasure&&D>0){const U=s.measureText(P).width*1e3/i*o;if(D<U&&this.isFontSubpixelAAEnabled){const K=D/U;A=!0,s.save(),s.scale(K,1),L/=K}else D!==U&&(L+=(D-U)/2e3*i/o)}if(this.contentVisible&&(O.isInFont||r.missingFile)){if(b&&!T)s.fillText(P,L,M);else if(this.paintChar(P,L,M,v),T){const U=L+i*T.offset.x/o,K=M-i*T.offset.y/o;this.paintChar(T.fontChar,U,K,v)}}const N=f?D*y-R*u:D*y+R*u;S+=N,A&&s.restore()}f?n.y-=S:n.x+=S*c,s.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,s=r.fontSize,o=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*o,d=r.fontMatrix||dP,f=e.length,p=r.textRenderingMode===bi.INVISIBLE;let m,y,b,v;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,o),m=0;m<f;++m){if(y=e[m],typeof y=="number"){v=a*y*s/1e3,this.ctx.translate(v,0),r.x+=v*c;continue}const x=(y.isSpace?u:0)+l,_=i.charProcOperatorList[y.operatorListId];if(!_){Ht(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),n.scale(s,s),n.transform(...d),this.executeOperatorList(_),this.restore()),b=mt.applyTransform([y.width,0],d)[0]*s+x,n.translate(b,0),r.x+=b*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,s,o){this.ctx.rect(r,i,s-r,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Zn(this.ctx),s={createCanvasGraphics:o=>new EM(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new jP(e,r,this.ctx,s,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=mt.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=mt.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=Wbe(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,ru(n),Vi.SHADING);const i=ru(n);if(i){const{width:s,height:o}=n.canvas,[a,l,u,c]=mt.getAxialAlignedBoundingBox([0,0,s,o],i);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Cn("Should not call beginInlineImage")}beginImageData(){Cn("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Zn(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Zn(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||UC("TODO: Support non-isolated groups."),e.knockout&&Ht("Knockout groups not supported.");const r=Zn(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=mt.getAxialAlignedBoundingBox(e.bbox,Zn(n));const s=[0,0,n.canvas.width,n.canvas.height];i=mt.intersect(i,s)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),f=d.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),dv(n,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Zn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=mt.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,n,r,i,s){if(ie(this,Od,BP).call(this),nx(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a;const[l,u]=mt.singularValueDecompose2dScale(Zn(this.ctx)),{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),f=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),nx(this.ctx)}else nx(this.ctx),this.ctx.rect(n[0],n[1],o,a),this.ctx.clip(),this.endPath()}this.current=new Ez(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ie(this,Od,$P).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Kbe(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,s,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Zn(a);a.transform(n,r,i,s,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=o.length;c<d;c+=2){const f=mt.transform(l,[n,r,i,s,o[c],o[c+1]]),[p,m]=mt.applyTransform([0,0],f);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:o,width:a,height:l,transform:u}=s,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const f=this.getObject(o,s);Cz(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,ru(n),Vi.FILL):r,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),tx(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Ht("Dependent image isn't ready yet");return}const o=s.width,a=s.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!Ri){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;Sz(l,e),s=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(s,ru(i));i.imageSmoothingEnabled=Az(Zn(i),e.interpolate),tx(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,o).context;Sz(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of n)r.save(),r.transform(...s.transform),r.scale(1,-1),tx(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===Tz?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Zn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let o,a;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(s);if(l===u)if(e===0)o=a=1/l;else{const c=l*e;o=a=c<1?1/c:1}else if(e===0)o=1/l,a=1/u;else{const c=l*e,d=u*e;o=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(n*s-r*i),u=Math.hypot(n,r),c=Math.hypot(i,s);if(e===0)o=c/l,a=u/l;else{const d=e*l;o=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&s===1){n.stroke();return}const o=n.getLineDash();if(e&&n.save(),n.scale(i,s),o.length>0){const a=Math.max(i,s);n.setLineDash(o.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Od=new WeakSet,BP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$P=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Cg=EM;for(const t in Ko)Cg.prototype[t]!==void 0&&(Cg.prototype[Ko[t]]=Cg.prototype[t]);var Ab,Tb;class Hu{static get workerPort(){return E(this,Ab)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ne(this,Ab,e)}static get workerSrc(){return E(this,Tb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ne(this,Tb,e)}}Ab=new WeakMap,Tb=new WeakMap,se(Hu,Ab,null),se(Hu,Tb,"");const rx={DATA:1,ERROR:2},yr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ms(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Cn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Jf(t.message);case"MissingPDFException":return new Zf(t.message);case"PasswordException":return new fP(t.message,t.code);case"UnexpectedResponseException":return new WC(t.message,t.status);case"UnknownErrorException":return new pP(t.message,t.details);default:return new pP(t.message,t.toString())}}var El,aW,lW,Wx;class Bv{constructor(e,n,r){se(this,El);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const s=i.data;if(s.targetName!==this.sourceName)return;if(s.stream){ie(this,El,lW).call(this,s);return}if(s.callback){const a=s.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],s.callback===rx.DATA)l.resolve(s.data);else if(s.callback===rx.ERROR)l.reject(Ms(s.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[s.action];if(!o)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const a=this.sourceName,l=s.sourceName;new Promise(function(u){u(o(s.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:rx.DATA,callbackId:s.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:rx.ERROR,callbackId:s.callbackId,reason:Ms(u)})});return}if(s.streamId){ie(this,El,aW).call(this,s);return}o(s.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[s].pullCall=c,l.postMessage({sourceName:o,targetName:a,stream:yr.PULL,streamId:s,desiredSize:u.desiredSize}),c.promise},cancel:u=>{Fr(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[s].cancelCall=c,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:yr.CANCEL,streamId:s,reason:Ms(u)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}El=new WeakSet,aW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=c,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:yr.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:yr.CLOSE,streamId:n}),delete o.streamSinks[n])},error(u){Fr(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:yr.ERROR,streamId:n,reason:Ms(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:yr.START_COMPLETE,streamId:n,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:yr.START_COMPLETE,streamId:n,reason:Ms(u)})})},lW=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case yr.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Ms(e.reason));break;case yr.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Ms(e.reason));break;case yr.PULL:if(!a){s.postMessage({sourceName:r,targetName:i,stream:yr.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:yr.PULL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:yr.PULL_COMPLETE,streamId:n,reason:Ms(l)})});break;case yr.ENQUEUE:if(Fr(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case yr.CLOSE:if(Fr(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),ie(this,El,Wx).call(this,o,n);break;case yr.ERROR:Fr(o,"error should have stream controller"),o.controller.error(Ms(e.reason)),ie(this,El,Wx).call(this,o,n);break;case yr.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Ms(e.reason)),ie(this,El,Wx).call(this,o,n);break;case yr.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,Ms(e.reason)))}).then(function(){s.postMessage({sourceName:r,targetName:i,stream:yr.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){s.postMessage({sourceName:r,targetName:i,stream:yr.CANCEL_COMPLETE,streamId:n,reason:Ms(l)})}),a.sinkCapability.reject(Ms(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Wx=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var $h,kb;class ewe{constructor({parsedData:e,rawData:n}){se(this,$h);se(this,kb);ne(this,$h,e),ne(this,kb,n)}getRaw(){return E(this,kb)}get(e){return E(this,$h).get(e)??null}getAll(){return zO(E(this,$h))}has(e){return E(this,$h).has(e)}}$h=new WeakMap,kb=new WeakMap;const jc=Symbol("INTERNAL");var Rb,Ib,Pb,Vg;class twe{constructor(e,{name:n,intent:r,usage:i}){se(this,Rb,!1);se(this,Ib,!1);se(this,Pb,!1);se(this,Vg,!0);ne(this,Rb,!!(e&mo.DISPLAY)),ne(this,Ib,!!(e&mo.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(E(this,Pb))return E(this,Vg);if(!E(this,Vg))return!1;const{print:e,view:n}=this.usage;return E(this,Rb)?(n==null?void 0:n.viewState)!=="OFF":E(this,Ib)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==jc&&Cn("Internal method `_setVisible` called."),ne(this,Pb,r),ne(this,Vg,n)}}Rb=new WeakMap,Ib=new WeakMap,Pb=new WeakMap,Vg=new WeakMap;var Qc,Sn,Hg,Ug,Nb,VP;class nwe{constructor(e,n=mo.DISPLAY){se(this,Nb);se(this,Qc,null);se(this,Sn,new Map);se(this,Hg,null);se(this,Ug,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ne(this,Ug,e.order);for(const r of e.groups)E(this,Sn).set(r.id,new twe(n,r));if(e.baseState==="OFF")for(const r of E(this,Sn).values())r._setVisible(jc,!1);for(const r of e.on)E(this,Sn).get(r)._setVisible(jc,!0);for(const r of e.off)E(this,Sn).get(r)._setVisible(jc,!1);ne(this,Hg,this.getHash())}}isVisible(e){if(E(this,Sn).size===0)return!0;if(!e)return UC("Optional content group not defined."),!0;if(e.type==="OCG")return E(this,Sn).has(e.id)?E(this,Sn).get(e.id).visible:(Ht(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ie(this,Nb,VP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!E(this,Sn).has(n))return Ht(`Optional content group not found: ${n}`),!0;if(E(this,Sn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!E(this,Sn).has(n))return Ht(`Optional content group not found: ${n}`),!0;if(!E(this,Sn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!E(this,Sn).has(n))return Ht(`Optional content group not found: ${n}`),!0;if(!E(this,Sn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!E(this,Sn).has(n))return Ht(`Optional content group not found: ${n}`),!0;if(E(this,Sn).get(n).visible)return!1}return!0}return Ht(`Unknown optional content policy ${e.policy}.`),!0}return Ht(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=E(this,Sn).get(e);if(!r){Ht(`Optional content group not found: ${e}`);return}r._setVisible(jc,!!n,!0),ne(this,Qc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=E(this,Sn).get(i);if(s)switch(r){case"ON":s._setVisible(jc,!0);break;case"OFF":s._setVisible(jc,!1);break;case"Toggle":s._setVisible(jc,!s.visible);break}}ne(this,Qc,null)}get hasInitialVisibility(){return E(this,Hg)===null||this.getHash()===E(this,Hg)}getOrder(){return E(this,Sn).size?E(this,Ug)?E(this,Ug).slice():[...E(this,Sn).keys()]:null}getGroups(){return E(this,Sn).size>0?zO(E(this,Sn)):null}getGroup(e){return E(this,Sn).get(e)||null}getHash(){if(E(this,Qc)!==null)return E(this,Qc);const e=new rW;for(const[n,r]of E(this,Sn))e.update(`${n}:${r.visible}`);return ne(this,Qc,e.hexdigest())}}Qc=new WeakMap,Sn=new WeakMap,Hg=new WeakMap,Ug=new WeakMap,Nb=new WeakSet,VP=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let o;if(Array.isArray(s))o=ie(this,Nb,VP).call(this,s);else if(E(this,Sn).has(s))o=E(this,Sn).get(s).visible;else return Ht(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class rwe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){Fr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Fr(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Fr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new iwe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new swe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class iwe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=HO(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class swe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function owe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),s(c)}if(n=o(t),n){const c=u(n);return s(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),s(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(c,{fatal:!0}),p=qC(d);d=f.decode(p),e=!1}catch{}}return d}function s(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function o(c){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(c))!==null;){let[,y,b,v]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,v]}const m=[];for(let y=0;y<d.length&&y in d;++y){let[b,v]=d[y];v=a(v),b&&(v=unescape(v),y===0&&(v=l(v))),m.push(v)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const f=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(f,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function qO({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function GO(t){const e=t("Content-Disposition");if(e){let n=owe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(HO(n))return n}return null}function QC(t,e){return t===404||t===0&&e.startsWith("file:")?new Zf('Missing PDF "'+e+'".'):new WC(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function uW(t){return t===200||t===206}function cW(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function dW(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function hW(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ht(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class kz{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new awe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new lwe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class awe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=dW(this._stream.httpHeaders);const r=n.url;fetch(r,cW(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!uW(i.status))throw QC(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const s=l=>i.headers.get(l),{allowRangeRequests:o,suggestedLength:a}=qO({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=GO(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Jf("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:hW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class lwe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=dW(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,cW(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!uW(o.status))throw QC(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:hW(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Nk=200,Ok=206;function uwe(t){const e=t.response;return typeof e!="string"?e:qC(e).buffer}class cwe{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const s in r)i[s]=r[s];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const s in this.httpHeaders){const o=this.httpHeaders[s];o!==void 0&&n.setRequestHeader(s,o)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Ok):i.expectedStatus=Nk,n.responseType="arraybuffer",e.onError&&(n.onerror=function(s){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const s=i.status||Nk;if(!(s===Nk&&r.expectedStatus===Ok)&&s!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=uwe(i);if(s===Ok){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class dwe{constructor(e){this._source=e,this._manager=new cwe(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Fr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hwe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new fwe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class hwe{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=o=>n.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:s}=qO({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=GO(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=QC(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fwe{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=QC(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fW=/^file:\/\/\/[a-zA-Z]:\//;function pwe(t){const e=Il.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class gwe{constructor(e){this.source=e,this.url=pwe(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Fr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vwe(this):new mwe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new bwe(this,e,n):new ywe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class pW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Jf("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class gW{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function iS(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class mwe extends pW{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new Zf(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:s,suggestedLength:o}=qO({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=o||this._contentLength,this._filename=GO(i)};if(this._request=null,this._url.protocol==="http:"){const r=Il.get("http");this._request=r.request(iS(this._url,e.httpHeaders),n)}else{const r=Il.get("https");this._request=r.request(iS(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class ywe extends gW{constructor(e,n,r){super(e),this._httpHeaders={};for(const s in e.httpHeaders){const o=e.httpHeaders[s];o!==void 0&&(this._httpHeaders[s]=o)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=s=>{if(s.statusCode===404){const o=new Zf(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(s)};if(this._request=null,this._url.protocol==="http:"){const s=Il.get("http");this._request=s.request(iS(this._url,this._httpHeaders),i)}else{const s=Il.get("https");this._request=s.request(iS(this._url,this._httpHeaders),i)}this._request.on("error",s=>{this._storedError=s}),this._request.end()}}class vwe extends pW{constructor(e){super(e);let n=decodeURIComponent(this._url.path);fW.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Il.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Zf(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class bwe extends gW{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);fW.test(this._url.href)&&(i=i.replace(/^\//,""));const s=Il.get("fs");this._setReadableStream(s.createReadStream(i,{start:n,end:r-1}))}}const wwe=1e5,ss=30,_we=.8;var wB,Zc,ls,Ob,Mb,Vh,bu,Lb,Db,Hh,Wg,qg,Jc,Gg,Fb,Yg,Uh,zb,jb,Wh,qh,ed,Xg,tc,mW,yW,HP,Sl,qx,vW,bW;const _i=class _i{constructor({textContentSource:e,container:n,viewport:r}){se(this,tc);se(this,Zc,Promise.withResolvers());se(this,ls,null);se(this,Ob,!1);se(this,Mb,!!((wB=globalThis.FontInspector)!=null&&wB.enabled));se(this,Vh,null);se(this,bu,null);se(this,Lb,0);se(this,Db,0);se(this,Hh,null);se(this,Wg,null);se(this,qg,0);se(this,Jc,0);se(this,Gg,Object.create(null));se(this,Fb,[]);se(this,Yg,null);se(this,Uh,[]);se(this,zb,new WeakMap);se(this,jb,null);var l;if(e instanceof ReadableStream)ne(this,Yg,e);else if(typeof e=="object")ne(this,Yg,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ne(this,ls,ne(this,Wg,n)),ne(this,Jc,r.scale*(globalThis.devicePixelRatio||1)),ne(this,qg,r.rotation),ne(this,bu,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:o,pageY:a}=r.rawDims;ne(this,jb,[1,0,0,-1,-o,a+s]),ne(this,Db,i),ne(this,Lb,s),ie(l=_i,Sl,vW).call(l),Lf(n,r),E(this,Zc).promise.catch(()=>{}).then(()=>{E(_i,Xg).delete(this),ne(this,bu,null),ne(this,Gg,null)})}render(){const e=()=>{E(this,Hh).read().then(({value:n,done:r})=>{if(r){E(this,Zc).resolve();return}E(this,Vh)??ne(this,Vh,n.lang),Object.assign(E(this,Gg),n.styles),ie(this,tc,mW).call(this,n.items),e()},E(this,Zc).reject)};return ne(this,Hh,E(this,Yg).getReader()),E(_i,Xg).add(this),e(),E(this,Zc).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==E(this,qg)&&(n==null||n(),ne(this,qg,i),Lf(E(this,Wg),{rotation:i})),r!==E(this,Jc)){n==null||n(),ne(this,Jc,r);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:ie(s=_i,Sl,qx).call(s,E(this,Vh))};for(const a of E(this,Uh))o.properties=E(this,zb).get(a),o.div=a,ie(this,tc,HP).call(this,o)}}cancel(){var n;const e=new Jf("TextLayer task cancelled.");(n=E(this,Hh))==null||n.cancel(e).catch(()=>{}),ne(this,Hh,null),E(this,Zc).reject(e)}get textDivs(){return E(this,Uh)}get textContentItemsStr(){return E(this,Fb)}static cleanup(){if(!(E(this,Xg).size>0)){E(this,Wh).clear();for(const{canvas:e}of E(this,qh).values())e.remove();E(this,qh).clear()}}};Zc=new WeakMap,ls=new WeakMap,Ob=new WeakMap,Mb=new WeakMap,Vh=new WeakMap,bu=new WeakMap,Lb=new WeakMap,Db=new WeakMap,Hh=new WeakMap,Wg=new WeakMap,qg=new WeakMap,Jc=new WeakMap,Gg=new WeakMap,Fb=new WeakMap,Yg=new WeakMap,Uh=new WeakMap,zb=new WeakMap,jb=new WeakMap,Wh=new WeakMap,qh=new WeakMap,ed=new WeakMap,Xg=new WeakMap,tc=new WeakSet,mW=function(e){var i,s;if(E(this,Ob))return;(s=E(this,bu)).ctx??(s.ctx=ie(i=_i,Sl,qx).call(i,E(this,Vh)));const n=E(this,Uh),r=E(this,Fb);for(const o of e){if(n.length>wwe){Ht("Ignoring additional textDivs for performance reasons."),ne(this,Ob,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=E(this,ls);ne(this,ls,document.createElement("span")),E(this,ls).classList.add("markedContent"),o.id!==null&&E(this,ls).setAttribute("id",`${o.id}`),a.append(E(this,ls))}else o.type==="endMarkedContent"&&ne(this,ls,E(this,ls).parentNode);continue}r.push(o.str),ie(this,tc,yW).call(this,o)}},yW=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};E(this,Uh).push(n);const i=mt.transform(E(this,jb),e.transform);let s=Math.atan2(i[1],i[0]);const o=E(this,Gg)[e.fontName];o.vertical&&(s+=Math.PI/2);const a=E(this,Mb)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(i[2],i[3]),u=l*ie(y=_i,Sl,bW).call(y,a,E(this,Vh));let c,d;s===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(s),d=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=n.style;E(this,ls)===E(this,Wg)?(p.left=`${(100*c/E(this,Db)).toFixed(2)}%`,p.top=`${(100*d/E(this,Lb)).toFixed(2)}%`):(p.left=`${f}${c.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(E(_i,ed)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,E(this,Mb)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(m=!0)}if(m&&(r.canvasWidth=o.vertical?e.height:e.width),E(this,zb).set(n,r),E(this,bu).div=n,E(this,bu).properties=r,ie(this,tc,HP).call(this,E(this,bu)),r.hasText&&E(this,ls).append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),E(this,ls).append(b)}},HP=function(e){const{div:n,properties:r,ctx:i,prevFontSize:s,prevFontFamily:o}=e,{style:a}=n;let l="";if(E(_i,ed)>1&&(l=`scale(${1/E(_i,ed)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:d}=r;(s!==d||o!==u)&&(i.font=`${d*E(this,Jc)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:f}=i.measureText(n.textContent);f>0&&(l=`scaleX(${c*E(this,Jc)/f}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Sl=new WeakSet,qx=function(e=null){let n=E(this,qh).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),E(this,qh).set(e,n)}return n},vW=function(){if(E(this,ed)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ne(this,ed,e.getBoundingClientRect().height),e.remove()},bW=function(e,n){const r=E(this,Wh).get(e);if(r)return r;const i=ie(this,Sl,qx).call(this,n),s=i.font;i.canvas.width=i.canvas.height=ss,i.font=`${ss}px ${e}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+l);return E(this,Wh).set(e,d),i.canvas.width=i.canvas.height=0,i.font=s,d}i.strokeStyle="red",i.clearRect(0,0,ss,ss),i.strokeText("g",0,0);let u=i.getImageData(0,0,ss,ss).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/ss);break}i.clearRect(0,0,ss,ss),i.strokeText("A",0,ss),u=i.getImageData(0,0,ss,ss).data,a=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){a=ss-Math.floor(d/4/ss);break}i.canvas.width=i.canvas.height=0,i.font=s;const c=a?a/(a+l):_we;return E(this,Wh).set(e,c),c},se(_i,Sl),se(_i,Wh,new Map),se(_i,qh,new Map),se(_i,ed,null),se(_i,Xg,new Set);let Ym=_i;function xwe(){P8("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&Ht("Ignoring `renderTextLayer` parameters: "+i.join(", "));const s=new Ym({textContentSource:t,container:e,viewport:n}),{textDivs:o,textContentItemsStr:a}=s;return{promise:s.render(),textDivs:o,textContentItemsStr:a}}function Ewe(){P8("`updateTextLayer`, please use `TextLayer` instead.")}class U0{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(U0.shouldBuildText(a))(l=s==null?void 0:s.attributes)!=null&&l.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&n.push({str:o}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Swe=65536,Cwe=100,Awe=5e3,Twe=Ri?zbe:Cbe,kwe=Ri?jbe:R8,Rwe=Ri?Fbe:Sbe,Iwe=Ri?Bbe:I8;function Pwe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new UP,{docId:n}=e,r=t.url?Nwe(t.url):null,i=t.data?Owe(t.data):null,s=t.httpHeaders||null,o=t.withCredentials===!0,a=t.password??null,l=t.range instanceof wW?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Swe;let c=t.worker instanceof Ag?t.worker:null;const d=t.verbosity,f=typeof t.docBaseUrl=="string"&&!VO(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,y=t.CMapReaderFactory||kwe,b=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,v=t.StandardFontDataFactory||Iwe,x=t.stopAtErrors!==!0,_=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,S=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Ri,O=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,A=typeof t.disableFontFace=="boolean"?t.disableFontFace:Ri,R=t.fontExtraProperties===!0,P=t.enableXfa===!0,T=t.ownerDocument||globalThis.document,L=t.disableRange===!0,M=t.disableStream===!0,D=t.disableAutoFetch===!0,N=t.pdfBug===!0,U=t.enableHWA===!0,K=l?l.length:t.length??NaN,G=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Ri&&!A,Z=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:y===R8&&v===I8&&p&&b&&Fv(p,document.baseURI)&&Fv(b,document.baseURI),X=t.canvasFactory||new Twe({ownerDocument:T,enableHWA:U}),W=t.filterFactory||new Rwe({docId:n,ownerDocument:T}),q=null;fbe(d);const Q={canvasFactory:X,filterFactory:W};if(Z||(Q.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),Q.standardFontDataFactory=new v({baseUrl:b})),!c){const te={verbosity:d,port:Hu.workerPort};c=te.port?Ag.fromPort(te):new Ag(te),e._worker=c}const H={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:D,rangeChunkSize:u,length:K,docBaseUrl:f,enableXfa:P,evaluatorOptions:{maxImageSize:_,disableFontFace:A,ignoreErrors:x,isEvalSupported:S,isOffscreenCanvasSupported:k,canvasMaxAreaInBytes:O,fontExtraProperties:R,useSystemFonts:G,cMapUrl:Z?p:null,standardFontDataUrl:Z?b:null}},re={disableFontFace:A,fontExtraProperties:R,ownerDocument:T,pdfBug:N,styleElement:q,loadingParams:{disableAutoFetch:D,enableXfa:P}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const te=c.messageHandler.sendWithPromise("GetDocRequest",H,i?[i.buffer]:null);let he;if(l)he=new rwe(l,{disableRange:L,disableStream:M});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");he=(oe=>Ri?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Fv(oe.url)?new kz(oe):new gwe(oe):Fv(oe.url)?new kz(oe):new dwe(oe))({url:r,length:K,httpHeaders:s,withCredentials:o,rangeChunkSize:u,disableRange:L,disableStream:M})}return te.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const oe=new Bv(n,de,c.port),ce=new Fwe(oe,e,he,re,Q);e._transport=ce,oe.send("Ready",null)})}).catch(e._capability.reject),e}function Nwe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Ri&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Owe(t){if(Ri&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return qC(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Rz(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var RS;const IS=class IS{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Os(IS,RS)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};RS=new WeakMap,se(IS,RS,0);let UP=IS;class wW{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Cn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Mwe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var td,wu,_o,dg,Gx;class Lwe{constructor(e,n,r,i=!1){se(this,_o);se(this,td,null);se(this,wu,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new gz:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new _W,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Zw({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ln(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Uc.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var _,S;(_=this._stats)==null||_.time("Overall");const d=this._transport.getRenderingIntent(r,i,c),{renderingIntent:f,cacheKey:p}=d;ne(this,wu,!1),ie(this,_o,Gx).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(f&mo.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(S=this._stats)==null||S.time("Page Request"),this._pumpOperatorList(d));const b=k=>{var O;m.renderTasks.delete(v),(this._maybeCleanupAfterRender||y)&&ne(this,wu,!0),ie(this,_o,dg).call(this,!y),k?(v.capability.reject(k),this._abortOperatorList({intentState:m,reason:k instanceof Error?k:new Error(k)})):v.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},v=new qP({callback:b,params:{canvasContext:e,viewport:n,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(v);const x=v.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([k,O])=>{var A;if(this.destroyed){b();return}if((A=this._stats)==null||A.time("Rendering"),!(O.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");v.initializeGraphics({transparency:k,optionalContentConfig:O}),v.operatorListChanged()}).catch(b),x}getOperatorList({intent:e="display",annotationMode:n=Uc.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}const s=this._transport.getRenderingIntent(e,n,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>U0.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),ne(this,wu,!1),ie(this,_o,Gx).call(this),Promise.all(e)}cleanup(e=!1){ne(this,wu,!0);const n=ie(this,_o,dg).call(this,!1);return e&&n&&this._stats&&(this._stats=new gz),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&ie(this,_o,dg).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:s}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},s).getReader(),l=this._intentStates.get(n);l.streamReader=a;const u=()=>{a.read().then(({value:c,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),u())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();ie(this,_o,dg).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof $O){let i=Cwe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Jf(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}td=new WeakMap,wu=new WeakMap,_o=new WeakSet,dg=function(e=!1){if(ie(this,_o,Gx).call(this),!E(this,wu)||this.destroyed)return!1;if(e)return ne(this,td,setTimeout(()=>{ne(this,td,null),ie(this,_o,dg).call(this,!1)},Awe)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,wu,!1),!0},Gx=function(){E(this,td)&&(clearTimeout(E(this,td)),ne(this,td,null))};var Gh,PS;class Dwe{constructor(){se(this,Gh,new Set);se(this,PS,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};E(this,PS).then(()=>{for(const i of E(this,Gh))i.call(this,r)})}addEventListener(e,n){E(this,Gh).add(n)}removeEventListener(e,n){E(this,Gh).delete(n)}terminate(){E(this,Gh).clear()}}Gh=new WeakMap,PS=new WeakMap;const cu={isWorkerDisabled:!1,fakeWorkerId:0};Ri&&(cu.isWorkerDisabled=!0,Hu.workerSrc||(Hu.workerSrc="./pdf.worker.mjs")),cu.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},cu.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var Yh,Kg,Yx,Qg,Xx;const Ds=class Ds{constructor({name:e=null,port:n=null,verbosity:r=pbe()}={}){se(this,Kg);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=E(Ds,Yh))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(E(Ds,Yh)||ne(Ds,Yh,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return Ri?Promise.all([Il.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Bv("main","worker",e),this._messageHandler.on("ready",function(){}),ie(this,Kg,Yx).call(this)}_initialize(){if(cu.isWorkerDisabled||E(Ds,Qg,Xx)){this._setupFakeWorker();return}let{workerSrc:e}=Ds;try{cu.isSameOrigin(window.location.href,e)||(e=cu.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Bv("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",a=>{if(s.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,ie(this,Kg,Yx).call(this)}),r.on("ready",a=>{if(s.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{UC("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){cu.isWorkerDisabled||(Ht("Setting up fake worker."),cu.isWorkerDisabled=!0),Ds._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new Dwe;this._port=n;const r=`fake${cu.fakeWorkerId++}`,i=new Bv(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new Bv(r,r+"_worker",n),ie(this,Kg,Yx).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=E(Ds,Yh))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=E(this,Yh))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ds(e)}static get workerSrc(){if(Hu.workerSrc)return Hu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ln(this,"_setupFakeWorkerGlobal",(async()=>E(this,Qg,Xx)?E(this,Qg,Xx):(await import(this.workerSrc)).WorkerMessageHandler)())}};Yh=new WeakMap,Kg=new WeakSet,Yx=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Qg=new WeakSet,Xx=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},se(Ds,Qg),se(Ds,Yh);let Ag=Ds;var _u,Za,Zg,Jg,Ja,Xh,$v;class Fwe{constructor(e,n,r,i,s){se(this,Xh);se(this,_u,new Map);se(this,Za,new Map);se(this,Zg,new Map);se(this,Jg,new Map);se(this,Ja,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new _W,this.fontLoader=new Lbe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ln(this,"annotationStorage",new WO)}getRenderingIntent(e,n=Uc.ENABLE,r=null,i=!1){let s=mo.DISPLAY,o=DP;switch(e){case"any":s=mo.ANY;break;case"display":break;case"print":s=mo.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case Uc.DISABLE:s+=mo.ANNOTATIONS_DISABLE;break;case Uc.ENABLE:break;case Uc.ENABLE_FORMS:s+=mo.ANNOTATIONS_FORMS;break;case Uc.ENABLE_STORAGE:s+=mo.ANNOTATIONS_STORAGE,o=(s&mo.PRINT&&r instanceof sW?r:this.annotationStorage).serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(s+=mo.OPLIST),{renderingIntent:s,cacheKey:`${s}_${o.hash}`,annotationStorageSerializable:o}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=E(this,Ja))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of E(this,Za).values())e.push(i._destroy());E(this,Za).clear(),E(this,Zg).clear(),E(this,Jg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),E(this,_u).clear(),this.filterFactory.destroy(),Ym.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Jf("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{Fr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}Fr(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),s=this._fullReader;return s.headersReady.then(()=>{var o;(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),s.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{Fr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}Fr(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Mwe(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new fP(r.message,r.code);break;case"InvalidPDFException":i=new C8(r.message);break;case"MissingPDFException":i=new Zf(r.message);break;case"UnexpectedResponseException":i=new WC(r.message,r.status);break;case"UnknownErrorException":i=new pP(r.message,r.details);break;default:Cn("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(ne(this,Ja,Promise.withResolvers()),n.onPassword){const i=s=>{s instanceof Error?E(this,Ja).reject(s):E(this,Ja).resolve({password:s})};try{n.onPassword(i,r.code)}catch(s){E(this,Ja).reject(s)}}else E(this,Ja).reject(new fP(r.message,r.code));return E(this,Ja).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;E(this,Za).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;Ht(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new Dbe(s,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:f}=s;Fr(f,"The imageRef must be defined.");for(const p of E(this,Za).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,o])=>{var l;if(this.destroyed)return;const a=E(this,Za).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(s){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>ube&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=E(this,Zg).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&E(this,Jg).set(s.refStr,e);const o=new Lwe(n,s,this,this._params.pdfBug);return E(this,Za).set(n,o),o});return E(this,Zg).set(n,i),i}getPageIndex(e){return Rz(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return ie(this,Xh,$v).call(this,"GetFieldObjects")}hasJSActions(){return ie(this,Xh,$v).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ie(this,Xh,$v).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ie(this,Xh,$v).call(this,"GetOptionalContentConfig").then(n=>new nwe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=E(this,_u).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,o;return{info:i[0],metadata:i[1]?new ewe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return E(this,_u).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of E(this,Za).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),E(this,_u).clear(),this.filterFactory.destroy(!0),Ym.cleanup()}}cachedPageNumber(e){if(!Rz(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return E(this,Jg).get(n)??null}}_u=new WeakMap,Za=new WeakMap,Zg=new WeakMap,Jg=new WeakMap,Ja=new WeakMap,Xh=new WeakSet,$v=function(e,n=null){const r=E(this,_u).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return E(this,_u).set(e,i),i};const ix=Symbol("INITIAL_DATA");var na,Bb,WP;class _W{constructor(){se(this,Bb);se(this,na,Object.create(null))}get(e,n=null){if(n){const i=ie(this,Bb,WP).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=E(this,na)[e];if(!r||r.data===ix)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=E(this,na)[e];return!!n&&n.data!==ix}resolve(e,n=null){const r=ie(this,Bb,WP).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in E(this,na)){const{data:r}=E(this,na)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}ne(this,na,Object.create(null))}*[Symbol.iterator](){for(const e in E(this,na)){const{data:n}=E(this,na)[e];n!==ix&&(yield[e,n])}}}na=new WeakMap,Bb=new WeakSet,WP=function(e){var n;return(n=E(this,na))[e]||(n[e]={...Promise.withResolvers(),data:ix})};var nd;class zwe{constructor(e){se(this,nd,null);ne(this,nd,e),this.onContinue=null}get promise(){return E(this,nd).capability.promise}cancel(e=0){E(this,nd).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=E(this,nd).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=E(this,nd);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}nd=new WeakMap;var rd,Kh;const yh=class yh{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:f=null}){se(this,rd,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new zwe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(E(yh,Kh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");E(yh,Kh).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:o}=this.params;this.gfx=new Cg(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),E(this,rd)&&(window.cancelAnimationFrame(E(this,rd)),ne(this,rd,null)),E(yh,Kh).delete(this._canvas),this.callback(e||new $O(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ne(this,rd,window.requestAnimationFrame(()=>{ne(this,rd,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),E(yh,Kh).delete(this._canvas),this.callback())))}};rd=new WeakMap,Kh=new WeakMap,se(yh,Kh,new WeakSet);let qP=yh;const jwe="4.4.168",Bwe="19fbc8998";function Iz(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function hv(t){return Math.max(0,Math.min(255,255*t))}class Pz{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=hv(e),[e,e,e]}static G_HTML([e]){const n=Iz(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(hv)}static RGB_HTML(e){return`#${e.map(Iz).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[hv(1-Math.min(1,e+i)),hv(1-Math.min(1,r+i)),hv(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,o=1-r,a=Math.min(i,s,o);return["CMYK",i,s,o,a]}}class xW{static setupStorage(e,n,r,i,s){const o=i.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:o}=n,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&s.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,n,r)}static render(e){var d,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:s,linkService:r});const a=s!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&U0.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const c=[[i,-1,o]];for(;c.length>0;){const[p,m,y]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const b=p.children[++c.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const _=document.createTextNode(b.value);u.push(_),y.append(_);continue}const x=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(y.append(x),b.attributes&&this.setAttributes({html:x,element:b,storage:n,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)c.push([b,-1,x]);else if(b.value){const _=document.createTextNode(b.value);a&&U0.shouldBuildText(v)&&u.push(_),x.append(_)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const t1=1e3,$we=9,Ff=new WeakSet;function Uu(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Vwe{static create(e){switch(e.data.annotationType){case Pr.LINK:return new EW(e);case Pr.TEXT:return new Hwe(e);case Pr.WIDGET:switch(e.data.fieldType){case"Tx":return new Uwe(e);case"Btn":return e.data.radioButton?new AW(e):e.data.checkBox?new qwe(e):new Gwe(e);case"Ch":return new Ywe(e);case"Sig":return new Wwe(e)}return new ep(e);case Pr.POPUP:return new YP(e);case Pr.FREETEXT:return new PW(e);case Pr.LINE:return new Kwe(e);case Pr.SQUARE:return new Qwe(e);case Pr.CIRCLE:return new Zwe(e);case Pr.POLYLINE:return new NW(e);case Pr.CARET:return new e1e(e);case Pr.INK:return new OW(e);case Pr.POLYGON:return new Jwe(e);case Pr.HIGHLIGHT:return new t1e(e);case Pr.UNDERLINE:return new n1e(e);case Pr.SQUIGGLY:return new r1e(e);case Pr.STRIKEOUT:return new i1e(e);case Pr.STAMP:return new MW(e);case Pr.FILEATTACHMENT:return new s1e(e);default:return new hr(e)}}}var Qh,em,tm,$b,GP;const SM=class SM{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){se(this,$b);se(this,Qh,null);se(this,em,!1);se(this,tm,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return SM._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;E(this,Qh)||ne(this,Qh,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&ie(this,$b,GP).call(this,n),(r=E(this,tm))==null||r.popup.updateEdited(e)}resetEdited(){var e;E(this,Qh)&&(ie(this,$b,GP).call(this,E(this,Qh).rect),(e=E(this,tm))==null||e.popup.resetEdited(),ne(this,Qh,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),this instanceof ep||(s.tabIndex=t1);const{style:o}=s;if(o.zIndex=this.parent.zIndex++,n.popupRef&&s.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof YP){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:l}=Uu(n.rect);if(!e&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const x=`calc(${y}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;o.borderRadius=x}else if(this instanceof AW){const x=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=x}switch(n.borderStyle.style){case cv.SOLID:o.borderStyle="solid";break;case cv.DASHED:o.borderStyle="dashed";break;case cv.BEVELED:Ht("Unimplemented border style: beveled");break;case cv.INSET:Ht("Unimplemented border style: inset");break;case cv.UNDERLINE:o.borderBottomStyle="solid";break}const v=n.borderColor||null;v?(ne(this,em,!0),o.borderColor=mt.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):o.borderWidth=0}const u=mt.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(u[0]-f)/c}%`,o.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(o.width=`${100*a/c}%`,o.height=`${100*l/d}%`):this.setRotation(m,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:o}=Uu(this.data.rect);let a,l;e%180===0?(a=100*s/r,l=100*o/i):(a=100*o/r,l=100*s/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],o=s[0],a=s.slice(1);i.target.style[r]=Pz[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:Pz[`${o}_rgb`](a)})};return ln(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const o=r[i];if(o){const a={detail:{[i]:s},target:e};o(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,v,x]=e.subarray(2,6);if(i===y&&s===b&&n===v&&r===x)return}const{style:o}=this.container;let a;if(E(this,em)){const{borderColor:y,borderWidth:b}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,u=s-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=c.createElement("defs");d.append(f);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,b=e.length;y<b;y+=8){const v=e[y],x=e[y+1],_=e[y+2],S=e[y+3],k=c.createElement("rect"),O=(_-n)/l,A=(s-x)/u,R=(v-_)/l,P=(x-S)/u;k.setAttribute("x",O),k.setAttribute("y",A),k.setAttribute("width",R),k.setAttribute("height",P),p.append(k),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${A}" width="${R}" height="${P}"/>`)}E(this,em)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=ne(this,tm,new YP({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Cn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:o,exportValues:a}of i){if(s===-1||o===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!Ff.has(u)){Ht(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,o=i.getAttribute("data-element-id");o!==n&&Ff.has(i)&&r.push({id:o,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};Qh=new WeakMap,em=new WeakMap,tm=new WeakMap,$b=new WeakSet,GP=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Uu(e);n.left=`${100*(e[0]-a)/s}%`,n.top=`${100*(o-e[3]+l)/o}%`,i===0?(n.width=`${100*u/s}%`,n.height=`${100*c/o}%`):this.setRotation(i)};let hr=SM;var qs,hh,SW,CW;class EW extends hr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});se(this,qs);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action),s=!0):n.attachment?(ie(this,qs,SW).call(this,i,n.attachment,n.attachmentDest),s=!0):n.setOCGState?(ie(this,qs,CW).call(this,i,n.setOCGState),s=!0):n.dest?(this._bindLink(i,n.dest),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ie(this,qs,hh).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),ie(this,qs,hh).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const o=i.get(s);o&&(n[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}n.onclick||(n.onclick=()=>!1),ie(this,qs,hh).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),ie(this,qs,hh).call(this),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:s,refs:o,include:a}=r,l=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:y}of m)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,c=[];for(const f of l){const{id:p}=f;switch(c.push(p),f.type){case"text":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Ff.has(m)){Ht(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}qs=new WeakSet,hh=function(){this.container.setAttribute("data-internal-link","")},SW=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},ie(this,qs,hh).call(this)},CW=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),ie(this,qs,hh).call(this)};class Hwe extends hr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ep extends hr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ps.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(o)}}))})}_setEventListeners(e,n,r,i){var s,o,a;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":mt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||$we,s=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(kk*i))||1,d=u/c;o=Math.min(i,l(d/kk))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(u/kk))}s.fontSize=`calc(${o}px * var(--scale-factor))`,s.color=mt.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Uwe extends ep{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[n]=r),s.setValue(o.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(n,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Ff.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=t1,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(n,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=c.userValue=p,c.formattedValue=null});let d=f=>{const{formattedValue:p}=c;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){c.userValue=y.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:b}=y.detail;c.formattedValue=b,b!=null&&y.target!==document.activeElement&&(y.target.value=b),e.setValue(n,{formattedValue:b})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var _;const{charLimit:b}=y.detail,{target:v}=y;if(b===0){v.removeAttribute("maxLength");return}v.setAttribute("maxLength",b);let x=c.userValue;!x||x.length<=b||(x=x.slice(0,b),v.value=c.userValue=x,e.setValue(n,{value:x}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:v.selectionStart,selEnd:v.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var b;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:y}=p.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,r.addEventListener("blur",p=>{var y,b;if(!c.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",p=>{var k;c.lastCommittedValue=null;const{data:m,target:y}=p,{value:b,selectionStart:v,selectionEnd:x}=y;let _=v,S=x;switch(p.inputType){case"deleteWordBackward":{const O=b.substring(0,v).match(/\w*[^\w]*$/);O&&(_-=O[0].length);break}case"deleteWordForward":{const O=b.substring(v).match(/^[^\w]*\w*/);O&&(S+=O[0].length);break}case"deleteContentBackward":v===x&&(_-=1);break;case"deleteContentForward":v===x&&(S+=1);break}p.preventDefault(),(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:_,selEnd:S}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Wwe extends ep{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qwe extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Ff.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=t1,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class AW extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,r))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Ff.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=t1,s.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;s.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=o===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=c&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Gwe extends EW{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Ywe extends ep{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Ff.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=t1;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let o=null;if(s){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),o=()=>{c.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=c=>{const d=c?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:y}=f.detail.insert,b=i.children[p],v=document.createElement("option");v.textContent=m,v.value=y,b?b.before(v):i.append(v),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:b}=m,v=document.createElement("option");v.textContent=y,v.value=b,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var p;const d=a(!0),f=a(!1);e.setValue(n,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class YP extends hr{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:hr._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Xwe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${T8}${r}`).join(",")),this.container}}var nm,NS,OS,rm,Zh,ir,xu,Jh,Vb,Hb,im,Eu,ra,Su,Ub,Cu,Wb,ef,tf,An,Kx,XP,TW,kW,RW,IW,Qx,Zx,KP;class Xwe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:o,richText:a,parent:l,rect:u,parentRect:c,open:d}){se(this,An);se(this,nm,ie(this,An,RW).bind(this));se(this,NS,ie(this,An,KP).bind(this));se(this,OS,ie(this,An,Zx).bind(this));se(this,rm,ie(this,An,Qx).bind(this));se(this,Zh,null);se(this,ir,null);se(this,xu,null);se(this,Jh,null);se(this,Vb,null);se(this,Hb,null);se(this,im,null);se(this,Eu,!1);se(this,ra,null);se(this,Su,null);se(this,Ub,null);se(this,Cu,null);se(this,Wb,null);se(this,ef,null);se(this,tf,!1);var f;ne(this,ir,e),ne(this,Wb,i),ne(this,xu,o),ne(this,Cu,a),ne(this,Hb,l),ne(this,Zh,n),ne(this,Ub,u),ne(this,im,c),ne(this,Vb,r),ne(this,Jh,N8.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",E(this,rm)),p.addEventListener("mouseenter",E(this,OS)),p.addEventListener("mouseleave",E(this,NS)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",E(this,nm));E(this,ir).hidden=!0,d&&ie(this,An,Qx).call(this)}render(){if(E(this,ra))return;const e=ne(this,ra,document.createElement("div"));if(e.className="popup",E(this,Zh)){const s=e.style.outlineColor=mt.makeHexColor(...E(this,Zh));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=mt.makeHexColor(...E(this,Zh).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=E(this,Wb),e.append(n),E(this,Jh)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),s.setAttribute("data-l10n-args",JSON.stringify({date:E(this,Jh).toLocaleDateString(),time:E(this,Jh).toLocaleTimeString()})),n.append(s)}const i=E(this,An,Kx);if(i)xW.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(E(this,xu));e.append(s)}E(this,ir).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,o=i.length;s<o;++s){const a=i[s];r.append(document.createTextNode(a)),s<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;E(this,ef)||ne(this,ef,{contentsObj:E(this,xu),richText:E(this,Cu)}),e&&ne(this,Su,null),n&&(ne(this,Cu,ie(this,An,kW).call(this,n)),ne(this,xu,null)),(r=E(this,ra))==null||r.remove(),ne(this,ra,null)}resetEdited(){var e;E(this,ef)&&({contentsObj:Os(this,xu)._,richText:Os(this,Cu)._}=E(this,ef),ne(this,ef,null),(e=E(this,ra))==null||e.remove(),ne(this,ra,null),ne(this,Su,null))}forceHide(){ne(this,tf,this.isVisible),E(this,tf)&&(E(this,ir).hidden=!0)}maybeShow(){E(this,tf)&&(E(this,ra)||ie(this,An,Zx).call(this),ne(this,tf,!1),E(this,ir).hidden=!1)}get isVisible(){return E(this,ir).hidden===!1}}nm=new WeakMap,NS=new WeakMap,OS=new WeakMap,rm=new WeakMap,Zh=new WeakMap,ir=new WeakMap,xu=new WeakMap,Jh=new WeakMap,Vb=new WeakMap,Hb=new WeakMap,im=new WeakMap,Eu=new WeakMap,ra=new WeakMap,Su=new WeakMap,Ub=new WeakMap,Cu=new WeakMap,Wb=new WeakMap,ef=new WeakMap,tf=new WeakMap,An=new WeakSet,Kx=function(){const e=E(this,Cu),n=E(this,xu);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&E(this,Cu).html||null},XP=function(){var e,n,r;return((r=(n=(e=E(this,An,Kx))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},TW=function(){var e,n,r;return((r=(n=(e=E(this,An,Kx))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},kW=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:E(this,An,TW),fontSize:E(this,An,XP)?`calc(${E(this,An,XP)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},RW=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&E(this,Eu))&&ie(this,An,Qx).call(this)},IW=function(){if(E(this,Su)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=E(this,Hb);let o=!!E(this,im),a=o?E(this,im):E(this,Ub);for(const m of E(this,Vb))if(!a||mt.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=mt.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=o?a[2]-a[0]+5:0,d=l[0]+c,f=l[1];ne(this,Su,[100*(d-i)/n,100*(f-s)/r]);const{style:p}=E(this,ir);p.left=`${E(this,Su)[0]}%`,p.top=`${E(this,Su)[1]}%`},Qx=function(){ne(this,Eu,!E(this,Eu)),E(this,Eu)?(ie(this,An,Zx).call(this),E(this,ir).addEventListener("click",E(this,rm)),E(this,ir).addEventListener("keydown",E(this,nm))):(ie(this,An,KP).call(this),E(this,ir).removeEventListener("click",E(this,rm)),E(this,ir).removeEventListener("keydown",E(this,nm)))},Zx=function(){E(this,ra)||this.render(),this.isVisible?E(this,Eu)&&E(this,ir).classList.add("focused"):(ie(this,An,IW).call(this),E(this,ir).hidden=!1,E(this,ir).style.zIndex=parseInt(E(this,ir).style.zIndex)+1e3)},KP=function(){E(this,ir).classList.remove("focused"),!(E(this,Eu)||!this.isVisible)&&(E(this,ir).hidden=!0,E(this,ir).style.zIndex=parseInt(E(this,ir).style.zIndex)-1e3)};class PW extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=tn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var qb;class Kwe extends hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});se(this,qb,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Uu(n.rect),s=this.svgFactory.create(r,i,!0),o=ne(this,qb,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,qb)}addHighlightArea(){this.container.classList.add("highlightArea")}}qb=new WeakMap;var Gb;class Qwe extends hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});se(this,Gb,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Uu(n.rect),s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=ne(this,Gb,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,Gb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gb=new WeakMap;var Yb;class Zwe extends hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});se(this,Yb,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Uu(n.rect),s=this.svgFactory.create(r,i,!0),o=n.borderStyle.width,a=ne(this,Yb,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,Yb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yb=new WeakMap;var Xb;class NW extends hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});se(this,Xb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:o,height:a}=Uu(n),l=this.svgFactory.create(o,a,!0);let u=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-n[0],m=n[3]-r[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=ne(this,Xb,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return E(this,Xb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xb=new WeakMap;class Jwe extends NW{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class e1e extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kb;class OW extends hr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});se(this,Kb,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=tn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{width:o,height:a}=Uu(n),l=this.svgFactory.create(o,a,!0);for(const u of r){let c=[];for(let f=0,p=u.length;f<p;f+=2){const m=u[f]-n[0],y=n[3]-u[f+1];c.push(`${m},${y}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);E(this,Kb).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return E(this,Kb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kb=new WeakMap;class t1e extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class n1e extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class r1e extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class i1e extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class MW extends hr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qb,Zb,QP;class s1e extends hr{constructor(n){var i;super(n,{isRenderable:!0});se(this,Zb);se(this,Qb,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ie(this,Zb,QP).bind(this)),ne(this,Qb,i);const{isMac:s}=ps.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&ie(this,Zb,QP).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return E(this,Qb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qb=new WeakMap,Zb=new WeakSet,QP=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Jb,nf,sm,Bf,LW,ZP;class o1e{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:o}){se(this,Bf);se(this,Jb,null);se(this,nf,null);se(this,sm,new Map);this.div=e,ne(this,Jb,n),ne(this,nf,r),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var o;const{annotations:n}=e,r=this.div;Lf(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new BO,annotationStorage:e.annotationStorage||new WO,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===Pr.POPUP;if(l){const d=i.get(a.id);if(!d)continue;s.elements=d}else{const{width:d,height:f}=Uu(a.rect);if(d<=0||f<=0)continue}s.data=a;const u=Vwe.create(s);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(u):i.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),ie(this,Bf,LW).call(this,c,a.id),u.annotationEditorType>0&&(E(this,sm).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}ie(this,Bf,ZP).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,Lf(n,{rotation:e.rotation}),ie(this,Bf,ZP).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(E(this,sm).values())}getEditableAnnotation(e){return E(this,sm).get(e)}}Jb=new WeakMap,nf=new WeakMap,sm=new WeakMap,Bf=new WeakSet,LW=function(e,n){var i;const r=e.firstChild||e;r.id=`${T8}${n}`,this.div.append(e),(i=E(this,Jb))==null||i.moveElementInDOM(this.div,e,r,!1)},ZP=function(){if(!E(this,nf))return;const e=this.div;for(const[n,r]of E(this,nf)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}E(this,nf).clear()};const sx=/\r\n?|\n/g;var ew,tw,nw,rw,iw,ia,Bs,sw,$s,om,Sr,DW,FW,zW,Jx,qu,eE,tE,jW,e2,BW;const On=class On extends wn{constructor(n){super({...n,name:"freeTextEditor"});se(this,Sr);se(this,ew,this.editorDivBlur.bind(this));se(this,tw,this.editorDivFocus.bind(this));se(this,nw,this.editorDivInput.bind(this));se(this,rw,this.editorDivKeydown.bind(this));se(this,iw,this.editorDivPaste.bind(this));se(this,ia);se(this,Bs,"");se(this,sw,`${this.id}-editor`);se(this,$s);se(this,om,null);ne(this,ia,n.color||On._defaultColor||wn._defaultLineColor),ne(this,$s,n.fontSize||On._defaultFontSize)}static get _keyboardManager(){const n=On.prototype,r=o=>o.isEmpty(),i=Df.TRANSLATE_SMALL,s=Df.TRANSLATE_BIG;return ln(this,"_keyboardManager",new Jw([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){wn.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Mt.FREETEXT_SIZE:On._defaultFontSize=r;break;case Mt.FREETEXT_COLOR:On._defaultColor=r;break}}updateParams(n,r){switch(n){case Mt.FREETEXT_SIZE:ie(this,Sr,DW).call(this,r);break;case Mt.FREETEXT_COLOR:ie(this,Sr,FW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Mt.FREETEXT_SIZE,On._defaultFontSize],[Mt.FREETEXT_COLOR,On._defaultColor||wn._defaultLineColor]]}get propertiesToUpdate(){return[[Mt.FREETEXT_SIZE,E(this,$s)],[Mt.FREETEXT_COLOR,E(this,ia)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-On._internalPadding*n,-(On._internalPadding+E(this,$s))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(tn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",E(this,rw),{signal:n}),this.editorDiv.addEventListener("focus",E(this,tw),{signal:n}),this.editorDiv.addEventListener("blur",E(this,ew),{signal:n}),this.editorDiv.addEventListener("input",E(this,nw),{signal:n}),this.editorDiv.addEventListener("paste",E(this,iw),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",E(this,sw)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",E(this,rw)),this.editorDiv.removeEventListener("focus",E(this,tw)),this.editorDiv.removeEventListener("blur",E(this,ew)),this.editorDiv.removeEventListener("input",E(this,nw)),this.editorDiv.removeEventListener("paste",E(this,iw)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=E(this,Bs),r=ne(this,Bs,ie(this,Sr,zW).call(this).trimEnd());if(n===r)return;const i=s=>{if(ne(this,Bs,s),!s){this.remove();return}ie(this,Sr,tE).call(this),this._uiManager.rebuild(this),ie(this,Sr,Jx).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),ie(this,Sr,Jx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){On._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",E(this,sw)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),wn._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${E(this,$s)}px * var(--scale-factor))`,i.color=E(this,ia),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),nS(this,this.div,["dblclick","keydown"]),this.width){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=E(this,om);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=n+(a[0]-f)/c,y=r+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-f)/c,y=r-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(a[0]-f)/c,y=r-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=n+(a[0]-f-this.height*d)/c,y=r+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*s,y*o,l,u)}else this.setAt(n*s,r*o,this.width*s,this.height*o);ie(this,Sr,tE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,y,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=ie(m=On,qu,e2).call(m,r.getData("text")||"").replaceAll(sx,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(sx,"")),v!==this.editorDiv){let x=c;for(const _ of this.editorDiv.childNodes){if(_===v){x=d;continue}x.push(ie(y=On,qu,eE).call(y,_))}}c.push(l.nodeValue.slice(0,u).replaceAll(sx,""))}else if(l===this.editorDiv){let v=c,x=0;for(const _ of this.editorDiv.childNodes)x++===u&&(v=d),v.push(ie(b=On,qu,eE).call(b,_))}ne(this,Bs,`${c.join(`
`)}${s}${d.join(`
`)}`),ie(this,Sr,tE).call(this);const f=new Range;let p=c.reduce((v,x)=>v+x.length,0);for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const x=v.nodeValue.length;if(p<=x){f.setStart(v,p),f.setEnd(v,p);break}p-=x}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let s=null;if(n instanceof PW){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:f},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=n;if(!p||p.length===0)return null;s=n={annotationType:tn.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(n,r,i);return ne(o,$s,n.fontSize),ne(o,ia,mt.makeHexColor(...n.color)),ne(o,Bs,ie(a=On,qu,e2).call(a,n.value)),o.annotationElementId=n.id||null,ne(o,om,s),o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=On._internalPadding*this.parentScale,i=this.getRect(r,r),s=wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:E(this,ia)),o={annotationType:tn.FREETEXT,color:s,fontSize:E(this,$s),value:ie(this,Sr,jW).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?o:this.annotationElementId&&!ie(this,Sr,BW).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${E(this,$s)}px * var(--scale-factor))`,i.color=E(this,ia),r.replaceChildren();for(const o of E(this,Bs).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const s=On._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(s,s),popupContent:E(this,Bs)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};ew=new WeakMap,tw=new WeakMap,nw=new WeakMap,rw=new WeakMap,iw=new WeakMap,ia=new WeakMap,Bs=new WeakMap,sw=new WeakMap,$s=new WeakMap,om=new WeakMap,Sr=new WeakSet,DW=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-E(this,$s))*this.parentScale),ne(this,$s,s),ie(this,Sr,Jx).call(this)},i=E(this,$s);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},FW=function(n){const r=s=>{ne(this,ia,this.editorDiv.style.color=s)},i=E(this,ia);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},zW=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(ie(r=On,qu,eE).call(r,i));return n.join(`
`)},Jx=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},qu=new WeakSet,eE=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(sx,"")},tE=function(){if(this.editorDiv.replaceChildren(),!!E(this,Bs))for(const n of E(this,Bs).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},jW=function(){return E(this,Bs).replaceAll(" "," ")},e2=function(n){return n.replaceAll(" "," ")},BW=function(n){const{value:r,fontSize:i,color:s,pageIndex:o}=E(this,om);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==s[l])||n.pageIndex!==o},se(On,qu),at(On,"_freeTextDefaultContent",""),at(On,"_internalPadding",0),at(On,"_defaultColor",null),at(On,"_defaultFontSize",10),at(On,"_type","freetext"),at(On,"_editorType",tn.FREETEXT);let JP=On;var ow,id,sa,Wi,$W,nE,VW,HW,n2;class t2{constructor(e,n=0,r=0,i=!0){se(this,Wi);se(this,ow);se(this,id,[]);se(this,sa,[]);let s=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:b,y:v,width:x,height:_}of e){const S=Math.floor((b-n)/u)*u,k=Math.ceil((b+x+n)/u)*u,O=Math.floor((v-n)/u)*u,A=Math.ceil((v+_+n)/u)*u,R=[S,O,A,!0],P=[k,O,A,!1];E(this,id).push(R,P),s=Math.min(s,S),o=Math.max(o,k),a=Math.min(a,O),l=Math.max(l,A)}const c=o-s+2*r,d=l-a+2*r,f=s-r,p=a-r,m=E(this,id).at(i?-1:-2),y=[m[0],m[2]];for(const b of E(this,id)){const[v,x,_]=b;b[0]=(v-f)/c,b[1]=(x-p)/d,b[2]=(_-p)/d}ne(this,ow,{x:f,y:p,width:c,height:d,lastPoint:y})}getOutlines(){E(this,id).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of E(this,id))n[3]?(e.push(...ie(this,Wi,n2).call(this,n)),ie(this,Wi,VW).call(this,n)):(ie(this,Wi,HW).call(this,n),e.push(...ie(this,Wi,n2).call(this,n)));return ie(this,Wi,$W).call(this,e)}}ow=new WeakMap,id=new WeakMap,sa=new WeakMap,Wi=new WeakSet,$W=function(e){const n=[],r=new Set;for(const o of e){const[a,l,u]=o;n.push([a,l,o],[a,u,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const l=n[o][2],u=n[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,c,d]=o;r.delete(o);let f=a,p=l;for(s=[a,u],i.push(s);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[a,l,u,c,d]=m,f!==a&&(s.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}s.push(f,p)}return new a1e(i,E(this,ow))},nE=function(e){const n=E(this,sa);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,o=n[s][0];if(o===e)return s;o<e?r=s+1:i=s-1}return i+1},VW=function([,e,n]){const r=ie(this,Wi,nE).call(this,e);E(this,sa).splice(r,0,[e,n])},HW=function([,e,n]){const r=ie(this,Wi,nE).call(this,e);for(let i=r;i<E(this,sa).length;i++){const[s,o]=E(this,sa)[i];if(s!==e)break;if(s===e&&o===n){E(this,sa).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,o]=E(this,sa)[i];if(s!==e)break;if(s===e&&o===n){E(this,sa).splice(i,1);return}}},n2=function(e){const[n,r,i]=e,s=[[n,r,i]],o=ie(this,Wi,nE).call(this,i);for(let a=0;a<o;a++){const[l,u]=E(this,sa)[a];for(let c=0,d=s.length;c<d;c++){const[,f,p]=s[c];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[c][1]=u;else{if(d===1)return[];s.splice(c,1),c--,d--}continue}s[c][2]=l,p>u&&s.push([n,u,p])}}}return s};class UW{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof i2}}var aw,am;class a1e extends UW{constructor(n,r){super();se(this,aw);se(this,am);ne(this,am,n),ne(this,aw,r)}toSVGPath(){const n=[];for(const r of E(this,am)){let[i,s]=r;n.push(`M${i} ${s}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],o){const a=[],l=i-n,u=s-r;for(const c of E(this,am)){const d=new Array(c.length);for(let f=0;f<c.length;f+=2)d[f]=n+c[f]*l,d[f+1]=s-c[f+1]*u;a.push(d)}return a}get box(){return E(this,aw)}}aw=new WeakMap,am=new WeakMap;var el,Au,lm,um,tl,Qt,rf,sf,lw,uw,cm,dm,sd,cw,MS,LS,dw,r2;const lu=class lu{constructor({x:e,y:n},r,i,s,o,a=0){se(this,dw);se(this,el);se(this,Au,[]);se(this,lm);se(this,um);se(this,tl,[]);se(this,Qt,new Float64Array(18));se(this,rf);se(this,sf);se(this,lw);se(this,uw);se(this,cm);se(this,dm);se(this,sd,[]);ne(this,el,r),ne(this,dm,s*i),ne(this,um,o),E(this,Qt).set([NaN,NaN,NaN,NaN,e,n],6),ne(this,lm,a),ne(this,uw,E(lu,cw)*i),ne(this,lw,E(lu,LS)*i),ne(this,cm,i),E(this,sd).push(e,n)}get free(){return!0}isEmpty(){return isNaN(E(this,Qt)[8])}add({x:e,y:n}){var P;ne(this,rf,e),ne(this,sf,n);const[r,i,s,o]=E(this,el);let[a,l,u,c]=E(this,Qt).subarray(8,12);const d=e-u,f=n-c,p=Math.hypot(d,f);if(p<E(this,lw))return!1;const m=p-E(this,uw),y=m/p,b=y*d,v=y*f;let x=a,_=l;a=u,l=c,u+=b,c+=v,(P=E(this,sd))==null||P.push(e,n);const S=-v/m,k=b/m,O=S*E(this,dm),A=k*E(this,dm);return E(this,Qt).set(E(this,Qt).subarray(2,8),0),E(this,Qt).set([u+O,c+A],4),E(this,Qt).set(E(this,Qt).subarray(14,18),12),E(this,Qt).set([u-O,c-A],16),isNaN(E(this,Qt)[6])?(E(this,tl).length===0&&(E(this,Qt).set([a+O,l+A],2),E(this,tl).push(NaN,NaN,NaN,NaN,(a+O-r)/s,(l+A-i)/o),E(this,Qt).set([a-O,l-A],14),E(this,Au).push(NaN,NaN,NaN,NaN,(a-O-r)/s,(l-A-i)/o)),E(this,Qt).set([x,_,a,l,u,c],6),!this.isEmpty()):(E(this,Qt).set([x,_,a,l,u,c],6),Math.abs(Math.atan2(_-l,x-a)-Math.atan2(v,b))<Math.PI/2?([a,l,u,c]=E(this,Qt).subarray(2,6),E(this,tl).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/s,((l+c)/2-i)/o),[a,l,x,_]=E(this,Qt).subarray(14,18),E(this,Au).push(NaN,NaN,NaN,NaN,((x+a)/2-r)/s,((_+l)/2-i)/o),!0):([x,_,a,l,u,c]=E(this,Qt).subarray(0,6),E(this,tl).push(((x+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+c)/6-i)/o,((a+u)/2-r)/s,((l+c)/2-i)/o),[u,c,a,l,x,_]=E(this,Qt).subarray(12,18),E(this,Au).push(((x+5*a)/6-r)/s,((_+5*l)/6-i)/o,((5*a+u)/6-r)/s,((5*l+c)/6-i)/o,((a+u)/2-r)/s,((l+c)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=E(this,tl),n=E(this,Au),r=E(this,Qt).subarray(4,6),i=E(this,Qt).subarray(16,18),[s,o,a,l]=E(this,el),[u,c,d,f]=ie(this,dw,r2).call(this);if(isNaN(E(this,Qt)[6])&&!this.isEmpty())return`M${(E(this,Qt)[2]-s)/a} ${(E(this,Qt)[3]-o)/l} L${(E(this,Qt)[4]-s)/a} ${(E(this,Qt)[5]-o)/l} L${u} ${c} L${d} ${f} L${(E(this,Qt)[16]-s)/a} ${(E(this,Qt)[17]-o)/l} L${(E(this,Qt)[14]-s)/a} ${(E(this,Qt)[15]-o)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-s)/a} ${(r[1]-o)/l} L${u} ${c} L${d} ${f} L${(i[0]-s)/a} ${(i[1]-o)/l}`);for(let m=n.length-6;m>=6;m-=6)isNaN(n[m])?p.push(`L${n[m+4]} ${n[m+5]}`):p.push(`C${n[m]} ${n[m+1]} ${n[m+2]} ${n[m+3]} ${n[m+4]} ${n[m+5]}`);return p.push(`L${n[4]} ${n[5]} Z`),p.join(" ")}getOutlines(){var v;const e=E(this,tl),n=E(this,Au),r=E(this,Qt),i=r.subarray(4,6),s=r.subarray(16,18),[o,a,l,u]=E(this,el),c=new Float64Array((((v=E(this,sd))==null?void 0:v.length)??0)+2);for(let x=0,_=c.length-2;x<_;x+=2)c[x]=(E(this,sd)[x]-o)/l,c[x+1]=(E(this,sd)[x+1]-a)/u;c[c.length-2]=(E(this,rf)-o)/l,c[c.length-1]=(E(this,sf)-a)/u;const[d,f,p,m]=ie(this,dw,r2).call(this);if(isNaN(r[6])&&!this.isEmpty()){const x=new Float64Array(36);return x.set([NaN,NaN,NaN,NaN,(r[2]-o)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-o)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-o)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-o)/l,(r[15]-a)/u],0),new i2(x,c,E(this,el),E(this,cm),E(this,lm),E(this,um))}const y=new Float64Array(E(this,tl).length+24+E(this,Au).length);let b=e.length;for(let x=0;x<b;x+=2){if(isNaN(e[x])){y[x]=y[x+1]=NaN;continue}y[x]=e[x],y[x+1]=e[x+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-o)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-o)/l,(s[1]-a)/u],b),b+=24;for(let x=n.length-6;x>=6;x-=6)for(let _=0;_<6;_+=2){if(isNaN(n[x+_])){y[b]=y[b+1]=NaN,b+=2;continue}y[b]=n[x+_],y[b+1]=n[x+_+1],b+=2}return y.set([NaN,NaN,NaN,NaN,n[4],n[5]],b),new i2(y,c,E(this,el),E(this,cm),E(this,lm),E(this,um))}};el=new WeakMap,Au=new WeakMap,lm=new WeakMap,um=new WeakMap,tl=new WeakMap,Qt=new WeakMap,rf=new WeakMap,sf=new WeakMap,lw=new WeakMap,uw=new WeakMap,cm=new WeakMap,dm=new WeakMap,sd=new WeakMap,cw=new WeakMap,MS=new WeakMap,LS=new WeakMap,dw=new WeakSet,r2=function(){const e=E(this,Qt).subarray(4,6),n=E(this,Qt).subarray(16,18),[r,i,s,o]=E(this,el);return[(E(this,rf)+(e[0]-n[0])/2-r)/s,(E(this,sf)+(e[1]-n[1])/2-i)/o,(E(this,rf)+(n[0]-e[0])/2-r)/s,(E(this,sf)+(n[1]-e[1])/2-i)/o]},se(lu,cw,8),se(lu,MS,2),se(lu,LS,E(lu,cw)+E(lu,MS));let sS=lu;var hm,of,Tu,hw,Vs,fw,cr,ms,Vv,Hv,WW;class i2 extends UW{constructor(n,r,i,s,o,a){super();se(this,ms);se(this,hm);se(this,of,null);se(this,Tu);se(this,hw);se(this,Vs);se(this,fw);se(this,cr);ne(this,cr,n),ne(this,Vs,r),ne(this,hm,i),ne(this,fw,s),ne(this,Tu,o),ne(this,hw,a),ie(this,ms,WW).call(this,a);const{x:l,y:u,width:c,height:d}=E(this,of);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/c,n[f+1]=(n[f+1]-u)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/c,r[f+1]=(r[f+1]-u)/d}toSVGPath(){const n=[`M${E(this,cr)[4]} ${E(this,cr)[5]}`];for(let r=6,i=E(this,cr).length;r<i;r+=6){if(isNaN(E(this,cr)[r])){n.push(`L${E(this,cr)[r+4]} ${E(this,cr)[r+5]}`);continue}n.push(`C${E(this,cr)[r]} ${E(this,cr)[r+1]} ${E(this,cr)[r+2]} ${E(this,cr)[r+3]} ${E(this,cr)[r+4]} ${E(this,cr)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],o){const a=i-n,l=s-r;let u,c;switch(o){case 0:u=ie(this,ms,Vv).call(this,E(this,cr),n,s,a,-l),c=ie(this,ms,Vv).call(this,E(this,Vs),n,s,a,-l);break;case 90:u=ie(this,ms,Hv).call(this,E(this,cr),n,r,a,l),c=ie(this,ms,Hv).call(this,E(this,Vs),n,r,a,l);break;case 180:u=ie(this,ms,Vv).call(this,E(this,cr),i,r,-a,l),c=ie(this,ms,Vv).call(this,E(this,Vs),i,r,-a,l);break;case 270:u=ie(this,ms,Hv).call(this,E(this,cr),i,s,-a,-l),c=ie(this,ms,Hv).call(this,E(this,Vs),i,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return E(this,of)}getNewOutline(n,r){const{x:i,y:s,width:o,height:a}=E(this,of),[l,u,c,d]=E(this,hm),f=o*c,p=a*d,m=i*c+l,y=s*d+u,b=new sS({x:E(this,Vs)[0]*f+m,y:E(this,Vs)[1]*p+y},E(this,hm),E(this,fw),n,E(this,hw),r??E(this,Tu));for(let v=2;v<E(this,Vs).length;v+=2)b.add({x:E(this,Vs)[v]*f+m,y:E(this,Vs)[v+1]*p+y});return b.getOutlines()}}hm=new WeakMap,of=new WeakMap,Tu=new WeakMap,hw=new WeakMap,Vs=new WeakMap,fw=new WeakMap,cr=new WeakMap,ms=new WeakSet,Vv=function(n,r,i,s,o){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l]*s,a[l+1]=i+n[l+1]*o;return a},Hv=function(n,r,i,s,o){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l+1]*s,a[l+1]=i+n[l]*o;return a},WW=function(n){const r=E(this,cr);let i=r[4],s=r[5],o=i,a=s,l=i,u=s,c=i,d=s;const f=n?Math.max:Math.min;for(let v=6,x=r.length;v<x;v+=6){if(isNaN(r[v]))o=Math.min(o,r[v+4]),a=Math.min(a,r[v+5]),l=Math.max(l,r[v+4]),u=Math.max(u,r[v+5]),d<r[v+5]?(c=r[v+4],d=r[v+5]):d===r[v+5]&&(c=f(c,r[v+4]));else{const _=mt.bezierBoundingBox(i,s,...r.slice(v,v+6));o=Math.min(o,_[0]),a=Math.min(a,_[1]),l=Math.max(l,_[2]),u=Math.max(u,_[3]),d<_[3]?(c=_[2],d=_[3]):d===_[3]&&(c=f(c,_[2]))}i=r[v+4],s=r[v+5]}const p=o-E(this,Tu),m=a-E(this,Tu),y=l-o+2*E(this,Tu),b=u-a+2*E(this,Tu);ne(this,of,{x:p,y:m,width:y,height:b,lastPoint:[c,d]})};var pw,gw,oa,af,fm,Mr,mw,pm,yw,vw,aa,gm,Pn,s2,o2,qW,fh,GW,Bc;const uu=class uu{constructor({editor:e=null,uiManager:n=null}){se(this,Pn);se(this,pw,ie(this,Pn,qW).bind(this));se(this,gw,ie(this,Pn,GW).bind(this));se(this,oa,null);se(this,af,null);se(this,fm);se(this,Mr,null);se(this,mw,!1);se(this,pm,!1);se(this,yw,null);se(this,vw);se(this,aa,null);se(this,gm);var r;e?(ne(this,pm,!1),ne(this,gm,Mt.HIGHLIGHT_COLOR),ne(this,yw,e)):(ne(this,pm,!0),ne(this,gm,Mt.HIGHLIGHT_DEFAULT_COLOR)),ne(this,aa,(e==null?void 0:e._uiManager)||n),ne(this,vw,E(this,aa)._eventBus),ne(this,fm,(e==null?void 0:e.color)||((r=E(this,aa))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return ln(this,"_keyboardManager",new Jw([[["Escape","mac+Escape"],uu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],uu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],uu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],uu.prototype._moveToPrevious],[["Home","mac+Home"],uu.prototype._moveToBeginning],[["End","mac+End"],uu.prototype._moveToEnd]]))}renderButton(){const e=ne(this,oa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=E(this,aa)._signal;e.addEventListener("click",ie(this,Pn,fh).bind(this),{signal:n}),e.addEventListener("keydown",E(this,pw),{signal:n});const r=ne(this,af,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=E(this,fm),e.append(r),e}renderMainDropdown(){const e=ne(this,Mr,ie(this,Pn,s2).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===E(this,oa)){ie(this,Pn,fh).call(this,e);return}const n=e.target.getAttribute("data-color");n&&ie(this,Pn,o2).call(this,n,e)}_moveToNext(e){var n,r;if(!E(this,Pn,Bc)){ie(this,Pn,fh).call(this,e);return}if(e.target===E(this,oa)){(n=E(this,Mr).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=E(this,Mr))==null?void 0:n.firstChild)||e.target===E(this,oa)){E(this,Pn,Bc)&&this._hideDropdownFromKeyboard();return}E(this,Pn,Bc)||ie(this,Pn,fh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!E(this,Pn,Bc)){ie(this,Pn,fh).call(this,e);return}(n=E(this,Mr).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!E(this,Pn,Bc)){ie(this,Pn,fh).call(this,e);return}(n=E(this,Mr).lastChild)==null||n.focus()}hideDropdown(){var e;(e=E(this,Mr))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",E(this,gw))}_hideDropdownFromKeyboard(){var e;if(!E(this,pm)){if(!E(this,Pn,Bc)){(e=E(this,yw))==null||e.unselect();return}this.hideDropdown(),E(this,oa).focus({preventScroll:!0,focusVisible:E(this,mw)})}}updateColor(e){if(E(this,af)&&(E(this,af).style.backgroundColor=e),!E(this,Mr))return;const n=E(this,aa).highlightColors.values();for(const r of E(this,Mr).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=E(this,oa))==null||e.remove(),ne(this,oa,null),ne(this,af,null),(n=E(this,Mr))==null||n.remove(),ne(this,Mr,null)}};pw=new WeakMap,gw=new WeakMap,oa=new WeakMap,af=new WeakMap,fm=new WeakMap,Mr=new WeakMap,mw=new WeakMap,pm=new WeakMap,yw=new WeakMap,vw=new WeakMap,aa=new WeakMap,gm=new WeakMap,Pn=new WeakSet,s2=function(){const e=document.createElement("div"),n=E(this,aa)._signal;e.addEventListener("contextmenu",ws,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of E(this,aa).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=i,s.setAttribute("aria-selected",i===E(this,fm)),s.addEventListener("click",ie(this,Pn,o2).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",E(this,pw),{signal:n}),e},o2=function(e,n){n.stopPropagation(),E(this,vw).dispatch("switchannotationeditorparams",{source:this,type:E(this,gm),value:e})},qW=function(e){uu._keyboardManager.exec(this,e)},fh=function(e){if(E(this,Pn,Bc)){this.hideDropdown();return}if(ne(this,mw,e.detail===0),window.addEventListener("pointerdown",E(this,gw),{signal:E(this,aa)._signal}),E(this,Mr)){E(this,Mr).classList.remove("hidden");return}const n=ne(this,Mr,ie(this,Pn,s2).call(this));E(this,oa).append(n)},GW=function(e){var n;(n=E(this,Mr))!=null&&n.contains(e.target)||this.hideDropdown()},Bc=function(){return E(this,Mr)&&!E(this,Mr).classList.contains("hidden")};let oS=uu;var mm,bw,od,lf,ym,po,ww,_w,uf,la,Bi,Hs,DS,vm,cf,Lr,bm,nl,xw,qt,a2,l2,YW,XW,KW,u2,Uv,xo,hg,QW,rE,Wv,ZW,JW,e7,t7;const hn=class hn extends wn{constructor(n){super({...n,name:"highlightEditor"});se(this,qt);se(this,mm,null);se(this,bw,0);se(this,od);se(this,lf,null);se(this,ym,null);se(this,po,null);se(this,ww,null);se(this,_w,0);se(this,uf,null);se(this,la,null);se(this,Bi,null);se(this,Hs,!1);se(this,DS,ie(this,qt,QW).bind(this));se(this,vm,null);se(this,cf);se(this,Lr,null);se(this,bm,"");se(this,nl);se(this,xw,"");this.color=n.color||hn._defaultColor,ne(this,nl,n.thickness||hn._defaultThickness),ne(this,cf,n.opacity||hn._defaultOpacity),ne(this,od,n.boxes||null),ne(this,xw,n.methodOfCreation||""),ne(this,bm,n.text||""),this._isDraggable=!1,n.highlightId>-1?(ne(this,Hs,!0),ie(this,qt,l2).call(this,n),ie(this,qt,Uv).call(this)):(ne(this,mm,n.anchorNode),ne(this,bw,n.anchorOffset),ne(this,ww,n.focusNode),ne(this,_w,n.focusOffset),ie(this,qt,a2).call(this),ie(this,qt,Uv).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=hn.prototype;return ln(this,"_keyboardManager",new Jw([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:E(this,Hs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:E(this,nl),methodOfCreation:E(this,xw)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;wn.initialize(n,r),hn._defaultColor||(hn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Mt.HIGHLIGHT_DEFAULT_COLOR:hn._defaultColor=r;break;case Mt.HIGHLIGHT_THICKNESS:hn._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return E(this,vm)}updateParams(n,r){switch(n){case Mt.HIGHLIGHT_COLOR:ie(this,qt,YW).call(this,r);break;case Mt.HIGHLIGHT_THICKNESS:ie(this,qt,XW).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Mt.HIGHLIGHT_DEFAULT_COLOR,hn._defaultColor],[Mt.HIGHLIGHT_THICKNESS,hn._defaultThickness]]}get propertiesToUpdate(){return[[Mt.HIGHLIGHT_COLOR,this.color||hn._defaultColor],[Mt.HIGHLIGHT_THICKNESS,E(this,nl)||hn._defaultThickness],[Mt.HIGHLIGHT_FREE,E(this,Hs)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(ne(this,ym,new oS({editor:this})),n.addColorPicker(E(this,ym))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ie(this,qt,Wv).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,ie(this,qt,Wv).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){ie(this,qt,u2).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ie(this,qt,Uv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?ie(this,qt,u2).call(this):n&&(ie(this,qt,Uv).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,o,a;const{drawLayer:r}=this.parent;let i;E(this,Hs)?(n=(n-this.rotation+360)%360,i=ie(s=hn,xo,hg).call(s,E(this,la).box,n)):i=ie(o=hn,xo,hg).call(o,this,n),r.rotate(E(this,Bi),n),r.rotate(E(this,Lr),n),r.updateBox(E(this,Bi),i),r.updateBox(E(this,Lr),ie(a=hn,xo,hg).call(a,E(this,po).box,n))}render(){if(this.div)return this.div;const n=super.render();E(this,bm)&&(n.setAttribute("aria-label",E(this,bm)),n.setAttribute("role","mark")),E(this,Hs)?n.classList.add("free"):this.div.addEventListener("keydown",E(this,DS),{signal:this._uiManager._signal});const r=ne(this,uf,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=E(this,lf);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),nS(this,E(this,uf),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(E(this,Lr),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(E(this,Lr),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:ie(this,qt,rE).call(this,!0);break;case 1:case 3:ie(this,qt,rE).call(this,!1);break}}select(){var n,r;super.select(),E(this,Lr)&&((n=this.parent)==null||n.drawLayer.removeClass(E(this,Lr),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(E(this,Lr),"selected"))}unselect(){var n;super.unselect(),E(this,Lr)&&((n=this.parent)==null||n.drawLayer.removeClass(E(this,Lr),"selected"),E(this,Hs)||ie(this,qt,rE).call(this,!1))}get _mustFixPosition(){return!E(this,Hs)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(E(this,Bi),n),this.parent.drawLayer.show(E(this,Lr),n))}static startHighlighting(n,r,{target:i,x:s,y:o}){const{x:a,y:l,width:u,height:c}=i.getBoundingClientRect(),d=b=>{ie(this,xo,e7).call(this,n,b)},f=n._signal,p={capture:!0,passive:!1,signal:f},m=b=>{b.preventDefault(),b.stopPropagation()},y=b=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",ws),ie(this,xo,t7).call(this,n,b)};window.addEventListener("blur",y,{signal:f}),window.addEventListener("pointerup",y,{signal:f}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",ws,{signal:f}),i.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new sS({x:s,y:o},[a,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var y;const s=super.deserialize(n,r,i),{rect:[o,a,l,u],color:c,quadPoints:d}=n;s.color=mt.makeHexColor(...c),ne(s,cf,n.opacity);const[f,p]=s.pageDimensions;s.width=(l-o)/f,s.height=(u-a)/p;const m=ne(s,od,[]);for(let b=0;b<d.length;b+=8)m.push({x:(d[4]-l)/f,y:(u-(1-d[b+5]))/p,width:(d[b+2]-d[b])/f,height:(d[b+5]-d[b+1])/p});return ie(y=s,qt,a2).call(y),s}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=wn._colorManager.convert(this.color);return{annotationType:tn.HIGHLIGHT,color:i,opacity:E(this,cf),thickness:E(this,nl),quadPoints:ie(this,qt,ZW).call(this),outlines:ie(this,qt,JW).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ie(this,qt,Wv).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};mm=new WeakMap,bw=new WeakMap,od=new WeakMap,lf=new WeakMap,ym=new WeakMap,po=new WeakMap,ww=new WeakMap,_w=new WeakMap,uf=new WeakMap,la=new WeakMap,Bi=new WeakMap,Hs=new WeakMap,DS=new WeakMap,vm=new WeakMap,cf=new WeakMap,Lr=new WeakMap,bm=new WeakMap,nl=new WeakMap,xw=new WeakMap,qt=new WeakSet,a2=function(){const n=new t2(E(this,od),.001);ne(this,la,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=E(this,la).box;const r=new t2(E(this,od),.0025,.001,this._uiManager.direction==="ltr");ne(this,po,r.getOutlines());const{lastPoint:i}=E(this,po).box;ne(this,vm,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},l2=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,f;if(ne(this,la,n),ne(this,po,n.getNewOutline(E(this,nl)/2+1.5,.0025)),r>=0)ne(this,Bi,r),ne(this,lf,i),this.parent.drawLayer.finalizeLine(r,n),ne(this,Lr,this.parent.drawLayer.highlightOutline(E(this,po)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(E(this,Bi),n),this.parent.drawLayer.updateBox(E(this,Bi),ie(d=hn,xo,hg).call(d,E(this,la).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(E(this,Lr),E(this,po)),this.parent.drawLayer.updateBox(E(this,Lr),ie(f=hn,xo,hg).call(f,E(this,po).box,p))}const{x:o,y:a,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=E(this,po).box;ne(this,vm,[(c[0]-o)/l,(c[1]-a)/u])},YW=function(n){const r=s=>{var o,a;this.color=s,(o=this.parent)==null||o.drawLayer.changeColor(E(this,Bi),s),(a=E(this,ym))==null||a.updateColor(s)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},XW=function(n){const r=E(this,nl),i=s=>{ne(this,nl,s),ie(this,qt,KW).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},KW=function(n){if(!E(this,Hs))return;ie(this,qt,l2).call(this,{highlightOutlines:E(this,la).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},u2=function(){E(this,Bi)===null||!this.parent||(this.parent.drawLayer.remove(E(this,Bi)),ne(this,Bi,null),this.parent.drawLayer.remove(E(this,Lr)),ne(this,Lr,null))},Uv=function(n=this.parent){E(this,Bi)===null&&({id:Os(this,Bi)._,clipPathId:Os(this,lf)._}=n.drawLayer.highlight(E(this,la),this.color,E(this,cf)),ne(this,Lr,n.drawLayer.highlightOutline(E(this,po))),E(this,uf)&&(E(this,uf).style.clipPath=E(this,lf)))},xo=new WeakSet,hg=function({x:n,y:r,width:i,height:s},o){switch(o){case 90:return{x:1-r-s,y:n,width:s,height:i};case 180:return{x:1-n-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-n-i,width:s,height:i}}return{x:n,y:r,width:i,height:s}},QW=function(n){hn._keyboardManager.exec(this,n)},rE=function(n){if(!E(this,mm))return;const r=window.getSelection();n?r.setPosition(E(this,mm),E(this,bw)):r.setPosition(E(this,ww),E(this,_w))},Wv=function(){return E(this,Hs)?this.rotation:0},ZW=function(){if(E(this,Hs))return null;const[n,r]=this.pageDimensions,i=E(this,od),s=new Float32Array(i.length*8);let o=0;for(const{x:a,y:l,width:u,height:c}of i){const d=a*n,f=(1-l-c)*r;s[o]=s[o+4]=d,s[o+1]=s[o+3]=f,s[o+2]=s[o+6]=d+u*n,s[o+5]=s[o+7]=f+c*r,o+=8}return s},JW=function(n){return E(this,la).serialize(n,ie(this,qt,Wv).call(this))},e7=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},t7=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},se(hn,xo),at(hn,"_defaultColor",null),at(hn,"_defaultOpacity",1),at(hn,"_defaultThickness",12),at(hn,"_l10nPromise"),at(hn,"_type","highlight"),at(hn,"_editorType",tn.HIGHLIGHT),at(hn,"_freeHighlightId",-1),at(hn,"_freeHighlight",null),at(hn,"_freeHighlightClipId","");let aS=hn;var df,hf,Ew,Sw,Cw,ff,rl,ku,go,pf,gf,Ru,mf,yf,ad,Qe,n7,r7,i7,s7,d2,o7,h2,a7,l7,u7,c7,d7,ph,f2,iE,sE,fg,p2,oE,nc,h7,g2,f7,p7,m2,aE,qv;const Qn=class Qn extends wn{constructor(n){super({...n,name:"inkEditor"});se(this,Qe);se(this,df,0);se(this,hf,0);se(this,Ew,this.canvasPointermove.bind(this));se(this,Sw,this.canvasPointerleave.bind(this));se(this,Cw,this.canvasPointerup.bind(this));se(this,ff,this.canvasPointerdown.bind(this));se(this,rl,null);se(this,ku,new Path2D);se(this,go,!1);se(this,pf,!1);se(this,gf,!1);se(this,Ru,null);se(this,mf,0);se(this,yf,0);se(this,ad,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){wn.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case Mt.INK_THICKNESS:Qn._defaultThickness=r;break;case Mt.INK_COLOR:Qn._defaultColor=r;break;case Mt.INK_OPACITY:Qn._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case Mt.INK_THICKNESS:ie(this,Qe,n7).call(this,r);break;case Mt.INK_COLOR:ie(this,Qe,r7).call(this,r);break;case Mt.INK_OPACITY:ie(this,Qe,i7).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Mt.INK_THICKNESS,Qn._defaultThickness],[Mt.INK_COLOR,Qn._defaultColor||wn._defaultLineColor],[Mt.INK_OPACITY,Math.round(Qn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Mt.INK_THICKNESS,this.thickness||Qn._defaultThickness],[Mt.INK_COLOR,this.color||Qn._defaultColor||wn._defaultLineColor],[Mt.INK_OPACITY,Math.round(100*(this.opacity??Qn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(ie(this,Qe,iE).call(this),ie(this,Qe,sE).call(this)),this.isAttachedToDOM||(this.parent.add(this),ie(this,Qe,fg).call(this)),ie(this,Qe,qv).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,E(this,rl)&&(clearTimeout(E(this,rl)),ne(this,rl,null)),(n=E(this,Ru))==null||n.disconnect(),ne(this,Ru,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,s=this.height*r;this.setDimensions(i,s)}enableEditMode(){E(this,go)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",E(this,ff),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",E(this,ff)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){E(this,go)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ne(this,go,!0),this.div.classList.add("disabled"),ie(this,Qe,qv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||E(this,go)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),ie(this,Qe,o7).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),ie(this,Qe,h2).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),ie(this,Qe,f2).call(this,n)}canvasPointerleave(n){ie(this,Qe,f2).call(this,n)}get isResizable(){return!this.isEmpty()&&E(this,go)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,s,o,a]=ie(this,Qe,s7).call(this);if(this.setAt(i,s,0,0),this.setDims(o,a),ie(this,Qe,iE).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),ne(this,gf,!0),ie(this,Qe,fg).call(this),this.setDims(this.width*l,this.height*u),ie(this,Qe,ph).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ie(this,Qe,sE).call(this),this.div}setDimensions(n,r){const i=Math.round(n),s=Math.round(r);if(E(this,mf)===i&&E(this,yf)===s)return;ne(this,mf,i),ne(this,yf,s),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=n/o,this.height=r/a,this.fixAndSetPosition(),E(this,go)&&ie(this,Qe,p2).call(this,n,r),ie(this,Qe,fg).call(this),ie(this,Qe,ph).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var b,v,x;if(n instanceof OW)return null;const s=super.deserialize(n,r,i);s.thickness=n.thickness,s.color=mt.makeHexColor(...n.color),s.opacity=n.opacity;const[o,a]=s.pageDimensions,l=s.width*o,u=s.height*a,c=s.parentScale,d=n.thickness/2;ne(s,go,!0),ne(s,mf,Math.round(l)),ne(s,yf,Math.round(u));const{paths:f,rect:p,rotation:m}=n;for(let{bezier:_}of f){_=ie(b=Qn,nc,f7).call(b,_,p,m);const S=[];s.paths.push(S);let k=c*(_[0]-d),O=c*(_[1]-d);for(let R=2,P=_.length;R<P;R+=6){const T=c*(_[R]-d),L=c*(_[R+1]-d),M=c*(_[R+2]-d),D=c*(_[R+3]-d),N=c*(_[R+4]-d),U=c*(_[R+5]-d);S.push([[k,O],[T,L],[M,D],[N,U]]),k=N,O=U}const A=ie(this,nc,h7).call(this,S);s.bezierPath2D.push(A)}const y=ie(v=s,Qe,m2).call(v);return ne(s,hf,Math.max(wn.MIN_SIZE,y[2]-y[0])),ne(s,df,Math.max(wn.MIN_SIZE,y[3]-y[1])),ie(x=s,Qe,p2).call(x,l,u),s}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=wn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:tn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:ie(this,Qe,p7).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};df=new WeakMap,hf=new WeakMap,Ew=new WeakMap,Sw=new WeakMap,Cw=new WeakMap,ff=new WeakMap,rl=new WeakMap,ku=new WeakMap,go=new WeakMap,pf=new WeakMap,gf=new WeakMap,Ru=new WeakMap,mf=new WeakMap,yf=new WeakMap,ad=new WeakMap,Qe=new WeakSet,n7=function(n){const r=s=>{this.thickness=s,ie(this,Qe,qv).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},r7=function(n){const r=s=>{this.color=s,ie(this,Qe,ph).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},i7=function(n){const r=s=>{this.opacity=s,ie(this,Qe,ph).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Mt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},s7=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},d2=function(){const{ctx:n,color:r,opacity:i,thickness:s,parentScale:o,scaleFactor:a}=this;n.lineWidth=s*o/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${Pbe(i)}`},o7=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",ws,{signal:i}),this.canvas.addEventListener("pointerleave",E(this,Sw),{signal:i}),this.canvas.addEventListener("pointermove",E(this,Ew),{signal:i}),this.canvas.addEventListener("pointerup",E(this,Cw),{signal:i}),this.canvas.removeEventListener("pointerdown",E(this,ff)),this.isEditing=!0,E(this,gf)||(ne(this,gf,!0),ie(this,Qe,fg).call(this),this.thickness||(this.thickness=Qn._defaultThickness),this.color||(this.color=Qn._defaultColor||wn._defaultLineColor),this.opacity??(this.opacity=Qn._defaultOpacity)),this.currentPath.push([n,r]),ne(this,pf,!1),ie(this,Qe,d2).call(this),ne(this,ad,()=>{ie(this,Qe,u7).call(this),E(this,ad)&&window.requestAnimationFrame(E(this,ad))}),window.requestAnimationFrame(E(this,ad))},h2=function(n,r){const[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===s)return;const o=this.currentPath;let a=E(this,ku);if(o.push([n,r]),ne(this,pf,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(n,r);return}o.length===3&&(ne(this,ku,a=new Path2D),a.moveTo(...o[0])),ie(this,Qe,c7).call(this,a,...o.at(-3),...o.at(-2),n,r)},a7=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);E(this,ku).lineTo(...n)},l7=function(n,r){ne(this,ad,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),ie(this,Qe,h2).call(this,n,r),ie(this,Qe,a7).call(this);let i;if(this.currentPath.length!==1)i=ie(this,Qe,d7).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const s=E(this,ku),o=this.currentPath;this.currentPath=[],ne(this,ku,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ie(this,Qe,iE).call(this),ie(this,Qe,sE).call(this)),ie(this,Qe,qv).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},u7=function(){if(!E(this,pf))return;ne(this,pf,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),s=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...s)-n,Math.max(...s)+n;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(E(this,ku)),o.restore()},c7=function(n,r,i,s,o,a,l){const u=(r+s)/2,c=(i+o)/2,d=(s+a)/2,f=(o+l)/2;n.bezierCurveTo(u+2*(s-u)/3,c+2*(o-c)/3,d+2*(s-d)/3,f+2*(o-f)/3,d,f)},d7=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[s,o]=n[0];for(i=1;i<n.length-2;i++){const[p,m]=n[i],[y,b]=n[i+1],v=(p+y)/2,x=(m+b)/2,_=[s+2*(p-s)/3,o+2*(m-o)/3],S=[v+2*(p-v)/3,x+2*(m-x)/3];r.push([[s,o],_,S,[v,x]]),[s,o]=[v,x]}const[a,l]=n[i],[u,c]=n[i+1],d=[s+2*(a-s)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,c+2*(l-c)/3];return r.push([[s,o],d,f,[u,c]]),r},ph=function(){if(this.isEmpty()){ie(this,Qe,oE).call(this);return}ie(this,Qe,d2).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),ie(this,Qe,oE).call(this);for(const i of this.bezierPath2D)r.stroke(i)},f2=function(n){this.canvas.removeEventListener("pointerleave",E(this,Sw)),this.canvas.removeEventListener("pointermove",E(this,Ew)),this.canvas.removeEventListener("pointerup",E(this,Cw)),this.canvas.addEventListener("pointerdown",E(this,ff),{signal:this._uiManager._signal}),E(this,rl)&&clearTimeout(E(this,rl)),ne(this,rl,setTimeout(()=>{ne(this,rl,null),this.canvas.removeEventListener("contextmenu",ws)},10)),ie(this,Qe,l7).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},iE=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},sE=function(){ne(this,Ru,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),E(this,Ru).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=E(this,Ru))==null||n.disconnect(),ne(this,Ru,null)},{once:!0})},fg=function(){if(!E(this,gf))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),ie(this,Qe,oE).call(this)},p2=function(n,r){const i=ie(this,Qe,aE).call(this),s=(n-i)/E(this,hf),o=(r-i)/E(this,df);this.scaleFactor=Math.min(s,o)},oE=function(){const n=ie(this,Qe,aE).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},nc=new WeakSet,h7=function(n){const r=new Path2D;for(let i=0,s=n.length;i<s;i++){const[o,a,l,u]=n[i];i===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},g2=function(n,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=s,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+s,n[u+1]=d+o}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]+=o;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=a-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},f7=function(n,r,i){const[s,o,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=s,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-o,n[u+1]=d-s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]-=o;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return n},p7=function(n,r,i,s){var c,d;const o=[],a=this.thickness/2,l=n*r+a,u=n*i+a;for(const f of this.paths){const p=[],m=[];for(let y=0,b=f.length;y<b;y++){const[v,x,_,S]=f[y];if(v[0]===S[0]&&v[1]===S[1]&&b===1){const D=n*v[0]+l,N=n*v[1]+u;p.push(D,N),m.push(D,N);break}const k=n*v[0]+l,O=n*v[1]+u,A=n*x[0]+l,R=n*x[1]+u,P=n*_[0]+l,T=n*_[1]+u,L=n*S[0]+l,M=n*S[1]+u;y===0&&(p.push(k,O),m.push(k,O)),p.push(A,R,P,T,L,M),m.push(A,R),y===b-1&&m.push(L,M)}o.push({bezier:ie(c=Qn,nc,g2).call(c,p,s,this.rotation),points:ie(d=Qn,nc,g2).call(d,m,s,this.rotation)})}return o},m2=function(){let n=1/0,r=-1/0,i=1/0,s=-1/0;for(const o of this.paths)for(const[a,l,u,c]of o){const d=mt.bezierBoundingBox(...a,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),s=Math.max(s,d[3])}return[n,i,r,s]},aE=function(){return E(this,go)?Math.ceil(this.thickness*this.parentScale):0},qv=function(n=!1){if(this.isEmpty())return;if(!E(this,go)){ie(this,Qe,ph).call(this);return}const r=ie(this,Qe,m2).call(this),i=ie(this,Qe,aE).call(this);ne(this,hf,Math.max(wn.MIN_SIZE,r[2]-r[0])),ne(this,df,Math.max(wn.MIN_SIZE,r[3]-r[1]));const s=Math.ceil(i+E(this,hf)*this.scaleFactor),o=Math.ceil(i+E(this,df)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=s/a,this.height=o/l,this.setAspectRatio(s,o);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],ie(this,Qe,fg).call(this),ie(this,Qe,ph).call(this),ne(this,mf,s),ne(this,yf,o),this.setDims(s,o);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},se(Qn,nc),at(Qn,"_defaultColor",null),at(Qn,"_defaultOpacity",1),at(Qn,"_defaultThickness",1),at(Qn,"_type","ink"),at(Qn,"_editorType",tn.INK);let c2=Qn;var si,oi,ld,Iu,ud,wm,il,Pu,sl,ua,Aw,cn,Gv,Yv,lE,v2,g7,m7,b2,uE,y7;const g0=class g0 extends wn{constructor(n){super({...n,name:"stampEditor"});se(this,cn);se(this,si,null);se(this,oi,null);se(this,ld,null);se(this,Iu,null);se(this,ud,null);se(this,wm,"");se(this,il,null);se(this,Pu,null);se(this,sl,null);se(this,ua,!1);se(this,Aw,!1);ne(this,Iu,n.bitmapUrl),ne(this,ud,n.bitmapFile)}static initialize(n,r){wn.initialize(n,r)}static get supportedTypes(){return ln(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return ln(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(tn.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;E(this,oi)&&(ne(this,si,null),this._uiManager.imageManager.deleteId(E(this,oi)),(n=E(this,il))==null||n.remove(),ne(this,il,null),(r=E(this,Pu))==null||r.disconnect(),ne(this,Pu,null),E(this,sl)&&(clearTimeout(E(this,sl)),ne(this,sl,null))),super.remove()}rebuild(){if(!this.parent){E(this,oi)&&ie(this,cn,lE).call(this);return}super.rebuild(),this.div!==null&&(E(this,oi)&&E(this,il)===null&&ie(this,cn,lE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(E(this,ld)||E(this,si)||E(this,Iu)||E(this,ud)||E(this,oi))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),E(this,si)?ie(this,cn,v2).call(this):ie(this,cn,lE).call(this),this.width){const[i,s]=this.parentDimensions;this.setAt(n*i,r*s,this.width*i,this.height*s)}return this.div}getImageForAltText(){return E(this,il)}static deserialize(n,r,i){if(n instanceof MW)return null;const s=super.deserialize(n,r,i),{rect:o,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:c}=n;l&&i.imageManager.isValidId(l)?ne(s,oi,l):ne(s,Iu,a),ne(s,ua,u);const[d,f]=s.pageDimensions;return s.width=(o[2]-o[0])/d,s.height=(o[3]-o[1])/f,c&&(s.altTextData=c),s}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:tn.STAMP,bitmapId:E(this,oi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:E(this,ua),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=ie(this,cn,uE).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:s,altText:o}=this.altTextData;if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),r===null)return i;r.stamps||(r.stamps=new Map);const a=E(this,ua)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(E(this,oi)))r.stamps.set(E(this,oi),{area:a,serialized:i}),i.bitmap=ie(this,cn,uE).call(this,!1);else if(E(this,ua)){const l=r.stamps.get(E(this,oi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=ie(this,cn,uE).call(this,!1))}return i}};si=new WeakMap,oi=new WeakMap,ld=new WeakMap,Iu=new WeakMap,ud=new WeakMap,wm=new WeakMap,il=new WeakMap,Pu=new WeakMap,sl=new WeakMap,ua=new WeakMap,Aw=new WeakMap,cn=new WeakSet,Gv=function(n,r=!1){if(!n){this.remove();return}ne(this,si,n.bitmap),r||(ne(this,oi,n.id),ne(this,ua,n.isSvg)),n.file&&ne(this,wm,n.file.name),ie(this,cn,v2).call(this)},Yv=function(){ne(this,ld,null),this._uiManager.enableWaiting(!1),E(this,il)&&this.div.focus()},lE=function(){if(E(this,oi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(E(this,oi)).then(i=>ie(this,cn,Gv).call(this,i,!0)).finally(()=>ie(this,cn,Yv).call(this));return}if(E(this,Iu)){const i=E(this,Iu);ne(this,Iu,null),this._uiManager.enableWaiting(!0),ne(this,ld,this._uiManager.imageManager.getFromUrl(i).then(s=>ie(this,cn,Gv).call(this,s)).finally(()=>ie(this,cn,Yv).call(this)));return}if(E(this,ud)){const i=E(this,ud);ne(this,ud,null),this._uiManager.enableWaiting(!0),ne(this,ld,this._uiManager.imageManager.getFromFile(i).then(s=>ie(this,cn,Gv).call(this,s)).finally(()=>ie(this,cn,Yv).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=g0.supportedTypesStr;const r=this._uiManager._signal;ne(this,ld,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);ie(this,cn,Gv).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ie(this,cn,Yv).call(this))),n.click()},v2=function(){const{div:n}=this;let{width:r,height:i}=E(this,si);const[s,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*s,i=this.height*o;else if(r>a*s||i>a*o){const d=Math.min(a*s/r,a*o/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/o),this._uiManager.enableWaiting(!1);const c=ne(this,il,document.createElement("canvas"));n.append(c),n.hidden=!1,ie(this,cn,b2).call(this,r,i),ie(this,cn,y7).call(this),E(this,Aw)||(this.parent.addUndoableEditor(this),ne(this,Aw,!0)),this._reportTelemetry({action:"inserted_image"}),E(this,wm)&&c.setAttribute("aria-label",E(this,wm))},g7=function(n,r){var a;const[i,s]=this.parentDimensions;this.width=n/i,this.height=r/s,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,E(this,sl)!==null&&clearTimeout(E(this,sl)),ne(this,sl,setTimeout(()=>{ne(this,sl,null),ie(this,cn,b2).call(this,n,r)},200))},m7=function(n,r){const{width:i,height:s}=E(this,si);let o=i,a=s,l=E(this,si);for(;o>2*n||a>2*r;){const u=o,c=a;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,o,a),l=d.transferToImageBitmap()}return l},b2=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=E(this,il);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const s=E(this,ua)?E(this,si):ie(this,cn,m7).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(n,r).getContext("2d");l.drawImage(s,0,0,s.width,s.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(u=>{const c=(u==null?void 0:u.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,n,r)},uE=function(n){if(n){if(E(this,ua)){const s=this._uiManager.imageManager.getSvgUrl(E(this,oi));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=E(this,si),r.getContext("2d").drawImage(E(this,si),0,0),r.toDataURL()}if(E(this,ua)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Id.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Id.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(E(this,si),0,0,E(this,si).width,E(this,si).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(E(this,si))},y7=function(){this._uiManager._signal&&(ne(this,Pu,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&ie(this,cn,g7).call(this,r.width,r.height)})),E(this,Pu).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=E(this,Pu))==null||n.disconnect(),ne(this,Pu,null)},{once:!0}))},at(g0,"_type","stamp"),at(g0,"_editorType",tn.STAMP);let y2=g0;var vf,_m,ol,bf,Nu,Ou,Mu,Us,cd,xm,Em,$i,vt,dd,ci,v7,_2,x2,E2,cE;const Yo=class Yo{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:s,drawLayer:o,textLayer:a,viewport:l,l10n:u}){se(this,ci);se(this,vf);se(this,_m,!1);se(this,ol,null);se(this,bf,null);se(this,Nu,null);se(this,Ou,null);se(this,Mu,null);se(this,Us,new Map);se(this,cd,!1);se(this,xm,!1);se(this,Em,!1);se(this,$i,null);se(this,vt);const c=[...E(Yo,dd).values()];if(!Yo._initialized){Yo._initialized=!0;for(const d of c)d.initialize(u,e)}e.registerEditorTypes(c),ne(this,vt,e),this.pageIndex=n,this.div=r,ne(this,vf,i),ne(this,ol,s),this.viewport=l,ne(this,$i,a),this.drawLayer=o,E(this,vt).addLayer(this)}get isEmpty(){return E(this,Us).size===0}get isInvisible(){return this.isEmpty&&E(this,vt).getMode()===tn.NONE}updateToolbar(e){E(this,vt).updateToolbar(e)}updateMode(e=E(this,vt).getMode()){switch(ie(this,ci,cE).call(this),e){case tn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case tn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of E(Yo,dd).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=E(this,$i))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(E(this,vt).getMode()!==tn.INK)return;if(!e){for(const r of E(this,Us).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){E(this,vt).setEditingState(e)}addCommands(e){E(this,vt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=E(this,ol))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of E(this,Us).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(E(this,vt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!E(this,ol))return;const n=E(this,ol).getEditableAnnotations();for(const r of n){if(r.hide(),E(this,vt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ne(this,Em,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const s of E(this,Us).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else n.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(E(this,ol)){const s=E(this,ol).getEditableAnnotations();for(const o of s){const{id:a}=o.data;if(E(this,vt).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(E(this,vt).addChangedExistingAnnotation(l),l.renderAnnotationElement(o),l.show(!1)),o.show()}}ie(this,ci,cE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of E(Yo,dd).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ne(this,Em,!1)}getEditableAnnotation(e){var n;return((n=E(this,ol))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){E(this,vt).getActive()!==e&&E(this,vt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=E(this,$i))!=null&&e.div&&!E(this,Ou)&&(ne(this,Ou,ie(this,ci,v7).bind(this)),E(this,$i).div.addEventListener("pointerdown",E(this,Ou),{signal:E(this,vt)._signal}),E(this,$i).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=E(this,$i))!=null&&e.div&&E(this,Ou)&&(E(this,$i).div.removeEventListener("pointerdown",E(this,Ou)),ne(this,Ou,null),E(this,$i).div.classList.remove("highlighting"))}enableClick(){if(E(this,Nu))return;const e=E(this,vt)._signal;ne(this,Nu,this.pointerdown.bind(this)),ne(this,bf,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",E(this,Nu),{signal:e}),this.div.addEventListener("pointerup",E(this,bf),{signal:e})}disableClick(){E(this,Nu)&&(this.div.removeEventListener("pointerdown",E(this,Nu)),this.div.removeEventListener("pointerup",E(this,bf)),ne(this,Nu,null),ne(this,bf,null))}attach(e){E(this,Us).set(e.id,e);const{annotationElementId:n}=e;n&&E(this,vt).isDeletedAnnotationElement(n)&&E(this,vt).removeDeletedAnnotationElement(e)}detach(e){var n;E(this,Us).delete(e.id),(n=E(this,vf))==null||n.removePointerInTextLayer(e.contentDiv),!E(this,Em)&&e.annotationElementId&&E(this,vt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),E(this,vt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,E(this,xm)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(E(this,vt).addDeletedAnnotationElement(e.annotationElementId),wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),E(this,vt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),E(this,vt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!E(this,Mu)&&(e._focusEventsAllowed=!1,ne(this,Mu,setTimeout(()=>{ne(this,Mu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:E(this,vt)._signal}),n.focus())},0))),e._structTreeParentId=(r=E(this,vf))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return E(this,vt).getId()}get _signal(){return E(this,vt)._signal}canCreateNewEmptyEditor(){var e;return(e=E(this,ci,_2))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){E(this,vt).updateToolbar(e),E(this,vt).updateMode(e);const{offsetX:r,offsetY:i}=ie(this,ci,E2).call(this),s=this.getNextId(),o=ie(this,ci,x2).call(this,{parent:this,id:s,x:r,y:i,uiManager:E(this,vt),isCentered:!0,...n});o&&this.add(o)}deserialize(e){var n;return((n=E(Yo,dd).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,E(this,vt)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=ie(this,ci,x2).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:E(this,vt),isCentered:n,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(ie(this,ci,E2).call(this),!0)}setSelected(e){E(this,vt).setSelected(e)}toggleSelected(e){E(this,vt).toggleSelected(e)}isSelected(e){return E(this,vt).isSelected(e)}unselect(e){E(this,vt).unselect(e)}pointerup(e){const{isMac:n}=ps.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&E(this,cd)){if(ne(this,cd,!1),!E(this,_m)){ne(this,_m,!0);return}if(E(this,vt).getMode()===tn.STAMP){E(this,vt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(E(this,vt).getMode()===tn.HIGHLIGHT&&this.enableTextSelection(),E(this,cd)){ne(this,cd,!1);return}const{isMac:n}=ps.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;ne(this,cd,!0);const r=E(this,vt).getActive();ne(this,_m,!r||r.isEmpty())}findNewParent(e,n,r){const i=E(this,vt).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=E(this,vt).getActive())==null?void 0:e.parent)===this&&(E(this,vt).commitOrRemove(),E(this,vt).setActiveEditor(null)),E(this,Mu)&&(clearTimeout(E(this,Mu)),ne(this,Mu,null));for(const r of E(this,Us).values())(n=E(this,vf))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,E(this,Us).clear(),E(this,vt).removeLayer(this)}render({viewport:e}){this.viewport=e,Lf(this.div,e);for(const n of E(this,vt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){E(this,vt).commitOrRemove(),ie(this,ci,cE).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Lf(this.div,{rotation:r}),n!==r)for(const i of E(this,Us).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return E(this,vt).viewParameters.realScale}};vf=new WeakMap,_m=new WeakMap,ol=new WeakMap,bf=new WeakMap,Nu=new WeakMap,Ou=new WeakMap,Mu=new WeakMap,Us=new WeakMap,cd=new WeakMap,xm=new WeakMap,Em=new WeakMap,$i=new WeakMap,vt=new WeakMap,dd=new WeakMap,ci=new WeakSet,v7=function(e){if(E(this,vt).unselectAll(),e.target===E(this,$i).div){const{isMac:n}=ps.platform;if(e.button!==0||e.ctrlKey&&n)return;E(this,vt).showAllEditors("highlight",!0,!0),E(this,$i).div.classList.add("free"),aS.startHighlighting(this,E(this,vt).direction==="ltr",e),E(this,$i).div.addEventListener("pointerup",()=>{E(this,$i).div.classList.remove("free")},{once:!0,signal:E(this,vt)._signal}),e.preventDefault()}},_2=function(){return E(Yo,dd).get(E(this,vt).getMode())},x2=function(e){const n=E(this,ci,_2);return n?new n.prototype.constructor(e):null},E2=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),o=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(s+a)/2-e,c=(o+l)/2-n,[d,f]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:f}},cE=function(){ne(this,xm,!0);for(const e of E(this,Us).values())e.isEmpty()&&e.remove();ne(this,xm,!1)},at(Yo,"_initialized",!1),se(Yo,dd,new Map([JP,c2,y2,aS].map(e=>[e._editorType,e])));let w2=Yo;var al,Tw,Dr,hd,kw,C2,$f,A2,b7;const ei=class ei{constructor({pageIndex:e}){se(this,$f);se(this,al,null);se(this,Tw,0);se(this,Dr,new Map);se(this,hd,new Map);this.pageIndex=e}setParent(e){if(!E(this,al)){ne(this,al,e);return}if(E(this,al)!==e){if(E(this,Dr).size>0)for(const n of E(this,Dr).values())n.remove(),e.append(n);ne(this,al,e)}}static get _svgFactory(){return ln(this,"_svgFactory",new BO)}highlight(e,n,r,i=!1){const s=Os(this,Tw)._++,o=ie(this,$f,A2).call(this,e.box);o.classList.add("highlight"),e.free&&o.classList.add("free");const a=ei._svgFactory.createElement("defs");o.append(a);const l=ei._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&E(this,hd).set(s,l);const c=ie(this,$f,b7).call(this,a,u),d=ei._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",n),o.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),E(this,Dr).set(s,o),{id:s,clipPathId:`url(#${c})`}}highlightOutline(e){const n=Os(this,Tw)._++,r=ie(this,$f,A2).call(this,e.box);r.classList.add("highlightOutline");const i=ei._svgFactory.createElement("defs");r.append(i);const s=ei._svgFactory.createElement("path");i.append(s);const o=`path_p${this.pageIndex}_${n}`;s.setAttribute("id",o),s.setAttribute("d",e.toSVGPath()),s.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const c=ei._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const d=ei._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=ei._svgFactory.createElement("use");c.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=ei._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),E(this,Dr).set(n,r),n}finalizeLine(e,n){const r=E(this,hd).get(e);E(this,hd).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){E(this,Dr).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),E(this,hd).delete(e)}updatePath(e,n){E(this,hd).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;ie(r=ei,kw,C2).call(r,E(this,Dr).get(e),n)}show(e,n){E(this,Dr).get(e).classList.toggle("hidden",!n)}rotate(e,n){E(this,Dr).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){E(this,Dr).get(e).setAttribute("fill",n)}changeOpacity(e,n){E(this,Dr).get(e).setAttribute("fill-opacity",n)}addClass(e,n){E(this,Dr).get(e).classList.add(n)}removeClass(e,n){E(this,Dr).get(e).classList.remove(n)}remove(e){E(this,al)!==null&&(E(this,Dr).get(e).remove(),E(this,Dr).delete(e))}destroy(){ne(this,al,null);for(const e of E(this,Dr).values())e.remove();E(this,Dr).clear()}};al=new WeakMap,Tw=new WeakMap,Dr=new WeakMap,hd=new WeakMap,kw=new WeakSet,C2=function(e,{x:n=0,y:r=0,width:i=1,height:s=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*s}%`},$f=new WeakSet,A2=function(e){var r;const n=ei._svgFactory.create(1,1,!0);return E(this,al).append(n),n.setAttribute("aria-hidden",!0),ie(r=ei,kw,C2).call(r,n,e),n},b7=function(e,n){const r=ei._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=ei._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},se(ei,kw);let S2=ei;Ot.AbortException;Ot.AnnotationEditorLayer;Ot.AnnotationEditorParamsType;Ot.AnnotationEditorType;Ot.AnnotationEditorUIManager;Ot.AnnotationLayer;Ot.AnnotationMode;Ot.CMapCompressionType;Ot.ColorPicker;Ot.DOMSVGFactory;Ot.DrawLayer;Ot.FeatureTest;var l1e=Ot.GlobalWorkerOptions;Ot.ImageKind;Ot.InvalidPDFException;Ot.MissingPDFException;Ot.OPS;Ot.Outliner;Ot.PDFDataRangeTransport;Ot.PDFDateString;Ot.PDFWorker;Ot.PasswordResponses;Ot.PermissionFlag;Ot.PixelsPerInch;Ot.RenderingCancelledException;Ot.TextLayer;Ot.UnexpectedResponseException;Ot.Util;Ot.VerbosityLevel;Ot.XfaLayer;Ot.build;Ot.createValidAbsoluteUrl;Ot.fetchData;var u1e=Ot.getDocument;Ot.getFilenameFromUrl;Ot.getPdfFilenameFromUrl;Ot.getXfaPageViewport;Ot.isDataScheme;Ot.isPdfFile;Ot.noContextMenu;Ot.normalizeUnicode;Ot.renderTextLayer;Ot.setLayerDimensions;Ot.shadow;Ot.updateTextLayer;Ot.version;const c1e=t=>Xe.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),d1e=t=>Xe.createElement("div",{style:{color:"black"}},t.message),h1e=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},f1e="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",p1e=({document:t,beforeLoad:e=c1e,errorMessage:n=d1e,children:r,onError:i=h1e,workerSrc:s=f1e})=>{const o=z.useRef(null),a=z.useRef(null),[l,u]=z.useState(null),[c,d]=z.useState(null);return z.useEffect(()=>(l1e.workerSrc=s,o.current=u1e(t),o.current.onProgress=f=>{d(f.loaded>f.total?null:f)},o.current.promise.then(f=>{a.current=f}).catch(f=>{f.message!="Worker was destroyed"&&(u(f),i(f))}).finally(()=>{d(null)}),()=>{o.current&&o.current.destroy(),a.current&&a.current.destroy()}),[t]),l?n(l):c?e(c):a.current&&r(a.current)};function g1e({readRecords:t,displayedReads:e,setSelectedHighlightId:n}){const{highlight:r,isScrolledTo:i,highlightBindings:s}=T0e(),o=e.includes(r.readRecordId)?t[r.readRecordId].color:"#e6e6e6";return r.type==="text"?j.jsx(j0e,{isScrolledTo:i,highlight:r,style:{background:o},onClick:()=>n(r.id)}):j.jsx(lbe,{isScrolledTo:i,highlight:r,bounds:s.textLayer,style:{background:o,pointerEvents:"none"}})}const m1e=t=>{document.location.hash=`highlight-${t.id}`},y1e=({highlights:t,resetHighlights:e})=>{const{readRecords:n}=ko(),r=i=>{const s=parseInt(i.slice(1,3),16),o=parseInt(i.slice(3,5),16),a=parseInt(i.slice(5,7),16);return`rgba(${s}, ${o}, ${a}, 1)`};return j.jsxs("div",{className:"sidebar",style:{width:"25%"},children:[t&&j.jsx("ul",{className:"sidebar__highlights",children:t.map((i,s)=>j.jsxs("li",{className:"sidebar__highlight",onClick:()=>{m1e(i)},style:{backgroundColor:r(n[i.readRecordId].color)},children:[j.jsxs("div",{children:[i.content.text&&j.jsx("blockquote",{style:{marginTop:"0.5rem"},children:`${i.content.text.slice(0,90).trim()}…`}),i.content.image&&j.jsx("div",{className:"highlight__image__container",style:{marginTop:"0.5rem"},children:j.jsx("img",{src:i.content.image,alt:"Screenshot",className:"highlight__image"})})]}),j.jsxs("div",{className:"highlight__location",children:["Page ",i.position.boundingRect.pageNumber]})]},s))}),t&&t.length>0&&j.jsx("div",{style:{padding:"0.5rem"},children:j.jsx("button",{onClick:e,className:"sidebar__reset",children:"Reset highlights"})})]})},v1e=({addHighlight:t})=>{const e=z.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=d8();return j.jsx("div",{className:"Tip",children:j.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function ox(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mk={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Nz;function b1e(){return Nz||(Nz=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var d=typeof ox=="function"&&ox;if(!c&&d)return d(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(m){var y=r[u][1][m];return o(y||m)},p,p.exports,n,r,i,s)}return i[u].exports}for(var a=typeof ox=="function"&&ox,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,d,f,p,m,y,b=[],v=0,x=l.length,_=x,S=s.getTypeOf(l)!=="string";v<l.length;)_=x-v,d=S?(u=l[v++],c=v<x?l[v++]:0,v<x?l[v++]:0):(u=l.charCodeAt(v++),c=v<x?l.charCodeAt(v++):0,v<x?l.charCodeAt(v++):0),f=u>>2,p=(3&u)<<4|c>>4,m=1<_?(15&c)<<2|d>>6:64,y=2<_?63&d:64,b.push(a.charAt(f)+a.charAt(p)+a.charAt(m)+a.charAt(y));return b.join("")},i.decode=function(l){var u,c,d,f,p,m,y=0,b=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var x,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=o.uint8array?new Uint8Array(0|_):new Array(0|_);y<l.length;)u=a.indexOf(l.charAt(y++))<<2|(f=a.indexOf(l.charAt(y++)))>>4,c=(15&f)<<4|(p=a.indexOf(l.charAt(y++)))>>2,d=(3&p)<<6|(m=a.indexOf(l.charAt(y++))),x[b++]=u,p!==64&&(x[b++]=c),m!==64&&(x[b++]=d);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,d,f,p,m){this.compressedSize=c,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=m}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,d,f){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,c,d,f){var p=o,m=f+d;u^=-1;for(var y=f;y<m;y++)u=u>>>8^p[255&(u^c[y])];return-1^u}(0|l,a,a.length,0):function(u,c,d,f){var p=o,m=f+d;u^=-1;for(var y=f;y<m;y++)u=u>>>8^p[255&(u^c.charCodeAt(y))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(d,f){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,d.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new c("Deflate",d)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,m){var y,b="";for(y=0;y<m;y++)b+=String.fromCharCode(255&p),p>>>=8;return b}function o(p,m,y,b,v,x){var _,S,k=p.file,O=p.compression,A=x!==u.utf8encode,R=a.transformTo("string",x(k.name)),P=a.transformTo("string",u.utf8encode(k.name)),T=k.comment,L=a.transformTo("string",x(T)),M=a.transformTo("string",u.utf8encode(T)),D=P.length!==k.name.length,N=M.length!==T.length,U="",K="",G="",Z=k.dir,X=k.date,W={crc32:0,compressedSize:0,uncompressedSize:0};m&&!y||(W.crc32=p.crc32,W.compressedSize=p.compressedSize,W.uncompressedSize=p.uncompressedSize);var q=0;m&&(q|=8),A||!D&&!N||(q|=2048);var Q=0,H=0;Z&&(Q|=16),v==="UNIX"?(H=798,Q|=function(te,he){var de=te;return te||(de=he?16893:33204),(65535&de)<<16}(k.unixPermissions,Z)):(H=20,Q|=function(te){return 63&(te||0)}(k.dosPermissions)),_=X.getUTCHours(),_<<=6,_|=X.getUTCMinutes(),_<<=5,_|=X.getUTCSeconds()/2,S=X.getUTCFullYear()-1980,S<<=4,S|=X.getUTCMonth()+1,S<<=5,S|=X.getUTCDate(),D&&(K=s(1,1)+s(c(R),4)+P,U+="up"+s(K.length,2)+K),N&&(G=s(1,1)+s(c(L),4)+M,U+="uc"+s(G.length,2)+G);var re="";return re+=`
\0`,re+=s(q,2),re+=O.magic,re+=s(_,2),re+=s(S,2),re+=s(W.crc32,4),re+=s(W.compressedSize,4),re+=s(W.uncompressedSize,4),re+=s(R.length,2),re+=s(U.length,2),{fileRecord:d.LOCAL_FILE_HEADER+re+R+U,dirRecord:d.CENTRAL_FILE_HEADER+s(H,2)+re+s(L.length,2)+"\0\0\0\0"+s(Q,4)+s(b,4)+R+U+L}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),d=n("../signature");function f(p,m,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,l),f.prototype.push=function(p){var m=p.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,l.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(m+100*(y-b-1))/y:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var m=this.streamFiles&&!p.file.dir;if(m){var y=o(p,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var m=this.streamFiles&&!p.file.dir,y=o(p,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),m)this.push({data:function(b){return d.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var y=this.bytesWritten-p,b=function(v,x,_,S,k){var O=a.transformTo("string",k(S));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(x,4)+s(_,4)+s(O.length,2)+O}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var m=this;return p.on("data",function(y){m.processChunk(y)}),p.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),p.on("error",function(y){m.error(y)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var m=this._sources;if(!l.prototype.error.call(this,p))return!1;for(var y=0;y<m.length;y++)try{m[y].error(p)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var p=this._sources,m=0;m<p.length;m++)p[m].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,u){var c=new o(l.streamFiles,u,l.platform,l.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var m=function(x,_){var S=x||_,k=s[S];if(!k)throw new Error(S+" is not a valid compression method !");return k}(p.options.compression,l.compression),y=p.options.compressionOptions||l.compressionOptions||{},b=p.dir,v=p.date;p._compressWorker(m,y).withStreamInfo("file",{name:f,dir:b,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(c)}),c.entriesCount=d}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function d(f){return new o.Promise(function(p,m){var y=f.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){m(b)}).on("end",function(){y.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var m=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(y){var b=new l(p);return b.load(y),b}).then(function(y){var b=[o.Promise.resolve(y)],v=y.files;if(p.checkCRC32)for(var x=0;x<v.length;x++)b.push(d(v[x]));return o.Promise.all(b)}).then(function(y){for(var b=y.shift(),v=b.files,x=0;x<v.length;x++){var _=v[x],S=_.fileNameStr,k=s.resolve(_.fileNameStr);m.file(k,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:p.createFolders}),_.dir||(m.file(k).unsafeOriginalName=S)}return b.zipComment.length&&(m.comment=b.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,u){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,u){s.call(this,l),this._helper=a;var c=this;a.on("data",function(d,f){c.push(d)||c._helper.pause(),u&&u(f)}).on("error",function(d){c.emit("error",d)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(k,O,A){var R,P=a.getTypeOf(O),T=a.extend(A||{},c);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(k=v(k)),T.createFolders&&(R=b(k))&&x.call(this,R,!0);var L=P==="string"&&T.binary===!1&&T.base64===!1;A&&A.binary!==void 0||(T.binary=!L),(O instanceof d&&O.uncompressedSize===0||T.dir||!O||O.length===0)&&(T.base64=!1,T.binary=!0,O="",T.compression="STORE",P="string");var M=null;M=O instanceof d||O instanceof l?O:m.isNode&&m.isStream(O)?new y(k,O):a.prepareContent(k,O,T.binary,T.optimizedBinaryString,T.base64);var D=new f(k,M,T);this.files[k]=D}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),m=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var O=k.lastIndexOf("/");return 0<O?k.substring(0,O):""},v=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},x=function(k,O){return O=O!==void 0?O:c.createFolders,k=v(k),this.files[k]||s.call(this,k,null,{dir:!0,createFolders:O}),this.files[k]};function _(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var O,A,R;for(O in this.files)R=this.files[O],(A=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&k(A,R)},filter:function(k){var O=[];return this.forEach(function(A,R){k(A,R)&&O.push(R)}),O},file:function(k,O,A){if(arguments.length!==1)return k=this.root+k,s.call(this,k,O,A),this;if(_(k)){var R=k;return this.filter(function(T,L){return!L.dir&&R.test(T)})}var P=this.files[this.root+k];return P&&!P.dir?P:null},folder:function(k){if(!k)return this;if(_(k))return this.filter(function(P,T){return T.dir&&k.test(P)});var O=this.root+k,A=x.call(this,O),R=this.clone();return R.root=A.name,R},remove:function(k){k=this.root+k;var O=this.files[k];if(O||(k.slice(-1)!=="/"&&(k+="/"),O=this.files[k]),O&&!O.dir)delete this.files[k];else for(var A=this.filter(function(P,T){return T.name.slice(0,k.length)===k}),R=0;R<A.length;R++)delete this.files[A[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var O,A={};try{if((A=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");a.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var R=A.comment||this.comment||"";O=p.generateWorker(this,A,R)}catch(P){(O=new l("error")).error(P)}return new u(O,A.type||"string",A.mimeType)},generateAsync:function(k,O){return this.generateInternalStream(k).accumulate(O)},generateNodeStream:function(k,O){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(O)}};r.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===u&&this.data[f+2]===c&&this.data[f+3]===d)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return l===f[0]&&u===f[1]&&c===f[2]&&d===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(d){var f=s.getTypeOf(d);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new u(d):o.uint8array?new c(s.transformTo("uint8array",d)):new a(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),d=null;if(u.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,y){return new c.Promise(function(b,v){var x=[],_=m._internalType,S=m._outputType,k=m._mimeType;m.on("data",function(O,A){x.push(O),y&&y(A)}).on("error",function(O){x=[],v(O)}).on("end",function(){try{var O=function(A,R,P){switch(A){case"blob":return s.newBlob(s.transformTo("arraybuffer",R),P);case"base64":return l.encode(R);default:return s.transformTo(A,R)}}(S,function(A,R){var P,T=0,L=null,M=0;for(P=0;P<R.length;P++)M+=R[P].length;switch(A){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(L=new Uint8Array(M),P=0;P<R.length;P++)L.set(R[P],T),T+=R[P].length;return L;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+A+"'")}}(_,x),k);b(O)}catch(A){v(A)}x=[]}).resume()})}function p(m,y,b){var v=y;switch(y){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=y,this._mimeType=b,s.checkSupport(v),this._worker=m.pipe(new o(v)),m.lock()}catch(x){this._worker=new a("error"),this._worker.error(x)}}p.prototype={accumulate:function(m){return f(this,m)},on:function(m,y){var b=this;return m==="data"?this._worker.on(m,function(v){y.call(b,v.data,v.meta)}):this._worker.on(m,function(){s.delay(y,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?a.newBufferFrom(p,"utf-8"):function(m){var y,b,v,x,_,S=m.length,k=0;for(x=0;x<S;x++)(64512&(b=m.charCodeAt(x)))==55296&&x+1<S&&(64512&(v=m.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),x++),k+=b<128?1:b<2048?2:b<65536?3:4;for(y=o.uint8array?new Uint8Array(k):new Array(k),x=_=0;_<k;x++)(64512&(b=m.charCodeAt(x)))==55296&&x+1<S&&(64512&(v=m.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),x++),b<128?y[_++]=b:(b<2048?y[_++]=192|b>>>6:(b<65536?y[_++]=224|b>>>12:(y[_++]=240|b>>>18,y[_++]=128|b>>>12&63),y[_++]=128|b>>>6&63),y[_++]=128|63&b);return y}(p)},i.utf8decode=function(p){return o.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(m){var y,b,v,x,_=m.length,S=new Array(2*_);for(y=b=0;y<_;)if((v=m[y++])<128)S[b++]=v;else if(4<(x=u[v]))S[b++]=65533,y+=x-1;else{for(v&=x===2?31:x===3?15:7;1<x&&y<_;)v=v<<6|63&m[y++],x--;1<x?S[b++]=65533:v<65536?S[b++]=v:(v-=65536,S[b++]=55296|v>>10&1023,S[b++]=56320|1023&v)}return S.length!==b&&(S.subarray?S=S.subarray(0,b):S.length=b),s.applyFromCharCode(S)}(p=s.transformTo(o.uint8array?"uint8array":"array",p))},s.inherits(d,l),d.prototype.processChunk=function(p){var m=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=m;(m=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),m.set(y,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var b=function(x,_){var S;for((_=_||x.length)>x.length&&(_=x.length),S=_-1;0<=S&&(192&x[S])==128;)S--;return S<0||S===0?_:S+u[x[S]]>_?S:_}(m),v=m;b!==m.length&&(o.uint8array?(v=m.subarray(0,b),this.leftOver=m.subarray(b,m.length)):(v=m.slice(0,b),this.leftOver=m.slice(b,m.length))),this.push({data:i.utf8decode(v),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(f,l),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var v=0;v<y.length;++v)b[v]=255&y.charCodeAt(v);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(y),v.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,b,v){var x=[],_=0,S=y.length;if(S<=v)return String.fromCharCode.apply(null,y);for(;_<S;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+v,S)))):x.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+v,S)))),_+=v;return x.join("")},stringifyByChar:function(y){for(var b="",v=0;v<y.length;v++)b+=String.fromCharCode(y[v]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(y){var b=65536,v=i.getTypeOf(y),x=!0;if(v==="uint8array"?x=d.applyCanBeUsed.uint8array:v==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return d.stringifyByChunk(y,v,b)}catch{b=Math.floor(b/2)}return d.stringifyByChar(y)}function p(y,b){for(var v=0;v<y.length;v++)b[v]=y[v];return b}i.applyFromCharCode=f;var m={};m.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return m.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,a.allocBuffer(y.length))}},m.array={string:f,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},m.arraybuffer={string:function(y){return f(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},m.uint8array={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return a.newBufferFrom(y)}},m.nodebuffer={string:f,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return m.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var v=i.getTypeOf(b);return m[v][y](b)},i.resolve=function(y){for(var b=y.split("/"),v=[],x=0;x<b.length;x++){var _=b[x];_==="."||_===""&&x!==0&&x!==b.length-1||(_===".."?v.pop():v.push(_))}return v.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(y)?"nodebuffer":s.uint8array&&y instanceof Uint8Array?"uint8array":s.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!s[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,v,x="";for(v=0;v<(y||"").length;v++)x+="\\x"+((b=y.charCodeAt(v))<16?"0":"")+b.toString(16).toUpperCase();return x},i.delay=function(y,b,v){setImmediate(function(){y.apply(v||null,b||[])})},i.inherits=function(y,b){function v(){}v.prototype=b.prototype,y.prototype=new v},i.extend=function(){var y,b,v={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&v[b]===void 0&&(v[b]=arguments[y][b]);return v},i.prepareContent=function(y,b,v,x,_){return l.Promise.resolve(b).then(function(S){return s.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new l.Promise(function(k,O){var A=new FileReader;A.onload=function(R){k(R.target.result)},A.onerror=function(R){O(R.target.error)},A.readAsArrayBuffer(S)}):S}).then(function(S){var k=i.getTypeOf(S);return k?(k==="arraybuffer"?S=i.transformTo("uint8array",S):k==="string"&&(_?S=o.decode(S):v&&x!==!0&&(S=function(O){return c(O,s.uint8array?new Uint8Array(O.length):new Array(O.length))}(S))),S):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var m=this.reader.readString(4)===f;return this.reader.setIndex(p),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",p=o.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,m=this.zip64EndOfCentralSize-44;0<m;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var m=f-p;if(0<m)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),d=n("./support");function f(p,m){this.options=p,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var m,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(b){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===b)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,m,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var m=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(m),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var m,y,b,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)m=p.readInt(2),y=p.readInt(2),b=p.readData(y),this.extraFields[m]={id:m,length:y,value:b};p.setIndex(v)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var v=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var m=s(p.value);return m.readInt(1)!==1||l(this.fileName)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var m=s(p.value);return m.readInt(1)!==1||l(this.fileComment)!==m.readInt(4)?null:u.utf8decode(m.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(m,y,b){this.name=m,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(m){var y=null,b="string";try{if(!m)throw new Error("No output type specified.");var v=(b=m.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var x=!this._dataBinary;x&&!v&&(y=y.pipe(new l.Utf8EncodeWorker)),!x&&v&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(_){(y=new c("error")).error(_)}return new o(y,b,"")},async:function(m,y){return this.internalStream(m).accumulate(y)},nodeStream:function(m,y){return this.internalStream(m||"nodebuffer").toNodejsStream(y)},_compressWorker:function(m,y){if(this._data instanceof u&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,m,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)s.prototype[d[p]]=f;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(m),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var y=s.document.createElement("script");y.onreadystatechange=function(){m(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},s.document.documentElement.appendChild(y)}:function(){setTimeout(m,0)};else{var f=new s.MessageChannel;f.port1.onmessage=m,o=function(){f.port2.postMessage(0)}}var p=[];function m(){var y,b;a=!0;for(var v=p.length;v;){for(b=p,p=[],y=-1;++y<v;)b[y]();v=p.length}a=!1}r.exports=function(y){p.push(y)!==1||a||o()}}).call(this,typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function d(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==o&&y(this,v)}function f(v,x,_){this.promise=v,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function p(v,x,_){s(function(){var S;try{S=x(_)}catch(k){return a.reject(v,k)}S===v?a.reject(v,new TypeError("Cannot resolve promise with itself")):a.resolve(v,S)})}function m(v){var x=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof x=="function")return function(){x.apply(v,arguments)}}function y(v,x){var _=!1;function S(A){_||(_=!0,a.reject(v,A))}function k(A){_||(_=!0,a.resolve(v,A))}var O=b(function(){x(k,S)});O.status==="error"&&S(O.value)}function b(v,x){var _={};try{_.value=v(x),_.status="success"}catch(S){_.status="error",_.value=S}return _}(r.exports=d).prototype.finally=function(v){if(typeof v!="function")return this;var x=this.constructor;return this.then(function(_){return x.resolve(v()).then(function(){return _})},function(_){return x.resolve(v()).then(function(){throw _})})},d.prototype.catch=function(v){return this.then(null,v)},d.prototype.then=function(v,x){if(typeof v!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==c?p(_,this.state===u?v:x,this.outcome):this.queue.push(new f(_,v,x)),_},f.prototype.callFulfilled=function(v){a.resolve(this.promise,v)},f.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},f.prototype.callRejected=function(v){a.reject(this.promise,v)},f.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},a.resolve=function(v,x){var _=b(m,x);if(_.status==="error")return a.reject(v,_.value);var S=_.value;if(S)y(v,S);else{v.state=u,v.outcome=x;for(var k=-1,O=v.queue.length;++k<O;)v.queue[k].callFulfilled(x)}return v},a.reject=function(v,x){v.state=l,v.outcome=x;for(var _=-1,S=v.queue.length;++_<S;)v.queue[_].callRejected(x);return v},d.resolve=function(v){return v instanceof this?v:a.resolve(new this(o),v)},d.reject=function(v){var x=new this(o);return a.reject(x,v)},d.all=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,S=!1;if(!_)return this.resolve([]);for(var k=new Array(_),O=0,A=-1,R=new this(o);++A<_;)P(v[A],A);return R;function P(T,L){x.resolve(T).then(function(M){k[L]=M,++O!==_||S||(S=!0,a.resolve(R,k))},function(M){S||(S=!0,a.reject(R,M))})}},d.race=function(v){var x=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=v.length,S=!1;if(!_)return this.resolve([]);for(var k=-1,O=new this(o);++k<_;)A=v[k],x.resolve(A).then(function(R){S||(S=!0,a.resolve(O,R))},function(R){S||(S=!0,a.reject(O,R))});var A;return O}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,d=0,f=-1,p=0,m=8;function y(v){if(!(this instanceof y))return new y(v);this.options=o.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(_!==d)throw new Error(l[_]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var S;if(S=typeof x.dictionary=="string"?a.string2buf(x.dictionary):c.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(_=s.deflateSetDictionary(this.strm,S))!==d)throw new Error(l[_]);this._dict_set=!0}}function b(v,x){var _=new y(x);if(_.push(v,!0),_.err)throw _.msg||l[_.err];return _.result}y.prototype.push=function(v,x){var _,S,k=this.strm,O=this.options.chunkSize;if(this.ended)return!1;S=x===~~x?x:x===!0?4:0,typeof v=="string"?k.input=a.string2buf(v):c.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new o.Buf8(O),k.next_out=0,k.avail_out=O),(_=s.deflate(k,S))!==1&&_!==d)return this.onEnd(_),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(k.output,k.next_out))):this.onData(o.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&_!==1);return S===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===d):S!==2||(this.onEnd(d),!(k.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(v,x){return(x=x||{}).raw=!0,b(v,x)},i.gzip=function(v,x){return(x=x||{}).gzip=!0,b(v,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,b.windowBits);if(v!==l.Z_OK)throw new Error(u[v]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function m(y,b){var v=new p(b);if(v.push(y,!0),v.err)throw v.msg||u[v.err];return v.result}p.prototype.push=function(y,b){var v,x,_,S,k,O,A=this.strm,R=this.options.chunkSize,P=this.options.dictionary,T=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?A.input=a.binstring2buf(y):f.call(y)==="[object ArrayBuffer]"?A.input=new Uint8Array(y):A.input=y,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new o.Buf8(R),A.next_out=0,A.avail_out=R),(v=s.inflate(A,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(O=typeof P=="string"?a.string2buf(P):f.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,v=s.inflateSetDictionary(this.strm,O)),v===l.Z_BUF_ERROR&&T===!0&&(v=l.Z_OK,T=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==l.Z_STREAM_END&&(A.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(A.output,A.next_out),S=A.next_out-_,k=a.buf2string(A.output,_),A.next_out=S,A.avail_out=R-S,S&&o.arraySet(A.output,A.output,_,S,0),this.onData(k)):this.onData(o.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(T=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(A.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=p,i.inflate=m,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,m(y,b)},i.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(l[d]=c[d])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var o={arraySet:function(l,u,c,d,f){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+d),f);else for(var p=0;p<d;p++)l[f+p]=u[c+p]},flattenChunks:function(l){var u,c,d,f,p,m;for(u=d=0,c=l.length;u<c;u++)d+=l[u].length;for(m=new Uint8Array(d),u=f=0,c=l.length;u<c;u++)p=l[u],m.set(p,f),f+=p.length;return m}},a={arraySet:function(l,u,c,d,f){for(var p=0;p<d;p++)l[f+p]=u[c+p]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,f));for(var p="",m=0;m<f;m++)p+=String.fromCharCode(d[m]);return p}l[254]=l[254]=1,i.string2buf=function(d){var f,p,m,y,b,v=d.length,x=0;for(y=0;y<v;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),y++),x+=p<128?1:p<2048?2:p<65536?3:4;for(f=new s.Buf8(x),y=b=0;b<x;y++)(64512&(p=d.charCodeAt(y)))==55296&&y+1<v&&(64512&(m=d.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),y++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},i.buf2binstring=function(d){return c(d,d.length)},i.binstring2buf=function(d){for(var f=new s.Buf8(d.length),p=0,m=f.length;p<m;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,m,y,b,v=f||d.length,x=new Array(2*v);for(p=m=0;p<v;)if((y=d[p++])<128)x[m++]=y;else if(4<(b=l[y]))x[m++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<v;)y=y<<6|63&d[p++],b--;1<b?x[m++]=65533:y<65536?x[m++]=y:(y-=65536,x[m++]=55296|y>>10&1023,x[m++]=56320|1023&y)}return c(x,m)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+l[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var u=65535&s|0,c=s>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;c=c+(u=u+o[l++]|0)|0,--d;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,u){var c=s,d=u+l;o^=-1;for(var f=u;f<d;f++)o=o>>>8^c[255&(o^a[f])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),d=0,f=4,p=0,m=-2,y=-1,b=4,v=2,x=8,_=9,S=286,k=30,O=19,A=2*S+1,R=15,P=3,T=258,L=T+P+1,M=42,D=113,N=1,U=2,K=3,G=4;function Z(V,pe){return V.msg=c[pe],pe}function X(V){return(V<<1)-(4<V?9:0)}function W(V){for(var pe=V.length;0<=--pe;)V[pe]=0}function q(V){var pe=V.state,me=pe.pending;me>V.avail_out&&(me=V.avail_out),me!==0&&(o.arraySet(V.output,pe.pending_buf,pe.pending_out,me,V.next_out),V.next_out+=me,pe.pending_out+=me,V.total_out+=me,V.avail_out-=me,pe.pending-=me,pe.pending===0&&(pe.pending_out=0))}function Q(V,pe){a._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,pe),V.block_start=V.strstart,q(V.strm)}function H(V,pe){V.pending_buf[V.pending++]=pe}function re(V,pe){V.pending_buf[V.pending++]=pe>>>8&255,V.pending_buf[V.pending++]=255&pe}function te(V,pe){var me,le,ee=V.max_chain_length,ue=V.strstart,ve=V.prev_length,Te=V.nice_match,ye=V.strstart>V.w_size-L?V.strstart-(V.w_size-L):0,Me=V.window,je=V.w_mask,ze=V.prev,we=V.strstart+T,Re=Me[ue+ve-1],Be=Me[ue+ve];V.prev_length>=V.good_match&&(ee>>=2),Te>V.lookahead&&(Te=V.lookahead);do if(Me[(me=pe)+ve]===Be&&Me[me+ve-1]===Re&&Me[me]===Me[ue]&&Me[++me]===Me[ue+1]){ue+=2,me++;do;while(Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&Me[++ue]===Me[++me]&&ue<we);if(le=T-(we-ue),ue=we-T,ve<le){if(V.match_start=pe,Te<=(ve=le))break;Re=Me[ue+ve-1],Be=Me[ue+ve]}}while((pe=ze[pe&je])>ye&&--ee!=0);return ve<=V.lookahead?ve:V.lookahead}function he(V){var pe,me,le,ee,ue,ve,Te,ye,Me,je,ze=V.w_size;do{if(ee=V.window_size-V.lookahead-V.strstart,V.strstart>=ze+(ze-L)){for(o.arraySet(V.window,V.window,ze,ze,0),V.match_start-=ze,V.strstart-=ze,V.block_start-=ze,pe=me=V.hash_size;le=V.head[--pe],V.head[pe]=ze<=le?le-ze:0,--me;);for(pe=me=ze;le=V.prev[--pe],V.prev[pe]=ze<=le?le-ze:0,--me;);ee+=ze}if(V.strm.avail_in===0)break;if(ve=V.strm,Te=V.window,ye=V.strstart+V.lookahead,Me=ee,je=void 0,je=ve.avail_in,Me<je&&(je=Me),me=je===0?0:(ve.avail_in-=je,o.arraySet(Te,ve.input,ve.next_in,je,ye),ve.state.wrap===1?ve.adler=l(ve.adler,Te,je,ye):ve.state.wrap===2&&(ve.adler=u(ve.adler,Te,je,ye)),ve.next_in+=je,ve.total_in+=je,je),V.lookahead+=me,V.lookahead+V.insert>=P)for(ue=V.strstart-V.insert,V.ins_h=V.window[ue],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ue+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ue+P-1])&V.hash_mask,V.prev[ue&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ue,ue++,V.insert--,!(V.lookahead+V.insert<P)););}while(V.lookahead<L&&V.strm.avail_in!==0)}function de(V,pe){for(var me,le;;){if(V.lookahead<L){if(he(V),V.lookahead<L&&pe===d)return N;if(V.lookahead===0)break}if(me=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),me!==0&&V.strstart-me<=V.w_size-L&&(V.match_length=te(V,me)),V.match_length>=P)if(le=a._tr_tally(V,V.strstart-V.match_start,V.match_length-P),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=P){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else le=a._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(le&&(Q(V,!1),V.strm.avail_out===0))return N}return V.insert=V.strstart<P-1?V.strstart:P-1,pe===f?(Q(V,!0),V.strm.avail_out===0?K:G):V.last_lit&&(Q(V,!1),V.strm.avail_out===0)?N:U}function oe(V,pe){for(var me,le,ee;;){if(V.lookahead<L){if(he(V),V.lookahead<L&&pe===d)return N;if(V.lookahead===0)break}if(me=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=P-1,me!==0&&V.prev_length<V.max_lazy_match&&V.strstart-me<=V.w_size-L&&(V.match_length=te(V,me),V.match_length<=5&&(V.strategy===1||V.match_length===P&&4096<V.strstart-V.match_start)&&(V.match_length=P-1)),V.prev_length>=P&&V.match_length<=V.prev_length){for(ee=V.strstart+V.lookahead-P,le=a._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-P),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=ee&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,me=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=P-1,V.strstart++,le&&(Q(V,!1),V.strm.avail_out===0))return N}else if(V.match_available){if((le=a._tr_tally(V,0,V.window[V.strstart-1]))&&Q(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return N}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(le=a._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<P-1?V.strstart:P-1,pe===f?(Q(V,!0),V.strm.avail_out===0?K:G):V.last_lit&&(Q(V,!1),V.strm.avail_out===0)?N:U}function ce(V,pe,me,le,ee){this.good_length=V,this.max_lazy=pe,this.nice_length=me,this.max_chain=le,this.func=ee}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*k+1)),this.bl_tree=new o.Buf16(2*(2*O+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(R+1),this.heap=new o.Buf16(2*S+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(V){var pe;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=v,(pe=V.state).pending=0,pe.pending_out=0,pe.wrap<0&&(pe.wrap=-pe.wrap),pe.status=pe.wrap?M:D,V.adler=pe.wrap===2?0:1,pe.last_flush=d,a._tr_init(pe),p):Z(V,m)}function Ee(V){var pe=xe(V);return pe===p&&function(me){me.window_size=2*me.w_size,W(me.head),me.max_lazy_match=s[me.level].max_lazy,me.good_match=s[me.level].good_length,me.nice_match=s[me.level].nice_length,me.max_chain_length=s[me.level].max_chain,me.strstart=0,me.block_start=0,me.lookahead=0,me.insert=0,me.match_length=me.prev_length=P-1,me.match_available=0,me.ins_h=0}(V.state),pe}function Pe(V,pe,me,le,ee,ue){if(!V)return m;var ve=1;if(pe===y&&(pe=6),le<0?(ve=0,le=-le):15<le&&(ve=2,le-=16),ee<1||_<ee||me!==x||le<8||15<le||pe<0||9<pe||ue<0||b<ue)return Z(V,m);le===8&&(le=9);var Te=new ge;return(V.state=Te).strm=V,Te.wrap=ve,Te.gzhead=null,Te.w_bits=le,Te.w_size=1<<Te.w_bits,Te.w_mask=Te.w_size-1,Te.hash_bits=ee+7,Te.hash_size=1<<Te.hash_bits,Te.hash_mask=Te.hash_size-1,Te.hash_shift=~~((Te.hash_bits+P-1)/P),Te.window=new o.Buf8(2*Te.w_size),Te.head=new o.Buf16(Te.hash_size),Te.prev=new o.Buf16(Te.w_size),Te.lit_bufsize=1<<ee+6,Te.pending_buf_size=4*Te.lit_bufsize,Te.pending_buf=new o.Buf8(Te.pending_buf_size),Te.d_buf=1*Te.lit_bufsize,Te.l_buf=3*Te.lit_bufsize,Te.level=pe,Te.strategy=ue,Te.method=me,Ee(V)}s=[new ce(0,0,0,0,function(V,pe){var me=65535;for(me>V.pending_buf_size-5&&(me=V.pending_buf_size-5);;){if(V.lookahead<=1){if(he(V),V.lookahead===0&&pe===d)return N;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var le=V.block_start+me;if((V.strstart===0||V.strstart>=le)&&(V.lookahead=V.strstart-le,V.strstart=le,Q(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-L&&(Q(V,!1),V.strm.avail_out===0))return N}return V.insert=0,pe===f?(Q(V,!0),V.strm.avail_out===0?K:G):(V.strstart>V.block_start&&(Q(V,!1),V.strm.avail_out),N)}),new ce(4,4,8,4,de),new ce(4,5,16,8,de),new ce(4,6,32,32,de),new ce(4,4,16,16,oe),new ce(8,16,32,32,oe),new ce(8,16,128,128,oe),new ce(8,32,128,256,oe),new ce(32,128,258,1024,oe),new ce(32,258,258,4096,oe)],i.deflateInit=function(V,pe){return Pe(V,pe,x,15,8,0)},i.deflateInit2=Pe,i.deflateReset=Ee,i.deflateResetKeep=xe,i.deflateSetHeader=function(V,pe){return V&&V.state?V.state.wrap!==2?m:(V.state.gzhead=pe,p):m},i.deflate=function(V,pe){var me,le,ee,ue;if(!V||!V.state||5<pe||pe<0)return V?Z(V,m):m;if(le=V.state,!V.output||!V.input&&V.avail_in!==0||le.status===666&&pe!==f)return Z(V,V.avail_out===0?-5:m);if(le.strm=V,me=le.last_flush,le.last_flush=pe,le.status===M)if(le.wrap===2)V.adler=0,H(le,31),H(le,139),H(le,8),le.gzhead?(H(le,(le.gzhead.text?1:0)+(le.gzhead.hcrc?2:0)+(le.gzhead.extra?4:0)+(le.gzhead.name?8:0)+(le.gzhead.comment?16:0)),H(le,255&le.gzhead.time),H(le,le.gzhead.time>>8&255),H(le,le.gzhead.time>>16&255),H(le,le.gzhead.time>>24&255),H(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),H(le,255&le.gzhead.os),le.gzhead.extra&&le.gzhead.extra.length&&(H(le,255&le.gzhead.extra.length),H(le,le.gzhead.extra.length>>8&255)),le.gzhead.hcrc&&(V.adler=u(V.adler,le.pending_buf,le.pending,0)),le.gzindex=0,le.status=69):(H(le,0),H(le,0),H(le,0),H(le,0),H(le,0),H(le,le.level===9?2:2<=le.strategy||le.level<2?4:0),H(le,3),le.status=D);else{var ve=x+(le.w_bits-8<<4)<<8;ve|=(2<=le.strategy||le.level<2?0:le.level<6?1:le.level===6?2:3)<<6,le.strstart!==0&&(ve|=32),ve+=31-ve%31,le.status=D,re(le,ve),le.strstart!==0&&(re(le,V.adler>>>16),re(le,65535&V.adler)),V.adler=1}if(le.status===69)if(le.gzhead.extra){for(ee=le.pending;le.gzindex<(65535&le.gzhead.extra.length)&&(le.pending!==le.pending_buf_size||(le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),q(V),ee=le.pending,le.pending!==le.pending_buf_size));)H(le,255&le.gzhead.extra[le.gzindex]),le.gzindex++;le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),le.gzindex===le.gzhead.extra.length&&(le.gzindex=0,le.status=73)}else le.status=73;if(le.status===73)if(le.gzhead.name){ee=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),q(V),ee=le.pending,le.pending===le.pending_buf_size)){ue=1;break}ue=le.gzindex<le.gzhead.name.length?255&le.gzhead.name.charCodeAt(le.gzindex++):0,H(le,ue)}while(ue!==0);le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),ue===0&&(le.gzindex=0,le.status=91)}else le.status=91;if(le.status===91)if(le.gzhead.comment){ee=le.pending;do{if(le.pending===le.pending_buf_size&&(le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),q(V),ee=le.pending,le.pending===le.pending_buf_size)){ue=1;break}ue=le.gzindex<le.gzhead.comment.length?255&le.gzhead.comment.charCodeAt(le.gzindex++):0,H(le,ue)}while(ue!==0);le.gzhead.hcrc&&le.pending>ee&&(V.adler=u(V.adler,le.pending_buf,le.pending-ee,ee)),ue===0&&(le.status=103)}else le.status=103;if(le.status===103&&(le.gzhead.hcrc?(le.pending+2>le.pending_buf_size&&q(V),le.pending+2<=le.pending_buf_size&&(H(le,255&V.adler),H(le,V.adler>>8&255),V.adler=0,le.status=D)):le.status=D),le.pending!==0){if(q(V),V.avail_out===0)return le.last_flush=-1,p}else if(V.avail_in===0&&X(pe)<=X(me)&&pe!==f)return Z(V,-5);if(le.status===666&&V.avail_in!==0)return Z(V,-5);if(V.avail_in!==0||le.lookahead!==0||pe!==d&&le.status!==666){var Te=le.strategy===2?function(ye,Me){for(var je;;){if(ye.lookahead===0&&(he(ye),ye.lookahead===0)){if(Me===d)return N;break}if(ye.match_length=0,je=a._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++,je&&(Q(ye,!1),ye.strm.avail_out===0))return N}return ye.insert=0,Me===f?(Q(ye,!0),ye.strm.avail_out===0?K:G):ye.last_lit&&(Q(ye,!1),ye.strm.avail_out===0)?N:U}(le,pe):le.strategy===3?function(ye,Me){for(var je,ze,we,Re,Be=ye.window;;){if(ye.lookahead<=T){if(he(ye),ye.lookahead<=T&&Me===d)return N;if(ye.lookahead===0)break}if(ye.match_length=0,ye.lookahead>=P&&0<ye.strstart&&(ze=Be[we=ye.strstart-1])===Be[++we]&&ze===Be[++we]&&ze===Be[++we]){Re=ye.strstart+T;do;while(ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&ze===Be[++we]&&we<Re);ye.match_length=T-(Re-we),ye.match_length>ye.lookahead&&(ye.match_length=ye.lookahead)}if(ye.match_length>=P?(je=a._tr_tally(ye,1,ye.match_length-P),ye.lookahead-=ye.match_length,ye.strstart+=ye.match_length,ye.match_length=0):(je=a._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++),je&&(Q(ye,!1),ye.strm.avail_out===0))return N}return ye.insert=0,Me===f?(Q(ye,!0),ye.strm.avail_out===0?K:G):ye.last_lit&&(Q(ye,!1),ye.strm.avail_out===0)?N:U}(le,pe):s[le.level].func(le,pe);if(Te!==K&&Te!==G||(le.status=666),Te===N||Te===K)return V.avail_out===0&&(le.last_flush=-1),p;if(Te===U&&(pe===1?a._tr_align(le):pe!==5&&(a._tr_stored_block(le,0,0,!1),pe===3&&(W(le.head),le.lookahead===0&&(le.strstart=0,le.block_start=0,le.insert=0))),q(V),V.avail_out===0))return le.last_flush=-1,p}return pe!==f?p:le.wrap<=0?1:(le.wrap===2?(H(le,255&V.adler),H(le,V.adler>>8&255),H(le,V.adler>>16&255),H(le,V.adler>>24&255),H(le,255&V.total_in),H(le,V.total_in>>8&255),H(le,V.total_in>>16&255),H(le,V.total_in>>24&255)):(re(le,V.adler>>>16),re(le,65535&V.adler)),q(V),0<le.wrap&&(le.wrap=-le.wrap),le.pending!==0?p:1)},i.deflateEnd=function(V){var pe;return V&&V.state?(pe=V.state.status)!==M&&pe!==69&&pe!==73&&pe!==91&&pe!==103&&pe!==D&&pe!==666?Z(V,m):(V.state=null,pe===D?Z(V,-3):p):m},i.deflateSetDictionary=function(V,pe){var me,le,ee,ue,ve,Te,ye,Me,je=pe.length;if(!V||!V.state||(ue=(me=V.state).wrap)===2||ue===1&&me.status!==M||me.lookahead)return m;for(ue===1&&(V.adler=l(V.adler,pe,je,0)),me.wrap=0,je>=me.w_size&&(ue===0&&(W(me.head),me.strstart=0,me.block_start=0,me.insert=0),Me=new o.Buf8(me.w_size),o.arraySet(Me,pe,je-me.w_size,me.w_size,0),pe=Me,je=me.w_size),ve=V.avail_in,Te=V.next_in,ye=V.input,V.avail_in=je,V.next_in=0,V.input=pe,he(me);me.lookahead>=P;){for(le=me.strstart,ee=me.lookahead-(P-1);me.ins_h=(me.ins_h<<me.hash_shift^me.window[le+P-1])&me.hash_mask,me.prev[le&me.w_mask]=me.head[me.ins_h],me.head[me.ins_h]=le,le++,--ee;);me.strstart=le,me.lookahead=P-1,he(me)}return me.strstart+=me.lookahead,me.block_start=me.strstart,me.insert=me.lookahead,me.lookahead=0,me.match_length=me.prev_length=P-1,me.match_available=0,V.next_in=Te,V.input=ye,V.avail_in=ve,me.wrap=ue,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,u,c,d,f,p,m,y,b,v,x,_,S,k,O,A,R,P,T,L,M,D,N,U;a=s.state,l=s.next_in,N=s.input,u=l+(s.avail_in-5),c=s.next_out,U=s.output,d=c-(o-s.avail_out),f=c+(s.avail_out-257),p=a.dmax,m=a.wsize,y=a.whave,b=a.wnext,v=a.window,x=a.hold,_=a.bits,S=a.lencode,k=a.distcode,O=(1<<a.lenbits)-1,A=(1<<a.distbits)-1;e:do{_<15&&(x+=N[l++]<<_,_+=8,x+=N[l++]<<_,_+=8),R=S[x&O];t:for(;;){if(x>>>=P=R>>>24,_-=P,(P=R>>>16&255)===0)U[c++]=65535&R;else{if(!(16&P)){if((64&P)==0){R=S[(65535&R)+(x&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}T=65535&R,(P&=15)&&(_<P&&(x+=N[l++]<<_,_+=8),T+=x&(1<<P)-1,x>>>=P,_-=P),_<15&&(x+=N[l++]<<_,_+=8,x+=N[l++]<<_,_+=8),R=k[x&A];n:for(;;){if(x>>>=P=R>>>24,_-=P,!(16&(P=R>>>16&255))){if((64&P)==0){R=k[(65535&R)+(x&(1<<P)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(L=65535&R,_<(P&=15)&&(x+=N[l++]<<_,(_+=8)<P&&(x+=N[l++]<<_,_+=8)),p<(L+=x&(1<<P)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(x>>>=P,_-=P,(P=c-d)<L){if(y<(P=L-P)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(D=v,(M=0)===b){if(M+=m-P,P<T){for(T-=P;U[c++]=v[M++],--P;);M=c-L,D=U}}else if(b<P){if(M+=m+b-P,(P-=b)<T){for(T-=P;U[c++]=v[M++],--P;);if(M=0,b<T){for(T-=P=b;U[c++]=v[M++],--P;);M=c-L,D=U}}}else if(M+=b-P,P<T){for(T-=P;U[c++]=v[M++],--P;);M=c-L,D=U}for(;2<T;)U[c++]=D[M++],U[c++]=D[M++],U[c++]=D[M++],T-=3;T&&(U[c++]=D[M++],1<T&&(U[c++]=D[M++]))}else{for(M=c-L;U[c++]=U[M++],U[c++]=U[M++],U[c++]=U[M++],2<(T-=3););T&&(U[c++]=U[M++],1<T&&(U[c++]=U[M++]))}break}}break}}while(l<u&&c<f);l-=T=_>>3,x&=(1<<(_-=T<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=c<f?f-c+257:257-(c-f),a.hold=x,a.bits=_}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,d=2,f=0,p=-2,m=1,y=852,b=592;function v(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(M){var D;return M&&M.state?(D=M.state,M.total_in=M.total_out=D.total=0,M.msg="",D.wrap&&(M.adler=1&D.wrap),D.mode=m,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new s.Buf32(y),D.distcode=D.distdyn=new s.Buf32(b),D.sane=1,D.back=-1,f):p}function S(M){var D;return M&&M.state?((D=M.state).wsize=0,D.whave=0,D.wnext=0,_(M)):p}function k(M,D){var N,U;return M&&M.state?(U=M.state,D<0?(N=0,D=-D):(N=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(U.window!==null&&U.wbits!==D&&(U.window=null),U.wrap=N,U.wbits=D,S(M))):p}function O(M,D){var N,U;return M?(U=new x,(M.state=U).window=null,(N=k(M,D))!==f&&(M.state=null),N):p}var A,R,P=!0;function T(M){if(P){var D;for(A=new s.Buf32(512),R=new s.Buf32(32),D=0;D<144;)M.lens[D++]=8;for(;D<256;)M.lens[D++]=9;for(;D<280;)M.lens[D++]=7;for(;D<288;)M.lens[D++]=8;for(u(c,M.lens,0,288,A,0,M.work,{bits:9}),D=0;D<32;)M.lens[D++]=5;u(d,M.lens,0,32,R,0,M.work,{bits:5}),P=!1}M.lencode=A,M.lenbits=9,M.distcode=R,M.distbits=5}function L(M,D,N,U){var K,G=M.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new s.Buf8(G.wsize)),U>=G.wsize?(s.arraySet(G.window,D,N-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(U<(K=G.wsize-G.wnext)&&(K=U),s.arraySet(G.window,D,N-U,K,G.wnext),(U-=K)?(s.arraySet(G.window,D,N-U,U,0),G.wnext=U,G.whave=G.wsize):(G.wnext+=K,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=K))),0}i.inflateReset=S,i.inflateReset2=k,i.inflateResetKeep=_,i.inflateInit=function(M){return O(M,15)},i.inflateInit2=O,i.inflate=function(M,D){var N,U,K,G,Z,X,W,q,Q,H,re,te,he,de,oe,ce,ge,xe,Ee,Pe,V,pe,me,le,ee=0,ue=new s.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return p;(N=M.state).mode===12&&(N.mode=13),Z=M.next_out,K=M.output,W=M.avail_out,G=M.next_in,U=M.input,X=M.avail_in,q=N.hold,Q=N.bits,H=X,re=W,pe=f;e:for(;;)switch(N.mode){case m:if(N.wrap===0){N.mode=13;break}for(;Q<16;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(2&N.wrap&&q===35615){ue[N.check=0]=255&q,ue[1]=q>>>8&255,N.check=a(N.check,ue,2,0),Q=q=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&q)<<8)+(q>>8))%31){M.msg="incorrect header check",N.mode=30;break}if((15&q)!=8){M.msg="unknown compression method",N.mode=30;break}if(Q-=4,V=8+(15&(q>>>=4)),N.wbits===0)N.wbits=V;else if(V>N.wbits){M.msg="invalid window size",N.mode=30;break}N.dmax=1<<V,M.adler=N.check=1,N.mode=512&q?10:12,Q=q=0;break;case 2:for(;Q<16;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(N.flags=q,(255&N.flags)!=8){M.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){M.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=q>>8&1),512&N.flags&&(ue[0]=255&q,ue[1]=q>>>8&255,N.check=a(N.check,ue,2,0)),Q=q=0,N.mode=3;case 3:for(;Q<32;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.head&&(N.head.time=q),512&N.flags&&(ue[0]=255&q,ue[1]=q>>>8&255,ue[2]=q>>>16&255,ue[3]=q>>>24&255,N.check=a(N.check,ue,4,0)),Q=q=0,N.mode=4;case 4:for(;Q<16;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.head&&(N.head.xflags=255&q,N.head.os=q>>8),512&N.flags&&(ue[0]=255&q,ue[1]=q>>>8&255,N.check=a(N.check,ue,2,0)),Q=q=0,N.mode=5;case 5:if(1024&N.flags){for(;Q<16;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.length=q,N.head&&(N.head.extra_len=q),512&N.flags&&(ue[0]=255&q,ue[1]=q>>>8&255,N.check=a(N.check,ue,2,0)),Q=q=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(X<(te=N.length)&&(te=X),te&&(N.head&&(V=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,U,G,te,V)),512&N.flags&&(N.check=a(N.check,U,te,G)),X-=te,G+=te,N.length-=te),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(X===0)break e;for(te=0;V=U[G+te++],N.head&&V&&N.length<65536&&(N.head.name+=String.fromCharCode(V)),V&&te<X;);if(512&N.flags&&(N.check=a(N.check,U,te,G)),X-=te,G+=te,V)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(X===0)break e;for(te=0;V=U[G+te++],N.head&&V&&N.length<65536&&(N.head.comment+=String.fromCharCode(V)),V&&te<X;);if(512&N.flags&&(N.check=a(N.check,U,te,G)),X-=te,G+=te,V)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Q<16;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(q!==(65535&N.check)){M.msg="header crc mismatch",N.mode=30;break}Q=q=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),M.adler=N.check=0,N.mode=12;break;case 10:for(;Q<32;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}M.adler=N.check=v(q),Q=q=0,N.mode=11;case 11:if(N.havedict===0)return M.next_out=Z,M.avail_out=W,M.next_in=G,M.avail_in=X,N.hold=q,N.bits=Q,2;M.adler=N.check=1,N.mode=12;case 12:if(D===5||D===6)break e;case 13:if(N.last){q>>>=7&Q,Q-=7&Q,N.mode=27;break}for(;Q<3;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}switch(N.last=1&q,Q-=1,3&(q>>>=1)){case 0:N.mode=14;break;case 1:if(T(N),N.mode=20,D!==6)break;q>>>=2,Q-=2;break e;case 2:N.mode=17;break;case 3:M.msg="invalid block type",N.mode=30}q>>>=2,Q-=2;break;case 14:for(q>>>=7&Q,Q-=7&Q;Q<32;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if((65535&q)!=(q>>>16^65535)){M.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&q,Q=q=0,N.mode=15,D===6)break e;case 15:N.mode=16;case 16:if(te=N.length){if(X<te&&(te=X),W<te&&(te=W),te===0)break e;s.arraySet(K,U,G,te,Z),X-=te,G+=te,W-=te,Z+=te,N.length-=te;break}N.mode=12;break;case 17:for(;Q<14;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(N.nlen=257+(31&q),q>>>=5,Q-=5,N.ndist=1+(31&q),q>>>=5,Q-=5,N.ncode=4+(15&q),q>>>=4,Q-=4,286<N.nlen||30<N.ndist){M.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Q<3;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.lens[ve[N.have++]]=7&q,q>>>=3,Q-=3}for(;N.have<19;)N.lens[ve[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,me={bits:N.lenbits},pe=u(0,N.lens,0,19,N.lencode,0,N.work,me),N.lenbits=me.bits,pe){M.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ce=(ee=N.lencode[q&(1<<N.lenbits)-1])>>>16&255,ge=65535&ee,!((oe=ee>>>24)<=Q);){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(ge<16)q>>>=oe,Q-=oe,N.lens[N.have++]=ge;else{if(ge===16){for(le=oe+2;Q<le;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(q>>>=oe,Q-=oe,N.have===0){M.msg="invalid bit length repeat",N.mode=30;break}V=N.lens[N.have-1],te=3+(3&q),q>>>=2,Q-=2}else if(ge===17){for(le=oe+3;Q<le;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}Q-=oe,V=0,te=3+(7&(q>>>=oe)),q>>>=3,Q-=3}else{for(le=oe+7;Q<le;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}Q-=oe,V=0,te=11+(127&(q>>>=oe)),q>>>=7,Q-=7}if(N.have+te>N.nlen+N.ndist){M.msg="invalid bit length repeat",N.mode=30;break}for(;te--;)N.lens[N.have++]=V}}if(N.mode===30)break;if(N.lens[256]===0){M.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,me={bits:N.lenbits},pe=u(c,N.lens,0,N.nlen,N.lencode,0,N.work,me),N.lenbits=me.bits,pe){M.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,me={bits:N.distbits},pe=u(d,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,me),N.distbits=me.bits,pe){M.msg="invalid distances set",N.mode=30;break}if(N.mode=20,D===6)break e;case 20:N.mode=21;case 21:if(6<=X&&258<=W){M.next_out=Z,M.avail_out=W,M.next_in=G,M.avail_in=X,N.hold=q,N.bits=Q,l(M,re),Z=M.next_out,K=M.output,W=M.avail_out,G=M.next_in,U=M.input,X=M.avail_in,q=N.hold,Q=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ce=(ee=N.lencode[q&(1<<N.lenbits)-1])>>>16&255,ge=65535&ee,!((oe=ee>>>24)<=Q);){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(ce&&(240&ce)==0){for(xe=oe,Ee=ce,Pe=ge;ce=(ee=N.lencode[Pe+((q&(1<<xe+Ee)-1)>>xe)])>>>16&255,ge=65535&ee,!(xe+(oe=ee>>>24)<=Q);){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}q>>>=xe,Q-=xe,N.back+=xe}if(q>>>=oe,Q-=oe,N.back+=oe,N.length=ge,ce===0){N.mode=26;break}if(32&ce){N.back=-1,N.mode=12;break}if(64&ce){M.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ce,N.mode=22;case 22:if(N.extra){for(le=N.extra;Q<le;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.length+=q&(1<<N.extra)-1,q>>>=N.extra,Q-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ce=(ee=N.distcode[q&(1<<N.distbits)-1])>>>16&255,ge=65535&ee,!((oe=ee>>>24)<=Q);){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if((240&ce)==0){for(xe=oe,Ee=ce,Pe=ge;ce=(ee=N.distcode[Pe+((q&(1<<xe+Ee)-1)>>xe)])>>>16&255,ge=65535&ee,!(xe+(oe=ee>>>24)<=Q);){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}q>>>=xe,Q-=xe,N.back+=xe}if(q>>>=oe,Q-=oe,N.back+=oe,64&ce){M.msg="invalid distance code",N.mode=30;break}N.offset=ge,N.extra=15&ce,N.mode=24;case 24:if(N.extra){for(le=N.extra;Q<le;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}N.offset+=q&(1<<N.extra)-1,q>>>=N.extra,Q-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){M.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(W===0)break e;if(te=re-W,N.offset>te){if((te=N.offset-te)>N.whave&&N.sane){M.msg="invalid distance too far back",N.mode=30;break}he=te>N.wnext?(te-=N.wnext,N.wsize-te):N.wnext-te,te>N.length&&(te=N.length),de=N.window}else de=K,he=Z-N.offset,te=N.length;for(W<te&&(te=W),W-=te,N.length-=te;K[Z++]=de[he++],--te;);N.length===0&&(N.mode=21);break;case 26:if(W===0)break e;K[Z++]=N.length,W--,N.mode=21;break;case 27:if(N.wrap){for(;Q<32;){if(X===0)break e;X--,q|=U[G++]<<Q,Q+=8}if(re-=W,M.total_out+=re,N.total+=re,re&&(M.adler=N.check=N.flags?a(N.check,K,re,Z-re):o(N.check,K,re,Z-re)),re=W,(N.flags?q:v(q))!==N.check){M.msg="incorrect data check",N.mode=30;break}Q=q=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Q<32;){if(X===0)break e;X--,q+=U[G++]<<Q,Q+=8}if(q!==(4294967295&N.total)){M.msg="incorrect length check",N.mode=30;break}Q=q=0}N.mode=29;case 29:pe=1;break e;case 30:pe=-3;break e;case 31:return-4;case 32:default:return p}return M.next_out=Z,M.avail_out=W,M.next_in=G,M.avail_in=X,N.hold=q,N.bits=Q,(N.wsize||re!==M.avail_out&&N.mode<30&&(N.mode<27||D!==4))&&L(M,M.output,M.next_out,re-M.avail_out)?(N.mode=31,-4):(H-=M.avail_in,re-=M.avail_out,M.total_in+=H,M.total_out+=re,N.total+=re,N.wrap&&re&&(M.adler=N.check=N.flags?a(N.check,K,re,M.next_out-re):o(N.check,K,re,M.next_out-re)),M.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(H==0&&re===0||D===4)&&pe===f&&(pe=-5),pe)},i.inflateEnd=function(M){if(!M||!M.state)return p;var D=M.state;return D.window&&(D.window=null),M.state=null,f},i.inflateGetHeader=function(M,D){var N;return M&&M.state?(2&(N=M.state).wrap)==0?p:((N.head=D).done=!1,f):p},i.inflateSetDictionary=function(M,D){var N,U=D.length;return M&&M.state?(N=M.state).wrap!==0&&N.mode!==11?p:N.mode===11&&o(1,D,U,0)!==N.check?-3:L(M,D,U,U)?(N.mode=31,-4):(N.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,d,f,p,m,y,b,v){var x,_,S,k,O,A,R,P,T,L=v.bits,M=0,D=0,N=0,U=0,K=0,G=0,Z=0,X=0,W=0,q=0,Q=null,H=0,re=new s.Buf16(16),te=new s.Buf16(16),he=null,de=0;for(M=0;M<=15;M++)re[M]=0;for(D=0;D<p;D++)re[d[f+D]]++;for(K=L,U=15;1<=U&&re[U]===0;U--);if(U<K&&(K=U),U===0)return m[y++]=20971520,m[y++]=20971520,v.bits=1,0;for(N=1;N<U&&re[N]===0;N++);for(K<N&&(K=N),M=X=1;M<=15;M++)if(X<<=1,(X-=re[M])<0)return-1;if(0<X&&(c===0||U!==1))return-1;for(te[1]=0,M=1;M<15;M++)te[M+1]=te[M]+re[M];for(D=0;D<p;D++)d[f+D]!==0&&(b[te[d[f+D]]++]=D);if(A=c===0?(Q=he=b,19):c===1?(Q=o,H-=257,he=a,de-=257,256):(Q=l,he=u,-1),M=N,O=y,Z=D=q=0,S=-1,k=(W=1<<(G=K))-1,c===1&&852<W||c===2&&592<W)return 1;for(;;){for(R=M-Z,T=b[D]<A?(P=0,b[D]):b[D]>A?(P=he[de+b[D]],Q[H+b[D]]):(P=96,0),x=1<<M-Z,N=_=1<<G;m[O+(q>>Z)+(_-=x)]=R<<24|P<<16|T|0,_!==0;);for(x=1<<M-1;q&x;)x>>=1;if(x!==0?(q&=x-1,q+=x):q=0,D++,--re[M]==0){if(M===U)break;M=d[f+b[D]]}if(K<M&&(q&k)!==S){for(Z===0&&(Z=K),O+=N,X=1<<(G=M-Z);G+Z<U&&!((X-=re[G+Z])<=0);)G++,X<<=1;if(W+=1<<G,c===1&&852<W||c===2&&592<W)return 1;m[S=q&k]=K<<24|G<<16|O-y|0}}return q!==0&&(m[O+q]=M-Z<<24|64<<16|0),v.bits=K,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(ee){for(var ue=ee.length;0<=--ue;)ee[ue]=0}var u=0,c=29,d=256,f=d+1+c,p=30,m=19,y=2*f+1,b=15,v=16,x=7,_=256,S=16,k=17,O=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(f+2));l(L);var M=new Array(2*p);l(M);var D=new Array(512);l(D);var N=new Array(256);l(N);var U=new Array(c);l(U);var K,G,Z,X=new Array(p);function W(ee,ue,ve,Te,ye){this.static_tree=ee,this.extra_bits=ue,this.extra_base=ve,this.elems=Te,this.max_length=ye,this.has_stree=ee&&ee.length}function q(ee,ue){this.dyn_tree=ee,this.max_code=0,this.stat_desc=ue}function Q(ee){return ee<256?D[ee]:D[256+(ee>>>7)]}function H(ee,ue){ee.pending_buf[ee.pending++]=255&ue,ee.pending_buf[ee.pending++]=ue>>>8&255}function re(ee,ue,ve){ee.bi_valid>v-ve?(ee.bi_buf|=ue<<ee.bi_valid&65535,H(ee,ee.bi_buf),ee.bi_buf=ue>>v-ee.bi_valid,ee.bi_valid+=ve-v):(ee.bi_buf|=ue<<ee.bi_valid&65535,ee.bi_valid+=ve)}function te(ee,ue,ve){re(ee,ve[2*ue],ve[2*ue+1])}function he(ee,ue){for(var ve=0;ve|=1&ee,ee>>>=1,ve<<=1,0<--ue;);return ve>>>1}function de(ee,ue,ve){var Te,ye,Me=new Array(b+1),je=0;for(Te=1;Te<=b;Te++)Me[Te]=je=je+ve[Te-1]<<1;for(ye=0;ye<=ue;ye++){var ze=ee[2*ye+1];ze!==0&&(ee[2*ye]=he(Me[ze]++,ze))}}function oe(ee){var ue;for(ue=0;ue<f;ue++)ee.dyn_ltree[2*ue]=0;for(ue=0;ue<p;ue++)ee.dyn_dtree[2*ue]=0;for(ue=0;ue<m;ue++)ee.bl_tree[2*ue]=0;ee.dyn_ltree[2*_]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function ce(ee){8<ee.bi_valid?H(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function ge(ee,ue,ve,Te){var ye=2*ue,Me=2*ve;return ee[ye]<ee[Me]||ee[ye]===ee[Me]&&Te[ue]<=Te[ve]}function xe(ee,ue,ve){for(var Te=ee.heap[ve],ye=ve<<1;ye<=ee.heap_len&&(ye<ee.heap_len&&ge(ue,ee.heap[ye+1],ee.heap[ye],ee.depth)&&ye++,!ge(ue,Te,ee.heap[ye],ee.depth));)ee.heap[ve]=ee.heap[ye],ve=ye,ye<<=1;ee.heap[ve]=Te}function Ee(ee,ue,ve){var Te,ye,Me,je,ze=0;if(ee.last_lit!==0)for(;Te=ee.pending_buf[ee.d_buf+2*ze]<<8|ee.pending_buf[ee.d_buf+2*ze+1],ye=ee.pending_buf[ee.l_buf+ze],ze++,Te===0?te(ee,ye,ue):(te(ee,(Me=N[ye])+d+1,ue),(je=A[Me])!==0&&re(ee,ye-=U[Me],je),te(ee,Me=Q(--Te),ve),(je=R[Me])!==0&&re(ee,Te-=X[Me],je)),ze<ee.last_lit;);te(ee,_,ue)}function Pe(ee,ue){var ve,Te,ye,Me=ue.dyn_tree,je=ue.stat_desc.static_tree,ze=ue.stat_desc.has_stree,we=ue.stat_desc.elems,Re=-1;for(ee.heap_len=0,ee.heap_max=y,ve=0;ve<we;ve++)Me[2*ve]!==0?(ee.heap[++ee.heap_len]=Re=ve,ee.depth[ve]=0):Me[2*ve+1]=0;for(;ee.heap_len<2;)Me[2*(ye=ee.heap[++ee.heap_len]=Re<2?++Re:0)]=1,ee.depth[ye]=0,ee.opt_len--,ze&&(ee.static_len-=je[2*ye+1]);for(ue.max_code=Re,ve=ee.heap_len>>1;1<=ve;ve--)xe(ee,Me,ve);for(ye=we;ve=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],xe(ee,Me,1),Te=ee.heap[1],ee.heap[--ee.heap_max]=ve,ee.heap[--ee.heap_max]=Te,Me[2*ye]=Me[2*ve]+Me[2*Te],ee.depth[ye]=(ee.depth[ve]>=ee.depth[Te]?ee.depth[ve]:ee.depth[Te])+1,Me[2*ve+1]=Me[2*Te+1]=ye,ee.heap[1]=ye++,xe(ee,Me,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],function(Be,et){var yt,tt,Yt,wt,sn,nt,pt=et.dyn_tree,Ut=et.max_code,on=et.stat_desc.static_tree,Pi=et.stat_desc.has_stree,eo=et.stat_desc.extra_bits,Tr=et.stat_desc.extra_base,pr=et.stat_desc.max_length,Ni=0;for(wt=0;wt<=b;wt++)Be.bl_count[wt]=0;for(pt[2*Be.heap[Be.heap_max]+1]=0,yt=Be.heap_max+1;yt<y;yt++)pr<(wt=pt[2*pt[2*(tt=Be.heap[yt])+1]+1]+1)&&(wt=pr,Ni++),pt[2*tt+1]=wt,Ut<tt||(Be.bl_count[wt]++,sn=0,Tr<=tt&&(sn=eo[tt-Tr]),nt=pt[2*tt],Be.opt_len+=nt*(wt+sn),Pi&&(Be.static_len+=nt*(on[2*tt+1]+sn)));if(Ni!==0){do{for(wt=pr-1;Be.bl_count[wt]===0;)wt--;Be.bl_count[wt]--,Be.bl_count[wt+1]+=2,Be.bl_count[pr]--,Ni-=2}while(0<Ni);for(wt=pr;wt!==0;wt--)for(tt=Be.bl_count[wt];tt!==0;)Ut<(Yt=Be.heap[--yt])||(pt[2*Yt+1]!==wt&&(Be.opt_len+=(wt-pt[2*Yt+1])*pt[2*Yt],pt[2*Yt+1]=wt),tt--)}}(ee,ue),de(Me,Re,ee.bl_count)}function V(ee,ue,ve){var Te,ye,Me=-1,je=ue[1],ze=0,we=7,Re=4;for(je===0&&(we=138,Re=3),ue[2*(ve+1)+1]=65535,Te=0;Te<=ve;Te++)ye=je,je=ue[2*(Te+1)+1],++ze<we&&ye===je||(ze<Re?ee.bl_tree[2*ye]+=ze:ye!==0?(ye!==Me&&ee.bl_tree[2*ye]++,ee.bl_tree[2*S]++):ze<=10?ee.bl_tree[2*k]++:ee.bl_tree[2*O]++,Me=ye,Re=(ze=0)===je?(we=138,3):ye===je?(we=6,3):(we=7,4))}function pe(ee,ue,ve){var Te,ye,Me=-1,je=ue[1],ze=0,we=7,Re=4;for(je===0&&(we=138,Re=3),Te=0;Te<=ve;Te++)if(ye=je,je=ue[2*(Te+1)+1],!(++ze<we&&ye===je)){if(ze<Re)for(;te(ee,ye,ee.bl_tree),--ze!=0;);else ye!==0?(ye!==Me&&(te(ee,ye,ee.bl_tree),ze--),te(ee,S,ee.bl_tree),re(ee,ze-3,2)):ze<=10?(te(ee,k,ee.bl_tree),re(ee,ze-3,3)):(te(ee,O,ee.bl_tree),re(ee,ze-11,7));Me=ye,Re=(ze=0)===je?(we=138,3):ye===je?(we=6,3):(we=7,4)}}l(X);var me=!1;function le(ee,ue,ve,Te){re(ee,(u<<1)+(Te?1:0),3),function(ye,Me,je,ze){ce(ye),H(ye,je),H(ye,~je),s.arraySet(ye.pending_buf,ye.window,Me,je,ye.pending),ye.pending+=je}(ee,ue,ve)}i._tr_init=function(ee){me||(function(){var ue,ve,Te,ye,Me,je=new Array(b+1);for(ye=Te=0;ye<c-1;ye++)for(U[ye]=Te,ue=0;ue<1<<A[ye];ue++)N[Te++]=ye;for(N[Te-1]=ye,ye=Me=0;ye<16;ye++)for(X[ye]=Me,ue=0;ue<1<<R[ye];ue++)D[Me++]=ye;for(Me>>=7;ye<p;ye++)for(X[ye]=Me<<7,ue=0;ue<1<<R[ye]-7;ue++)D[256+Me++]=ye;for(ve=0;ve<=b;ve++)je[ve]=0;for(ue=0;ue<=143;)L[2*ue+1]=8,ue++,je[8]++;for(;ue<=255;)L[2*ue+1]=9,ue++,je[9]++;for(;ue<=279;)L[2*ue+1]=7,ue++,je[7]++;for(;ue<=287;)L[2*ue+1]=8,ue++,je[8]++;for(de(L,f+1,je),ue=0;ue<p;ue++)M[2*ue+1]=5,M[2*ue]=he(ue,5);K=new W(L,A,d+1,f,b),G=new W(M,R,0,p,b),Z=new W(new Array(0),P,0,m,x)}(),me=!0),ee.l_desc=new q(ee.dyn_ltree,K),ee.d_desc=new q(ee.dyn_dtree,G),ee.bl_desc=new q(ee.bl_tree,Z),ee.bi_buf=0,ee.bi_valid=0,oe(ee)},i._tr_stored_block=le,i._tr_flush_block=function(ee,ue,ve,Te){var ye,Me,je=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=function(ze){var we,Re=4093624447;for(we=0;we<=31;we++,Re>>>=1)if(1&Re&&ze.dyn_ltree[2*we]!==0)return o;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return a;for(we=32;we<d;we++)if(ze.dyn_ltree[2*we]!==0)return a;return o}(ee)),Pe(ee,ee.l_desc),Pe(ee,ee.d_desc),je=function(ze){var we;for(V(ze,ze.dyn_ltree,ze.l_desc.max_code),V(ze,ze.dyn_dtree,ze.d_desc.max_code),Pe(ze,ze.bl_desc),we=m-1;3<=we&&ze.bl_tree[2*T[we]+1]===0;we--);return ze.opt_len+=3*(we+1)+5+5+4,we}(ee),ye=ee.opt_len+3+7>>>3,(Me=ee.static_len+3+7>>>3)<=ye&&(ye=Me)):ye=Me=ve+5,ve+4<=ye&&ue!==-1?le(ee,ue,ve,Te):ee.strategy===4||Me===ye?(re(ee,2+(Te?1:0),3),Ee(ee,L,M)):(re(ee,4+(Te?1:0),3),function(ze,we,Re,Be){var et;for(re(ze,we-257,5),re(ze,Re-1,5),re(ze,Be-4,4),et=0;et<Be;et++)re(ze,ze.bl_tree[2*T[et]+1],3);pe(ze,ze.dyn_ltree,we-1),pe(ze,ze.dyn_dtree,Re-1)}(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,je+1),Ee(ee,ee.dyn_ltree,ee.dyn_dtree)),oe(ee),Te&&ce(ee)},i._tr_tally=function(ee,ue,ve){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=ue>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&ue,ee.pending_buf[ee.l_buf+ee.last_lit]=255&ve,ee.last_lit++,ue===0?ee.dyn_ltree[2*ve]++:(ee.matches++,ue--,ee.dyn_ltree[2*(N[ve]+d+1)]++,ee.dyn_dtree[2*Q(ue)]++),ee.last_lit===ee.lit_bufsize-1},i._tr_align=function(ee){re(ee,2,3),te(ee,_,L),function(ue){ue.bi_valid===16?(H(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):8<=ue.bi_valid&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)}(ee)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,u,c,d,f=1,p={},m=!1,y=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,l={}.toString.call(o.process)==="[object process]"?function(S){process.nextTick(function(){x(S)})}:function(){if(o.postMessage&&!o.importScripts){var S=!0,k=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=k,S}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(S){o.postMessage(d+S,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(S){x(S.data)},function(S){c.port2.postMessage(S)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(S){var k=y.createElement("script");k.onreadystatechange=function(){x(S),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(S){setTimeout(x,0,S)},b.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var k=new Array(arguments.length-1),O=0;O<k.length;O++)k[O]=arguments[O+1];var A={callback:S,args:k};return p[f]=A,l(f),f++},b.clearImmediate=v}function v(S){delete p[S]}function x(S){if(m)setTimeout(x,0,S);else{var k=p[S];if(k){m=!0;try{(function(O){var A=O.callback,R=O.args;switch(R.length){case 0:A();break;case 1:A(R[0]);break;case 2:A(R[0],R[1]);break;case 3:A(R[0],R[1],R[2]);break;default:A.apply(a,R)}})(k)}finally{v(S),m=!1}}}}function _(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(d)===0&&x(+S.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Mk)),Mk.exports}var w1e=b1e();const _1e=Es(w1e);async function x1e(t,e,n){if(t.type==="application/zip")try{const i=await new _1e().loadAsync(t),s=Object.values(i.files).find(u=>u.name.endsWith(".json")),o=Object.values(i.files).find(u=>u.name.endsWith(".pdf"));if(!s)throw new Error("No JSON file found in the zip");const a=await s.async("string"),l=JSON.parse(a);if(e(l),o){const u=await o.async("blob"),c=new FileReader;c.onload=d=>{var f;n((f=d.target)==null?void 0:f.result)},c.readAsDataURL(u)}}catch{alert("Error processing zip file: ")}else alert("Please upload a valid zip file")}function E1e(){const{paperUrl:t,setPaperUrl:e,highlights:n,addHighlight:r,resetHighlights:i,selectedHighlightId:s,setSelectedHighlightId:o,currentReadId:a,readRecords:l,displayedReads:u,setHighlights:c,setNodes:d,setEdges:f,setReadRecords:p,setPdfViewer:m}=ko(),y=z.useContext(Mw);if(!y)throw new Error("TourContext not found");const{setRunTour:b}=y,[v,x]=z.useState(!1),_=z.useRef(null),S=()=>{const P=k(s);P&&_.current&&(console.log("scroll to highlight",P),_.current.scrollToHighlight(P))};z.useEffect(()=>{s&&S()},[s]);const k=P=>n.find(T=>T.id===P),O=P=>{var L;const T=(L=P.target.files)==null?void 0:L[0];if(T&&T.type==="application/pdf"){const M=new FileReader;M.onload=D=>{var N;e((N=D.target)==null?void 0:N.result)},M.readAsDataURL(T),b(!0)}else alert("Please upload a valid PDF file.")},A=P=>{var L;const T=(L=P.target.files)==null?void 0:L[0];T&&x1e(T,R,e)},R=P=>{c(P.highlights||[]),d(P.nodes||[]),f(P.edges||[]),p(P.readRecords||{})};return j.jsx(Et,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:t?j.jsxs(j.Fragment,{children:[v&&j.jsx(y1e,{highlights:n,resetHighlights:i}),v&&j.jsx(Ln,{className:"side-bar-button",onClick:()=>x(!1),children:j.jsx(vye,{})}),j.jsx("div",{style:{height:"100%",width:v?"calc(75%)":"100%",position:"relative"},className:"pdf pdf-container",children:j.jsx(p1e,{document:t,children:P=>{var T;return j.jsx(z0e,{enableAreaSelection:L=>L.altKey,pdfDocument:P,utilsRef:L=>{m(L.getViewer()),_.current=L},selectionTip:Object.keys(l).length>0&&a!==""?j.jsx(v1e,{addHighlight:r}):null,highlights:n,textSelectionColor:(T=l[a])==null?void 0:T.color,children:j.jsx(g1e,{setSelectedHighlightId:o,readRecords:l,displayedReads:u})})}})})]}):j.jsxs(Et,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[j.jsx("input",{type:"file",accept:"application/pdf",onChange:O,style:{display:"none"},id:"pdf-upload"}),j.jsx("input",{type:"file",accept:"application/zip",onChange:A,style:{display:"none"},id:"graph-upload"}),j.jsxs(Lx,{direction:"row",spacing:2,children:[j.jsx("label",{htmlFor:"pdf-upload",children:j.jsx(Ln,{className:"upload-pdf",variant:"outlined",component:"span",startIcon:j.jsx(Lye,{}),children:"Upload PDF"})}),j.jsx("label",{htmlFor:"graph-upload",children:j.jsx(Ln,{className:"upload-graph",variant:"outlined",component:"span",startIcon:j.jsx(WU,{}),children:"Upload Graph & PDF"})})]})]})})}var Lk,Oz;function YO(){if(Oz)return Lk;Oz=1;var t="\0",e="\0",n="";class r{constructor(c){at(this,"_isDirected",!0);at(this,"_isMultigraph",!1);at(this,"_isCompound",!1);at(this,"_label");at(this,"_defaultNodeLabelFn",()=>{});at(this,"_defaultEdgeLabelFn",()=>{});at(this,"_nodes",{});at(this,"_in",{});at(this,"_preds",{});at(this,"_out",{});at(this,"_sucs",{});at(this,"_edgeObjs",{});at(this,"_edgeLabels",{});at(this,"_nodeCount",0);at(this,"_edgeCount",0);at(this,"_parent");at(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var f=arguments,p=this;return c.forEach(function(m){f.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var f=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(f),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(f),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var f of this.successors(c))p.add(f);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([y,b]){c(y)&&d.setNode(y,b)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,f.edge(y))});var p={};function m(y){var b=f.parent(y);return b===void 0||d.hasNode(b)?(p[y]=b,b):b in p?p[b]:m(b)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,m(y))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var f=this,p=arguments;return c.reduce(function(m,y){return p.length>1?f.setEdge(m,y,d):f.setEdge(m,y),y}),this}setEdge(){var c,d,f,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,f=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=y,d=arguments[1],f=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,f!==void 0&&(f=""+f);var b=o(this._isDirected,c,d,f);if(Object.hasOwn(this._edgeLabels,b))return m&&(this._edgeLabels[b]=p),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[b]=m?p:this._defaultEdgeLabelFn(c,d,f);var v=a(this._isDirected,c,d,f);return c=v.v,d=v.w,Object.freeze(v),this._edgeObjs[b]=v,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][b]=v,this._out[c][b]=v,this._edgeCount++,this}edge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,f){var p=arguments.length===1?l(this._isDirected,arguments[0]):o(this._isDirected,c,d,f),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],s(this._preds[d],c),s(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var f=this._in[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var f=this._out[c];if(f){var p=Object.values(f);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var f=this.inEdges(c,d);if(f)return f.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function s(u,c){--u[c]||delete u[c]}function o(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}return p+n+m+n+(f===void 0?t:f)}function a(u,c,d,f){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}var b={v:p,w:m};return f&&(b.name=f),b}function l(u,c){return o(u,c.v,c.w,c.name)}return Lk=r,Lk}var Dk,Mz;function S1e(){return Mz||(Mz=1,Dk="2.2.4"),Dk}var Fk,Lz;function C1e(){return Lz||(Lz=1,Fk={Graph:YO(),version:S1e()}),Fk}var zk,Dz;function A1e(){if(Dz)return zk;Dz=1;var t=YO();zk={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var a=s.node(o),l=s.parent(o),u={v:o};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(s){return s.edges().map(function(o){var a=s.edge(o),l={v:o.v,w:o.w};return o.name!==void 0&&(l.name=o.name),a!==void 0&&(l.value=a),l})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(a){o.setNode(a.v,a.value),a.parent&&o.setParent(a.v,a.parent)}),s.edges.forEach(function(a){o.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),o}return zk}var jk,Fz;function T1e(){if(Fz)return jk;Fz=1,jk=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return jk}var Bk,zz;function w7(){if(zz)return Bk;zz=1;class t{constructor(){at(this,"_arr",[]);at(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],a=i[r];i[n]=a,i[r]=o,s[a.key]=n,s[o.key]=r}}return Bk=t,Bk}var $k,jz;function _7(){if(jz)return $k;jz=1;var t=w7();$k=n;var e=()=>1;function n(i,s,o,a){return r(i,String(s),o||e,a||function(l){return i.outEdges(l)})}function r(i,s,o,a){var l={},u=new t,c,d,f=function(p){var m=p.v!==c?p.v:p.w,y=l[m],b=o(p),v=d.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+b);v<y.distance&&(y.distance=v,y.predecessor=c,u.decrease(m,v))};for(i.nodes().forEach(function(p){var m=p===s?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(f);return l}return $k}var Vk,Bz;function k1e(){if(Bz)return Vk;Bz=1;var t=_7();Vk=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return Vk}var Hk,$z;function x7(){if($z)return Hk;$z=1,Hk=t;function t(e){var n=0,r=[],i={},s=[];function o(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(o(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);s.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||o(a)}),s}return Hk}var Uk,Vz;function R1e(){if(Vz)return Uk;Vz=1;var t=x7();Uk=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return Uk}var Wk,Hz;function I1e(){if(Hz)return Wk;Hz=1,Wk=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},a=r.nodes();return a.forEach(function(l){o[l]={},o[l][l]={distance:0},a.forEach(function(u){l!==u&&(o[l][u]={distance:Number.POSITIVE_INFINITY})}),s(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);o[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=o[l];a.forEach(function(c){var d=o[c];a.forEach(function(f){var p=d[l],m=u[f],y=d[f],b=p.distance+m.distance;b<y.distance&&(y.distance=b,y.predecessor=m.predecessor)})})}),o}return Wk}var qk,Uz;function E7(){if(Uz)return qk;Uz=1;function t(n){var r={},i={},s=[];function o(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(o),delete i[a],s.push(a))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return qk=t,t.CycleException=e,qk}var Gk,Wz;function P1e(){if(Wz)return Gk;Wz=1;var t=E7();Gk=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return Gk}var Yk,qz;function S7(){if(qz)return Yk;qz=1,Yk=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=o==="post"?e:n,u=[],c={};return s.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,s,o,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(o,u[0])||(o[u[0]]=!0,l.push([u[0],!0]),r(s(u[0]),c=>l.push([c,!1])))}}function n(i,s,o,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(o,u)||(o[u]=!0,a.push(u),r(s(u),c=>l.push(c)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Yk}var Xk,Gz;function N1e(){if(Gz)return Xk;Gz=1;var t=S7();Xk=e;function e(n,r){return t(n,r,"post")}return Xk}var Kk,Yz;function O1e(){if(Yz)return Kk;Yz=1;var t=S7();Kk=e;function e(n,r){return t(n,r,"pre")}return Kk}var Qk,Xz;function M1e(){if(Xz)return Qk;Xz=1;var t=YO(),e=w7();Qk=n;function n(r,i){var s=new t,o={},a=new e,l;function u(d){var f=d.v===l?d.w:d.v,p=a.priority(f);if(p!==void 0){var m=i(d);m<p&&(o[f]=l,a.decrease(f,m))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),s.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(o,l))s.setEdge(l,o[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return s}return Qk}var Zk,Kz;function L1e(){return Kz||(Kz=1,Zk={components:T1e(),dijkstra:_7(),dijkstraAll:k1e(),findCycles:R1e(),floydWarshall:I1e(),isAcyclic:P1e(),postorder:N1e(),preorder:O1e(),prim:M1e(),tarjan:x7(),topsort:E7()}),Zk}var Jk,Qz;function ba(){if(Qz)return Jk;Qz=1;var t=C1e();return Jk={Graph:t.Graph,json:A1e(),alg:L1e(),version:t.version},Jk}var eR,Zz;function D1e(){if(Zz)return eR;Zz=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return eR=t,eR}var tR,Jz;function F1e(){if(Jz)return tR;Jz=1;let t=ba().Graph,e=D1e();tR=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=o(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let f=[],p=c[c.length-1],m=c[0],y;for(;u.nodeCount();){for(;y=m.dequeue();)s(u,c,d,y);for(;y=p.dequeue();)s(u,c,d,y);if(u.nodeCount()){for(let b=c.length-2;b>0;--b)if(y=c[b].dequeue(),y){f=f.concat(s(u,c,d,y,!0));break}}}return f}function s(u,c,d,f,p){let m=p?[]:void 0;return u.inEdges(f.v).forEach(y=>{let b=u.edge(y),v=u.node(y.v);p&&m.push({v:y.v,w:y.w}),v.out-=b,a(c,d,v)}),u.outEdges(f.v).forEach(y=>{let b=u.edge(y),v=y.w,x=u.node(v);x.in-=b,a(c,d,x)}),u.removeNode(f.v),m}function o(u,c){let d=new t,f=0,p=0;u.nodes().forEach(b=>{d.setNode(b,{v:b,in:0,out:0})}),u.edges().forEach(b=>{let v=d.edge(b.v,b.w)||0,x=c(b),_=v+x;d.setEdge(b.v,b.w,_),p=Math.max(p,d.node(b.v).out+=x),f=Math.max(f,d.node(b.w).in+=x)});let m=l(p+f+3).map(()=>new e),y=f+1;return d.nodes().forEach(b=>{a(m,y,d.node(b))}),{graph:d,buckets:m,zeroIdx:y}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return tR}var nR,e6;function Er(){if(e6)return nR;e6=1;let t=ba().Graph;nR={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:o,mapValues:O,maxRank:m,normalizeRanks:l,notime:v,partition:y,pick:k,predecessorWeights:s,range:S,removeEmptyRanks:u,simplify:n,successorWeights:i,time:b,uniqueId:_,zipObject:A};function e(R,P,T,L){let M;do M=_(L);while(R.hasNode(M));return T.dummy=P,R.setNode(M,T),M}function n(R){let P=new t().setGraph(R.graph());return R.nodes().forEach(T=>P.setNode(T,R.node(T))),R.edges().forEach(T=>{let L=P.edge(T.v,T.w)||{weight:0,minlen:1},M=R.edge(T);P.setEdge(T.v,T.w,{weight:L.weight+M.weight,minlen:Math.max(L.minlen,M.minlen)})}),P}function r(R){let P=new t({multigraph:R.isMultigraph()}).setGraph(R.graph());return R.nodes().forEach(T=>{R.children(T).length||P.setNode(T,R.node(T))}),R.edges().forEach(T=>{P.setEdge(T,R.edge(T))}),P}function i(R){let P=R.nodes().map(T=>{let L={};return R.outEdges(T).forEach(M=>{L[M.w]=(L[M.w]||0)+R.edge(M).weight}),L});return A(R.nodes(),P)}function s(R){let P=R.nodes().map(T=>{let L={};return R.inEdges(T).forEach(M=>{L[M.v]=(L[M.v]||0)+R.edge(M).weight}),L});return A(R.nodes(),P)}function o(R,P){let T=R.x,L=R.y,M=P.x-T,D=P.y-L,N=R.width/2,U=R.height/2;if(!M&&!D)throw new Error("Not possible to find intersection inside of the rectangle");let K,G;return Math.abs(D)*N>Math.abs(M)*U?(D<0&&(U=-U),K=U*M/D,G=U):(M<0&&(N=-N),K=N,G=N*D/M),{x:T+K,y:L+G}}function a(R){let P=S(m(R)+1).map(()=>[]);return R.nodes().forEach(T=>{let L=R.node(T),M=L.rank;M!==void 0&&(P[M][L.order]=T)}),P}function l(R){let P=R.nodes().map(L=>{let M=R.node(L).rank;return M===void 0?Number.MAX_VALUE:M}),T=p(Math.min,P);R.nodes().forEach(L=>{let M=R.node(L);Object.hasOwn(M,"rank")&&(M.rank-=T)})}function u(R){let P=R.nodes().map(N=>R.node(N).rank),T=p(Math.min,P),L=[];R.nodes().forEach(N=>{let U=R.node(N).rank-T;L[U]||(L[U]=[]),L[U].push(N)});let M=0,D=R.graph().nodeRankFactor;Array.from(L).forEach((N,U)=>{N===void 0&&U%D!==0?--M:N!==void 0&&M&&N.forEach(K=>R.node(K).rank+=M)})}function c(R,P,T,L){let M={width:0,height:0};return arguments.length>=4&&(M.rank=T,M.order=L),e(R,"border",M,P)}function d(R,P=f){const T=[];for(let L=0;L<R.length;L+=P){const M=R.slice(L,L+P);T.push(M)}return T}const f=65535;function p(R,P){if(P.length>f){const T=d(P);return R.apply(null,T.map(L=>R.apply(null,L)))}else return R.apply(null,P)}function m(R){const T=R.nodes().map(L=>{let M=R.node(L).rank;return M===void 0?Number.MIN_VALUE:M});return p(Math.max,T)}function y(R,P){let T={lhs:[],rhs:[]};return R.forEach(L=>{P(L)?T.lhs.push(L):T.rhs.push(L)}),T}function b(R,P){let T=Date.now();try{return P()}finally{console.log(R+" time: "+(Date.now()-T)+"ms")}}function v(R,P){return P()}let x=0;function _(R){var P=++x;return toString(R)+P}function S(R,P,T=1){P==null&&(P=R,R=0);let L=D=>D<P;T<0&&(L=D=>P<D);const M=[];for(let D=R;L(D);D+=T)M.push(D);return M}function k(R,P){const T={};for(const L of P)R[L]!==void 0&&(T[L]=R[L]);return T}function O(R,P){let T=P;return typeof P=="string"&&(T=L=>L[P]),Object.entries(R).reduce((L,[M,D])=>(L[M]=T(D,M),L),{})}function A(R,P){return R.reduce((T,L,M)=>(T[L]=P[M],T),{})}return nR}var rR,t6;function z1e(){if(t6)return rR;t6=1;let t=F1e(),e=Er().uniqueId;rR={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,a(s)):r(s)).forEach(l=>{let u=s.edge(l);s.removeEdge(l),u.forwardName=l.name,u.reversed=!0,s.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(s){let o=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,s.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?o.push(d):u(d.w)}),delete a[c])}return s.nodes().forEach(u),o}function i(s){s.edges().forEach(o=>{let a=s.edge(o);if(a.reversed){s.removeEdge(o);let l=a.forwardName;delete a.reversed,delete a.forwardName,s.setEdge(o.w,o.v,a,l)}})}return rR}var iR,n6;function j1e(){if(n6)return iR;n6=1;let t=Er();iR={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,a=i.node(o).rank,l=s.w,u=i.node(l).rank,c=s.name,d=i.edge(s),f=d.labelRank;if(u===a+1)return;i.removeEdge(s);let p,m,y;for(y=0,++a;a<u;++y,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:s,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===f&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(o,p,{weight:d.weight},c),y===0&&i.graph().dummyChains.push(p),o=p;i.setEdge(o,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),a=o.edgeLabel,l;for(i.setEdge(o.edgeObj,a);o.dummy;)l=i.successors(s)[0],i.removeNode(s),a.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(a.x=o.x,a.y=o.y,a.width=o.width,a.height=o.height),s=l,o=i.node(s)})}return iR}var sR,r6;function lS(){if(r6)return sR;r6=1;const{applyWithChunking:t}=Er();sR={longestPath:e,slack:n};function e(r){var i={};function s(o){var a=r.node(o);if(Object.hasOwn(i,o))return a.rank;i[o]=!0;let l=r.outEdges(o).map(c=>c==null?Number.POSITIVE_INFINITY:s(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return sR}var oR,i6;function C7(){if(i6)return oR;i6=1;var t=ba().Graph,e=lS().slack;oR=n;function n(o){var a=new t({directed:!1}),l=o.nodes()[0],u=o.nodeCount();a.setNode(l,{});for(var c,d;r(a,o)<u;)c=i(a,o),d=a.hasNode(c.v)?e(o,c):-e(o,c),s(a,o,d);return a}function r(o,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,f=u===d?c.w:d;!o.hasNode(f)&&!e(a,c)&&(o.setNode(f,{}),o.setEdge(u,f,{}),l(f))})}return o.nodes().forEach(l),o.nodeCount()}function i(o,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return o.hasNode(c.v)!==o.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function s(o,a,l){o.nodes().forEach(u=>a.node(u).rank+=l)}return oR}var aR,s6;function B1e(){if(s6)return aR;s6=1;var t=C7(),e=lS().slack,n=lS().longestPath,r=ba().alg.preorder,i=ba().alg.postorder,s=Er().simplify;aR=o,o.initLowLimValues=c,o.initCutValues=a,o.calcCutValue=u,o.leaveEdge=f,o.enterEdge=p,o.exchangeEdges=m;function o(x){x=s(x),n(x);var _=t(x);c(_),a(_,x);for(var S,k;S=f(_);)k=p(_,x,S),m(_,x,S,k)}function a(x,_){var S=i(x,x.nodes());S=S.slice(0,S.length-1),S.forEach(k=>l(x,_,k))}function l(x,_,S){var k=x.node(S),O=k.parent;x.edge(S,O).cutvalue=u(x,_,S)}function u(x,_,S){var k=x.node(S),O=k.parent,A=!0,R=_.edge(S,O),P=0;return R||(A=!1,R=_.edge(O,S)),P=R.weight,_.nodeEdges(S).forEach(T=>{var L=T.v===S,M=L?T.w:T.v;if(M!==O){var D=L===A,N=_.edge(T).weight;if(P+=D?N:-N,b(x,S,M)){var U=x.edge(S,M).cutvalue;P+=D?-U:U}}}),P}function c(x,_){arguments.length<2&&(_=x.nodes()[0]),d(x,{},1,_)}function d(x,_,S,k,O){var A=S,R=x.node(k);return _[k]=!0,x.neighbors(k).forEach(P=>{Object.hasOwn(_,P)||(S=d(x,_,S,P,k))}),R.low=A,R.lim=S++,O?R.parent=O:delete R.parent,S}function f(x){return x.edges().find(_=>x.edge(_).cutvalue<0)}function p(x,_,S){var k=S.v,O=S.w;_.hasEdge(k,O)||(k=S.w,O=S.v);var A=x.node(k),R=x.node(O),P=A,T=!1;A.lim>R.lim&&(P=R,T=!0);var L=_.edges().filter(M=>T===v(x,x.node(M.v),P)&&T!==v(x,x.node(M.w),P));return L.reduce((M,D)=>e(_,D)<e(_,M)?D:M)}function m(x,_,S,k){var O=S.v,A=S.w;x.removeEdge(O,A),x.setEdge(k.v,k.w,{}),c(x),a(x,_),y(x,_)}function y(x,_){var S=x.nodes().find(O=>!_.node(O).parent),k=r(x,S);k=k.slice(1),k.forEach(O=>{var A=x.node(O).parent,R=_.edge(O,A),P=!1;R||(R=_.edge(A,O),P=!0),_.node(O).rank=_.node(A).rank+(P?R.minlen:-R.minlen)})}function b(x,_,S){return x.hasEdge(_,S)}function v(x,_,S){return S.low<=_.lim&&_.lim<=S.lim}return aR}var lR,o6;function $1e(){if(o6)return lR;o6=1;var t=lS(),e=t.longestPath,n=C7(),r=B1e();lR=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":o(l);break;case"longest-path":s(l);break;default:a(l)}}var s=e;function o(l){e(l),n(l)}function a(l){r(l)}return lR}var uR,a6;function V1e(){if(a6)return uR;a6=1,uR=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),a=o.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,f=u[d],p=!0;for(;s!==a.w;){if(o=r.node(s),p){for(;(f=u[d])!==c&&r.node(f).maxRank<o.rank;)d++;f===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(f=u[d+1]).minRank<=o.rank;)d++;f=u[d]}r.setParent(s,f),s=r.successors(s)[0]}})}function e(r,i,s,o){let a=[],l=[],u=Math.min(i[s].low,i[o].low),c=Math.max(i[s].lim,i[o].lim),d,f;d=s;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(f=d,d=o;(d=r.parent(d))!==f;)l.push(d);return{path:a.concat(l.reverse()),lca:f}}function n(r){let i={},s=0;function o(a){let l=s;r.children(a).forEach(o),i[a]={low:l,lim:s++}}return r.children().forEach(o),i}return uR}var cR,l6;function H1e(){if(l6)return cR;l6=1;let t=Er();cR={run:e,cleanup:s};function e(o){let a=t.addDummyNode(o,"root",{},"_root"),l=r(o),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;o.graph().nestingRoot=a,o.edges().forEach(p=>o.edge(p).minlen*=d);let f=i(o)+1;o.children().forEach(p=>n(o,a,d,f,c,l,p)),o.graph().nodeRankFactor=d}function n(o,a,l,u,c,d,f){let p=o.children(f);if(!p.length){f!==a&&o.setEdge(a,f,{weight:0,minlen:l});return}let m=t.addBorderNode(o,"_bt"),y=t.addBorderNode(o,"_bb"),b=o.node(f);o.setParent(m,f),b.borderTop=m,o.setParent(y,f),b.borderBottom=y,p.forEach(v=>{n(o,a,l,u,c,d,v);let x=o.node(v),_=x.borderTop?x.borderTop:v,S=x.borderBottom?x.borderBottom:v,k=x.borderTop?u:2*u,O=_!==S?1:c-d[f]+1;o.setEdge(m,_,{weight:k,minlen:O,nestingEdge:!0}),o.setEdge(S,y,{weight:k,minlen:O,nestingEdge:!0})}),o.parent(f)||o.setEdge(a,m,{weight:0,minlen:c+d[f]})}function r(o){var a={};function l(u,c){var d=o.children(u);d&&d.length&&d.forEach(f=>l(f,c+1)),a[u]=c}return o.children().forEach(u=>l(u,1)),a}function i(o){return o.edges().reduce((a,l)=>a+o.edge(l).weight,0)}function s(o){var a=o.graph();o.removeNode(a.nestingRoot),delete a.nestingRoot,o.edges().forEach(l=>{var u=o.edge(l);u.nestingEdge&&o.removeEdge(l)})}return cR}var dR,u6;function U1e(){if(u6)return dR;u6=1;let t=Er();dR=e;function e(r){function i(s){let o=r.children(s),a=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",s,a,l),n(r,"borderRight","_br",s,a,l)}}r.children().forEach(i)}function n(r,i,s,o,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,s);a[i][l]=d,r.setParent(d,o),c&&r.setEdge(c,d,{weight:1})}return dR}var hR,c6;function W1e(){if(c6)return hR;c6=1,hR={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(o(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>s(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(s),Object.hasOwn(c,"y")&&s(c)})}function s(l){l.y=-l.y}function o(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return hR}var fR,d6;function q1e(){if(d6)return fR;d6=1;let t=Er();fR=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),s=i.map(c=>n.node(c).rank),o=t.applyWithChunking(Math.max,s),a=t.range(o+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return fR}var pR,h6;function G1e(){if(h6)return pR;h6=1;let t=Er().zipObject;pR=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((f,p)=>p)),a=i.flatMap(f=>r.outEdges(f).map(p=>({pos:o[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<s.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(f=>{let p=f.pos+l;c[p]+=f.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=f.weight;d+=f.weight*m}),d}return pR}var gR,f6;function Y1e(){if(f6)return gR;f6=1,gR=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:o.sum+l.weight*u.order,weight:o.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return gR}var mR,p6;function X1e(){if(p6)return mR;p6=1;let t=Er();mR=e;function e(i,s){let o={};i.forEach((l,u)=>{let c=o[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),s.edges().forEach(l=>{let u=o[l.v],c=o[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(o[l.w]))});let a=Object.values(o).filter(l=>!l.indegree);return n(a)}function n(i){let s=[];function o(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();s.push(l),l.in.reverse().forEach(o(l)),l.out.forEach(a(l))}return s.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,a=0;i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),s.weight&&(o+=s.barycenter*s.weight,a+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/a,i.weight=a,i.i=Math.min(s.i,i.i),s.merged=!0}return mR}var yR,g6;function K1e(){if(g6)return yR;g6=1;let t=Er();yR=e;function e(i,s){let o=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=o.lhs,l=o.rhs.sort((m,y)=>y.i-m.i),u=[],c=0,d=0,f=0;a.sort(r(!!s)),f=n(u,l,f),a.forEach(m=>{f+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,f=n(u,l,f)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,s,o){let a;for(;s.length&&(a=s[s.length-1]).i<=o;)s.pop(),i.push(a.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return yR}var vR,m6;function Q1e(){if(m6)return vR;m6=1;let t=Y1e(),e=X1e(),n=K1e();vR=r;function r(o,a,l,u){let c=o.children(a),d=o.node(a),f=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};f&&(c=c.filter(x=>x!==f&&x!==p));let y=t(o,c);y.forEach(x=>{if(o.children(x.v).length){let _=r(o,x.v,l,u);m[x.v]=_,Object.hasOwn(_,"barycenter")&&s(x,_)}});let b=e(y,l);i(b,m);let v=n(b,u);if(f&&(v.vs=[f,v.vs,p].flat(!0),o.predecessors(f).length)){let x=o.node(o.predecessors(f)[0]),_=o.node(o.predecessors(p)[0]);Object.hasOwn(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+x.order+_.order)/(v.weight+2),v.weight+=2}return v}function i(o,a){o.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function s(o,a){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight):(o.barycenter=a.barycenter,o.weight=a.weight)}return vR}var bR,y6;function Z1e(){if(y6)return bR;y6=1;let t=ba().Graph,e=Er();bR=n;function n(i,s,o){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(u=>i.node(u));return i.nodes().forEach(u=>{let c=i.node(u),d=i.parent(u);(c.rank===s||c.minRank<=s&&s<=c.maxRank)&&(l.setNode(u),l.setParent(u,d||a),i[o](u).forEach(f=>{let p=f.v===u?f.w:f.v,m=l.edge(p,u),y=m!==void 0?m.weight:0;l.setEdge(p,u,{weight:i.edge(f).weight+y})}),Object.hasOwn(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[s],borderRight:c.borderRight[s]}))}),l}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return bR}var wR,v6;function J1e(){if(v6)return wR;v6=1,wR=t;function t(e,n,r){let i={},s;r.forEach(o=>{let a=e.parent(o),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=s,s=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return wR}var _R,b6;function e_e(){if(b6)return _R;b6=1;let t=q1e(),e=G1e(),n=Q1e(),r=Z1e(),i=J1e(),s=ba().Graph,o=Er();_R=a;function a(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,a);return}let p=o.maxRank(d),m=l(d,o.range(1,p+1),"inEdges"),y=l(d,o.range(p-1,-1,-1),"outEdges"),b=t(d);if(c(d,b),f&&f.disableOptimalOrderHeuristic)return;let v=Number.POSITIVE_INFINITY,x;for(let _=0,S=0;S<4;++_,++S){u(_%2?m:y,_%4>=2),b=o.buildLayerMatrix(d);let k=e(d,b);k<v&&(S=0,x=Object.assign({},b),v=k)}c(d,x)}function l(d,f,p){return f.map(function(m){return r(d,m,p)})}function u(d,f){let p=new s;d.forEach(function(m){let y=m.graph().root,b=n(m,y,p,f);b.vs.forEach((v,x)=>m.node(v).order=x),i(m,p,b.vs)})}function c(d,f){Object.values(f).forEach(p=>p.forEach((m,y)=>d.node(m).order=y))}return _R}var xR,w6;function t_e(){if(w6)return xR;w6=1;let t=ba().Graph,e=Er();xR={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:f};function n(b,v){let x={};function _(S,k){let O=0,A=0,R=S.length,P=k[k.length-1];return k.forEach((T,L)=>{let M=i(b,T),D=M?b.node(M).order:R;(M||T===P)&&(k.slice(A,L+1).forEach(N=>{b.predecessors(N).forEach(U=>{let K=b.node(U),G=K.order;(G<O||D<G)&&!(K.dummy&&b.node(N).dummy)&&s(x,U,N)})}),A=L+1,O=D)}),k}return v.length&&v.reduce(_),x}function r(b,v){let x={};function _(k,O,A,R,P){let T;e.range(O,A).forEach(L=>{T=k[L],b.node(T).dummy&&b.predecessors(T).forEach(M=>{let D=b.node(M);D.dummy&&(D.order<R||D.order>P)&&s(x,M,T)})})}function S(k,O){let A=-1,R,P=0;return O.forEach((T,L)=>{if(b.node(T).dummy==="border"){let M=b.predecessors(T);M.length&&(R=b.node(M[0]).order,_(O,P,L,A,R),P=L,A=R)}_(O,P,O.length,R,k.length)}),O}return v.length&&v.reduce(S),x}function i(b,v){if(b.node(v).dummy)return b.predecessors(v).find(x=>b.node(x).dummy)}function s(b,v,x){if(v>x){let S=v;v=x,x=S}let _=b[v];_||(b[v]=_={}),_[x]=!0}function o(b,v,x){if(v>x){let _=v;v=x,x=_}return!!b[v]&&Object.hasOwn(b[v],x)}function a(b,v,x,_){let S={},k={},O={};return v.forEach(A=>{A.forEach((R,P)=>{S[R]=R,k[R]=R,O[R]=P})}),v.forEach(A=>{let R=-1;A.forEach(P=>{let T=_(P);if(T.length){T=T.sort((M,D)=>O[M]-O[D]);let L=(T.length-1)/2;for(let M=Math.floor(L),D=Math.ceil(L);M<=D;++M){let N=T[M];k[P]===P&&R<O[N]&&!o(x,P,N)&&(k[N]=P,k[P]=S[P]=S[N],R=O[N])}}})}),{root:S,align:k}}function l(b,v,x,_,S){let k={},O=u(b,v,x,S),A=S?"borderLeft":"borderRight";function R(L,M){let D=O.nodes(),N=D.pop(),U={};for(;N;)U[N]?L(N):(U[N]=!0,D.push(N),D=D.concat(M(N))),N=D.pop()}function P(L){k[L]=O.inEdges(L).reduce((M,D)=>Math.max(M,k[D.v]+O.edge(D)),0)}function T(L){let M=O.outEdges(L).reduce((N,U)=>Math.min(N,k[U.w]-O.edge(U)),Number.POSITIVE_INFINITY),D=b.node(L);M!==Number.POSITIVE_INFINITY&&D.borderType!==A&&(k[L]=Math.max(k[L],M))}return R(P,O.predecessors.bind(O)),R(T,O.successors.bind(O)),Object.keys(_).forEach(L=>k[L]=k[x[L]]),k}function u(b,v,x,_){let S=new t,k=b.graph(),O=m(k.nodesep,k.edgesep,_);return v.forEach(A=>{let R;A.forEach(P=>{let T=x[P];if(S.setNode(T),R){var L=x[R],M=S.edge(L,T);S.setEdge(L,T,Math.max(O(b,P,R),M||0))}R=P})}),S}function c(b,v){return Object.values(v).reduce((x,_)=>{let S=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY;Object.entries(_).forEach(([A,R])=>{let P=y(b,A)/2;S=Math.max(R+P,S),k=Math.min(R-P,k)});const O=S-k;return O<x[0]&&(x=[O,_]),x},[Number.POSITIVE_INFINITY,null])[1]}function d(b,v){let x=Object.values(v),_=e.applyWithChunking(Math.min,x),S=e.applyWithChunking(Math.max,x);["u","d"].forEach(k=>{["l","r"].forEach(O=>{let A=k+O,R=b[A];if(R===v)return;let P=Object.values(R),T=_-e.applyWithChunking(Math.min,P);O!=="l"&&(T=S-e.applyWithChunking(Math.max,P)),T&&(b[A]=e.mapValues(R,L=>L+T))})})}function f(b,v){return e.mapValues(b.ul,(x,_)=>{if(v)return b[v.toLowerCase()][_];{let S=Object.values(b).map(k=>k[_]).sort((k,O)=>k-O);return(S[1]+S[2])/2}})}function p(b){let v=e.buildLayerMatrix(b),x=Object.assign(n(b,v),r(b,v)),_={},S;["u","d"].forEach(O=>{S=O==="u"?v:Object.values(v).reverse(),["l","r"].forEach(A=>{A==="r"&&(S=S.map(L=>Object.values(L).reverse()));let R=(O==="u"?b.predecessors:b.successors).bind(b),P=a(b,S,x,R),T=l(b,S,P.root,P.align,A==="r");A==="r"&&(T=e.mapValues(T,L=>-L)),_[O+A]=T})});let k=c(b,_);return d(_,k),f(_,b.graph().align)}function m(b,v,x){return(_,S,k)=>{let O=_.node(S),A=_.node(k),R=0,P;if(R+=O.width/2,Object.hasOwn(O,"labelpos"))switch(O.labelpos.toLowerCase()){case"l":P=-O.width/2;break;case"r":P=O.width/2;break}if(P&&(R+=x?P:-P),P=0,R+=(O.dummy?v:b)/2,R+=(A.dummy?v:b)/2,R+=A.width/2,Object.hasOwn(A,"labelpos"))switch(A.labelpos.toLowerCase()){case"l":P=A.width/2;break;case"r":P=-A.width/2;break}return P&&(R+=x?P:-P),P=0,R}}function y(b,v){return b.node(v).width}return xR}var ER,_6;function n_e(){if(_6)return ER;_6=1;let t=Er(),e=t_e().positionX;ER=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,a=0;s.forEach(l=>{const u=l.reduce((c,d)=>{const f=i.node(d).height;return c>f?c:f},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+o})}return ER}var SR,x6;function r_e(){if(x6)return SR;x6=1;let t=z1e(),e=j1e(),n=$1e(),r=Er().normalizeRanks,i=V1e(),s=Er().removeEmptyRanks,o=H1e(),a=U1e(),l=W1e(),u=e_e(),c=n_e(),d=Er(),f=ba().Graph;SR=p;function p(H,re){let te=re&&re.debugTiming?d.time:d.notime;te("layout",()=>{let he=te("  buildLayoutGraph",()=>R(H));te("  runLayout",()=>m(he,te,re)),te("  updateInputGraph",()=>y(H,he))})}function m(H,re,te){re("    makeSpaceForEdgeLabels",()=>P(H)),re("    removeSelfEdges",()=>Z(H)),re("    acyclic",()=>t.run(H)),re("    nestingGraph.run",()=>o.run(H)),re("    rank",()=>n(d.asNonCompoundGraph(H))),re("    injectEdgeLabelProxies",()=>T(H)),re("    removeEmptyRanks",()=>s(H)),re("    nestingGraph.cleanup",()=>o.cleanup(H)),re("    normalizeRanks",()=>r(H)),re("    assignRankMinMax",()=>L(H)),re("    removeEdgeLabelProxies",()=>M(H)),re("    normalize.run",()=>e.run(H)),re("    parentDummyChains",()=>i(H)),re("    addBorderSegments",()=>a(H)),re("    order",()=>u(H,te)),re("    insertSelfEdges",()=>X(H)),re("    adjustCoordinateSystem",()=>l.adjust(H)),re("    position",()=>c(H)),re("    positionSelfEdges",()=>W(H)),re("    removeBorderNodes",()=>G(H)),re("    normalize.undo",()=>e.undo(H)),re("    fixupEdgeLabelCoords",()=>U(H)),re("    undoCoordinateSystem",()=>l.undo(H)),re("    translateGraph",()=>D(H)),re("    assignNodeIntersects",()=>N(H)),re("    reversePoints",()=>K(H)),re("    acyclic.undo",()=>t.undo(H))}function y(H,re){H.nodes().forEach(te=>{let he=H.node(te),de=re.node(te);he&&(he.x=de.x,he.y=de.y,he.rank=de.rank,re.children(te).length&&(he.width=de.width,he.height=de.height))}),H.edges().forEach(te=>{let he=H.edge(te),de=re.edge(te);he.points=de.points,Object.hasOwn(de,"x")&&(he.x=de.x,he.y=de.y)}),H.graph().width=re.graph().width,H.graph().height=re.graph().height}let b=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],_=["width","height"],S={width:0,height:0},k=["minlen","weight","width","height","labeloffset"],O={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},A=["labelpos"];function R(H){let re=new f({multigraph:!0,compound:!0}),te=Q(H.graph());return re.setGraph(Object.assign({},v,q(te,b),d.pick(te,x))),H.nodes().forEach(he=>{let de=Q(H.node(he));const oe=q(de,_);Object.keys(S).forEach(ce=>{oe[ce]===void 0&&(oe[ce]=S[ce])}),re.setNode(he,oe),re.setParent(he,H.parent(he))}),H.edges().forEach(he=>{let de=Q(H.edge(he));re.setEdge(he,Object.assign({},O,q(de,k),d.pick(de,A)))}),re}function P(H){let re=H.graph();re.ranksep/=2,H.edges().forEach(te=>{let he=H.edge(te);he.minlen*=2,he.labelpos.toLowerCase()!=="c"&&(re.rankdir==="TB"||re.rankdir==="BT"?he.width+=he.labeloffset:he.height+=he.labeloffset)})}function T(H){H.edges().forEach(re=>{let te=H.edge(re);if(te.width&&te.height){let he=H.node(re.v),oe={rank:(H.node(re.w).rank-he.rank)/2+he.rank,e:re};d.addDummyNode(H,"edge-proxy",oe,"_ep")}})}function L(H){let re=0;H.nodes().forEach(te=>{let he=H.node(te);he.borderTop&&(he.minRank=H.node(he.borderTop).rank,he.maxRank=H.node(he.borderBottom).rank,re=Math.max(re,he.maxRank))}),H.graph().maxRank=re}function M(H){H.nodes().forEach(re=>{let te=H.node(re);te.dummy==="edge-proxy"&&(H.edge(te.e).labelRank=te.rank,H.removeNode(re))})}function D(H){let re=Number.POSITIVE_INFINITY,te=0,he=Number.POSITIVE_INFINITY,de=0,oe=H.graph(),ce=oe.marginx||0,ge=oe.marginy||0;function xe(Ee){let Pe=Ee.x,V=Ee.y,pe=Ee.width,me=Ee.height;re=Math.min(re,Pe-pe/2),te=Math.max(te,Pe+pe/2),he=Math.min(he,V-me/2),de=Math.max(de,V+me/2)}H.nodes().forEach(Ee=>xe(H.node(Ee))),H.edges().forEach(Ee=>{let Pe=H.edge(Ee);Object.hasOwn(Pe,"x")&&xe(Pe)}),re-=ce,he-=ge,H.nodes().forEach(Ee=>{let Pe=H.node(Ee);Pe.x-=re,Pe.y-=he}),H.edges().forEach(Ee=>{let Pe=H.edge(Ee);Pe.points.forEach(V=>{V.x-=re,V.y-=he}),Object.hasOwn(Pe,"x")&&(Pe.x-=re),Object.hasOwn(Pe,"y")&&(Pe.y-=he)}),oe.width=te-re+ce,oe.height=de-he+ge}function N(H){H.edges().forEach(re=>{let te=H.edge(re),he=H.node(re.v),de=H.node(re.w),oe,ce;te.points?(oe=te.points[0],ce=te.points[te.points.length-1]):(te.points=[],oe=de,ce=he),te.points.unshift(d.intersectRect(he,oe)),te.points.push(d.intersectRect(de,ce))})}function U(H){H.edges().forEach(re=>{let te=H.edge(re);if(Object.hasOwn(te,"x"))switch((te.labelpos==="l"||te.labelpos==="r")&&(te.width-=te.labeloffset),te.labelpos){case"l":te.x-=te.width/2+te.labeloffset;break;case"r":te.x+=te.width/2+te.labeloffset;break}})}function K(H){H.edges().forEach(re=>{let te=H.edge(re);te.reversed&&te.points.reverse()})}function G(H){H.nodes().forEach(re=>{if(H.children(re).length){let te=H.node(re),he=H.node(te.borderTop),de=H.node(te.borderBottom),oe=H.node(te.borderLeft[te.borderLeft.length-1]),ce=H.node(te.borderRight[te.borderRight.length-1]);te.width=Math.abs(ce.x-oe.x),te.height=Math.abs(de.y-he.y),te.x=oe.x+te.width/2,te.y=he.y+te.height/2}}),H.nodes().forEach(re=>{H.node(re).dummy==="border"&&H.removeNode(re)})}function Z(H){H.edges().forEach(re=>{if(re.v===re.w){var te=H.node(re.v);te.selfEdges||(te.selfEdges=[]),te.selfEdges.push({e:re,label:H.edge(re)}),H.removeEdge(re)}})}function X(H){var re=d.buildLayerMatrix(H);re.forEach(te=>{var he=0;te.forEach((de,oe)=>{var ce=H.node(de);ce.order=oe+he,(ce.selfEdges||[]).forEach(ge=>{d.addDummyNode(H,"selfedge",{width:ge.label.width,height:ge.label.height,rank:ce.rank,order:oe+ ++he,e:ge.e,label:ge.label},"_se")}),delete ce.selfEdges})})}function W(H){H.nodes().forEach(re=>{var te=H.node(re);if(te.dummy==="selfedge"){var he=H.node(te.e.v),de=he.x+he.width/2,oe=he.y,ce=te.x-de,ge=he.height/2;H.setEdge(te.e,te.label),H.removeNode(re),te.label.points=[{x:de+2*ce/3,y:oe-ge},{x:de+5*ce/6,y:oe-ge},{x:de+ce,y:oe},{x:de+5*ce/6,y:oe+ge},{x:de+2*ce/3,y:oe+ge}],te.label.x=te.x,te.label.y=te.y}})}function q(H,re){return d.mapValues(d.pick(H,re),Number)}function Q(H){var re={};return H&&Object.entries(H).forEach(([te,he])=>{typeof te=="string"&&(te=te.toLowerCase()),re[te]=he}),re}return SR}var CR,E6;function i_e(){if(E6)return CR;E6=1;let t=Er(),e=ba().Graph;CR={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,a)=>{let l="layer"+a;s.setNode(l,{rank:"same"}),o.reduce((u,c)=>(s.setEdge(u,c,{style:"invis"}),c))}),s}return CR}var AR,S6;function s_e(){return S6||(S6=1,AR="1.1.4"),AR}var TR,C6;function o_e(){return C6||(C6=1,TR={graphlib:ba(),layout:r_e(),debug:i_e(),util:{time:Er().time,notime:Er().notime},version:s_e()}),TR}var a_e=o_e();const A6=Es(a_e);function l_e({data:t}){const{id:e,readRecordId:n,label:r,type:i,content:s,intersected:o}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=ko(),{color:c}=a[n]||{color:"#e6e6e6"},d=l.includes(n),f=cN(),p=f.inProgress&&f.fromNode.id!==e;return j.jsxs(Et,{className:`highlight-node ${e===u?"selected":""} ${o?"intersected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[!f.inProgress&&j.jsx(fs,{className:"connection-handle",id:`relational-handle-${e}-source`,position:st.Right,type:"source"}),(!f.inProgress||p)&&j.jsx(fs,{className:"connection-handle",id:`relational-handle-${e}-target`,position:st.Left,type:"target",isConnectableStart:!1}),j.jsx(fs,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:st.Top,type:"target",isConnectableStart:!1}),j.jsx(fs,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:st.Bottom,type:"source",isConnectableStart:!1}),j.jsx(rn,{variant:"body1",children:r}),i==="area"&&j.jsx("img",{src:s,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),j.jsx(qU,{className:"drag-handle__custom"})]})}function u_e({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:s,notes:o}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=ko(),{color:c}=a[n],d=l.includes(n);return j.jsxs(Et,{className:`overview-node ${e===u?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[j.jsx(fs,{type:"target",position:st.Top,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}}),j.jsx(rn,{variant:"body1",children:r}),s==="area"&&j.jsxs(j.Fragment,{children:[j.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),j.jsx("br",{})]}),j.jsx(rn,{variant:"caption",children:o}),j.jsx(fs,{type:"source",position:st.Bottom,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}})]})}function c_e({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:s,markerEnd:o}){const[a,l,u]=qS({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:s});return j.jsxs(j.Fragment,{children:[j.jsx(ey,{path:a,markerEnd:o,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),j.jsx(sV,{children:j.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function T6(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,s=e.internals.positionAbsolute,o=n/2,a=r/2,l=i.x+o,u=i.y+a,c=s.x+e.measured.width/2,d=s.y+e.measured.height/2,f=(c-l)/(2*o)-(d-u)/(2*a),p=(c-l)/(2*o)+(d-u)/(2*a),m=1/(Math.abs(f)+Math.abs(p)),y=m*f,b=m*p,v=o*(y+b)+l,x=a*(-y+b)+u;return{x:v,y:x}}function k6(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),s=Math.round(e.x),o=Math.round(e.y);return s<=r+1?st.Left:s>=r+n.measured.width-1?st.Right:o<=i+1?st.Top:o>=n.y+n.measured.height-1?st.Bottom:st.Top}function d_e(t,e){const n=T6(t,e),r=T6(e,t),i=k6(t,n),s=k6(e,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:i,targetPos:s}}function h_e({source:t,target:e}){const n=qF(t),r=qF(e);if(!n||!r)return null;const{sx:i,sy:s,tx:o,ty:a,sourcePos:l,targetPos:u}=d_e(n,r),[c,d,f]=qS({sourceX:i,sourceY:s,sourcePosition:l,targetPosition:u,targetX:o,targetY:a});return j.jsxs(j.Fragment,{children:[j.jsx(ey,{path:c,style:{stroke:"black",strokeWidth:2}}),j.jsx(sV,{children:j.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${d}px,${f}px)`}})})]})}var R6;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(R6||(R6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I6;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(I6||(I6={}));var P6;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(P6||(P6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=["user","model","function","system"];var O6;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(O6||(O6={}));var M6;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(M6||(M6={}));var L6;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(L6||(L6={}));var D6;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(D6||(D6={}));var d0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(d0||(d0={}));var F6;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(F6||(F6={}));var z6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(z6||(z6={}));var j6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(j6||(j6={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Zp extends ki{constructor(e,n){super(e),this.response=n}}class A7 extends ki{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class xd extends ki{}class T7 extends ki{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e="https://generativelanguage.googleapis.com",p_e="v1beta",g_e="0.23.0",m_e="genai-js";var zf;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(zf||(zf={}));class y_e{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||p_e;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||f_e}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function v_e(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${m_e}/${g_e}`),e.join(" ")}async function b_e(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",v_e(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new xd(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new xd(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new xd(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function w_e(t,e,n,r,i,s){const o=new y_e(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},S_e(s)),{method:"POST",headers:await b_e(o),body:i})}}async function n1(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await w_e(t,e,n,r,i,s);return __e(a,l,o)}async function __e(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){x_e(i,t)}return r.ok||await E_e(r,t),r}function x_e(t,e){let n=t;throw n.name==="AbortError"?(n=new T7(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof A7||t instanceof xd||(n=new ki(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function E_e(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new A7(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function S_e(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),dE(t.candidates[0]))throw new Zp(`${$c(t)}`,t);return C_e(t)}else if(t.promptFeedback)throw new Zp(`Text not available. ${$c(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dE(t.candidates[0]))throw new Zp(`${$c(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),B6(t)[0]}else if(t.promptFeedback)throw new Zp(`Function call not available. ${$c(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),dE(t.candidates[0]))throw new Zp(`${$c(t)}`,t);return B6(t)}else if(t.promptFeedback)throw new Zp(`Function call not available. ${$c(t)}`,t)},t}function C_e(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function B6(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const A_e=[d0.RECITATION,d0.SAFETY,d0.LANGUAGE];function dE(t){return!!t.finishReason&&A_e.includes(t.finishReason)}function $c(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];dE(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function W0(t){return this instanceof W0?(this.v=t,this):new W0(t)}function T_e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(p){return new Promise(function(m,y){s.push([f,p,m,y])>1||a(f,p)})})}function a(f,p){try{l(r[f](p))}catch(m){d(s[0][3],m)}}function l(f){f.value instanceof W0?Promise.resolve(f.value.v).then(u,c):d(s[0][2],f)}function u(f){a("next",f)}function c(f){a("throw",f)}function d(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function k_e(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=P_e(e),[r,i]=n.tee();return{stream:I_e(r),response:R_e(i)}}async function R_e(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return XO(N_e(e));e.push(i)}}function I_e(t){return T_e(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield W0(n.read());if(i)break;yield yield W0(XO(r))}})}function P_e(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new ki("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match($6),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new ki(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match($6)}return s()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new T7("Request aborted when reading from the stream"):a=new ki("Error reading from the stream"),a})}}})}function N_e(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const s of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].groundingMetadata=s.groundingMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const a of s.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(t,e,n,r){const i=await n1(e,zf.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return k_e(i)}async function R7(t,e,n,r){const s=await(await n1(e,zf.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:XO(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function q0(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return O_e(e)}function O_e(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new ki("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ki("No content is provided for sending chat message.");return r?e:n}function M_e(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new xd("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=q0(t);r.contents=[s]}return{generateContentRequest:r}}function V6(t){let e;return t.contents?e=t:e={contents:[q0(t)]},t.systemInstruction&&(e.systemInstruction=I7(t.systemInstruction)),e}function L_e(t){return typeof t=="string"||Array.isArray(t)?{content:q0(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],D_e={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function F_e(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new ki(`First content should be with role 'user', got ${r}`);if(!N6.includes(r))throw new ki(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(N6)}`);if(!Array.isArray(i))throw new ki("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ki("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of H6)l in a&&(s[l]+=1);const o=D_e[r];for(const a of H6)if(!o.includes(a)&&s[a]>0)throw new ki(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function U6(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6="SILENT_ERROR";class z_e{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(F_e(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=q0(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>R7(this._apiKey,this.model,c,d)).then(p=>{var m;if(U6(p.response)){this._history.push(u);const y=Object.assign({parts:[],role:"model"},(m=p.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(y)}else{const y=$c(p.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}f=p}),await this._sendPromise,f}async sendMessageStream(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const u=q0(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),n),f=k7(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(W6)}).then(p=>p.response).then(p=>{if(U6(p)){this._history.push(u);const m=Object.assign({},p.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=$c(p);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(p=>{p.message!==W6&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j_e(t,e,n,r){return(await n1(e,zf.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_e(t,e,n,r){return(await n1(e,zf.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function $_e(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await n1(e,zf.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=I7(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=V6(e),s=Object.assign(Object.assign({},this._requestOptions),n);return R7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=V6(e),s=Object.assign(Object.assign({},this._requestOptions),n);return k7(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new z_e(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=M_e(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return j_e(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=L_e(e),i=Object.assign(Object.assign({},this._requestOptions),n);return B_e(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return $_e(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ki("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new q6(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new xd("Cached content must contain a `name` field.");if(!e.model)throw new xd("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new xd(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new q6(this.apiKey,s,r)}}const H_e="AIzaSyD33qOpC9rpB2u-tcPMZVD7a3-nhZ6YpcQ",U_e=new V_e(H_e);function W_e(){const{nodes:t,updateNodeData:e,deleteHighlight:n,selectedHighlightId:r,setSelectedHighlightId:i,setOnSelectNode:s}=ko(),[o,a]=z.useState(""),[l,u]=z.useState(""),[c,d]=z.useState(""),[f,p]=z.useState(!1),[m,y]=z.useState(!1);z.useEffect(()=>{const _=t.find(S=>S.id===r);if(_){a(_.data.label);const S=_.data.content,k=_.data.type;u(_.data.summary),d(_.data.notes),p(!1),y(!1),_.data.summary||b(S,k)}},[r]);const b=async(_,S)=>{if(!_){u("No content to summarize.");return}try{const k=U_e.getGenerativeModel({model:"gemini-1.5-flash"});if(S==="text"){const O=`Summarize this in three sentences or less or if it's a single word/phrase give the definition: "${_}"`,R=await(await k.generateContent(O)).response;u(R.text()||"No summary available.")}else if(S==="area"){const O={inlineData:{data:_.split(",")[1],mimeType:"image/jpeg"}},P=await(await k.generateContent(["Describe this image in detail, focusing on any text, diagrams, or important visual elements:",O])).response;u(P.text()||"No description available.")}}catch(k){console.error("Error fetching summary:",k),u("Failed to fetch summary.")}},v=()=>{e(r,{label:o,summary:l,notes:c}),i(null),s(!1)},x=()=>{y(!0),f||(i(null),s(!1))};return j.jsxs("div",{className:"wrapper",style:{overflowY:m?"hidden":"auto"},children:[f&&m&&j.jsxs("div",{className:"closing-popup",children:[j.jsx("div",{className:"closing-background",onClick:()=>y(!1)}),j.jsxs("div",{className:"closing-modal",children:[j.jsx("h3",{children:"Would you like to save your changes?"}),j.jsxs("div",{className:"closing-modal-buttons",children:[j.jsx(Ln,{variant:"outlined",color:"success",onClick:()=>v(),children:"Save"}),j.jsx(Ln,{variant:"outlined",color:"error",onClick:()=>y(!1),children:"Cancel"})]})]})]}),j.jsx(xh,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>x(),children:j.jsx(_ye,{})}),j.jsxs(Et,{className:"field",children:[j.jsx("h3",{children:"Label"}),j.jsx(Xo,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:o,onChange:_=>{p(!0),a(_.target.value)}})]}),j.jsxs(Et,{className:"field summary-container",children:[j.jsx("h3",{className:"summary-title",children:"Definition / Summary"}),j.jsxs("p",{className:"summary-generated",children:[j.jsx("span",{className:"summary-label",children:"(From Gemini)"})," ",l||"Generating summary..."]})]}),j.jsxs(Et,{className:"field",children:[j.jsx("h3",{children:"Notes"}),j.jsx(Xo,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:c,onChange:_=>{p(!0),d(_.target.value)},multiline:!0,placeholder:"Write your notes here..."})]}),j.jsxs(Et,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[j.jsx(Ln,{variant:"outlined",color:"success",onClick:()=>v(),children:"Save"}),j.jsx(Ln,{variant:"outlined",color:"error",onClick:()=>n(r),children:"Delete"})]})]})}function q_e({data:t}){const{id:e,readRecordId:n,label:r,type:i,content:s,intersected:o}=t,{readRecords:a,displayedReads:l,selectedHighlightId:u}=ko(),{color:c}=a[n],d=l.includes(n),f=cN(),p=f.inProgress&&f.fromNode.id!==e;return j.jsxs(Et,{className:`group-node ${e===u?"selected":""} ${o?"intersected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[!f.inProgress&&j.jsx(fs,{className:"connection-handle",id:`relational-handle-${e}-source`,position:st.Right,type:"source"}),(!f.inProgress||p)&&j.jsx(fs,{className:"connection-handle",id:`relational-handle-${e}-target`,position:st.Left,type:"target",isConnectableStart:!1}),j.jsx(fs,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:st.Top,type:"target",isConnectableStart:!1}),j.jsx(fs,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:st.Bottom,type:"source",isConnectableStart:!1}),j.jsx(rn,{variant:"body1",children:r}),i==="area"&&j.jsx("img",{src:s,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),j.jsx(qU,{className:"drag-handle__custom"})]})}const G_e={highlight:l_e,overview:u_e,group:q_e},Y_e={chronological:c_e,relational:h_e};function X_e(t){const{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:s,onEdgesChange:o,onConnect:a,selectedHighlightId:l,setSelectedHighlightId:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:f,displayEdgeTypes:p,setDisplayEdgeTypes:m}=t,{fitView:y,getIntersectingNodes:b}=XS(),[v,x]=z.useState(!1),_=z.useCallback((L,M)=>{const D=b(M).map(N=>N.id);r(N=>N.map(U=>({...U,data:{...U.data,intersected:!!D.includes(U.id)}})))},[]),S=z.useCallback((L,M)=>{console.log("onNodeDragStop",M);const D=b(M).map(N=>N.id);D.length>0&&f([M.id,...D])},[f]),k=(L,M)=>{v||!L||u(M.id)},O=(L,M)=>{console.log("onNodeDoubleClick",M),!(v||!L)&&d(D=>!D)},A=()=>{console.log("open Overview"),r(v?e.map(L=>({...L,type:"highlight"})):e.map(L=>({...L,type:"overview"}))),u(null),x(!v)},R=(L,M,D)=>{const N=new A6.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return N.setGraph({rankdir:D.direction}),M.forEach(U=>N.setEdge(U.source,U.target)),L.forEach(U=>{var K,G;return N.setNode(U.id,{...U,width:((K=U.measured)==null?void 0:K.width)??0,height:((G=U.measured)==null?void 0:G.height)??0})}),A6.layout(N),{nodes:L.map(U=>{var X,W;const K=N.node(U.id),G=K.x-(((X=U.measured)==null?void 0:X.width)??0)/2,Z=K.y-(((W=U.measured)==null?void 0:W.height)??0)/2;return{...U,position:{x:G,y:Z}}}),edges:M}},P=z.useCallback(L=>{console.log(e);const M=R(e,n,{direction:L});r([...M.nodes]),i([...M.edges]),window.requestAnimationFrame(()=>{y()})},[e,n]);z.useEffect(()=>{if(l&&c){console.log("viewport focus on selected node");const L=e.find(M=>M.id===l);y({padding:3.5,nodes:[L]})}else y({padding:1})},[e,c,l]);const T=L=>{m(p.includes(L)?p.filter(M=>M!==L):[...p,L])};return j.jsxs(Hee,{nodes:e,edges:n,onNodesChange:s,onEdgesChange:o,onConnect:a,onNodeDrag:_,onNodeDragStop:S,onNodeClick:k,onNodeDoubleClick:O,nodeTypes:G_e,edgeTypes:Y_e,fitView:!0,style:{width:"100%",height:"100%"},children:[j.jsx(Qee,{}),j.jsx(ite,{onFitView:()=>P("TB"),style:{color:"black"}}),j.jsx(yte,{}),j.jsx(Pm,{position:"top-left",style:{color:"black"},children:j.jsxs(sge,{children:[j.jsx(eP,{control:j.jsx(ZI,{checked:p.includes(Si.CHRONOLOGICAL),onClick:()=>T(Si.CHRONOLOGICAL)}),label:"Chronological Link"}),j.jsx(eP,{control:j.jsx(ZI,{checked:p.includes(Si.RELATIONAL),onClick:()=>T(Si.RELATIONAL)}),label:"Relational Link"})]})}),j.jsx(Pm,{position:"top-right",children:j.jsx(xh,{onClick:A,children:v?j.jsx(xye,{}):j.jsx(Rye,{})})})]})}function K_e(){const{nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:s,onConnect:o,selectedHighlightId:a,setSelectedHighlightId:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:f,setDisplayEdgeTypes:p}=ko();return j.jsxs(Et,{style:{width:"100%",height:"100%",position:"relative"},children:[j.jsx(iV,{children:j.jsx(X_e,{style:{height:"auto"},nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:s,onConnect:o,selectedHighlightId:a,setSelectedHighlightId:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:f,setDisplayEdgeTypes:p})}),u&&a&&j.jsx(Et,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:j.jsx(W_e,{})})]})}const P7=z.createContext(void 0),Q_e=({children:t})=>{const{userData:e,updateReadingState:n,getReadingStateData:r}=hC(),{currentReadId:i,highlights:s,pdfViewer:o,paperId:a,nodes:l,edges:u,readRecords:c,setCurrentSessionId:d}=ko(),f=z.useRef(s);z.useEffect(()=>{f.current=s},[s]);const[p,m]=z.useState({}),y=500,b=z.useRef(null),v=z.useRef(null);z.useEffect(()=>{_()},[e,a]);const x=()=>{m({}),b.current=null,v.current=null},_=async()=>{if(e&&a){console.log("load reading analytics context",e,a);const P=await r(e.id,a);P?m(P.state.readingSessions):x()}},S=P=>{console.log("Creating new reading session",P);const T=kE();d(T);const L=Date.now();return m(M=>({...M,[T]:{sessionId:T,readId:P,startTime:L,duration:0,scrollSequence:[[L,(o==null?void 0:o.scroll.lastY)||0]]}})),T},k=()=>{if(!v.current)return;const P=v.current;if(!P)return;const T=Date.now();m(L=>({...L,[P]:{...L[P],duration:T-L[P].startTime,scrollSequence:[...L[P].scrollSequence,[T,(o==null?void 0:o.scroll.lastY)||0]]}}))};z.useEffect(()=>{if(O(),i!==""){const P=S(i);v.current=P,A()}return()=>{O()}},[i]);const O=()=>{console.log("Stopping current update interval"),b.current&&(clearInterval(b.current),b.current=null)},A=()=>{console.log("Starting update interval: ",v.current),b.current=setInterval(()=>{k()},y)},R=()=>{if(!e||!a||!i)return;const P={id:`${e.id}-${a}`,userId:e.id,paperId:a,state:{highlights:f.current,readRecords:c,nodes:l,edges:u,readingSessions:p}};n(P)};return z.useEffect(()=>{const P=()=>{document.hidden&&v.current?(O(),console.log("Visibility change: Hidden",v.current)):!document.hidden&&v.current&&(A(),console.log("Visibility change: Visible",v.current))};return document.addEventListener("visibilitychange",P),()=>{document.removeEventListener("visibilitychange",P)}},[v.current]),j.jsx(P7.Provider,{value:{readingSessions:p,saveReadingState:R},children:t})},N7=()=>{const t=z.useContext(P7);if(t===void 0)throw new Error("useReadingAnalytics must be used within a ReadingAnalyticsProvider");return t},G6=t=>{const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`};function Z_e(){const{highlights:t,readRecords:e}=ko(),{readingSessions:n}=N7(),[r,i]=z.useState(0),[s,o]=z.useState([]);z.useEffect(()=>{i(Object.values(n).reduce((l,u)=>l+u.duration,0)),a()},[n]);const a=()=>{const l=Object.values(n).reduce((c,d)=>(c[d.readId]=(c[d.readId]||0)+d.duration,c),{}),u=Object.entries(l).map(([c,d])=>{const f=Object.values(n).filter(m=>(m==null?void 0:m.readId)===c).sort((m,y)=>y.startTime-m.startTime)[0],p=f?f.startTime+f.duration:0;return{readId:c,readTitle:e[c].title,duration:d,highlightCount:t.filter(m=>m.readRecordId===c).length,imageHighlightCount:t.filter(m=>m.readRecordId===c&&m.type==="area").length,textHighlightCount:t.filter(m=>m.readRecordId===c&&m.type==="text").length,lastReadTime:p}});u.sort((c,d)=>d.duration-c.duration),o(u)};return j.jsxs(Et,{sx:{p:2.5,bgcolor:"white",borderRadius:1,boxShadow:1},children:[j.jsx(rn,{variant:"h4",sx:{mb:2.5,color:"text.primary"},children:"Reading Analytics"}),j.jsx(Et,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:2.5,mb:3.75},children:j.jsxs(Vm,{sx:{p:2,bgcolor:"black",color:"white"},children:[j.jsx(rn,{variant:"h6",sx:{mb:1.25,color:"white"},children:"Total Reading Time"}),j.jsx(rn,{variant:"h5",sx:{color:"white"},children:G6(r)})]})}),j.jsxs(Et,{sx:{mt:3.75},children:[j.jsx(rn,{variant:"h5",sx:{mb:2,color:"text.secondary"},children:"Read Breakdown"}),s.map(l=>j.jsxs(Vm,{sx:{p:2,mb:2,bgcolor:"black",color:"white","&:last-child":{mb:0}},children:[j.jsx(rn,{variant:"h6",sx:{mb:1.25,color:"white"},children:l.readTitle}),j.jsxs(Et,{component:"ul",sx:{m:0,p:0,listStyle:"none"},children:[j.jsxs(Et,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Total Time: ",G6(l.duration)]}),j.jsxs(Et,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Highlights: ",l.highlightCount]}),j.jsxs(Et,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Image Highlights: ",l.imageHighlightCount]}),j.jsxs(Et,{component:"li",sx:{display:"flex",justifyContent:"space-between",mb:.625,color:"white"},children:["Text Highlights: ",l.textHighlightCount]}),j.jsxs(Et,{component:"li",sx:{display:"flex",justifyContent:"space-between",color:"white"},children:["Last Read: ",new Date(l.lastReadTime).toLocaleString()]})]})]},l.readId))]})]})}function hE(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function J_e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O7(t){let e,n,r;t.length!==2?(e=hE,n=(a,l)=>hE(t(a),l),r=(a,l)=>t(a)-l):(e=t===hE||t===J_e?t:exe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function exe(){return 0}function txe(t){return t===null?NaN:+t}const nxe=O7(hE),rxe=nxe.right;O7(txe).center;const ixe=Math.sqrt(50),sxe=Math.sqrt(10),oxe=Math.sqrt(2);function uS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=ixe?10:s>=sxe?5:s>=oxe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?uS(t,e,n*2):[a,l,u]}function axe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?uS(e,t,n):uS(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function T2(t,e,n){return e=+e,t=+t,n=+n,uS(t,e,n)[2]}function lxe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?T2(e,t,n):T2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function uxe(t){return t}var fE=1,kR=2,Y6=3,Xv=4,X6=1e-6;function cxe(t){return"translate("+t+",0)"}function dxe(t){return"translate(0,"+t+")"}function hxe(t){return e=>+t(e)}function fxe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function pxe(){return!this.__axis}function M7(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===fE||t===Xv?-1:1,c=t===Xv||t===kR?"x":"y",d=t===fE||t===Y6?cxe:dxe;function f(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):uxe),b=Math.max(s,0)+a,v=e.range(),x=+v[0]+l,_=+v[v.length-1]+l,S=(e.bandwidth?fxe:hxe)(e.copy(),l),k=p.selection?p.selection():p,O=k.selectAll(".domain").data([null]),A=k.selectAll(".tick").data(m,e).order(),R=A.exit(),P=A.enter().append("g").attr("class","tick"),T=A.select("line"),L=A.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(P),T=T.merge(P.append("line").attr("stroke","currentColor").attr(c+"2",u*s)),L=L.merge(P.append("text").attr("fill","currentColor").attr(c,u*b).attr("dy",t===fE?"0em":t===Y6?"0.71em":"0.32em")),p!==k&&(O=O.transition(p),A=A.transition(p),T=T.transition(p),L=L.transition(p),R=R.transition(p).attr("opacity",X6).attr("transform",function(M){return isFinite(M=S(M))?d(M+l):this.getAttribute("transform")}),P.attr("opacity",X6).attr("transform",function(M){var D=this.parentNode.__axis;return d((D&&isFinite(D=D(M))?D:S(M))+l)})),R.remove(),O.attr("d",t===Xv||t===kR?o?"M"+u*o+","+x+"H"+l+"V"+_+"H"+u*o:"M"+l+","+x+"V"+_:o?"M"+x+","+u*o+"V"+l+"H"+_+"V"+u*o:"M"+x+","+l+"H"+_),A.attr("opacity",1).attr("transform",function(M){return d(S(M)+l)}),T.attr(c+"2",u*s),L.attr(c,u*b).text(y),k.filter(pxe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===kR?"start":t===Xv?"end":"middle"),k.each(function(){this.__axis=S})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(s=o=+p,f):s},f.tickSizeInner=function(p){return arguments.length?(s=+p,f):s},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function gxe(t){return M7(fE,t)}function mxe(t){return M7(Xv,t)}const k2=Math.PI,R2=2*k2,gh=1e-6,yxe=R2-gh;function L7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function vxe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return L7;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class bxe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?L7:vxe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,u=i-n,c=o-e,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>gh)if(!(Math.abs(d*l-u*c)>gh)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-a,y=l*l+u*u,b=p*p+m*m,v=Math.sqrt(y),x=Math.sqrt(f),_=s*Math.tan((k2-Math.acos((y+f-b)/(2*v*x)))/2),S=_/x,k=_/v;Math.abs(S-1)>gh&&this._append`L${e+S*c},${n+S*d}`,this._append`A${s},${s},0,0,${+(d*p>c*m)},${this._x1=e+k*l},${this._y1=n+k*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>gh||Math.abs(this._y1-c)>gh)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%R2+R2),f>yxe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>gh&&this._append`A${r},${r},0,${+(f>=k2)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wxe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Xm(t){return t=cS(Math.abs(t)),t?t[1]:NaN}function _xe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function xxe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Exe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dS(t){if(!(e=Exe.exec(t)))throw new Error("invalid format: "+t);var e;return new KO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dS.prototype=KO.prototype;function KO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sxe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var D7;function Cxe(t,e){var n=cS(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(D7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+cS(t,Math.max(0,e+s-1))[0]}function K6(t,e){var n=cS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Q6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wxe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>K6(t*100,e),r:K6,s:Cxe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Z6(t){return t}var J6=Array.prototype.map,ej=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Axe(t){var e=t.grouping===void 0||t.thousands===void 0?Z6:_xe(J6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Z6:xxe(J6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=dS(d);var f=d.fill,p=d.align,m=d.sign,y=d.symbol,b=d.zero,v=d.width,x=d.comma,_=d.precision,S=d.trim,k=d.type;k==="n"?(x=!0,k="g"):Q6[k]||(_===void 0&&(_=12),S=!0,k="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var O=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=y==="$"?r:/[%p]/.test(k)?o:"",R=Q6[k],P=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T(L){var M=O,D=A,N,U,K;if(k==="c")D=R(L)+D,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?l:R(Math.abs(L),_),S&&(L=Sxe(L)),G&&+L==0&&m!=="+"&&(G=!1),M=(G?m==="("?m:a:m==="-"||m==="("?"":m)+M,D=(k==="s"?ej[8+D7/3]:"")+D+(G&&m==="("?")":""),P){for(N=-1,U=L.length;++N<U;)if(K=L.charCodeAt(N),48>K||K>57){D=(K===46?i+L.slice(N+1):L.slice(N))+D,L=L.slice(0,N);break}}}x&&!b&&(L=e(L,1/0));var Z=M.length+L.length+D.length,X=Z<v?new Array(v-Z+1).join(f):"";switch(x&&b&&(L=e(X+L,X.length?v-D.length:1/0),X=""),p){case"<":L=M+L+D+X;break;case"=":L=M+X+L+D;break;case"^":L=X.slice(0,Z=X.length>>1)+M+L+D+X.slice(Z);break;default:L=X+M+L+D;break}return s(L)}return T.toString=function(){return d+""},T}function c(d,f){var p=u((d=dS(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Xm(f)/3)))*3,y=Math.pow(10,-m),b=ej[8+m/3];return function(v){return p(y*v)+b}}return{format:u,formatPrefix:c}}var ax,F7,z7;Txe({thousands:",",grouping:[3],currency:["$",""]});function Txe(t){return ax=Axe(t),F7=ax.format,z7=ax.formatPrefix,ax}function kxe(t){return Math.max(0,-Xm(Math.abs(t)))}function Rxe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xm(e)/3)))*3-Xm(Math.abs(t)))}function Ixe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xm(e)-Xm(t))+1}function Pxe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Nxe(t){return function(){return t}}function Oxe(t){return+t}var tj=[0,1];function yg(t){return t}function I2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Nxe(isNaN(e)?NaN:.5)}function Mxe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lxe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=I2(i,r),s=n(o,s)):(r=I2(r,i),s=n(s,o)),function(a){return s(r(a))}}function Dxe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=I2(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=rxe(t,a,1,r)-1;return s[l](i[l](a))}}function Fxe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zxe(){var t=tj,e=tj,n=_g,r,i,s,o=yg,a,l,u;function c(){var f=Math.min(t.length,e.length);return o!==yg&&(o=Mxe(t[0],t[f-1])),a=f>2?Dxe:Lxe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(e,t.map(r),da)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Oxe),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=AK,c()},d.clamp=function(f){return arguments.length?(o=f?!0:yg,c()):o!==yg},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,c()}}function jxe(){return zxe()(yg,yg)}function Bxe(t,e,n,r){var i=lxe(t,e,n),s;switch(r=dS(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Rxe(i,o))&&(r.precision=s),z7(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Ixe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kxe(i))&&(r.precision=s-(r.type==="%")*2);break}}return F7(r)}function $xe(t){var e=t.domain;return t.ticks=function(n){var r=e();return axe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Bxe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,c=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);c-- >0;){if(u=T2(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function P2(){var t=jxe();return t.copy=function(){return Fxe(t,P2())},Pxe.apply(t,arguments),$xe(t)}function Jp(t){return function(){return t}}function Vxe(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new bxe(e)}function Hxe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j7(t){this._context=t}j7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Uxe(t){return new j7(t)}function Wxe(t){return t[0]}function qxe(t){return t[1]}function Gxe(t,e){var n=Jp(!0),r=null,i=Uxe,s=null,o=Vxe(a);t=typeof t=="function"?t:t===void 0?Wxe:Jp(t),e=typeof e=="function"?e:e===void 0?qxe:Jp(e);function a(l){var u,c=(l=Hxe(l)).length,d,f=!1,p;for(r==null&&(s=i(p=o())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,u,l),+e(d,u,l));if(p)return s=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Jp(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Jp(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Jp(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}const Yxe=()=>{const{pdfViewer:t,highlights:e,readRecords:n}=ko(),{readingSessions:r,saveReadingState:i}=N7();z.useEffect(()=>{s()},[]);const s=()=>{const o=ds("#highlight-timeline-container");if(!o)return;const a=o.node();if(!a)return;const l=a.clientWidth,u=a.clientHeight,c={top:20,right:20,bottom:20,left:20},d=35,f=l-c.left-c.right-d,p=u-c.top-c.bottom-d;o.selectAll("svg").remove();const m=o.append("svg").attr("width",l).attr("height",u);m.append("text").attr("x",c.left+f/2).attr("y",c.top).text("Time (minutes)"),m.append("text").text("Page Number").attr("transform",`translate(${c.top}, ${c.left+f/2}) rotate(-90)`).attr("text-anchor","middle");const y=m.append("g").attr("transform",`translate(${c.left+d}, ${c.top+d})`).attr("width",f).attr("height",p),b=Object.values(r).sort((T,L)=>T.startTime-L.startTime),v=b.reduce((T,L)=>T+L.duration,0);if(!t)return;const x=t.getPageView(0).height,_=t.pagesCount*x,S=P2().domain([0,v]).range([0,f]),k=gxe(S).tickFormat(T=>`${(T/(1e3*60)).toFixed(1)}`);y.append("g").call(k);const O=P2().domain([0,_]).range([0,p]),A=mxe(O).tickSizeOuter(0).tickFormat(T=>`${Math.floor(T/x)}`);y.append("g").call(A);const R=Gxe().x(T=>S(T[0])).y(T=>O(T[1]));let P=0;b.forEach(T=>{const L=T.scrollSequence.map(M=>[M[0]-T.startTime+P,M[1]]);y.append("path").attr("d",R(L)).attr("fill","none").attr("stroke",n[T.readId].color).attr("stroke-width",3),e.filter(M=>M.sessionId===T.sessionId).forEach(M=>{const D=M.timestamp-T.startTime+P,N=(M.position.boundingRect.pageNumber-1)*x+M.position.boundingRect.y1;y.append("circle").attr("cx",S(D)).attr("cy",O(N)).attr("r",3).attr("fill",n[M.readRecordId].color).attr("stroke","black").attr("stroke-width",.5)}),P+=T.duration})};return j.jsxs(Et,{sx:{p:2,width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden"},children:[j.jsx(rn,{variant:"h5",sx:{mb:2,color:"text.secondary"},children:"Highlight Timeline"}),j.jsx(Et,{id:"highlight-timeline-container",sx:{width:"100%",height:"60%"}}),j.jsx(Ln,{onClick:i,children:"Save Reading State"})]})};function B7(t){return e=>typeof e===t}var Xxe=B7("function"),Kxe=t=>t===null,nj=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",rj=t=>!Qxe(t)&&!Kxe(t)&&(Xxe(t)||typeof t=="object"),Qxe=B7("undefined");function Zxe(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Hi(t[r],e[r]))return!1;return!0}function Jxe(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function eEe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Hi(n[1],e.get(n[0])))return!1;return!0}function tEe(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Hi(t,e){if(t===e)return!0;if(t&&rj(t)&&e&&rj(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return Zxe(t,e);if(t instanceof Map&&e instanceof Map)return eEe(t,e);if(t instanceof Set&&e instanceof Set)return tEe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return Jxe(t,e);if(nj(t)&&nj(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!Hi(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var nEe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],rEe=["bigint","boolean","null","number","string","symbol","undefined"];function ZC(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(iEe(e))return e}function xa(t){return e=>ZC(e)===t}function iEe(t){return nEe.includes(t)}function uy(t){return e=>typeof e===t}function sEe(t){return rEe.includes(t)}var oEe=["innerHTML","ownerDocument","style","attributes","nodeValue"];function it(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(it.array(t))return"Array";if(it.plainFunction(t))return"Function";const e=ZC(t);return e||"Object"}it.array=Array.isArray;it.arrayOf=(t,e)=>!it.array(t)&&!it.function(e)?!1:t.every(n=>e(n));it.asyncGeneratorFunction=t=>ZC(t)==="AsyncGeneratorFunction";it.asyncFunction=xa("AsyncFunction");it.bigint=uy("bigint");it.boolean=t=>t===!0||t===!1;it.date=xa("Date");it.defined=t=>!it.undefined(t);it.domElement=t=>it.object(t)&&!it.plainObject(t)&&t.nodeType===1&&it.string(t.nodeName)&&oEe.every(e=>e in t);it.empty=t=>it.string(t)&&t.length===0||it.array(t)&&t.length===0||it.object(t)&&!it.map(t)&&!it.set(t)&&Object.keys(t).length===0||it.set(t)&&t.size===0||it.map(t)&&t.size===0;it.error=xa("Error");it.function=uy("function");it.generator=t=>it.iterable(t)&&it.function(t.next)&&it.function(t.throw);it.generatorFunction=xa("GeneratorFunction");it.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;it.iterable=t=>!it.nullOrUndefined(t)&&it.function(t[Symbol.iterator]);it.map=xa("Map");it.nan=t=>Number.isNaN(t);it.null=t=>t===null;it.nullOrUndefined=t=>it.null(t)||it.undefined(t);it.number=t=>uy("number")(t)&&!it.nan(t);it.numericString=t=>it.string(t)&&t.length>0&&!Number.isNaN(Number(t));it.object=t=>!it.nullOrUndefined(t)&&(it.function(t)||typeof t=="object");it.oneOf=(t,e)=>it.array(t)?t.indexOf(e)>-1:!1;it.plainFunction=xa("Function");it.plainObject=t=>{if(ZC(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};it.primitive=t=>it.null(t)||sEe(typeof t);it.promise=xa("Promise");it.propertyOf=(t,e,n)=>{if(!it.object(t)||!e)return!1;const r=t[e];return it.function(n)?n(r):it.defined(r)};it.regexp=xa("RegExp");it.set=xa("Set");it.string=uy("string");it.symbol=uy("symbol");it.undefined=uy("undefined");it.weakMap=xa("WeakMap");it.weakSet=xa("WeakSet");var ct=it;function aEe(...t){return t.every(e=>ct.string(e)||ct.array(e)||ct.plainObject(e))}function lEe(t,e,n){return $7(t,e)?[t,e].every(ct.array)?!t.some(lj(n))&&e.some(lj(n)):[t,e].every(ct.plainObject)?!Object.entries(t).some(aj(n))&&Object.entries(e).some(aj(n)):e===n:!1}function ij(t,e,n){const{actual:r,key:i,previous:s,type:o}=n,a=ml(t,i),l=ml(e,i);let u=[a,l].every(ct.number)&&(o==="increased"?a<l:a>l);return ct.undefined(r)||(u=u&&l===r),ct.undefined(s)||(u=u&&a===s),u}function sj(t,e,n){const{key:r,type:i,value:s}=n,o=ml(t,r),a=ml(e,r),l=i==="added"?o:a,u=i==="added"?a:o;if(!ct.nullOrUndefined(s)){if(ct.defined(l)){if(ct.array(l)||ct.plainObject(l))return lEe(l,u,s)}else return Hi(u,s);return!1}return[o,a].every(ct.array)?!u.every(QO(l)):[o,a].every(ct.plainObject)?uEe(Object.keys(l),Object.keys(u)):![o,a].every(c=>ct.primitive(c)&&ct.defined(c))&&(i==="added"?!ct.defined(o)&&ct.defined(a):ct.defined(o)&&!ct.defined(a))}function oj(t,e,{key:n}={}){let r=ml(t,n),i=ml(e,n);if(!$7(r,i))throw new TypeError("Inputs have different types");if(!aEe(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(ct.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function aj(t){return([e,n])=>ct.array(t)?Hi(t,n)||t.some(r=>Hi(r,n)||ct.array(n)&&QO(n)(r)):ct.plainObject(t)&&t[e]?!!t[e]&&Hi(t[e],n):Hi(t,n)}function uEe(t,e){return e.some(n=>!t.includes(n))}function lj(t){return e=>ct.array(t)?t.some(n=>Hi(n,e)||ct.array(e)&&QO(e)(n)):Hi(t,e)}function fv(t,e){return ct.array(t)?t.some(n=>Hi(n,e)):Hi(t,e)}function QO(t){return e=>t.some(n=>Hi(n,e))}function $7(...t){return t.every(ct.array)||t.every(ct.number)||t.every(ct.plainObject)||t.every(ct.string)}function ml(t,e){return ct.plainObject(t)||ct.array(t)?ct.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):ct.number(e)?t[e]:t:t}function hS(t,e){if([t,e].some(ct.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(c=>ct.plainObject(c)||ct.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return sj(t,e,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,f)=>{try{const p=ml(t,c),m=ml(e,c),y=ct.defined(d),b=ct.defined(f);if(y||b){const v=b?fv(f,p):!fv(d,p),x=fv(d,m);return v&&x}return[p,m].every(ct.array)||[p,m].every(ct.plainObject)?!Hi(p,m):p!==m}catch{return!1}},changedFrom:(c,d,f)=>{if(!ct.defined(c))return!1;try{const p=ml(t,c),m=ml(e,c),y=ct.defined(f);return fv(d,p)&&(y?fv(f,m):!y)}catch{return!1}},decreased:(c,d,f)=>{if(!ct.defined(c))return!1;try{return ij(t,e,{key:c,actual:d,previous:f,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,f]=oj(t,e,{key:c});return!!d.length&&!f.length}catch{return!1}},filled:c=>{try{const[d,f]=oj(t,e,{key:c});return!d.length&&!!f.length}catch{return!1}},increased:(c,d,f)=>{if(!ct.defined(c))return!1;try{return ij(t,e,{key:c,actual:d,previous:f,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return sj(t,e,{key:c,type:"removed",value:d})}catch{return!1}}}}var RR,uj;function cEe(){if(uj)return RR;uj=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;RR={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(u,c,d,f){d=d||{},typeof d=="function"&&(f=d,d={}),typeof f!="function"&&(f=o);var p=r(),m=u[a],y=d.ease||s,b=isNaN(d.duration)?350:+d.duration,v=!1;return m===c?f(t,u[a]):requestAnimationFrame(_),x;function x(){v=!0}function _(S){if(v)return f(e,u[a]);var k=r(),O=n(1,(k-p)/b),A=y(O);u[a]=A*(c-m)+m,O<1?requestAnimationFrame(_):requestAnimationFrame(function(){f(null,u[a])})}}}function s(a){return .5*(1-Math.cos(Math.PI*a))}function o(){}return RR}var dEe=cEe();const hEe=Es(dEe);var pE={exports:{}},fEe=pE.exports,cj;function pEe(){return cj||(cj=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(fEe,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(pE)),pE.exports}var gEe=pEe();const V7=Es(gEe);var IR,dj;function mEe(){if(dj)return IR;dj=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,IR=n,IR}var yEe=mEe();const hj=Es(yEe);var PR,fj;function vEe(){if(fj)return PR;fj=1;var t=function(x){return e(x)&&!n(x)};function e(v){return!!v&&typeof v=="object"}function n(v){var x=Object.prototype.toString.call(v);return x==="[object RegExp]"||x==="[object Date]"||s(v)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(v){return v.$$typeof===i}function o(v){return Array.isArray(v)?[]:{}}function a(v,x){return x.clone!==!1&&x.isMergeableObject(v)?y(o(v),v,x):v}function l(v,x,_){return v.concat(x).map(function(S){return a(S,_)})}function u(v,x){if(!x.customMerge)return y;var _=x.customMerge(v);return typeof _=="function"?_:y}function c(v){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(v).filter(function(x){return Object.propertyIsEnumerable.call(v,x)}):[]}function d(v){return Object.keys(v).concat(c(v))}function f(v,x){try{return x in v}catch{return!1}}function p(v,x){return f(v,x)&&!(Object.hasOwnProperty.call(v,x)&&Object.propertyIsEnumerable.call(v,x))}function m(v,x,_){var S={};return _.isMergeableObject(v)&&d(v).forEach(function(k){S[k]=a(v[k],_)}),d(x).forEach(function(k){p(v,k)||(f(v,k)&&_.isMergeableObject(x[k])?S[k]=u(k,_)(v[k],x[k],_):S[k]=a(x[k],_))}),S}function y(v,x,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=a;var S=Array.isArray(x),k=Array.isArray(v),O=S===k;return O?S?_.arrayMerge(v,x,_):m(v,x,_):a(x,_)}y.all=function(x,_){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(S,k){return y(S,k,_)},{})};var b=y;return PR=b,PR}var bEe=vEe();const ga=Es(bEe);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var r1=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",wEe=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(r1&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function _Ee(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function xEe(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},wEe))}}var EEe=r1&&window.Promise,SEe=EEe?_Ee:xEe;function H7(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function tp(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function ZO(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function i1(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=tp(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:i1(ZO(t))}function U7(t){return t&&t.referenceNode?t.referenceNode:t}var pj=r1&&!!(window.MSInputMethodContext&&document.documentMode),gj=r1&&/MSIE 10/.test(navigator.userAgent);function cy(t){return t===11?pj:t===10?gj:pj||gj}function Km(t){if(!t)return document.documentElement;for(var e=cy(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&tp(n,"position")==="static"?Km(n):n}function CEe(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Km(t.firstElementChild)===t}function N2(t){return t.parentNode!==null?N2(t.parentNode):t}function fS(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,s=document.createRange();s.setStart(r,0),s.setEnd(i,0);var o=s.commonAncestorContainer;if(t!==o&&e!==o||r.contains(i))return CEe(o)?o:Km(o);var a=N2(t);return a.host?fS(a.host,e):fS(t,N2(e).host)}function Qm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,s=t.ownerDocument.scrollingElement||i;return s[n]}return t[n]}function AEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Qm(e,"top"),i=Qm(e,"left"),s=n?-1:1;return t.top+=r*s,t.bottom+=r*s,t.left+=i*s,t.right+=i*s,t}function mj(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function yj(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],cy(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function W7(t){var e=t.body,n=t.documentElement,r=cy(10)&&getComputedStyle(n);return{height:yj("Height",e,n,r),width:yj("Width",e,n,r)}}var TEe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},kEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zm=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Eo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Pd(t){return Eo({},t,{right:t.left+t.width,bottom:t.top+t.height})}function O2(t){var e={};try{if(cy(10)){e=t.getBoundingClientRect();var n=Qm(t,"top"),r=Qm(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s=t.nodeName==="HTML"?W7(t.ownerDocument):{},o=s.width||t.clientWidth||i.width,a=s.height||t.clientHeight||i.height,l=t.offsetWidth-o,u=t.offsetHeight-a;if(l||u){var c=tp(t);l-=mj(c,"x"),u-=mj(c,"y"),i.width-=l,i.height-=u}return Pd(i)}function JO(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=cy(10),i=e.nodeName==="HTML",s=O2(t),o=O2(e),a=i1(t),l=tp(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var d=Pd({top:s.top-o.top-u,left:s.left-o.left-c,width:s.width,height:s.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var f=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=u-f,d.bottom-=u-f,d.left-=c-p,d.right-=c-p,d.marginTop=f,d.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=AEe(d,e)),d}function REe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=JO(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),s=Math.max(n.clientHeight,window.innerHeight||0),o=e?0:Qm(n),a=e?0:Qm(n,"left"),l={top:o-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:s};return Pd(l)}function q7(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(tp(t,"position")==="fixed")return!0;var n=ZO(t);return n?q7(n):!1}function G7(t){if(!t||!t.parentElement||cy())return document.documentElement;for(var e=t.parentElement;e&&tp(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function eM(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s={top:0,left:0},o=i?G7(t):fS(t,U7(e));if(r==="viewport")s=REe(o,i);else{var a=void 0;r==="scrollParent"?(a=i1(ZO(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=JO(a,o,i);if(a.nodeName==="HTML"&&!q7(o)){var u=W7(t.ownerDocument),c=u.height,d=u.width;s.top+=l.top-l.marginTop,s.bottom=c+l.top,s.left+=l.left-l.marginLeft,s.right=d+l.left}else s=l}n=n||0;var f=typeof n=="number";return s.left+=f?n:n.left||0,s.top+=f?n:n.top||0,s.right-=f?n:n.right||0,s.bottom-=f?n:n.bottom||0,s}function IEe(t){var e=t.width,n=t.height;return e*n}function Y7(t,e,n,r,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var o=eM(n,r,s,i),a={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(a).map(function(f){return Eo({key:f},a[f],{area:IEe(a[f])})}).sort(function(f,p){return p.area-f.area}),u=l.filter(function(f){var p=f.width,m=f.height;return p>=n.clientWidth&&m>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function X7(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?G7(e):fS(e,U7(n));return JO(n,i,r)}function K7(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),s={width:t.offsetWidth+i,height:t.offsetHeight+r};return s}function pS(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function Q7(t,e,n){n=n.split("-")[0];var r=K7(t),i={width:r.width,height:r.height},s=["right","left"].indexOf(n)!==-1,o=s?"top":"left",a=s?"left":"top",l=s?"height":"width",u=s?"width":"height";return i[o]=e[o]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[u]:i[a]=e[pS(a)],i}function s1(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function PEe(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=s1(t,function(i){return i[e]===n});return t.indexOf(r)}function Z7(t,e,n){var r=n===void 0?t:t.slice(0,PEe(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var s=i.function||i.fn;i.enabled&&H7(s)&&(e.offsets.popper=Pd(e.offsets.popper),e.offsets.reference=Pd(e.offsets.reference),e=s(e,i))}),e}function NEe(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=X7(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=Y7(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=Q7(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=Z7(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function J7(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function tM(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],s=i?""+i+n:t;if(typeof document.body.style[s]<"u")return s}return null}function OEe(){return this.state.isDestroyed=!0,J7(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[tM("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function eq(t){var e=t.ownerDocument;return e?e.defaultView:window}function tq(t,e,n,r){var i=t.nodeName==="BODY",s=i?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),i||tq(i1(s.parentNode),e,n,r),r.push(s)}function MEe(t,e,n,r){n.updateBound=r,eq(t).addEventListener("resize",n.updateBound,{passive:!0});var i=i1(t);return tq(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function LEe(){this.state.eventsEnabled||(this.state=MEe(this.reference,this.options,this.state,this.scheduleUpdate))}function DEe(t,e){return eq(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function FEe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=DEe(this.reference,this.state))}function nM(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function M2(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&nM(e[n])&&(r="px"),t.style[n]=e[n]+r})}function zEe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function jEe(t){return M2(t.instance.popper,t.styles),zEe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&M2(t.arrowElement,t.arrowStyles),t}function BEe(t,e,n,r,i){var s=X7(i,e,t,n.positionFixed),o=Y7(n.placement,s,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),M2(e,{position:n.positionFixed?"fixed":"absolute"}),n}function $Ee(t,e){var n=t.offsets,r=n.popper,i=n.reference,s=Math.round,o=Math.floor,a=function(v){return v},l=s(i.width),u=s(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,f=l%2===u%2,p=l%2===1&&u%2===1,m=e?c||d||f?s:o:a,y=e?s:a;return{left:m(p&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}var VEe=r1&&/Firefox/i.test(navigator.userAgent);function HEe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,s=s1(t.instance.modifiers,function(_){return _.name==="applyStyle"}).gpuAcceleration;s!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=s!==void 0?s:e.gpuAcceleration,a=Km(t.instance.popper),l=O2(a),u={position:i.position},c=$Ee(t,window.devicePixelRatio<2||!VEe),d=n==="bottom"?"top":"bottom",f=r==="right"?"left":"right",p=tM("transform"),m=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+c.bottom:y=-l.height+c.bottom:y=c.top,f==="right"?a.nodeName==="HTML"?m=-a.clientWidth+c.right:m=-l.width+c.right:m=c.left,o&&p)u[p]="translate3d("+m+"px, "+y+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var b=d==="bottom"?-1:1,v=f==="right"?-1:1;u[d]=y*b,u[f]=m*v,u.willChange=d+", "+f}var x={"x-placement":t.placement};return t.attributes=Eo({},x,t.attributes),t.styles=Eo({},u,t.styles),t.arrowStyles=Eo({},t.offsets.arrow,t.arrowStyles),t}function nq(t,e,n){var r=s1(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var s="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return i}function UEe(t,e){var n;if(!nq(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],s=t.offsets,o=s.popper,a=s.reference,l=["left","right"].indexOf(i)!==-1,u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",m=K7(r)[u];a[p]-m<o[d]&&(t.offsets.popper[d]-=o[d]-(a[p]-m)),a[d]+m>o[p]&&(t.offsets.popper[d]+=a[d]+m-o[p]),t.offsets.popper=Pd(t.offsets.popper);var y=a[d]+a[u]/2-m/2,b=tp(t.instance.popper),v=parseFloat(b["margin"+c]),x=parseFloat(b["border"+c+"Width"]),_=y-t.offsets.popper[d]-v-x;return _=Math.max(Math.min(o[u]-m,_),0),t.arrowElement=r,t.offsets.arrow=(n={},Zm(n,d,Math.round(_)),Zm(n,f,""),n),t}function WEe(t){return t==="end"?"start":t==="start"?"end":t}var rq=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],NR=rq.slice(3);function vj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=NR.indexOf(t),r=NR.slice(n+1).concat(NR.slice(0,n));return e?r.reverse():r}var OR={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function qEe(t,e){if(J7(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=eM(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=pS(r),s=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case OR.FLIP:o=[r,i];break;case OR.CLOCKWISE:o=vj(r);break;case OR.COUNTERCLOCKWISE:o=vj(r,!0);break;default:o=e.behavior}return o.forEach(function(a,l){if(r!==a||o.length===l+1)return t;r=t.placement.split("-")[0],i=pS(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,f=r==="left"&&d(u.right)>d(c.left)||r==="right"&&d(u.left)<d(c.right)||r==="top"&&d(u.bottom)>d(c.top)||r==="bottom"&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),m=d(u.right)>d(n.right),y=d(u.top)<d(n.top),b=d(u.bottom)>d(n.bottom),v=r==="left"&&p||r==="right"&&m||r==="top"&&y||r==="bottom"&&b,x=["top","bottom"].indexOf(r)!==-1,_=!!e.flipVariations&&(x&&s==="start"&&p||x&&s==="end"&&m||!x&&s==="start"&&y||!x&&s==="end"&&b),S=!!e.flipVariationsByContent&&(x&&s==="start"&&m||x&&s==="end"&&p||!x&&s==="start"&&b||!x&&s==="end"&&y),k=_||S;(f||v||k)&&(t.flipped=!0,(f||v)&&(r=o[l+1]),k&&(s=WEe(s)),t.placement=r+(s?"-"+s:""),t.offsets.popper=Eo({},t.offsets.popper,Q7(t.instance.popper,t.offsets.reference,t.placement)),t=Z7(t.instance.modifiers,t,"flip"))}),t}function GEe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],s=Math.floor,o=["top","bottom"].indexOf(i)!==-1,a=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[a]<s(r[l])&&(t.offsets.popper[l]=s(r[l])-n[u]),n[l]>s(r[a])&&(t.offsets.popper[l]=s(r[a])),t}function YEe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),s=+i[1],o=i[2];if(!s)return t;if(o.indexOf("%")===0){var a=void 0;switch(o){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=Pd(a);return l[e]/100*s}else if(o==="vh"||o==="vw"){var u=void 0;return o==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*s}else return s}function XEe(t,e,n,r){var i=[0,0],s=["right","left"].indexOf(r)!==-1,o=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=o.indexOf(s1(o,function(c){return c.search(/,|\s/)!==-1}));o[a]&&o[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return u=u.map(function(c,d){var f=(d===1?!s:s)?"height":"width",p=!1;return c.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,p=!0,m):p?(m[m.length-1]+=y,p=!1,m):m.concat(y)},[]).map(function(m){return YEe(m,f,e,n)})}),u.forEach(function(c,d){c.forEach(function(f,p){nM(f)&&(i[d]+=f*(c[p-1]==="-"?-1:1))})}),i}function KEe(t,e){var n=e.offset,r=t.placement,i=t.offsets,s=i.popper,o=i.reference,a=r.split("-")[0],l=void 0;return nM(+n)?l=[+n,0]:l=XEe(n,s,o,a),a==="left"?(s.top+=l[0],s.left-=l[1]):a==="right"?(s.top+=l[0],s.left+=l[1]):a==="top"?(s.left+=l[0],s.top-=l[1]):a==="bottom"&&(s.left+=l[0],s.top+=l[1]),t.popper=s,t}function QEe(t,e){var n=e.boundariesElement||Km(t.instance.popper);t.instance.reference===n&&(n=Km(n));var r=tM("transform"),i=t.instance.popper.style,s=i.top,o=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=eM(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=s,i.left=o,i[r]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(p){var m=c[p];return c[p]<l[p]&&!e.escapeWithReference&&(m=Math.max(c[p],l[p])),Zm({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",y=c[m];return c[p]>l[p]&&!e.escapeWithReference&&(y=Math.min(c[m],l[p]-(p==="right"?c.width:c.height))),Zm({},m,y)}};return u.forEach(function(f){var p=["left","top"].indexOf(f)!==-1?"primary":"secondary";c=Eo({},c,d[p](f))}),t.offsets.popper=c,t}function ZEe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,s=i.reference,o=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:Zm({},l,s[l]),end:Zm({},l,s[l]+s[u]-o[u])};t.offsets.popper=Eo({},o,c[r])}return t}function JEe(t){if(!nq(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=s1(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function eSe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,s=r.reference,o=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[o?"left":"top"]=s[n]-(a?i[o?"width":"height"]:0),t.placement=pS(e),t.offsets.popper=Pd(i),t}var tSe={shift:{order:100,enabled:!0,fn:ZEe},offset:{order:200,enabled:!0,fn:KEe,offset:0},preventOverflow:{order:300,enabled:!0,fn:QEe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:GEe},arrow:{order:500,enabled:!0,fn:UEe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:qEe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:eSe},hide:{order:800,enabled:!0,fn:JEe},computeStyle:{order:850,enabled:!0,fn:HEe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:jEe,onLoad:BEe,gpuAcceleration:void 0}},nSe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:tSe},G0=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};TEe(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=SEe(this.update.bind(this)),this.options=Eo({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Eo({},t.Defaults.modifiers,i.modifiers)).forEach(function(o){r.options.modifiers[o]=Eo({},t.Defaults.modifiers[o]||{},i.modifiers?i.modifiers[o]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(o){return Eo({name:o},r.options.modifiers[o])}).sort(function(o,a){return o.order-a.order}),this.modifiers.forEach(function(o){o.enabled&&H7(o.onLoad)&&o.onLoad(r.reference,r.popper,r.options,o,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return kEe(t,[{key:"update",value:function(){return NEe.call(this)}},{key:"destroy",value:function(){return OEe.call(this)}},{key:"enableEventListeners",value:function(){return LEe.call(this)}},{key:"disableEventListeners",value:function(){return FEe.call(this)}}]),t}();G0.Utils=(typeof window<"u"?window:global).PopperUtils;G0.placements=rq;G0.Defaults=nSe;var rSe=["innerHTML","ownerDocument","style","attributes","nodeValue"],iSe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],sSe=["bigint","boolean","null","number","string","symbol","undefined"];function JC(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(oSe(e))return e}function Ea(t){return function(e){return JC(e)===t}}function oSe(t){return iSe.includes(t)}function dy(t){return function(e){return typeof e===t}}function aSe(t){return sSe.includes(t)}function Oe(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Oe.array(t))return"Array";if(Oe.plainFunction(t))return"Function";var e=JC(t);return e||"Object"}Oe.array=Array.isArray;Oe.arrayOf=function(t,e){return!Oe.array(t)&&!Oe.function(e)?!1:t.every(function(n){return e(n)})};Oe.asyncGeneratorFunction=function(t){return JC(t)==="AsyncGeneratorFunction"};Oe.asyncFunction=Ea("AsyncFunction");Oe.bigint=dy("bigint");Oe.boolean=function(t){return t===!0||t===!1};Oe.date=Ea("Date");Oe.defined=function(t){return!Oe.undefined(t)};Oe.domElement=function(t){return Oe.object(t)&&!Oe.plainObject(t)&&t.nodeType===1&&Oe.string(t.nodeName)&&rSe.every(function(e){return e in t})};Oe.empty=function(t){return Oe.string(t)&&t.length===0||Oe.array(t)&&t.length===0||Oe.object(t)&&!Oe.map(t)&&!Oe.set(t)&&Object.keys(t).length===0||Oe.set(t)&&t.size===0||Oe.map(t)&&t.size===0};Oe.error=Ea("Error");Oe.function=dy("function");Oe.generator=function(t){return Oe.iterable(t)&&Oe.function(t.next)&&Oe.function(t.throw)};Oe.generatorFunction=Ea("GeneratorFunction");Oe.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};Oe.iterable=function(t){return!Oe.nullOrUndefined(t)&&Oe.function(t[Symbol.iterator])};Oe.map=Ea("Map");Oe.nan=function(t){return Number.isNaN(t)};Oe.null=function(t){return t===null};Oe.nullOrUndefined=function(t){return Oe.null(t)||Oe.undefined(t)};Oe.number=function(t){return dy("number")(t)&&!Oe.nan(t)};Oe.numericString=function(t){return Oe.string(t)&&t.length>0&&!Number.isNaN(Number(t))};Oe.object=function(t){return!Oe.nullOrUndefined(t)&&(Oe.function(t)||typeof t=="object")};Oe.oneOf=function(t,e){return Oe.array(t)?t.indexOf(e)>-1:!1};Oe.plainFunction=Ea("Function");Oe.plainObject=function(t){if(JC(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};Oe.primitive=function(t){return Oe.null(t)||aSe(typeof t)};Oe.promise=Ea("Promise");Oe.propertyOf=function(t,e,n){if(!Oe.object(t)||!e)return!1;var r=t[e];return Oe.function(n)?n(r):Oe.defined(r)};Oe.regexp=Ea("RegExp");Oe.set=Ea("Set");Oe.string=dy("string");Oe.symbol=dy("symbol");Oe.undefined=dy("undefined");Oe.weakMap=Ea("WeakMap");Oe.weakSet=Ea("WeakSet");function iq(t){return function(e){return typeof e===t}}var lSe=iq("function"),uSe=function(t){return t===null},bj=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},wj=function(t){return!cSe(t)&&!uSe(t)&&(lSe(t)||typeof t=="object")},cSe=iq("undefined"),L2=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function dSe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!gs(t[r],e[r]))return!1;return!0}function hSe(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function fSe(t,e){var n,r,i,s;if(t.size!==e.size)return!1;try{for(var o=L2(t.entries()),a=o.next();!a.done;a=o.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}try{for(var u=L2(t.entries()),c=u.next();!c.done;c=u.next()){var l=c.value;if(!gs(l[1],e.get(l[0])))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return!0}function pSe(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=L2(t.entries()),s=i.next();!s.done;s=i.next()){var o=s.value;if(!e.has(o[0]))return!1}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function gs(t,e){if(t===e)return!0;if(t&&wj(t)&&e&&wj(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return dSe(t,e);if(t instanceof Map&&e instanceof Map)return fSe(t,e);if(t instanceof Set&&e instanceof Set)return pSe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return hSe(t,e);if(bj(t)&&bj(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var s=n[i];if(!(s==="_owner"&&t.$$typeof)&&!gs(t[s],e[s]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function gSe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return Oe.string(n)||Oe.array(n)||Oe.plainObject(n)})}function mSe(t,e,n){return sq(t,e)?[t,e].every(Oe.array)?!t.some(Cj(n))&&e.some(Cj(n)):[t,e].every(Oe.plainObject)?!Object.entries(t).some(Sj(n))&&Object.entries(e).some(Sj(n)):e===n:!1}function _j(t,e,n){var r=n.actual,i=n.key,s=n.previous,o=n.type,a=yl(t,i),l=yl(e,i),u=[a,l].every(Oe.number)&&(o==="increased"?a<l:a>l);return Oe.undefined(r)||(u=u&&l===r),Oe.undefined(s)||(u=u&&a===s),u}function xj(t,e,n){var r=n.key,i=n.type,s=n.value,o=yl(t,r),a=yl(e,r),l=i==="added"?o:a,u=i==="added"?a:o;if(!Oe.nullOrUndefined(s)){if(Oe.defined(l)){if(Oe.array(l)||Oe.plainObject(l))return mSe(l,u,s)}else return gs(u,s);return!1}return[o,a].every(Oe.array)?!u.every(rM(l)):[o,a].every(Oe.plainObject)?ySe(Object.keys(l),Object.keys(u)):![o,a].every(function(c){return Oe.primitive(c)&&Oe.defined(c)})&&(i==="added"?!Oe.defined(o)&&Oe.defined(a):Oe.defined(o)&&!Oe.defined(a))}function Ej(t,e,n){var r=n===void 0?{}:n,i=r.key,s=yl(t,i),o=yl(e,i);if(!sq(s,o))throw new TypeError("Inputs have different types");if(!gSe(s,o))throw new TypeError("Inputs don't have length");return[s,o].every(Oe.plainObject)&&(s=Object.keys(s),o=Object.keys(o)),[s,o]}function Sj(t){return function(e){var n=e[0],r=e[1];return Oe.array(t)?gs(t,r)||t.some(function(i){return gs(i,r)||Oe.array(r)&&rM(r)(i)}):Oe.plainObject(t)&&t[n]?!!t[n]&&gs(t[n],r):gs(t,r)}}function ySe(t,e){return e.some(function(n){return!t.includes(n)})}function Cj(t){return function(e){return Oe.array(t)?t.some(function(n){return gs(n,e)||Oe.array(e)&&rM(e)(n)}):gs(t,e)}}function pv(t,e){return Oe.array(t)?t.some(function(n){return gs(n,e)}):gs(t,e)}function rM(t){return function(e){return t.some(function(n){return gs(n,e)})}}function sq(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(Oe.array)||t.every(Oe.number)||t.every(Oe.plainObject)||t.every(Oe.string)}function yl(t,e){if(Oe.plainObject(t)||Oe.array(t)){if(Oe.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return Oe.number(e)?t[e]:t}return t}function vSe(t,e){if([t,e].some(Oe.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(d){return Oe.plainObject(d)||Oe.array(d)}))throw new Error("Expected plain objects or array");var n=function(d,f){try{return xj(t,e,{key:d,type:"added",value:f})}catch{return!1}},r=function(d,f,p){try{var m=yl(t,d),y=yl(e,d),b=Oe.defined(f),v=Oe.defined(p);if(b||v){var x=v?pv(p,m):!pv(f,m),_=pv(f,y);return x&&_}return[m,y].every(Oe.array)||[m,y].every(Oe.plainObject)?!gs(m,y):m!==y}catch{return!1}},i=function(d,f,p){if(!Oe.defined(d))return!1;try{var m=yl(t,d),y=yl(e,d),b=Oe.defined(p);return pv(f,m)&&(b?pv(p,y):!b)}catch{return!1}},s=function(d,f){return Oe.defined(d)?r(d,f):!1},o=function(d,f,p){if(!Oe.defined(d))return!1;try{return _j(t,e,{key:d,actual:f,previous:p,type:"decreased"})}catch{return!1}},a=function(d){try{var f=Ej(t,e,{key:d}),p=f[0],m=f[1];return!!p.length&&!m.length}catch{return!1}},l=function(d){try{var f=Ej(t,e,{key:d}),p=f[0],m=f[1];return!p.length&&!!m.length}catch{return!1}},u=function(d,f,p){if(!Oe.defined(d))return!1;try{return _j(t,e,{key:d,actual:f,previous:p,type:"increased"})}catch{return!1}},c=function(d,f){try{return xj(t,e,{key:d,type:"removed",value:f})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:s,decreased:o,emptied:a,filled:l,increased:u,removed:c}}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aq(r.key),r)}}function a1(t,e,n){return e&&bSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ai(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D2(t,e)}function gS(t){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gS(t)}function D2(t,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D2(t,e)}function wSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _Se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oq(t,e){if(t==null)return{};var n=_Se(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ou(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xSe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ou(t)}function u1(t){var e=wSe();return function(){var r=gS(t),i;if(e){var s=gS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return xSe(this,i)}}function ESe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aq(t){var e=ESe(t,"string");return typeof e=="symbol"?e:String(e)}var SSe={flip:{padding:20},preventOverflow:{padding:10}},CSe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",ASe="The error message is optional, but must be a string if provided.";function TSe(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function kSe(t,e){return Object.hasOwnProperty.call(t,e)}function RSe(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function ISe(t,e){if(typeof t!="function")throw new TypeError(CSe);if(e&&typeof e!="string")throw new TypeError(ASe)}function Tj(t,e,n){return ISe(t,n),function(r,i,s){for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return TSe(e,r,i,s)?kSe(r,i)?t.apply(void 0,[r,i,s].concat(a)):RSe(r,i,s):t.apply(void 0,[r,i,s].concat(a))}}var en={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},gv=pd.createPortal!==void 0;function cl(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function MR(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function lx(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,s=t.debug,o=s===void 0?!1:s,a=i?console.warn||console.error:console.log;o&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){Oe.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function PSe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function NSe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function OSe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(o){n(o),NSe(t,e,i)},PSe(t,e,i,r)}function kj(){}var lq=function(t){l1(n,t);var e=u1(n);function n(){return o1(this,n),e.apply(this,arguments)}return a1(n,[{key:"componentDidMount",value:function(){cl()&&(this.node||this.appendNode(),gv||this.renderPortal())}},{key:"componentDidUpdate",value:function(){cl()&&(gv||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!cl()||!this.node||(gv||pd.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,s=i.id,o=i.zIndex;this.node||(this.node=document.createElement("div"),s&&(this.node.id=s),o&&(this.node.style.zIndex=o),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!cl())return null;var i=this.props,s=i.children,o=i.setRef;if(this.node||this.appendNode(),gv)return pd.createPortal(s,this.node);var a=pd.unstable_renderSubtreeIntoContainer(this,s.length>1?Xe.createElement("div",null,s):s[0],this.node);return o(a),null}},{key:"renderReact16",value:function(){var i=this.props,s=i.hasChildren,o=i.placement,a=i.target;return s?this.renderPortal():a||o==="center"?this.renderPortal():null}},{key:"render",value:function(){return gv?this.renderReact16():null}}]),n}(Xe.Component);Ai(lq,"propTypes",{children:Le.oneOfType([Le.element,Le.array]),hasChildren:Le.bool,id:Le.oneOfType([Le.string,Le.number]),placement:Le.string,setRef:Le.func.isRequired,target:Le.oneOfType([Le.object,Le.string]),zIndex:Le.number});var uq=function(t){l1(n,t);var e=u1(n);function n(){return o1(this,n),e.apply(this,arguments)}return a1(n,[{key:"parentStyle",get:function(){var i=this.props,s=i.placement,o=i.styles,a=o.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return s.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):s.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):s.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):s.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,s=i.placement,o=i.setArrowRef,a=i.styles,l=a.arrow,u=l.color,c=l.display,d=l.length,f=l.margin,p=l.position,m=l.spread,y={display:c,position:p},b,v=m,x=d;return s.startsWith("top")?(b="0,0 ".concat(v/2,",").concat(x," ").concat(v,",0"),y.bottom=0,y.marginLeft=f,y.marginRight=f):s.startsWith("bottom")?(b="".concat(v,",").concat(x," ").concat(v/2,",0 0,").concat(x),y.top=0,y.marginLeft=f,y.marginRight=f):s.startsWith("left")?(x=m,v=d,b="0,0 ".concat(v,",").concat(x/2," 0,").concat(x),y.right=0,y.marginTop=f,y.marginBottom=f):s.startsWith("right")&&(x=m,v=d,b="".concat(v,",").concat(x," ").concat(v,",0 0,").concat(x/2),y.left=0,y.marginTop=f,y.marginBottom=f),Xe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},Xe.createElement("span",{ref:o,style:y},Xe.createElement("svg",{width:v,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Xe.createElement("polygon",{points:b,fill:u}))))}}]),n}(Xe.Component);Ai(uq,"propTypes",{placement:Le.string.isRequired,setArrowRef:Le.func.isRequired,styles:Le.object.isRequired});var MSe=["color","height","width"];function cq(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,s=n.width,o=oq(n,MSe);return Xe.createElement("button",{"aria-label":"close",onClick:e,style:o,type:"button"},Xe.createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},Xe.createElement("g",null,Xe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}cq.propTypes={handleClick:Le.func.isRequired,styles:Le.object.isRequired};function dq(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,s=t.positionWrapper,o=t.showCloseButton,a=t.title,l=t.styles,u={content:Xe.isValidElement(e)?e:Xe.createElement("div",{className:"__floater__content",style:l.content},e)};return a&&(u.title=Xe.isValidElement(a)?a:Xe.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=Xe.isValidElement(n)?n:Xe.createElement("div",{className:"__floater__footer",style:l.footer},n)),(o||s)&&!Oe.boolean(i)&&(u.close=Xe.createElement(cq,{styles:l.close,handleClick:r})),Xe.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}dq.propTypes={content:Le.node.isRequired,footer:Le.node,handleClick:Le.func.isRequired,open:Le.bool,positionWrapper:Le.bool.isRequired,showCloseButton:Le.bool.isRequired,styles:Le.object.isRequired,title:Le.node};var hq=function(t){l1(n,t);var e=u1(n);function n(){return o1(this,n),e.apply(this,arguments)}return a1(n,[{key:"style",get:function(){var i=this.props,s=i.disableAnimation,o=i.component,a=i.placement,l=i.hideArrow,u=i.status,c=i.styles,d=c.arrow.length,f=c.floater,p=c.floaterCentered,m=c.floaterClosing,y=c.floaterOpening,b=c.floaterWithAnimation,v=c.floaterWithComponent,x={};return l||(a.startsWith("top")?x.padding="0 0 ".concat(d,"px"):a.startsWith("bottom")?x.padding="".concat(d,"px 0 0"):a.startsWith("left")?x.padding="0 ".concat(d,"px 0 0"):a.startsWith("right")&&(x.padding="0 0 0 ".concat(d,"px"))),[en.OPENING,en.OPEN].indexOf(u)!==-1&&(x=Hn(Hn({},x),y)),u===en.CLOSING&&(x=Hn(Hn({},x),m)),u===en.OPEN&&!s&&(x=Hn(Hn({},x),b)),a==="center"&&(x=Hn(Hn({},x),p)),o&&(x=Hn(Hn({},x),v)),Hn(Hn({},f),x)}},{key:"render",value:function(){var i=this.props,s=i.component,o=i.handleClick,a=i.hideArrow,l=i.setFloaterRef,u=i.status,c={},d=["__floater"];return s?Xe.isValidElement(s)?c.content=Xe.cloneElement(s,{closeFn:o}):c.content=s({closeFn:o}):c.content=Xe.createElement(dq,this.props),u===en.OPEN&&d.push("__floater__open"),a||(c.arrow=Xe.createElement(uq,this.props)),Xe.createElement("div",{ref:l,className:d.join(" "),style:this.style},Xe.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),n}(Xe.Component);Ai(hq,"propTypes",{component:Le.oneOfType([Le.func,Le.element]),content:Le.node,disableAnimation:Le.bool.isRequired,footer:Le.node,handleClick:Le.func.isRequired,hideArrow:Le.bool.isRequired,open:Le.bool,placement:Le.string.isRequired,positionWrapper:Le.bool.isRequired,setArrowRef:Le.func.isRequired,setFloaterRef:Le.func.isRequired,showCloseButton:Le.bool,status:Le.string.isRequired,styles:Le.object.isRequired,title:Le.node});var fq=function(t){l1(n,t);var e=u1(n);function n(){return o1(this,n),e.apply(this,arguments)}return a1(n,[{key:"render",value:function(){var i=this.props,s=i.children,o=i.handleClick,a=i.handleMouseEnter,l=i.handleMouseLeave,u=i.setChildRef,c=i.setWrapperRef,d=i.style,f=i.styles,p;if(s)if(Xe.Children.count(s)===1)if(!Xe.isValidElement(s))p=Xe.createElement("span",null,s);else{var m=Oe.function(s.type)?"innerRef":"ref";p=Xe.cloneElement(Xe.Children.only(s),Ai({},m,u))}else p=s;return p?Xe.createElement("span",{ref:c,style:Hn(Hn({},f),d),onClick:o,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(Xe.Component);Ai(fq,"propTypes",{children:Le.node,handleClick:Le.func.isRequired,handleMouseEnter:Le.func.isRequired,handleMouseLeave:Le.func.isRequired,setChildRef:Le.func.isRequired,setWrapperRef:Le.func.isRequired,style:Le.object,styles:Le.object.isRequired});var LSe={zIndex:100};function DSe(t){var e=ga(LSe,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var FSe=["arrow","flip","offset"],zSe=["position","top","right","bottom","left"],iM=function(t){l1(n,t);var e=u1(n);function n(r){var i;return o1(this,n),i=e.call(this,r),Ai(ou(i),"setArrowRef",function(s){i.arrowRef=s}),Ai(ou(i),"setChildRef",function(s){i.childRef=s}),Ai(ou(i),"setFloaterRef",function(s){i.floaterRef=s}),Ai(ou(i),"setWrapperRef",function(s){i.wrapperRef=s}),Ai(ou(i),"handleTransitionEnd",function(){var s=i.state.status,o=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:s===en.OPENING?en.OPEN:en.IDLE},function(){var a=i.state.status;o(a===en.OPEN?"open":"close",i.props)})}),Ai(ou(i),"handleClick",function(){var s=i.props,o=s.event,a=s.open;if(!Oe.boolean(a)){var l=i.state,u=l.positionWrapper,c=l.status;(i.event==="click"||i.event==="hover"&&u)&&(lx({title:"click",data:[{event:o,status:c===en.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),Ai(ou(i),"handleMouseEnter",function(){var s=i.props,o=s.event,a=s.open;if(!(Oe.boolean(a)||MR())){var l=i.state.status;i.event==="hover"&&l===en.IDLE&&(lx({title:"mouseEnter",data:[{key:"originalEvent",value:o}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),Ai(ou(i),"handleMouseLeave",function(){var s=i.props,o=s.event,a=s.eventDelay,l=s.open;if(!(Oe.boolean(l)||MR())){var u=i.state,c=u.status,d=u.positionWrapper;i.event==="hover"&&(lx({title:"mouseLeave",data:[{key:"originalEvent",value:o}],debug:i.debug}),a?[en.OPENING,en.OPEN].indexOf(c)!==-1&&!d&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(en.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:en.INIT,statusWrapper:en.INIT},i._isMounted=!1,i.hasMounted=!1,cl()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return a1(n,[{key:"componentDidMount",value:function(){if(cl()){var i=this.state.positionWrapper,s=this.props,o=s.children,a=s.open,l=s.target;this._isMounted=!0,lx({title:"init",data:{hasChildren:!!o,hasTarget:!!l,isControlled:Oe.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!o&&l&&Oe.boolean(a)}}},{key:"componentDidUpdate",value:function(i,s){if(cl()){var o=this.props,a=o.autoOpen,l=o.open,u=o.target,c=o.wrapperOptions,d=vSe(s,this.state),f=d.changedFrom,p=d.changed;if(i.open!==l){var m;Oe.boolean(l)&&(m=l?en.OPENING:en.CLOSING),this.toggle(m)}(i.wrapperOptions.position!==c.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",en.IDLE)&&l?this.toggle(en.OPEN):f("status",en.INIT,en.IDLE)&&a&&this.toggle(en.OPEN),this.popper&&p("status",en.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",en.OPENING)||p("status",en.CLOSING))&&OSe(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){cl()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,o=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,c=a.hideArrow,d=a.offset,f=a.placement,p=a.wrapperOptions,m=f==="top"||f==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(f==="center")this.setState({status:en.IDLE});else if(s&&this.floaterRef){var y=this.options,b=y.arrow,v=y.flip,x=y.offset,_=oq(y,FSe);new G0(s,this.floaterRef,{placement:f,modifiers:Hn({arrow:Hn({enabled:!c,element:this.arrowRef},b),flip:Hn({enabled:!l,behavior:m},v),offset:Hn({offset:"0, ".concat(d,"px")},x)},_),onCreate:function(O){var A;if(i.popper=O,!((A=i.floaterRef)!==null&&A!==void 0&&A.isConnected)){i.setState({needsUpdate:!0});return}u(O,"floater"),i._isMounted&&i.setState({currentPlacement:O.placement,status:en.IDLE}),f!==O.placement&&setTimeout(function(){O.instance.update()},1)},onUpdate:function(O){i.popper=O;var A=i.state.currentPlacement;i._isMounted&&O.placement!==A&&i.setState({currentPlacement:O.placement})}})}if(o){var S=Oe.undefined(p.offset)?0:p.offset;new G0(this.target,this.wrapperRef,{placement:p.placement||f,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(S,"px")},flip:{enabled:!1}},onCreate:function(O){i.wrapperPopper=O,i._isMounted&&i.setState({statusWrapper:en.IDLE}),u(O,"wrapper"),f!==O.placement&&setTimeout(function(){O.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var s;(s=i.floaterRef)!==null&&s!==void 0&&s.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var s=i.target,o=i.wrapperOptions;this.setState({positionWrapper:o.position&&!!s})}},{key:"toggle",value:function(i){var s=this.state.status,o=s===en.OPEN?en.CLOSING:en.OPENING;Oe.undefined(i)||(o=i),this.setState({status:o})}},{key:"debug",get:function(){var i=this.props.debug;return i||cl()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,s=i.disableHoverToClick,o=i.event;return o==="hover"&&MR()&&!s?"click":o}},{key:"options",get:function(){var i=this.props.options;return ga(SSe,i||{})}},{key:"styles",get:function(){var i=this,s=this.state,o=s.status,a=s.positionWrapper,l=s.statusWrapper,u=this.props.styles,c=ga(DSe(u),u);if(a){var d;[en.IDLE].indexOf(o)===-1||[en.IDLE].indexOf(l)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=Hn(Hn({},c.wrapper),d)}if(this.target){var f=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=Hn(Hn({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(f.position)===-1&&(this.wrapperStyles={},a||(zSe.forEach(function(p){i.wrapperStyles[p]=f[p]}),c.wrapper=Hn(Hn({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!cl())return null;var i=this.props.target;return i?Oe.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,s=i.currentPlacement,o=i.positionWrapper,a=i.status,l=this.props,u=l.children,c=l.component,d=l.content,f=l.disableAnimation,p=l.footer,m=l.hideArrow,y=l.id,b=l.open,v=l.showCloseButton,x=l.style,_=l.target,S=l.title,k=Xe.createElement(fq,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},u),O={};return o?O.wrapperInPortal=k:O.wrapperAsChildren=k,Xe.createElement("span",null,Xe.createElement(lq,{hasChildren:!!u,id:y,placement:s,setRef:this.setFloaterRef,target:_,zIndex:this.styles.options.zIndex},Xe.createElement(hq,{component:c,content:d,disableAnimation:f,footer:p,handleClick:this.handleClick,hideArrow:m||s==="center",open:b,placement:s,positionWrapper:o,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:v,status:a,styles:this.styles,title:S}),O.wrapperInPortal),O.wrapperAsChildren)}}]),n}(Xe.Component);Ai(iM,"propTypes",{autoOpen:Le.bool,callback:Le.func,children:Le.node,component:Tj(Le.oneOfType([Le.func,Le.element]),function(t){return!t.content}),content:Tj(Le.node,function(t){return!t.component}),debug:Le.bool,disableAnimation:Le.bool,disableFlip:Le.bool,disableHoverToClick:Le.bool,event:Le.oneOf(["hover","click"]),eventDelay:Le.number,footer:Le.node,getPopper:Le.func,hideArrow:Le.bool,id:Le.oneOfType([Le.string,Le.number]),offset:Le.number,open:Le.bool,options:Le.object,placement:Le.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:Le.bool,style:Le.object,styles:Le.object,target:Le.oneOfType([Le.object,Le.string]),title:Le.node,wrapperOptions:Le.shape({offset:Le.number,placement:Le.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:Le.bool})});Ai(iM,"defaultProps",{autoOpen:!1,callback:kj,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:kj,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var jSe=Object.defineProperty,BSe=(t,e,n)=>e in t?jSe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dt=(t,e,n)=>BSe(t,typeof e!="symbol"?e+"":e,n),pn={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Ws={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Ft={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Vt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Wc(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function pq(t){return t?t.getBoundingClientRect():null}function $Se(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((s,o)=>s-o),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Du(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function VSe(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Y0(t,e,n){if(!t)return Eh();const r=V7(t);if(r){if(r.isSameNode(Eh()))return n?document:Eh();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",Eh()}return r}function eA(t,e){if(!t)return!1;const n=Y0(t,e);return n?!n.isSameNode(Eh()):!1}function HSe(t){return t.offsetParent!==document.body}function Jm(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=VSe(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?Jm(t.parentNode,e):!1}function USe(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function WSe(t,e,n){var r,i,s;const o=pq(t),a=Y0(t,n),l=eA(t,n),u=Jm(t);let c=0,d=(r=o==null?void 0:o.top)!=null?r:0;if(l&&u){const f=(i=t==null?void 0:t.offsetTop)!=null?i:0,p=(s=a==null?void 0:a.scrollTop)!=null?s:0;d=f-p}else a instanceof HTMLElement&&(c=a.scrollTop,!l&&!Jm(t)&&(d+=c),a.isSameNode(Eh())||(d+=Eh().scrollTop));return Math.floor(d-e)}function qSe(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:s=0}=(r=V7(t))!=null?r:{};let o=t.getBoundingClientRect().top+s;i&&(eA(t,n)||HSe(t))&&(o-=i);const a=Math.floor(o-e);return a<0?0:a}function Eh(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function GSe(t,e){const{duration:n,element:r}=e;return new Promise((i,s)=>{const{scrollTop:o}=r,a=t>o?t-o:o-t;hEe.top(r,t,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?s(l):i())})}var mv=zu.createPortal!==void 0;function gq(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function gE(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function dl(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let s=hj(t);if(s)(s.includes("{step}")||s.includes("{steps}"))&&r&&i&&(s=s.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(z.isValidElement(t)&&!Object.values(t.props).length&&gE(t.type)==="function"){const o=t.type({});s=dl(o,e)}else s=hj(n);return s}function YSe(t,e){return!ct.plainObject(t)||!ct.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function XSe(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,s,o,a)=>s+s+o+o+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function Rj(t){return t.disableBeacon||t.placement==="center"}function Ij(){return!["chrome","safari","firefox","opera"].includes(gq())}function jf({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(s=>{ct.plainObject(s)&&s.key?i.apply(console,[s.key,s.value]):i.apply(console,[s])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function KSe(t){return Object.keys(t)}function mq(t,...e){if(!ct.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function QSe(t,...e){if(!ct.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function F2(t,e,n){const r=s=>s.replace("{step}",String(e)).replace("{steps}",String(n));if(gE(t)==="string")return r(t);if(!z.isValidElement(t))return t;const{children:i}=t.props;if(gE(i)==="string"&&i.includes("{step}"))return z.cloneElement(t,{children:r(i)});if(Array.isArray(i))return z.cloneElement(t,{children:i.map(s=>typeof s=="string"?r(s):F2(s,e,n))});if(gE(t.type)==="function"&&!Object.values(t.props).length){const s=t.type({});return F2(s,e,n)}return t}function ZSe(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:s,target:o}=t;return!s.disableScrolling&&(!e||i||n===Ft.TOOLTIP)&&s.placement!=="center"&&(!s.isFixed||!Jm(o))&&r!==n&&[Ft.BEACON,Ft.TOOLTIP].includes(n)}var JSe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},yq={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},eCe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:yq,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},tCe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},nCe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},yv={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Pj={borderRadius:4,position:"absolute"};function rCe(t,e){var n,r,i,s,o;const{floaterProps:a,styles:l}=t,u=ga((n=e.floaterProps)!=null?n:{},a??{}),c=ga(l??{},(r=e.styles)!=null?r:{}),d=ga(nCe,c.options||{}),f=e.placement==="center"||e.disableBeacon;let{width:p}=d;window.innerWidth>480&&(p=380),"width"in d&&(p=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},y={beacon:{...yv,display:f?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${XSe(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...yv,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...yv,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...yv,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...yv,color:d.textColor,fontSize:14},overlay:{...m,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:d.overlayColor},spotlight:{...Pj,backgroundColor:"gray"},spotlightLegacy:{...Pj,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(o=(s=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:s.color)!=null?o:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return ga(y,c)}function iCe(t){return QSe(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function eg(t,e){var n,r,i,s,o,a;const l=e??{},u=ga.all([eCe,iCe(t),l],{isMergeableObject:ct.plainObject}),c=rCe(t,u),d=eA(Du(u.target),u.disableScrollParentFix),f=ga.all([JSe,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return f.offset=u.offset,f.styles=ga((i=f.styles)!=null?i:{},c.floaterStyles),f.offset+=(o=(s=t.spotlightPadding)!=null?s:u.spotlightPadding)!=null?o:0,u.placementBeacon&&f.wrapperOptions&&(f.wrapperOptions.placement=u.placementBeacon),d&&f.options.preventOverflow&&(f.options.preventOverflow.boundariesElement="window"),{...u,locale:ga.all([yq,(a=t.locale)!=null?a:{},u.locale||{}]),floaterProps:f,styles:mq(c,"floaterStyles")}}function vq(t,e=!1){return ct.plainObject(t)?t.target?!0:(jf({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(jf({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function Nj(t,e=!1){return ct.array(t)?t.every(n=>vq(n,e)):(jf({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var bq={action:"init",controlled:!1,index:0,lifecycle:Ft.INIT,origin:null,size:0,status:Vt.IDLE},Oj=KSe(mq(bq,"controlled","size")),sCe=class{constructor(t){dt(this,"beaconPopper"),dt(this,"tooltipPopper"),dt(this,"data",new Map),dt(this,"listener"),dt(this,"store",new Map),dt(this,"addListener",i=>{this.listener=i}),dt(this,"setSteps",i=>{const{size:s,status:o}=this.getState(),a={size:i.length,status:o};this.data.set("steps",i),o===Vt.WAITING&&!s&&i.length&&(a.status=Vt.RUNNING),this.setState(a)}),dt(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),dt(this,"setPopper",(i,s)=>{i==="beacon"?this.beaconPopper=s:this.tooltipPopper=s}),dt(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),dt(this,"close",(i=null)=>{const{index:s,status:o}=this.getState();o===Vt.RUNNING&&this.setState({...this.getNextState({action:pn.CLOSE,index:s+1,origin:i})})}),dt(this,"go",i=>{const{controlled:s,status:o}=this.getState();if(s||o!==Vt.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:pn.GO,index:i}),status:a?o:Vt.FINISHED})}),dt(this,"info",()=>this.getState()),dt(this,"next",()=>{const{index:i,status:s}=this.getState();s===Vt.RUNNING&&this.setState(this.getNextState({action:pn.NEXT,index:i+1}))}),dt(this,"open",()=>{const{status:i}=this.getState();i===Vt.RUNNING&&this.setState({...this.getNextState({action:pn.UPDATE,lifecycle:Ft.TOOLTIP})})}),dt(this,"prev",()=>{const{index:i,status:s}=this.getState();s===Vt.RUNNING&&this.setState({...this.getNextState({action:pn.PREV,index:i-1})})}),dt(this,"reset",(i=!1)=>{const{controlled:s}=this.getState();s||this.setState({...this.getNextState({action:pn.RESET,index:0}),status:i?Vt.RUNNING:Vt.READY})}),dt(this,"skip",()=>{const{status:i}=this.getState();i===Vt.RUNNING&&this.setState({action:pn.SKIP,lifecycle:Ft.INIT,status:Vt.SKIPPED})}),dt(this,"start",i=>{const{index:s,size:o}=this.getState();this.setState({...this.getNextState({action:pn.START,index:ct.number(i)?i:s},!0),status:o?Vt.RUNNING:Vt.WAITING})}),dt(this,"stop",(i=!1)=>{const{index:s,status:o}=this.getState();[Vt.FINISHED,Vt.SKIPPED].includes(o)||this.setState({...this.getNextState({action:pn.STOP,index:s+(i?1:0)}),status:Vt.PAUSED})}),dt(this,"update",i=>{var s,o;if(!YSe(i,Oj))throw new Error(`State is not valid. Valid keys: ${Oj.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(s=i.action)!=null?s:pn.UPDATE,origin:(o=i.origin)!=null?o:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:pn.INIT,controlled:ct.number(n),continuous:e,index:ct.number(n)?n:0,lifecycle:Ft.INIT,origin:null,status:r.length?Vt.READY:Vt.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...bq}}getNextState(t,e=!1){var n,r,i,s,o;const{action:a,controlled:l,index:u,size:c,status:d}=this.getState(),f=ct.number(t.index)?t.index:u,p=l&&!e?u:Math.min(Math.max(f,0),c);return{action:(n=t.action)!=null?n:a,controlled:l,index:p,lifecycle:(r=t.lifecycle)!=null?r:Ft.INIT,origin:(i=t.origin)!=null?i:null,size:(s=t.size)!=null?s:c,status:p===c?Vt.FINISHED:(o=t.status)!=null?o:d}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:s,origin:o=null,size:a,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",s),this.store.set("origin",o),this.store.set("size",a),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function oCe(t){return new sCe(t)}function aCe({styles:t}){return z.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var lCe=aCe,uCe=class extends z.Component{constructor(){super(...arguments),dt(this,"isActive",!1),dt(this,"resizeTimeout"),dt(this,"scrollTimeout"),dt(this,"scrollParent"),dt(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),dt(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Ft.INIT,Ft.BEACON,Ft.COMPLETE,Ft.ERROR];return e||(t?r.includes(n):n!==Ft.TOOLTIP)}),dt(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:s,width:o}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,u=a>=s&&a<=s+n,d=l>=r&&l<=r+o&&u;d!==e&&this.updateState({mouseOverSpotlight:d})}),dt(this,"handleScroll",()=>{const{target:t}=this.props,e=Du(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Jm(e,"sticky")&&this.updateState({})}),dt(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Du(r);this.scrollParent=Y0(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:s}=this.props,{changed:o}=hS(t,this.props);if(o("target")||o("disableScrollParentFix")){const a=Du(s);this.scrollParent=Y0(a??document.body,n,!0)}o("lifecycle",Ft.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(o("spotlightClicks")||o("disableOverlay")||o("lifecycle"))&&(i&&r===Ft.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Ft.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return Ij()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:$Se(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:s,spotlightPadding:o=0,styles:a,target:l}=this.props,u=Du(l),c=pq(u),d=Jm(u),f=WSe(u,o,i);return{...Ij()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=c==null?void 0:c.height)!=null?t:0)+o*2),left:Math.round(((e=c==null?void 0:c.left)!=null?e:0)-o),opacity:r?1:0,pointerEvents:s?"none":"auto",position:d?"fixed":"absolute",top:f,transition:"opacity 0.2s",width:Math.round(((n=c==null?void 0:c.width)!=null?n:0)+o*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:s}=this;if(r())return null;let o=n!=="center"&&t&&z.createElement(lCe,{styles:s});if(gq()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=i;o=z.createElement("div",{style:{...u}},o),delete i.backgroundColor}return z.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},o)}},cCe=class extends z.Component{constructor(){super(...arguments),dt(this,"node",null)}componentDidMount(){const{id:t}=this.props;Wc()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),mv||this.renderReact15())}componentDidUpdate(){Wc()&&(mv||this.renderReact15())}componentWillUnmount(){!Wc()||!this.node||(mv||zu.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Wc())return;const{children:t}=this.props;this.node&&zu.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!Wc()||!mv)return null;const{children:t}=this.props;return this.node?zu.createPortal(t,this.node):null}render(){return mv?this.renderReact16():null}},dCe=class{constructor(t,e){if(dt(this,"element"),dt(this,"options"),dt(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),dt(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),dt(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),dt(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),dt(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let s=document.activeElement?r.indexOf(document.activeElement):0;s===-1||!i&&s+1===r.length?s=0:i&&s===0?s=r.length-1:s+=i?-1:1,r[s].focus()}),dt(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),dt(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),dt(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),dt(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),dt(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},hCe=class extends z.Component{constructor(t){if(super(t),dt(this,"beacon",null),dt(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{ct.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:s,size:o,step:a,styles:l}=this.props,u=dl(i.open),c={"aria-label":u,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:u};let d;if(t){const f=t;d=z.createElement(f,{continuous:e,index:n,isLastStep:r,size:o,step:a,...c})}else d=z.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...c},z.createElement("span",{style:l.beaconInner}),z.createElement("span",{style:l.beaconOuter}));return d}};function fCe({styles:t,...e}){const{color:n,height:r,width:i,...s}=t;return Xe.createElement("button",{style:s,type:"button",...e},Xe.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},Xe.createElement("g",null,Xe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var pCe=fCe;function gCe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:s,skipProps:o,step:a,tooltipProps:l}=t,{content:u,hideBackButton:c,hideCloseButton:d,hideFooter:f,showSkipButton:p,styles:m,title:y}=a,b={};return b.primary=z.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...s}),p&&!i&&(b.skip=z.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...o})),!c&&r>0&&(b.back=z.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...e})),b.close=!d&&z.createElement(pCe,{"data-test-id":"button-close",styles:m.buttonClose,...n}),z.createElement("div",{key:"JoyrideTooltip","aria-label":dl(y??u),className:"react-joyride__tooltip",style:m.tooltip,...l},z.createElement("div",{style:m.tooltipContainer},y&&z.createElement("h1",{"aria-label":dl(y),style:m.tooltipTitle},y),z.createElement("div",{style:m.tooltipContent},u)),!f&&z.createElement("div",{style:m.tooltipFooter},z.createElement("div",{style:m.tooltipFooterSpacer},b.skip),b.back,b.primary),b.close)}var mCe=gCe,yCe=class extends z.Component{constructor(){super(...arguments),dt(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),dt(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),dt(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),dt(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),dt(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{back:o,close:a,last:l,next:u,nextLabelWithProgress:c,skip:d}=s.locale,f=dl(o),p=dl(a),m=dl(l),y=dl(u),b=dl(d);let v=a,x=p;if(t){if(v=u,x=y,s.showProgress&&!n){const _=dl(c,{step:e+1,steps:i});v=F2(c,e+1,i),x=_}n&&(v=l,x=m)}return{backProps:{"aria-label":f,children:o,"data-action":"back",onClick:this.handleClickBack,role:"button",title:f},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":x,children:v,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":b,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:b},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:s}=this.props,{beaconComponent:o,tooltipComponent:a,...l}=s;let u;if(a){const c={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},d=a;u=z.createElement(d,{...c})}else u=z.createElement(mCe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:s});return u}},vCe=class extends z.Component{constructor(){super(...arguments),dt(this,"scope",null),dt(this,"tooltip",null),dt(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Ft.TOOLTIP})}),dt(this,"setTooltipRef",t=>{this.tooltip=t}),dt(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:s,store:o}=this.props;e==="wrapper"?o.setPopper("beacon",t):o.setPopper("tooltip",t),o.getPopper("beacon")&&(o.getPopper("tooltip")||s.placement==="center")&&i===Ft.INIT&&o.update({action:r,lifecycle:Ft.READY}),(n=s.floaterProps)!=null&&n.getPopper&&s.floaterProps.getPopper(t,e)}),dt(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:s}=this.props;return z.createElement(yCe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;jf({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:s,debug:o,helpers:a,index:l,lifecycle:u,shouldScroll:c,status:d,step:f,store:p}=this.props,{changed:m,changedFrom:y}=hS(t,this.props),b=a.info(),v=i&&n!==pn.CLOSE&&(l>0||n===pn.PREV),x=m("action")||m("index")||m("lifecycle")||m("status"),_=y("lifecycle",[Ft.TOOLTIP,Ft.INIT],Ft.INIT),S=m("action",[pn.NEXT,pn.PREV,pn.SKIP,pn.CLOSE]),k=s&&l===t.index;if(S&&(_||k)&&r({...b,index:t.index,lifecycle:Ft.COMPLETE,step:t.step,type:Ws.STEP_AFTER}),f.placement==="center"&&d===Vt.RUNNING&&m("index")&&n!==pn.START&&u===Ft.INIT&&p.update({lifecycle:Ft.READY}),x){const O=Du(f.target),A=!!O;A&&USe(O)?(y("status",Vt.READY,Vt.RUNNING)||y("lifecycle",Ft.INIT,Ft.READY))&&r({...b,step:f,type:Ws.STEP_BEFORE}):(console.warn(A?"Target not visible":"Target not mounted",f),r({...b,type:Ws.TARGET_NOT_FOUND,step:f}),s||p.update({index:l+(n===pn.PREV?-1:1)}))}y("lifecycle",Ft.INIT,Ft.READY)&&p.update({lifecycle:Rj(f)||v?Ft.TOOLTIP:Ft.BEACON}),m("index")&&jf({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:o}),m("lifecycle",Ft.BEACON)&&r({...b,step:f,type:Ws.BEACON}),m("lifecycle",Ft.TOOLTIP)&&(r({...b,step:f,type:Ws.TOOLTIP}),c&&this.tooltip&&(this.scope=new dCe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[Ft.TOOLTIP,Ft.INIT],Ft.INIT)&&((e=this.scope)==null||e.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return Rj(e)||t===Ft.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:s,step:o}=this.props,a=Du(o.target);return!vq(o)||!ct.domElement(a)?null:z.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},z.createElement(iM,{...o.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:o.placement,target:o.target},z.createElement(hCe,{beaconComponent:o.beaconComponent,continuous:t,index:n,isLastStep:n+1===s,locale:o.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:o,styles:o.styles})))}},wq=class extends z.Component{constructor(t){super(t),dt(this,"helpers"),dt(this,"store"),dt(this,"callback",o=>{const{callback:a}=this.props;ct.function(a)&&a(o)}),dt(this,"handleKeyboard",o=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,c=u[a];l===Ft.TOOLTIP&&o.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),dt(this,"handleClickOverlay",()=>{const{index:o}=this.state,{steps:a}=this.props;eg(this.props,a[o]).disableOverlayClose||this.helpers.close("overlay")}),dt(this,"syncState",o=>{this.setState(o)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=oCe({...t,controlled:r&&ct.number(i)}),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;jf({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Wc())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;Nj(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!Wc())return;const{action:n,controlled:r,index:i,status:s}=this.state,{debug:o,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:c,steps:d}=t,{reset:f,setSteps:p,start:m,stop:y,update:b}=this.store,{changed:v}=hS(t,this.props),{changed:x,changedFrom:_}=hS(e,this.state),S=eg(this.props,u[i]),k=!Hi(d,u),O=ct.number(l)&&v("stepIndex"),A=Du(S.target);if(k&&(Nj(u,o)?p(u):console.warn("Steps are not valid",u)),v("run")&&(a?m(l):y()),O){let T=ct.number(c)&&c<l?pn.NEXT:pn.PREV;n===pn.STOP&&(T=pn.START),[Vt.FINISHED,Vt.SKIPPED].includes(s)||b({action:n===pn.CLOSE?pn.CLOSE:T,index:l,lifecycle:Ft.INIT})}!r&&s===Vt.RUNNING&&i===0&&!A&&(this.store.update({index:i+1}),this.callback({...this.state,type:Ws.TARGET_NOT_FOUND,step:S}));const R={...this.state,index:i,step:S};if(x("action",[pn.NEXT,pn.PREV,pn.SKIP,pn.CLOSE])&&x("status",Vt.PAUSED)){const T=eg(this.props,u[e.index]);this.callback({...R,index:e.index,lifecycle:Ft.COMPLETE,step:T,type:Ws.STEP_AFTER})}if(x("status",[Vt.FINISHED,Vt.SKIPPED])){const T=eg(this.props,u[e.index]);r||this.callback({...R,index:e.index,lifecycle:Ft.COMPLETE,step:T,type:Ws.STEP_AFTER}),this.callback({...R,type:Ws.TOUR_END,step:T,index:e.index}),f()}else _("status",[Vt.IDLE,Vt.READY],Vt.RUNNING)?this.callback({...R,type:Ws.TOUR_START}):(x("status")||x("action",pn.RESET))&&this.callback({...R,type:Ws.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:s=!1,scrollDuration:o,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,c=eg(this.props,u[e]),d=Du(c.target),f=ZSe({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:c,target:d});if(r===Vt.RUNNING&&f){const p=eA(d,s),m=Y0(d,s);let y=Math.floor(qSe(d,a,s))||0;jf({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const b=this.store.getPopper("beacon"),v=this.store.getPopper("tooltip");if(n===Ft.BEACON&&b){const{offsets:x,placement:_}=b;!["bottom"].includes(_)&&!p&&(y=Math.floor(x.popper.top-a))}else if(n===Ft.TOOLTIP&&v){const{flipped:x,offsets:_,placement:S}=v;["top","right","left"].includes(S)&&!x&&!p?y=Math.floor(_.popper.top-a):y-=c.spotlightPadding}y=y>=0?y:0,r===Vt.RUNNING&&GSe(y,{element:m,duration:o}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!Wc())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:s,scrollToFirstStep:o=!1,steps:a}=this.props,l=n===Vt.RUNNING,u={};if(l&&a[t]){const c=eg(this.props,a[t]);u.step=z.createElement(vCe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!c.disableScrolling&&(t!==0||o),step:c,store:this.store}),u.overlay=z.createElement(cCe,{id:"react-joyride-portal"},z.createElement(uCe,{...c,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return z.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};dt(wq,"defaultProps",tCe);var bCe=wq,co=typeof window<"u"?window:null,sM=co===null,X0=sM?void 0:co.document,Uo="addEventListener",Wo="removeEventListener",LR="getBoundingClientRect",vv="_a",qo="_b",iu="_c",ux="horizontal",Go=function(){return!1},wCe=sM?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=X0.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",_q=function(t){return typeof t=="string"||t instanceof String},Mj=function(t){if(_q(t)){var e=X0.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},yi=function(t,e,n){var r=t[e];return r!==void 0?r:n},cx=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},_Ce=function(t,e){var n=X0.createElement("div");return n.className="gutter gutter-"+e,n},xCe=function(t,e,n){var r={};return _q(e)?r[t]=e:r[t]=wCe+"("+e+"% - "+n+"px)",r},ECe=function(t,e){var n;return n={},n[t]=e+"px",n},Lj=function(t,e){if(e===void 0&&(e={}),sM)return{};var n=t,r,i,s,o,a,l;Array.from&&(n=Array.from(n));var u=Mj(n[0]),c=u.parentNode,d=getComputedStyle?getComputedStyle(c):null,f=d?d.flexDirection:null,p=yi(e,"sizes")||n.map(function(){return 100/n.length}),m=yi(e,"minSize",100),y=Array.isArray(m)?m:n.map(function(){return m}),b=yi(e,"maxSize",1/0),v=Array.isArray(b)?b:n.map(function(){return b}),x=yi(e,"expandToMin",!1),_=yi(e,"gutterSize",10),S=yi(e,"gutterAlign","center"),k=yi(e,"snapOffset",30),O=Array.isArray(k)?k:n.map(function(){return k}),A=yi(e,"dragInterval",1),R=yi(e,"direction",ux),P=yi(e,"cursor",R===ux?"col-resize":"row-resize"),T=yi(e,"gutter",_Ce),L=yi(e,"elementStyle",xCe),M=yi(e,"gutterStyle",ECe);R===ux?(r="width",i="clientX",s="left",o="right",a="clientWidth"):R==="vertical"&&(r="height",i="clientY",s="top",o="bottom",a="clientHeight");function D(oe,ce,ge,xe){var Ee=L(r,ce,ge,xe);Object.keys(Ee).forEach(function(Pe){oe.style[Pe]=Ee[Pe]})}function N(oe,ce,ge){var xe=M(r,ce,ge);Object.keys(xe).forEach(function(Ee){oe.style[Ee]=xe[Ee]})}function U(){return l.map(function(oe){return oe.size})}function K(oe){return"touches"in oe?oe.touches[0][i]:oe[i]}function G(oe){var ce=l[this.a],ge=l[this.b],xe=ce.size+ge.size;ce.size=oe/this.size*xe,ge.size=xe-oe/this.size*xe,D(ce.element,ce.size,this[qo],ce.i),D(ge.element,ge.size,this[iu],ge.i)}function Z(oe){var ce,ge=l[this.a],xe=l[this.b];this.dragging&&(ce=K(oe)-this.start+(this[qo]-this.dragOffset),A>1&&(ce=Math.round(ce/A)*A),ce<=ge.minSize+ge.snapOffset+this[qo]?ce=ge.minSize+this[qo]:ce>=this.size-(xe.minSize+xe.snapOffset+this[iu])&&(ce=this.size-(xe.minSize+this[iu])),ce>=ge.maxSize-ge.snapOffset+this[qo]?ce=ge.maxSize+this[qo]:ce<=this.size-(xe.maxSize-xe.snapOffset+this[iu])&&(ce=this.size-(xe.maxSize+this[iu])),G.call(this,ce),yi(e,"onDrag",Go)(U()))}function X(){var oe=l[this.a].element,ce=l[this.b].element,ge=oe[LR](),xe=ce[LR]();this.size=ge[r]+xe[r]+this[qo]+this[iu],this.start=ge[s],this.end=ge[o]}function W(oe){if(!getComputedStyle)return null;var ce=getComputedStyle(oe);if(!ce)return null;var ge=oe[a];return ge===0?null:(R===ux?ge-=parseFloat(ce.paddingLeft)+parseFloat(ce.paddingRight):ge-=parseFloat(ce.paddingTop)+parseFloat(ce.paddingBottom),ge)}function q(oe){var ce=W(c);if(ce===null||y.reduce(function(Pe,V){return Pe+V},0)>ce)return oe;var ge=0,xe=[],Ee=oe.map(function(Pe,V){var pe=ce*Pe/100,me=cx(_,V===0,V===oe.length-1,S),le=y[V]+me;return pe<le?(ge+=le-pe,xe.push(0),le):(xe.push(pe-le),pe)});return ge===0?oe:Ee.map(function(Pe,V){var pe=Pe;if(ge>0&&xe[V]-ge>0){var me=Math.min(ge,xe[V]-ge);ge-=me,pe=Pe-me}return pe/ce*100})}function Q(){var oe=this,ce=l[oe.a].element,ge=l[oe.b].element;oe.dragging&&yi(e,"onDragEnd",Go)(U()),oe.dragging=!1,co[Wo]("mouseup",oe.stop),co[Wo]("touchend",oe.stop),co[Wo]("touchcancel",oe.stop),co[Wo]("mousemove",oe.move),co[Wo]("touchmove",oe.move),oe.stop=null,oe.move=null,ce[Wo]("selectstart",Go),ce[Wo]("dragstart",Go),ge[Wo]("selectstart",Go),ge[Wo]("dragstart",Go),ce.style.userSelect="",ce.style.webkitUserSelect="",ce.style.MozUserSelect="",ce.style.pointerEvents="",ge.style.userSelect="",ge.style.webkitUserSelect="",ge.style.MozUserSelect="",ge.style.pointerEvents="",oe.gutter.style.cursor="",oe.parent.style.cursor="",X0.body.style.cursor=""}function H(oe){if(!("button"in oe&&oe.button!==0)){var ce=this,ge=l[ce.a].element,xe=l[ce.b].element;ce.dragging||yi(e,"onDragStart",Go)(U()),oe.preventDefault(),ce.dragging=!0,ce.move=Z.bind(ce),ce.stop=Q.bind(ce),co[Uo]("mouseup",ce.stop),co[Uo]("touchend",ce.stop),co[Uo]("touchcancel",ce.stop),co[Uo]("mousemove",ce.move),co[Uo]("touchmove",ce.move),ge[Uo]("selectstart",Go),ge[Uo]("dragstart",Go),xe[Uo]("selectstart",Go),xe[Uo]("dragstart",Go),ge.style.userSelect="none",ge.style.webkitUserSelect="none",ge.style.MozUserSelect="none",ge.style.pointerEvents="none",xe.style.userSelect="none",xe.style.webkitUserSelect="none",xe.style.MozUserSelect="none",xe.style.pointerEvents="none",ce.gutter.style.cursor=P,ce.parent.style.cursor=P,X0.body.style.cursor=P,X.call(ce),ce.dragOffset=K(oe)-ce.end}}p=q(p);var re=[];l=n.map(function(oe,ce){var ge={element:Mj(oe),size:p[ce],minSize:y[ce],maxSize:v[ce],snapOffset:O[ce],i:ce},xe;if(ce>0&&(xe={a:ce-1,b:ce,dragging:!1,direction:R,parent:c},xe[qo]=cx(_,ce-1===0,!1,S),xe[iu]=cx(_,!1,ce===n.length-1,S),f==="row-reverse"||f==="column-reverse")){var Ee=xe.a;xe.a=xe.b,xe.b=Ee}if(ce>0){var Pe=T(ce,R,ge.element);N(Pe,_,ce),xe[vv]=H.bind(xe),Pe[Uo]("mousedown",xe[vv]),Pe[Uo]("touchstart",xe[vv]),c.insertBefore(Pe,ge.element),xe.gutter=Pe}return D(ge.element,ge.size,cx(_,ce===0,ce===n.length-1,S),ce),ce>0&&re.push(xe),ge});function te(oe){var ce=oe.i===re.length,ge=ce?re[oe.i-1]:re[oe.i];X.call(ge);var xe=ce?ge.size-oe.minSize-ge[iu]:oe.minSize+ge[qo];G.call(ge,xe)}l.forEach(function(oe){var ce=oe.element[LR]()[r];ce<oe.minSize&&(x?te(oe):oe.minSize=ce)});function he(oe){var ce=q(oe);ce.forEach(function(ge,xe){if(xe>0){var Ee=re[xe-1],Pe=l[Ee.a],V=l[Ee.b];Pe.size=ce[xe-1],V.size=ge,D(Pe.element,Pe.size,Ee[qo],Pe.i),D(V.element,V.size,Ee[iu],V.i)}})}function de(oe,ce){re.forEach(function(ge){if(ce!==!0?ge.parent.removeChild(ge.gutter):(ge.gutter[Wo]("mousedown",ge[vv]),ge.gutter[Wo]("touchstart",ge[vv])),oe!==!0){var xe=L(r,ge.a.size,ge[qo]);Object.keys(xe).forEach(function(Ee){l[ge.a].element.style[Ee]="",l[ge.b].element.style[Ee]=""})}})}return{setSizes:he,getSizes:U,collapse:function(ce){te(l[ce])},destroy:de,parent:c,pairs:re}};function DR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var oM=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=DR(r,["children","gutter"]),o=s;o.gutter=function(a,l){var u;return i?u=i(a,l):(u=document.createElement("div"),u.className="gutter gutter-"+l),u.__isSplitGutter=!0,u},this.split=Lj(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,a=s.sizes,l=s.collapsed,u=DR(s,["children","minSize","sizes","collapsed"]),c=u,d=r.minSize,f=r.sizes,p=r.collapsed,m=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=m.map(function(x){return i.props[x]!==r[x]}).reduce(function(x,_){return x||_},!1);if(Array.isArray(o)&&Array.isArray(d)){var b=!1;o.forEach(function(x,_){b=b||x!==d[_]}),y=y||b}else Array.isArray(o)||Array.isArray(d)?y=!0:y=y||o!==d;if(y)c.minSize=o,c.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(x,_,S){return S.previousSibling},this.split=Lj(Array.from(this.parent.children).filter(function(x){return!x.__isSplitGutter}),c);else if(a){var v=!1;a.forEach(function(x,_){v=v||x!==f[_]}),v&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==p||y)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=DR(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=o;return Xe.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),s)},e}(Xe.Component);oM.propTypes={sizes:Le.arrayOf(Le.number),minSize:Le.oneOfType([Le.number,Le.arrayOf(Le.number)]),maxSize:Le.oneOfType([Le.number,Le.arrayOf(Le.number)]),expandToMin:Le.bool,gutterSize:Le.number,gutterAlign:Le.string,snapOffset:Le.oneOfType([Le.number,Le.arrayOf(Le.number)]),dragInterval:Le.number,direction:Le.string,cursor:Le.string,gutter:Le.func,elementStyle:Le.func,gutterStyle:Le.func,onDrag:Le.func,onDragStart:Le.func,onDragEnd:Le.func,collapsed:Le.number,children:Le.arrayOf(Le.element)};oM.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const SCe=()=>{const{getPaperFile:t}=hC(),{isAddingNewRead:e,setIsAddingNewRead:n,createRead:r,setPaperUrl:i,setPaperId:s}=ko(),o=Dd(),a=z.useContext(Mw);if(!a)throw new Error("TourContext not found");const{setRunTour:l,runTour:u,steps:c,stepIndex:d,setStepIndex:f}=a,[p,m]=z.useState(""),[y,b]=z.useState(null),[v,x]=z.useState("graph");z.useEffect(()=>{_()},[o.state]);const _=async()=>{const R=o.state;if(R!=null&&R.paperId){s(R.paperId);const P=await t(R.paperId);i(P)}},S=()=>{if(!p){alert("Please enter a title");return}if(!y){alert("Please select a color");return}r(p,y),k()},k=()=>{m(""),b(null),n(!1)},O=R=>{var N;const{action:P,index:T,status:L,type:M,step:D}=R;[Ws.STEP_AFTER,Ws.TARGET_NOT_FOUND].includes(M)?(f(T+(P===pn.PREV?-1:1)),(N=D.data)!=null&&N.pause&&l(!1)):[Vt.FINISHED,Vt.SKIPPED].includes(L)&&(f(0),l(!1))},A=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];return j.jsxs(Et,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[j.jsx("div",{style:{display:"none"},children:j.jsx(bCe,{continuous:!0,steps:c,run:u,callback:O,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:d})}),j.jsx(Et,{sx:{height:"8%",width:"100%",display:"flex"},children:j.jsx(o0e,{onAnalyticsClick:()=>x(v==="analytics"?"graph":"analytics"),onTimelineClick:()=>x(v==="timeline"?"graph":"timeline")})}),j.jsx(Et,{sx:{width:"100%",height:"92%"},children:j.jsxs(oM,{className:"split",sizes:[60,40],minSize:200,expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",children:[j.jsx(Et,{className:"panel paper-panel",children:j.jsx(E1e,{})}),j.jsxs(Et,{className:"panel graph-panel",children:[v==="graph"&&j.jsx(K_e,{}),v==="analytics"&&j.jsx(Z_e,{}),v==="timeline"&&j.jsx(Yxe,{})]})]})}),j.jsxs(Px,{open:e,children:[j.jsx(Mx,{children:"Create New Read"}),j.jsxs(Ox,{sx:{p:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[j.jsx(Xo,{label:"Title",value:p,onChange:R=>m(R.target.value),style:{padding:4}}),j.jsx(Et,{sx:{my:2,display:"flex",flexDirection:"row",alignItems:"center"},children:A.map(R=>j.jsx(Et,{sx:{width:20,height:20,backgroundColor:R,borderRadius:4,margin:1,border:R===y?"2px solid black":"none"},onClick:()=>b(R)},R))})]}),j.jsxs(Nx,{children:[j.jsx(Ln,{variant:"text",color:"error",onClick:k,children:"Cancel"}),j.jsx(Ln,{variant:"text",onClick:S,children:"Create"})]})]})]})},CCe="/re-ad-icon.svg",ACe="/poster.png";function TCe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kCe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RCe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ICe={};function Dj(t,e){return(ICe.jsx?RCe:kCe).test(t)}const PCe=/[ \t\n\f\r]/g;function NCe(t){return typeof t=="object"?t.type==="text"?Fj(t.value):!1:Fj(t)}function Fj(t){return t.replace(PCe,"")===""}class c1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}c1.prototype.normal={};c1.prototype.property={};c1.prototype.space=void 0;function xq(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new c1(n,r,e)}function z2(t){return t.toLowerCase()}class Ss{constructor(e,n){this.attribute=n,this.property=e}}Ss.prototype.attribute="";Ss.prototype.booleanish=!1;Ss.prototype.boolean=!1;Ss.prototype.commaOrSpaceSeparated=!1;Ss.prototype.commaSeparated=!1;Ss.prototype.defined=!1;Ss.prototype.mustUseProperty=!1;Ss.prototype.number=!1;Ss.prototype.overloadedBoolean=!1;Ss.prototype.property="";Ss.prototype.spaceSeparated=!1;Ss.prototype.space=void 0;let OCe=0;const zt=np(),wr=np(),j2=np(),We=np(),Mn=np(),Tg=np(),Ls=np();function np(){return 2**++OCe}const B2=Object.freeze(Object.defineProperty({__proto__:null,boolean:zt,booleanish:wr,commaOrSpaceSeparated:Ls,commaSeparated:Tg,number:We,overloadedBoolean:j2,spaceSeparated:Mn},Symbol.toStringTag,{value:"Module"})),FR=Object.keys(B2);class aM extends Ss{constructor(e,n,r,i){let s=-1;if(super(e,n),zj(this,"space",i),typeof r=="number")for(;++s<FR.length;){const o=FR[s];zj(this,FR[s],(r&B2[o])===B2[o])}}}aM.prototype.defined=!0;function zj(t,e,n){n&&(t[e]=n)}function hy(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new aM(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[z2(r)]=r,n[z2(s.attribute)]=r}return new c1(e,n,t.space)}const Eq=hy({properties:{ariaActiveDescendant:null,ariaAtomic:wr,ariaAutoComplete:null,ariaBusy:wr,ariaChecked:wr,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:Mn,ariaCurrent:null,ariaDescribedBy:Mn,ariaDetails:null,ariaDisabled:wr,ariaDropEffect:Mn,ariaErrorMessage:null,ariaExpanded:wr,ariaFlowTo:Mn,ariaGrabbed:wr,ariaHasPopup:null,ariaHidden:wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Mn,ariaLevel:We,ariaLive:null,ariaModal:wr,ariaMultiLine:wr,ariaMultiSelectable:wr,ariaOrientation:null,ariaOwns:Mn,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:wr,ariaReadOnly:wr,ariaRelevant:null,ariaRequired:wr,ariaRoleDescription:Mn,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:wr,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Sq(t,e){return e in t?t[e]:e}function Cq(t,e){return Sq(t,e.toLowerCase())}const MCe=hy({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tg,acceptCharset:Mn,accessKey:Mn,action:null,allow:null,allowFullScreen:zt,allowPaymentRequest:zt,allowUserMedia:zt,alt:null,as:null,async:zt,autoCapitalize:null,autoComplete:Mn,autoFocus:zt,autoPlay:zt,blocking:Mn,capture:null,charSet:null,checked:zt,cite:null,className:Mn,cols:We,colSpan:null,content:null,contentEditable:wr,controls:zt,controlsList:Mn,coords:We|Tg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:zt,defer:zt,dir:null,dirName:null,disabled:zt,download:j2,draggable:wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:zt,formTarget:null,headers:Mn,height:We,hidden:j2,high:We,href:null,hrefLang:null,htmlFor:Mn,httpEquiv:Mn,id:null,imageSizes:null,imageSrcSet:null,inert:zt,inputMode:null,integrity:null,is:null,isMap:zt,itemId:null,itemProp:Mn,itemRef:Mn,itemScope:zt,itemType:Mn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:zt,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:zt,muted:zt,name:null,nonce:null,noModule:zt,noValidate:zt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:zt,optimum:We,pattern:null,ping:Mn,placeholder:null,playsInline:zt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:zt,referrerPolicy:null,rel:Mn,required:zt,reversed:zt,rows:We,rowSpan:We,sandbox:Mn,scope:null,scoped:zt,seamless:zt,selected:zt,shadowRootClonable:zt,shadowRootDelegatesFocus:zt,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:zt,useMap:null,value:wr,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Mn,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:zt,declare:zt,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:zt,noHref:zt,noShade:zt,noWrap:zt,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:wr,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:zt,disableRemotePlayback:zt,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:Cq}),LCe=hy({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ls,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:Mn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:zt,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tg,g2:Tg,glyphName:Tg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:Ls,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Mn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ls,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ls,rev:Ls,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ls,requiredFeatures:Ls,requiredFonts:Ls,requiredFormats:Ls,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:Ls,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ls,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ls,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Sq}),Aq=hy({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Tq=hy({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Cq}),kq=hy({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),DCe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},FCe=/[A-Z]/g,jj=/-[a-z]/g,zCe=/^data[-\w.:]+$/i;function jCe(t,e){const n=z2(e);let r=e,i=Ss;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&zCe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(jj,$Ce);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!jj.test(s)){let o=s.replace(FCe,BCe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=aM}return new i(r,e)}function BCe(t){return"-"+t.toLowerCase()}function $Ce(t){return t.charAt(1).toUpperCase()}const VCe=xq([Eq,MCe,Aq,Tq,kq],"html"),lM=xq([Eq,LCe,Aq,Tq,kq],"svg");function HCe(t){return t.join(" ").trim()}var tg={},zR,Bj;function UCe(){if(Bj)return zR;Bj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",f="comment",p="declaration";zR=function(y,b){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];b=b||{};var v=1,x=1;function _(D){var N=D.match(e);N&&(v+=N.length);var U=D.lastIndexOf(l);x=~U?D.length-U:x+D.length}function S(){var D={line:v,column:x};return function(N){return N.position=new k(D),R(),N}}function k(D){this.start=D,this.end={line:v,column:x},this.source=b.source}k.prototype.content=y;function O(D){var N=new Error(b.source+":"+v+":"+x+": "+D);if(N.reason=D,N.filename=b.source,N.line=v,N.column=x,N.source=y,!b.silent)throw N}function A(D){var N=D.exec(y);if(N){var U=N[0];return _(U),y=y.slice(U.length),N}}function R(){A(n)}function P(D){var N;for(D=D||[];N=T();)N!==!1&&D.push(N);return D}function T(){var D=S();if(!(u!=y.charAt(0)||c!=y.charAt(1))){for(var N=2;d!=y.charAt(N)&&(c!=y.charAt(N)||u!=y.charAt(N+1));)++N;if(N+=2,d===y.charAt(N-1))return O("End of comment missing");var U=y.slice(2,N-2);return x+=2,_(U),y=y.slice(N),x+=2,D({type:f,comment:U})}}function L(){var D=S(),N=A(r);if(N){if(T(),!A(i))return O("property missing ':'");var U=A(s),K=D({type:p,property:m(N[0].replace(t,d)),value:U?m(U[0].replace(t,d)):d});return A(o),K}}function M(){var D=[];P(D);for(var N;N=L();)N!==!1&&(D.push(N),P(D));return D}return R(),M()};function m(y){return y?y.replace(a,d):d}return zR}var $j;function WCe(){if($j)return tg;$j=1;var t=tg&&tg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tg,"__esModule",{value:!0}),tg.default=n;var e=t(UCe());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(s=s||{},s[u]=c)}}),s}return tg}var bv={},Vj;function qCe(){if(Vj)return bv;Vj=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(u){return!u||n.test(u)||t.test(u)},o=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),s(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(e,o))};return bv.camelCase=l,bv}var wv,Hj;function GCe(){if(Hj)return wv;Hj=1;var t=wv&&wv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(WCe()),n=qCe();function r(i,s){var o={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,wv=r,wv}var YCe=GCe();const XCe=Es(YCe),Rq=Iq("end"),uM=Iq("start");function Iq(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function KCe(t){const e=uM(t),n=Rq(t);if(e&&n)return{start:e,end:n}}function h0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Uj(t.position):"start"in t||"end"in t?Uj(t):"line"in t||"column"in t?$2(t):""}function $2(t){return Wj(t&&t.line)+":"+Wj(t&&t.column)}function Uj(t){return $2(t&&t.start)+"-"+$2(t&&t.end)}function Wj(t){return t&&typeof t=="number"?t:1}class Ii extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=h0(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ii.prototype.file="";Ii.prototype.name="";Ii.prototype.reason="";Ii.prototype.message="";Ii.prototype.stack="";Ii.prototype.column=void 0;Ii.prototype.line=void 0;Ii.prototype.ancestors=void 0;Ii.prototype.cause=void 0;Ii.prototype.fatal=void 0;Ii.prototype.place=void 0;Ii.prototype.ruleId=void 0;Ii.prototype.source=void 0;const cM={}.hasOwnProperty,QCe=new Map,ZCe=/[A-Z]/g,JCe=new Set(["table","tbody","thead","tfoot","tr"]),eAe=new Set(["td","th"]),Pq="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tAe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=uAe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=lAe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lM:VCe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Nq(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function Nq(t,e,n){if(e.type==="element")return nAe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return rAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return sAe(t,e,n);if(e.type==="mdxjsEsm")return iAe(t,e);if(e.type==="root")return oAe(t,e,n);if(e.type==="text")return aAe(t,e)}function nAe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=lM,t.schema=i),t.ancestors.push(e);const s=Mq(t,e.tagName,!1),o=cAe(t,e);let a=hM(t,e);return JCe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!NCe(l):!0})),Oq(t,o,s,e),dM(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function rAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}K0(t,e.position)}function iAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);K0(t,e.position)}function sAe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=lM,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:Mq(t,e.name,!0),o=dAe(t,e),a=hM(t,e);return Oq(t,o,s,e),dM(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function oAe(t,e,n){const r={};return dM(r,hM(t,e)),t.create(e,t.Fragment,r,n)}function aAe(t,e){return e.value}function Oq(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function dM(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function lAe(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function uAe(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=uM(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function cAe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&cM.call(e.properties,i)){const s=hAe(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&eAe.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function dAe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else K0(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else K0(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function hM(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:QCe;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=Nq(t,s,o);a!==void 0&&n.push(a)}return n}function hAe(t,e,n){const r=jCe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?TCe(n):HCe(n)),r.property==="style"){let i=typeof n=="object"?n:fAe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=pAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?DCe[r.property]||r.property:r.attribute,n]}}function fAe(t,e){try{return XCe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ii("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Pq+"#cannot-parse-style-attribute",i}}function Mq(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=Dj(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=Dj(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return cM.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);K0(t)}function K0(t,e){const n=new Ii("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Pq+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pAe(t){const e={};let n;for(n in t)cM.call(t,n)&&(e[gAe(n)]=t[n]);return e}function gAe(t){let e=t.replace(ZCe,mAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function mAe(t){return"-"+t.toLowerCase()}const jR={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yAe={};function vAe(t,e){const n=yAe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Lq(t,r,i)}function Lq(t,e,n){if(bAe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return qj(t.children,e,n)}return Array.isArray(t)?qj(t,e,n):""}function qj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Lq(t[i],e,n);return r.join("")}function bAe(t){return!!(t&&typeof t=="object")}const Gj=document.createElement("i");function fM(t){const e="&"+t+";";Gj.innerHTML=e;const n=Gj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Pl(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function bo(t,e){return t.length>0?(Pl(t,t.length,0,e),t):e}const Yj={}.hasOwnProperty;function wAe(t){const e={};let n=-1;for(;++n<t.length;)_Ae(e,t[n]);return e}function _Ae(t,e){let n;for(n in e){const i=(Yj.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){Yj.call(i,o)||(i[o]=[]);const a=s[o];xAe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function xAe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Pl(t,0,0,r)}function Dq(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function kg(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pl=zd(/[A-Za-z]/),Xs=zd(/[\dA-Za-z]/),EAe=zd(/[#-'*+\--9=?A-Z^-~]/);function V2(t){return t!==null&&(t<32||t===127)}const H2=zd(/\d/),SAe=zd(/[\dA-Fa-f]/),CAe=zd(/[!-/:-@[-`{-~]/);function Pt(t){return t!==null&&t<-2}function _s(t){return t!==null&&(t<0||t===32)}function gn(t){return t===-2||t===-1||t===32}const AAe=zd(new RegExp("\\p{P}|\\p{S}","u")),TAe=zd(/\s/);function zd(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function fy(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Xs(t.charCodeAt(n+1))&&Xs(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Dn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return gn(l)?(t.enter(n),a(l)):e(l)}function a(l){return gn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const kAe={tokenize:RAe};function RAe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Dn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Pt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const IAe={tokenize:PAe},Xj={tokenize:NAe};function PAe(t){const e=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const S=e.events.length;let k=S,O;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){O=e.events[k][1].end;break}v(r);let A=S;for(;A<e.events.length;)e.events[A][1].end={...O},A++;return Pl(e.events,k+1,0,e.events.slice(S)),e.events.length=A,u(_)}return a(_)}function u(_){if(r===n.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return m(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Xj,c,d)(_)}function c(_){return i&&x(),v(r),f(_)}function d(_){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,m(_)}function f(_){return e.containerState={},t.attempt(Xj,p,m)(_)}function p(_){return r++,n.push([e.currentConstruct,e.containerState]),f(_)}function m(_){if(_===null){i&&x(),v(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),y(_)}function y(_){if(_===null){b(t.exit("chunkFlow"),!0),v(0),t.consume(_);return}return Pt(_)?(t.consume(_),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(_),y)}function b(_,S){const k=e.sliceStream(_);if(S&&k.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(k),e.parser.lazy[_.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const A=e.events.length;let R=A,P,T;for(;R--;)if(e.events[R][0]==="exit"&&e.events[R][1].type==="chunkFlow"){if(P){T=e.events[R][1].end;break}P=!0}for(v(r),O=A;O<e.events.length;)e.events[O][1].end={...T},O++;Pl(e.events,R+1,0,e.events.slice(A)),e.events.length=O}}function v(_){let S=n.length;for(;S-- >_;){const k=n[S];e.containerState=k[1],k[0].exit.call(e,t)}n.length=_}function x(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function NAe(t,e,n){return Dn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Kj(t){if(t===null||_s(t)||TAe(t))return 1;if(AAe(t))return 2}function pM(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const U2={name:"attention",resolveAll:OAe,tokenize:MAe};function OAe(t,e){let n=-1,r,i,s,o,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};Qj(d,-l),Qj(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=bo(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=bo(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=bo(u,pM(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=bo(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=bo(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Pl(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function MAe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Kj(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),c=Kj(l),d=!c||c===2&&i||n.includes(l),f=!i||i===2&&c||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(c||!d)),e(l)}}function Qj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const LAe={name:"autolink",tokenize:DAe};function DAe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return pl(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Xs(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Xs(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||V2(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):EAe(p)?(t.consume(p),u):n(p)}function c(p){return Xs(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Xs(p))&&r++<63){const m=p===45?f:d;return t.consume(p),m}return n(p)}}const tA={partial:!0,tokenize:FAe};function FAe(t,e,n){return r;function r(s){return gn(s)?Dn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Pt(s)?e(s):n(s)}}const Fq={continuation:{tokenize:jAe},exit:BAe,name:"blockQuote",tokenize:zAe};function zAe(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return gn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function jAe(t,e,n){const r=this;return i;function i(o){return gn(o)?Dn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(Fq,e,n)(o)}}function BAe(t){t.exit("blockQuote")}const zq={name:"characterEscape",tokenize:$Ae};function $Ae(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return CAe(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const jq={name:"characterReference",tokenize:VAe};function VAe(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Xs,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=SAe,c):(t.enter("characterReferenceValue"),s=7,o=H2,c(d))}function c(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Xs&&!fM(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),c):n(d)}}const Zj={partial:!0,tokenize:UAe},Jj={concrete:!0,name:"codeFenced",tokenize:HAe};function HAe(t,e,n){const r=this,i={partial:!0,tokenize:k};let s=0,o=0,a;return l;function l(O){return u(O)}function u(O){const A=r.events[r.events.length-1];return s=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,a=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(O)}function c(O){return O===a?(o++,t.consume(O),c):o<3?n(O):(t.exit("codeFencedFenceSequence"),gn(O)?Dn(t,d,"whitespace")(O):d(O))}function d(O){return O===null||Pt(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(Zj,y,S)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(O))}function f(O){return O===null||Pt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(O)):gn(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Dn(t,p,"whitespace")(O)):O===96&&O===a?n(O):(t.consume(O),f)}function p(O){return O===null||Pt(O)?d(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(O))}function m(O){return O===null||Pt(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(O)):O===96&&O===a?n(O):(t.consume(O),m)}function y(O){return t.attempt(i,S,b)(O)}function b(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),v}function v(O){return s>0&&gn(O)?Dn(t,x,"linePrefix",s+1)(O):x(O)}function x(O){return O===null||Pt(O)?t.check(Zj,y,S)(O):(t.enter("codeFlowValue"),_(O))}function _(O){return O===null||Pt(O)?(t.exit("codeFlowValue"),x(O)):(t.consume(O),_)}function S(O){return t.exit("codeFenced"),e(O)}function k(O,A,R){let P=0;return T;function T(U){return O.enter("lineEnding"),O.consume(U),O.exit("lineEnding"),L}function L(U){return O.enter("codeFencedFence"),gn(U)?Dn(O,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):M(U)}function M(U){return U===a?(O.enter("codeFencedFenceSequence"),D(U)):R(U)}function D(U){return U===a?(P++,O.consume(U),D):P>=o?(O.exit("codeFencedFenceSequence"),gn(U)?Dn(O,N,"whitespace")(U):N(U)):R(U)}function N(U){return U===null||Pt(U)?(O.exit("codeFencedFence"),A(U)):R(U)}}}function UAe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const BR={name:"codeIndented",tokenize:qAe},WAe={partial:!0,tokenize:GAe};function qAe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Dn(t,s,"linePrefix",5)(u)}function s(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Pt(u)?t.attempt(WAe,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||Pt(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function GAe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Pt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Dn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Pt(o)?i(o):n(o)}}const YAe={name:"codeText",previous:KAe,resolve:XAe,tokenize:QAe};function XAe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function KAe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function QAe(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,c(d)):Pt(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Pt(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class ZAe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_v(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_v(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_v(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);_v(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_v(this.left,n.reverse())}}}function _v(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Bq(t){const e={};let n=-1,r,i,s,o,a,l,u;const c=new ZAe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,JAe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=c.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Pl(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function JAe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let c,d,f=-1,p=n,m=0,y=0;const b=[y];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(c),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,b.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),f=b.length;f--;){const v=a.slice(b[f],b[f+1]),x=s.pop();l.push([x,x+v.length-1]),t.splice(x,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return u}const eTe={resolve:nTe,tokenize:rTe},tTe={partial:!0,tokenize:iTe};function nTe(t){return Bq(t),t}function rTe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Pt(a)?t.check(tTe,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function iTe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Dn(t,s,"linePrefix")}function s(o){if(o===null||Pt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function $q(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),f):v===null||v===32||v===41||V2(v)?n(v):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(v))}function f(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||Pt(v)?n(v):(t.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function y(v){return!c&&(v===null||v===41||_s(v))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(v)):c<u&&v===40?(t.consume(v),c++,y):v===41?(t.consume(v),c--,y):v===null||v===32||v===40||V2(v)?n(v):(t.consume(v),v===92?b:y)}function b(v){return v===40||v===41||v===92?(t.consume(v),y):y(v)}}function Vq(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Pt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Pt(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!gn(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function Hq(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):Pt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Dn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===o||f===null||Pt(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:c)}function d(f){return f===o||f===92?(t.consume(f),c):c(f)}}function f0(t,e){let n;return r;function r(i){return Pt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):gn(i)?Dn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const sTe={name:"definition",tokenize:aTe},oTe={partial:!0,tokenize:lTe};function aTe(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return Vq.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=kg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return _s(p)?f0(t,u)(p):u(p)}function u(p){return $q(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(oTe,d,d)(p)}function d(p){return gn(p)?Dn(t,f,"whitespace")(p):f(p)}function f(p){return p===null||Pt(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function lTe(t,e,n){return r;function r(a){return _s(a)?f0(t,i)(a):n(a)}function i(a){return Hq(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return gn(a)?Dn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Pt(a)?e(a):n(a)}}const uTe={name:"hardBreakEscape",tokenize:cTe};function cTe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Pt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const dTe={name:"headingAtx",resolve:hTe,tokenize:fTe};function hTe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Pl(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function fTe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),s(c)}function s(c){return t.enter("atxHeadingSequence"),o(c)}function o(c){return c===35&&r++<6?(t.consume(c),o):c===null||_s(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Pt(c)?(t.exit("atxHeading"),e(c)):gn(c)?Dn(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||_s(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const pTe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eB=["pre","script","style","textarea"],gTe={concrete:!0,name:"htmlFlow",resolveTo:vTe,tokenize:bTe},mTe={partial:!0,tokenize:_Te},yTe={partial:!0,tokenize:wTe};function vTe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function bTe(t,e,n){const r=this;let i,s,o,a,l;return u;function u(H){return c(H)}function c(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),d}function d(H){return H===33?(t.consume(H),f):H===47?(t.consume(H),s=!0,y):H===63?(t.consume(H),i=3,r.interrupt?e:W):pl(H)?(t.consume(H),o=String.fromCharCode(H),b):n(H)}function f(H){return H===45?(t.consume(H),i=2,p):H===91?(t.consume(H),i=5,a=0,m):pl(H)?(t.consume(H),i=4,r.interrupt?e:W):n(H)}function p(H){return H===45?(t.consume(H),r.interrupt?e:W):n(H)}function m(H){const re="CDATA[";return H===re.charCodeAt(a++)?(t.consume(H),a===re.length?r.interrupt?e:M:m):n(H)}function y(H){return pl(H)?(t.consume(H),o=String.fromCharCode(H),b):n(H)}function b(H){if(H===null||H===47||H===62||_s(H)){const re=H===47,te=o.toLowerCase();return!re&&!s&&eB.includes(te)?(i=1,r.interrupt?e(H):M(H)):pTe.includes(o.toLowerCase())?(i=6,re?(t.consume(H),v):r.interrupt?e(H):M(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):s?x(H):_(H))}return H===45||Xs(H)?(t.consume(H),o+=String.fromCharCode(H),b):n(H)}function v(H){return H===62?(t.consume(H),r.interrupt?e:M):n(H)}function x(H){return gn(H)?(t.consume(H),x):T(H)}function _(H){return H===47?(t.consume(H),T):H===58||H===95||pl(H)?(t.consume(H),S):gn(H)?(t.consume(H),_):T(H)}function S(H){return H===45||H===46||H===58||H===95||Xs(H)?(t.consume(H),S):k(H)}function k(H){return H===61?(t.consume(H),O):gn(H)?(t.consume(H),k):_(H)}function O(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),l=H,A):gn(H)?(t.consume(H),O):R(H)}function A(H){return H===l?(t.consume(H),l=null,P):H===null||Pt(H)?n(H):(t.consume(H),A)}function R(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||_s(H)?k(H):(t.consume(H),R)}function P(H){return H===47||H===62||gn(H)?_(H):n(H)}function T(H){return H===62?(t.consume(H),L):n(H)}function L(H){return H===null||Pt(H)?M(H):gn(H)?(t.consume(H),L):n(H)}function M(H){return H===45&&i===2?(t.consume(H),K):H===60&&i===1?(t.consume(H),G):H===62&&i===4?(t.consume(H),q):H===63&&i===3?(t.consume(H),W):H===93&&i===5?(t.consume(H),X):Pt(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(mTe,Q,D)(H)):H===null||Pt(H)?(t.exit("htmlFlowData"),D(H)):(t.consume(H),M)}function D(H){return t.check(yTe,N,Q)(H)}function N(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),U}function U(H){return H===null||Pt(H)?D(H):(t.enter("htmlFlowData"),M(H))}function K(H){return H===45?(t.consume(H),W):M(H)}function G(H){return H===47?(t.consume(H),o="",Z):M(H)}function Z(H){if(H===62){const re=o.toLowerCase();return eB.includes(re)?(t.consume(H),q):M(H)}return pl(H)&&o.length<8?(t.consume(H),o+=String.fromCharCode(H),Z):M(H)}function X(H){return H===93?(t.consume(H),W):M(H)}function W(H){return H===62?(t.consume(H),q):H===45&&i===2?(t.consume(H),W):M(H)}function q(H){return H===null||Pt(H)?(t.exit("htmlFlowData"),Q(H)):(t.consume(H),q)}function Q(H){return t.exit("htmlFlow"),e(H)}}function wTe(t,e,n){const r=this;return i;function i(o){return Pt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function _Te(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(tA,e,n)}}const xTe={name:"htmlText",tokenize:ETe};function ETe(t,e,n){const r=this;let i,s,o;return a;function a(W){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(W),l}function l(W){return W===33?(t.consume(W),u):W===47?(t.consume(W),k):W===63?(t.consume(W),_):pl(W)?(t.consume(W),R):n(W)}function u(W){return W===45?(t.consume(W),c):W===91?(t.consume(W),s=0,m):pl(W)?(t.consume(W),x):n(W)}function c(W){return W===45?(t.consume(W),p):n(W)}function d(W){return W===null?n(W):W===45?(t.consume(W),f):Pt(W)?(o=d,G(W)):(t.consume(W),d)}function f(W){return W===45?(t.consume(W),p):d(W)}function p(W){return W===62?K(W):W===45?f(W):d(W)}function m(W){const q="CDATA[";return W===q.charCodeAt(s++)?(t.consume(W),s===q.length?y:m):n(W)}function y(W){return W===null?n(W):W===93?(t.consume(W),b):Pt(W)?(o=y,G(W)):(t.consume(W),y)}function b(W){return W===93?(t.consume(W),v):y(W)}function v(W){return W===62?K(W):W===93?(t.consume(W),v):y(W)}function x(W){return W===null||W===62?K(W):Pt(W)?(o=x,G(W)):(t.consume(W),x)}function _(W){return W===null?n(W):W===63?(t.consume(W),S):Pt(W)?(o=_,G(W)):(t.consume(W),_)}function S(W){return W===62?K(W):_(W)}function k(W){return pl(W)?(t.consume(W),O):n(W)}function O(W){return W===45||Xs(W)?(t.consume(W),O):A(W)}function A(W){return Pt(W)?(o=A,G(W)):gn(W)?(t.consume(W),A):K(W)}function R(W){return W===45||Xs(W)?(t.consume(W),R):W===47||W===62||_s(W)?P(W):n(W)}function P(W){return W===47?(t.consume(W),K):W===58||W===95||pl(W)?(t.consume(W),T):Pt(W)?(o=P,G(W)):gn(W)?(t.consume(W),P):K(W)}function T(W){return W===45||W===46||W===58||W===95||Xs(W)?(t.consume(W),T):L(W)}function L(W){return W===61?(t.consume(W),M):Pt(W)?(o=L,G(W)):gn(W)?(t.consume(W),L):P(W)}function M(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(t.consume(W),i=W,D):Pt(W)?(o=M,G(W)):gn(W)?(t.consume(W),M):(t.consume(W),N)}function D(W){return W===i?(t.consume(W),i=void 0,U):W===null?n(W):Pt(W)?(o=D,G(W)):(t.consume(W),D)}function N(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||_s(W)?P(W):(t.consume(W),N)}function U(W){return W===47||W===62||_s(W)?P(W):n(W)}function K(W){return W===62?(t.consume(W),t.exit("htmlTextData"),t.exit("htmlText"),e):n(W)}function G(W){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(W),t.exit("lineEnding"),Z}function Z(W){return gn(W)?Dn(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):X(W)}function X(W){return t.enter("htmlTextData"),o(W)}}const gM={name:"labelEnd",resolveAll:TTe,resolveTo:kTe,tokenize:RTe},STe={tokenize:ITe},CTe={tokenize:PTe},ATe={tokenize:NTe};function TTe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Pl(t,0,t.length,n),t}function kTe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},c={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=bo(a,t.slice(s+1,s+r+3)),a=bo(a,[["enter",c,e]]),a=bo(a,pM(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=bo(a,[["exit",c,e],t[o-2],t[o-1],["exit",u,e]]),a=bo(a,t.slice(o+1)),a=bo(a,[["exit",l,e]]),Pl(t,s,t.length,a),t}function RTe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(kg(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(STe,c,o?c:d)(f):f===91?t.attempt(CTe,c,o?u:d)(f):o?c(f):d(f)}function u(f){return t.attempt(ATe,c,d)(f)}function c(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function ITe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return _s(d)?f0(t,s)(d):s(d)}function s(d){return d===41?c(d):$q(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return _s(d)?f0(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?Hq(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return _s(d)?f0(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function PTe(t,e,n){const r=this;return i;function i(a){return Vq.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(kg(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function NTe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const OTe={name:"labelStartImage",resolveAll:gM.resolveAll,tokenize:MTe};function MTe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const LTe={name:"labelStartLink",resolveAll:gM.resolveAll,tokenize:DTe};function DTe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const $R={name:"lineEnding",tokenize:FTe};function FTe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Dn(t,e,"linePrefix")}}const mE={name:"thematicBreak",tokenize:zTe};function zTe(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Pt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),gn(u)?Dn(t,a,"whitespace")(u):a(u))}}const os={continuation:{tokenize:VTe},exit:UTe,name:"list",tokenize:$Te},jTe={partial:!0,tokenize:WTe},BTe={partial:!0,tokenize:HTe};function $Te(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:H2(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(mE,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return H2(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(tA,r.interrupt?n:c,t.attempt(jTe,f,d))}function c(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return gn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function VTe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(tA,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Dn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!gn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(BTe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Dn(t,t.attempt(os,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function HTe(t,e,n){const r=this;return Dn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function UTe(t){t.exit(this.containerState.type)}function WTe(t,e,n){const r=this;return Dn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!gn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const tB={name:"setextUnderline",resolveTo:qTe,tokenize:GTe};function qTe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function GTe(t,e,n){const r=this;let i;return s;function s(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),gn(u)?Dn(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Pt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const YTe={tokenize:XTe};function XTe(t){const e=this,n=t.attempt(tA,r,t.attempt(this.parser.constructs.flowInitial,i,Dn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(eTe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const KTe={resolveAll:Wq()},QTe=Uq("string"),ZTe=Uq("text");function Uq(t){return{resolveAll:Wq(t==="text"?JTe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(c){return u(c)?s(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),s(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Wq(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function JTe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const eke={42:os,43:os,45:os,48:os,49:os,50:os,51:os,52:os,53:os,54:os,55:os,56:os,57:os,62:Fq},tke={91:sTe},nke={[-2]:BR,[-1]:BR,32:BR},rke={35:dTe,42:mE,45:[tB,mE],60:gTe,61:tB,95:mE,96:Jj,126:Jj},ike={38:jq,92:zq},ske={[-5]:$R,[-4]:$R,[-3]:$R,33:OTe,38:jq,42:U2,60:[LAe,xTe],91:LTe,92:[uTe,zq],93:gM,95:U2,96:YAe},oke={null:[U2,KTe]},ake={null:[42,95]},lke={null:[]},uke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ake,contentInitial:tke,disable:lke,document:eke,flow:rke,flowInitial:nke,insideSpan:oke,string:ike,text:ske},Symbol.toStringTag,{value:"Module"}));function cke(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:A(k),check:A(O),consume:x,enter:_,exit:S,interrupt:A(O,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(L){return o=bo(o,L),b(),o[o.length-1]!==null?[]:(R(e,0),u.events=pM(s,u.events,u),u.events)}function f(L,M){return hke(p(L),M)}function p(L){return dke(o,L)}function m(){const{_bufferIndex:L,_index:M,line:D,column:N,offset:U}=r;return{_bufferIndex:L,_index:M,line:D,column:N,offset:U}}function y(L){i[L.line]=L.column,T()}function b(){let L;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<M.length;)v(M.charCodeAt(r._bufferIndex));else v(M)}}function v(L){c=c(L)}function x(L){Pt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,T()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function _(L,M){const D=M||{};return D.type=L,D.start=m(),u.events.push(["enter",D,u]),a.push(D),D}function S(L){const M=a.pop();return M.end=m(),u.events.push(["exit",M,u]),M}function k(L,M){R(L,M.from)}function O(L,M){M.restore()}function A(L,M){return D;function D(N,U,K){let G,Z,X,W;return Array.isArray(N)?Q(N):"tokenize"in N?Q([N]):q(N);function q(he){return de;function de(oe){const ce=oe!==null&&he[oe],ge=oe!==null&&he.null,xe=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(ge)?ge:ge?[ge]:[]];return Q(xe)(oe)}}function Q(he){return G=he,Z=0,he.length===0?K:H(he[Z])}function H(he){return de;function de(oe){return W=P(),X=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?te():he.tokenize.call(M?Object.assign(Object.create(u),M):u,l,re,te)(oe)}}function re(he){return L(X,W),U}function te(he){return W.restore(),++Z<G.length?H(G[Z]):K}}}function R(L,M){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&Pl(u.events,M,u.events.length-M,L.resolve(u.events.slice(M),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function P(){const L=m(),M=u.previous,D=u.currentConstruct,N=u.events.length,U=Array.from(a);return{from:N,restore:K};function K(){r=L,u.previous=M,u.currentConstruct=D,u.events.length=N,a=U,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function dke(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function hke(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function fke(t){const r={constructs:wAe([uke,...(t||{}).extensions||[]]),content:i(kAe),defined:[],document:i(IAe),flow:i(YTe),lazy:{},string:i(QTe),text:i(ZTe)};return r;function i(s){return o;function o(a){return cke(r,s,a)}}}function pke(t){for(;!Bq(t););return t}const nB=/[\0\t\n\r]/g;function gke(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,c,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(nB.lastIndex=d,u=nB.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const mke=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yke(t){return t.replace(mke,vke)}function vke(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Dq(n.slice(s?2:1),s?16:10)}return fM(n)||t}const qq={}.hasOwnProperty;function bke(t,e,n){return typeof e!="string"&&(n=e,e=void 0),wke(n)(pke(fke(n).document().write(gke()(t,e,!0))))}function wke(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ue),autolinkProtocol:P,autolinkEmail:P,atxHeading:s(pe),blockQuote:s(ge),characterEscape:P,characterReference:P,codeFenced:s(xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xe,o),codeText:s(Ee,o),codeTextData:P,data:P,codeFlowValue:P,definition:s(Pe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(V),hardBreakEscape:s(me),hardBreakTrailing:s(me),htmlFlow:s(le,o),htmlFlowData:P,htmlText:s(le,o),htmlTextData:P,image:s(ee),label:o,link:s(ue),listItem:s(Te),listItemValue:f,listOrdered:s(ve,d),listUnordered:s(ve),paragraph:s(ye),reference:H,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(pe),strong:s(Me),thematicBreak:s(ze)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:ce,autolinkProtocol:oe,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:he,characterReference:de,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:T,codeIndented:l(v),codeText:l(U),codeTextData:T,data:T,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l(D),htmlFlowData:T,htmlText:l(N),htmlTextData:T,image:l(G),label:X,labelText:Z,lineEnding:L,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:re,resourceDestinationString:W,resourceTitleString:q,resource:Q,setextHeading:l(R),setextHeadingLineSequence:A,setextHeadingText:O,strong:l(),thematicBreak:l()}};Gq(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(we){let Re={type:"root",children:[]};const Be={stack:[Re],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:c,data:n},et=[];let yt=-1;for(;++yt<we.length;)if(we[yt][1].type==="listOrdered"||we[yt][1].type==="listUnordered")if(we[yt][0]==="enter")et.push(yt);else{const tt=et.pop();yt=i(we,tt,yt)}for(yt=-1;++yt<we.length;){const tt=e[we[yt][0]];qq.call(tt,we[yt][1].type)&&tt[we[yt][1].type].call(Object.assign({sliceSerialize:we[yt][2].sliceSerialize},Be),we[yt][1])}if(Be.tokenStack.length>0){const tt=Be.tokenStack[Be.tokenStack.length-1];(tt[1]||rB).call(Be,void 0,tt[0])}for(Re.position={start:Fc(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:Fc(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},yt=-1;++yt<e.transforms.length;)Re=e.transforms[yt](Re)||Re;return Re}function i(we,Re,Be){let et=Re-1,yt=-1,tt=!1,Yt,wt,sn,nt;for(;++et<=Be;){const pt=we[et];switch(pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pt[0]==="enter"?yt++:yt--,nt=void 0;break}case"lineEndingBlank":{pt[0]==="enter"&&(Yt&&!nt&&!yt&&!sn&&(sn=et),nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nt=void 0}if(!yt&&pt[0]==="enter"&&pt[1].type==="listItemPrefix"||yt===-1&&pt[0]==="exit"&&(pt[1].type==="listUnordered"||pt[1].type==="listOrdered")){if(Yt){let Ut=et;for(wt=void 0;Ut--;){const on=we[Ut];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;wt&&(we[wt][1].type="lineEndingBlank",tt=!0),on[1].type="lineEnding",wt=Ut}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}sn&&(!wt||sn<wt)&&(Yt._spread=!0),Yt.end=Object.assign({},wt?we[wt][1].start:pt[1].end),we.splice(wt||et,0,["exit",Yt,pt[2]]),et++,Be++}if(pt[1].type==="listItemPrefix"){const Ut={type:"listItem",_spread:!1,start:Object.assign({},pt[1].start),end:void 0};Yt=Ut,we.splice(et,0,["enter",Ut,pt[2]]),et++,Be++,sn=void 0,nt=!0}}}return we[Re][1]._spread=tt,Be}function s(we,Re){return Be;function Be(et){a.call(this,we(et),et),Re&&Re.call(this,et)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(we,Re,Be){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Re,Be||void 0]),we.position={start:Fc(Re.start),end:void 0}}function l(we){return Re;function Re(Be){we&&we.call(this,Be),u.call(this,Be)}}function u(we,Re){const Be=this.stack.pop(),et=this.tokenStack.pop();if(et)et[0].type!==we.type&&(Re?Re.call(this,we,et[0]):(et[1]||rB).call(this,we,et[0]));else throw new Error("Cannot close `"+we.type+"` ("+h0({start:we.start,end:we.end})+"): it’s not open");Be.position.end=Fc(we.end)}function c(){return vAe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(we){if(this.data.expectingFirstListItemValue){const Re=this.stack[this.stack.length-2];Re.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function p(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.lang=we}function m(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.meta=we}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.value=we.replace(/(\r?\n|\r)$/g,"")}function x(we){const Re=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Re,Be.identifier=kg(this.sliceSerialize(we)).toLowerCase()}function _(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.title=we}function S(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.url=we}function k(we){const Re=this.stack[this.stack.length-1];if(!Re.depth){const Be=this.sliceSerialize(we).length;Re.depth=Be}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function A(we){const Re=this.stack[this.stack.length-1];Re.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function P(we){const Be=this.stack[this.stack.length-1].children;let et=Be[Be.length-1];(!et||et.type!=="text")&&(et=je(),et.position={start:Fc(we.start),end:void 0},Be.push(et)),this.stack.push(et)}function T(we){const Re=this.stack.pop();Re.value+=this.sliceSerialize(we),Re.position.end=Fc(we.end)}function L(we){const Re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=Re.children[Re.children.length-1];Be.position.end=Fc(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Re.type)&&(P.call(this,we),T.call(this,we))}function M(){this.data.atHardBreak=!0}function D(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.value=we}function N(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.value=we}function U(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.value=we}function K(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Re,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function G(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Re=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Re,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function Z(we){const Re=this.sliceSerialize(we),Be=this.stack[this.stack.length-2];Be.label=yke(Re),Be.identifier=kg(Re).toLowerCase()}function X(){const we=this.stack[this.stack.length-1],Re=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const et=we.children;Be.children=et}else Be.alt=Re}function W(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.url=we}function q(){const we=this.resume(),Re=this.stack[this.stack.length-1];Re.title=we}function Q(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function re(we){const Re=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Re,Be.identifier=kg(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function te(we){this.data.characterReferenceType=we.type}function he(we){const Re=this.sliceSerialize(we),Be=this.data.characterReferenceType;let et;Be?(et=Dq(Re,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):et=fM(Re);const yt=this.stack[this.stack.length-1];yt.value+=et}function de(we){const Re=this.stack.pop();Re.position.end=Fc(we.end)}function oe(we){T.call(this,we);const Re=this.stack[this.stack.length-1];Re.url=this.sliceSerialize(we)}function ce(we){T.call(this,we);const Re=this.stack[this.stack.length-1];Re.url="mailto:"+this.sliceSerialize(we)}function ge(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function Ee(){return{type:"inlineCode",value:""}}function Pe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function V(){return{type:"emphasis",children:[]}}function pe(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function le(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function ve(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function Te(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function ye(){return{type:"paragraph",children:[]}}function Me(){return{type:"strong",children:[]}}function je(){return{type:"text",value:""}}function ze(){return{type:"thematicBreak"}}}function Fc(t){return{line:t.line,column:t.column,offset:t.offset}}function Gq(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Gq(t,r):_ke(t,r)}}function _ke(t,e){let n;for(n in e)if(qq.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function rB(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+h0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+h0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+h0({start:e.start,end:e.end})+") is still open")}function xke(t){const e=this;e.parser=n;function n(r){return bke(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Eke(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Ske(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Cke(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function Ake(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Tke(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function kke(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=fy(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function Rke(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ike(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Yq(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function Pke(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Yq(t,e);const i={src:fy(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function Nke(t,e){const n={src:fy(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function Oke(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Mke(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Yq(t,e);const i={href:fy(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function Lke(t,e){const n={href:fy(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Dke(t,e,n){const r=t.all(e),i=n?Fke(n):Xq(e),s={},o=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?o.push(...c.children):o.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function Fke(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Xq(n[r])}return e}function Xq(t){const e=t.spread;return e??t.children.length>1}function zke(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function jke(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Bke(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function $ke(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Vke(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=uM(e.children[1]),l=Rq(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Hke(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let m={type:"element",tagName:s,properties:f,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function Uke(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const iB=9,sB=32;function Wke(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(oB(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(oB(e.slice(i),i>0,!1)),s.join("")}function oB(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===iB||s===sB;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===iB||s===sB;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function qke(t,e){const n={type:"text",value:Wke(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Gke(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Yke={blockquote:Eke,break:Ske,code:Cke,delete:Ake,emphasis:Tke,footnoteReference:kke,heading:Rke,html:Ike,imageReference:Pke,image:Nke,inlineCode:Oke,linkReference:Mke,link:Lke,listItem:Dke,list:zke,paragraph:jke,root:Bke,strong:$ke,table:Vke,tableCell:Uke,tableRow:Hke,text:qke,thematicBreak:Gke,toml:dx,yaml:dx,definition:dx,footnoteDefinition:dx};function dx(){}const Kq=-1,nA=0,p0=1,mS=2,mM=3,yM=4,vM=5,bM=6,Qq=7,Zq=8,aB=typeof self=="object"?self:globalThis,Xke=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case nA:case Kq:return n(o,i);case p0:{const a=n([],i);for(const l of o)a.push(r(l));return a}case mS:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case mM:return n(new Date(o),i);case yM:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case vM:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case bM:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case Qq:{const{name:a,message:l}=o;return n(new aB[a](l),i)}case Zq:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new aB[s](o),i)};return r},lB=t=>Xke(new Map,t)(0),ng="",{toString:Kke}={},{keys:Qke}=Object,xv=t=>{const e=typeof t;if(e!=="object"||!t)return[nA,e];const n=Kke.call(t).slice(8,-1);switch(n){case"Array":return[p0,ng];case"Object":return[mS,ng];case"Date":return[mM,ng];case"RegExp":return[yM,ng];case"Map":return[vM,ng];case"Set":return[bM,ng];case"DataView":return[p0,n]}return n.includes("Array")?[p0,n]:n.includes("Error")?[Qq,n]:[mS,n]},hx=([t,e])=>t===nA&&(e==="function"||e==="symbol"),Zke=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=xv(o);switch(a){case nA:{let c=o;switch(l){case"bigint":a=Zq,c=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([Kq],o)}return i([a,c],o)}case p0:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const c=[],d=i([a,c],o);for(const f of o)c.push(s(f));return d}case mS:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const c=[],d=i([a,c],o);for(const f of Qke(o))(t||!hx(xv(o[f])))&&c.push([s(f),s(o[f])]);return d}case mM:return i([a,o.toISOString()],o);case yM:{const{source:c,flags:d}=o;return i([a,{source:c,flags:d}],o)}case vM:{const c=[],d=i([a,c],o);for(const[f,p]of o)(t||!(hx(xv(f))||hx(xv(p))))&&c.push([s(f),s(p)]);return d}case bM:{const c=[],d=i([a,c],o);for(const f of o)(t||!hx(xv(f)))&&c.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},uB=(t,{json:e,lossy:n}={})=>{const r=[];return Zke(!(e||n),!!e,new Map,r)(t),r},yS=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?lB(uB(t,e)):structuredClone(t):(t,e)=>lB(uB(t,e));function Jke(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function eRe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function tRe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Jke,r=t.options.footnoteBackLabel||eRe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),f=fy(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,p);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=c[c.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...m)}else c.push(...m);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(c,!0)};t.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...yS(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const Jq=function(t){if(t==null)return sRe;if(typeof t=="function")return rA(t);if(typeof t=="object")return Array.isArray(t)?nRe(t):rRe(t);if(typeof t=="string")return iRe(t);throw new Error("Expected function, string, or object as test")};function nRe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Jq(t[n]);return rA(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rRe(t){const e=t;return rA(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function iRe(t){return rA(e);function e(n){return n&&n.type===t}}function rA(t){return e;function e(n,r,i){return!!(oRe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sRe(){return!0}function oRe(t){return t!==null&&typeof t=="object"&&"type"in t}const eG=[],aRe=!0,cB=!1,lRe="skip";function uRe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=Jq(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=eG,m,y,b;if((!e||s(l,u,c[c.length-1]||void 0))&&(p=cRe(n(l,c)),p[0]===cB))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==lRe)for(y=(r?v.children.length:-1)+o,b=c.concat(v);y>-1&&y<v.children.length;){const x=v.children[y];if(m=a(x,y,b)(),m[0]===cB)return m;y=typeof m[1]=="number"?m[1]:y+o}}return p}}}function cRe(t){return Array.isArray(t)?t:typeof t=="number"?[aRe,t]:t==null?eG:[t]}function tG(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),uRe(t,s,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return o(l,d,c)}}const W2={}.hasOwnProperty,dRe={};function hRe(t,e){const n=e||dRe,r=new Map,i=new Map,s=new Map,o={...Yke,...n.handlers},a={all:u,applyData:pRe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:fRe,wrap:mRe};return tG(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,f=String(c.identifier).toUpperCase();d.has(f)||d.set(f,c)}}),a;function l(c,d){const f=c.type,p=a.handlers[f];if(W2.call(a.handlers,f)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in c){const{children:y,...b}=c,v=yS(b);return v.children=a.all(c),v}return yS(c)}return(a.options.unknownHandler||gRe)(a,c,d)}function u(c){const d=[];if("children"in c){const f=c.children;let p=-1;for(;++p<f.length;){const m=a.one(f[p],c);if(m){if(p&&f[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=dB(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=dB(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function fRe(t,e){t.position&&(e.position=KCe(t))}function pRe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,yS(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gRe(t,e){const n=e.data||{},r="value"in e&&!(W2.call(n,"hProperties")||W2.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mRe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function dB(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function hB(t,e){const n=hRe(t,e),r=n.one(t,void 0),i=tRe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function yRe(t,e){return t&&"run"in t?async function(n,r){const i=hB(n,{file:r,...e});await t.run(i,r)}:function(n,r){return hB(n,{file:r,...t||e})}}function fB(t){if(t)throw t}var VR,pB;function vRe(){if(pB)return VR;pB=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var f;for(f in u);return typeof f>"u"||t.call(u,f)},o=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return VR=function l(){var u,c,d,f,p,m,y=arguments[0],b=1,v=arguments.length,x=!1;for(typeof y=="boolean"&&(x=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<v;++b)if(u=arguments[b],u!=null)for(c in u)d=a(y,c),f=a(u,c),y!==f&&(x&&f&&(s(f)||(p=i(f)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&s(d)?d:{},o(y,{name:c,newValue:l(x,m,f)})):typeof f<"u"&&o(y,{name:c,newValue:f}));return y},VR}var bRe=vRe();const HR=Es(bRe);function q2(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wRe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const c=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?_Re(c,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function _Re(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const Ua={basename:xRe,dirname:ERe,extname:SRe,join:CRe,sep:"/"};function xRe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');d1(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ERe(t){if(d1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function SRe(t){d1(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function CRe(...t){let e=-1,n;for(;++e<t.length;)d1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ARe(n)}function ARe(t){d1(t);const e=t.codePointAt(0)===47;let n=TRe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function TRe(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function d1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const kRe={cwd:RRe};function RRe(){return"/"}function G2(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function IRe(t){if(typeof t=="string")t=new URL(t);else if(!G2(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return PRe(t)}function PRe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const UR=["history","path","basename","stem","extname","dirname"];class nG{constructor(e){let n;e?G2(e)?n={path:e}:typeof e=="string"||NRe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":kRe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<UR.length;){const s=UR[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)UR.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ua.basename(this.path):void 0}set basename(e){qR(e,"basename"),WR(e,"basename"),this.path=Ua.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ua.dirname(this.path):void 0}set dirname(e){gB(this.basename,"dirname"),this.path=Ua.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ua.extname(this.path):void 0}set extname(e){if(WR(e,"extname"),gB(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ua.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){G2(e)&&(e=IRe(e)),qR(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ua.basename(this.path,this.extname):void 0}set stem(e){qR(e,"stem"),WR(e,"stem"),this.path=Ua.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ii(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function WR(t,e){if(t&&t.includes(Ua.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ua.sep+"`")}function qR(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function gB(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function NRe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ORe=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},MRe={}.hasOwnProperty;class wM extends ORe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wRe()}copy(){const e=new wM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(HR(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(XR("data",this.frozen),this.namespace[e]=n,this):MRe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(XR("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=fx(e),r=this.parser||this.Parser;return GR("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),GR("process",this.parser||this.Parser),YR("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=fx(e),l=r.parse(a);r.run(l,a,function(c,d,f){if(c||!d||!f)return u(c);const p=d,m=r.stringify(p,f);FRe(m)?f.value=m:f.result=m,u(c,f)});function u(c,d){c||!d?o(c):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),GR("processSync",this.parser||this.Parser),YR("processSync",this.compiler||this.Compiler),this.process(e,i),yB("processSync","process",n),r;function i(s,o){n=!0,fB(s),r=o}}run(e,n,r){mB(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=fx(n);i.run(e,l,u);function u(c,d,f){const p=d||e;c?a(c):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),yB("runSync","run",r),i;function s(o,a){fB(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=fx(n),i=this.compiler||this.Compiler;return YR("stringify",i),mB(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(XR("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=HR(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const y=r[f][1];q2(y)&&q2(p)&&(p=HR(!0,y,p)),r[f]=[u,p,...m]}}}}const LRe=new wM().freeze();function GR(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function YR(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function XR(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mB(t){if(!q2(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function yB(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function fx(t){return DRe(t)?t:new nG(t)}function DRe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function FRe(t){return typeof t=="string"||zRe(t)}function zRe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jRe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",vB=[],bB={allowDangerousHtml:!0},BRe=/^(https?|ircs?|mailto|xmpp)$/i,$Re=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VRe(t){const e=HRe(t),n=URe(t);return WRe(e.runSync(e.parse(n),n),t)}function HRe(t){const e=t.rehypePlugins||vB,n=t.remarkPlugins||vB,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...bB}:bB;return LRe().use(xke).use(n).use(yRe,r).use(e)}function URe(t){const e=t.children||"",n=new nG;return typeof e=="string"&&(n.value=e),n}function WRe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||qRe;for(const c of $Re)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+jRe+c.id,void 0);return tG(t,u),tAe(t,{Fragment:j.Fragment,components:i,ignoreInvalidStyle:!0,jsx:j.jsx,jsxs:j.jsxs,passKeys:!0,passNode:!0});function u(c,d,f){if(c.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in jR)if(Object.hasOwn(jR,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],y=jR[p];(y===null||y.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):s?s.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,f)),p&&f&&typeof d=="number")return a&&c.children?f.children.splice(d,1,...c.children):f.children.splice(d,1),d}}}function qRe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||BRe.test(t.slice(0,e))?t:""}const GRe=()=>{const t="Bridging Knowledge Gaps Between Cognitive Goals Across Multiple Readings Of Academic Papers",e=[{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"}],n="Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    To address these gaps, we propose **re:ad, an interactive reading system designed to help researchers track their reading process, manage cognitive goals, and systematically organize insights**.    By providing a structured and dynamic approach to reading, re:ad aims to reduce cognitive overload and enhance the efficiency of engaging with academic literature.",r=[{name:"GitHub",url:"https://github.com/olliepai/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55"},{name:"Try re:ad",url:"./#/papers"}],i=s=>{var o;(o=document.querySelector(s))==null||o.scrollIntoView({behavior:"smooth"})};return j.jsxs(Et,{className:"home",children:[j.jsxs(Et,{className:"title-block",sx:{p:2,gap:3},children:[j.jsx("img",{src:GU,alt:"logo",style:{width:"300px"}}),j.jsx(rn,{variant:"h3",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),j.jsx(Et,{className:"authors-block",children:e.map(s=>j.jsxs(Et,{className:"author-box",children:[j.jsxs(rn,{variant:"h6",children:[s.name,j.jsx("sup",{children:"*"})]}),j.jsx(rn,{variant:"body1",children:s.email})]},s.name))}),j.jsxs(Et,{className:"information-block",children:[j.jsx(rn,{variant:"h6",children:Array.from(new Set(e.map(s=>s.affiliation))).join(", ")}),j.jsxs(rn,{variant:"body2",children:[j.jsx("sup",{children:"*"}),"Indicates Equal Contribution"]}),j.jsx(rn,{variant:"body1"})]}),j.jsxs(Et,{className:"links-block",sx:{my:2},children:[j.jsx(Ln,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:j.jsx(Sye,{}),children:"Code"}),j.jsx(Ln,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:j.jsx(wye,{}),children:"Blog"}),j.jsx(Ln,{className:"link-button",variant:"contained",onClick:()=>window.open(r[2].url,"_blank"),startIcon:j.jsx("img",{src:CCe,style:{width:"20px",height:"20px"}}),children:"Try re:ad"}),j.jsx(Ln,{className:"link-button",variant:"contained",onClick:()=>i(".poster-block"),startIcon:j.jsx(B4,{}),children:"Poster"}),j.jsx(Ln,{className:"link-button",variant:"contained",onClick:()=>i(".video-block"),startIcon:j.jsx($4,{}),children:"Video"})]}),j.jsxs(Et,{className:"description-block",sx:{my:2},children:[j.jsx(rn,{variant:"h4",children:j.jsx("b",{children:"What is re:ad?"})}),j.jsx(VRe,{components:{p:({children:s})=>j.jsx(rn,{variant:"body1",sx:{lineHeight:2,my:2},children:s})},children:n})]}),j.jsxs(Et,{className:"poster-block",sx:{my:2},children:[j.jsx(rn,{variant:"h4",children:"Poster"}),j.jsx(rn,{variant:"body2",children:"🏆 Best User Research in CS 239"}),j.jsx("img",{className:"poster-image",src:ACe,alt:"poster"})]}),j.jsxs(Et,{className:"video-block",sx:{my:2},children:[j.jsx(rn,{variant:"h4",children:"Tutorial Video"}),j.jsx("iframe",{src:"https://www.loom.com/embed/ef1916f78287477c9aa5f9e31b305e9f?sid=729a2a90-a8b2-4625-8d33-af2bef562dc9",allowFullScreen:!0})]}),j.jsxs(Mme,{ariaLabel:"Navigation SpeedDial",sx:{position:"fixed",bottom:"2rem",right:"2rem"},icon:j.jsx(Tye,{}),children:[j.jsx(Y_,{icon:j.jsx(bye,{}),tooltipTitle:"Back to Top",onClick:()=>i(".title-block")},"top"),j.jsx(Y_,{icon:j.jsx($4,{}),tooltipTitle:"Go to Video",onClick:()=>i(".video-block")},"video"),j.jsx(Y_,{icon:j.jsx(B4,{}),tooltipTitle:"Go to Poster",onClick:()=>i(".poster-block")},"poster"),j.jsx(Y_,{icon:j.jsx(kye,{}),tooltipTitle:"Go to Description",onClick:()=>i(".description-block")},"description")]})]})},YRe=()=>{const t=NO(),[e,n]=z.useState(!1),[r,i]=z.useState(!0),[s,o]=z.useState(""),[a,l]=z.useState(""),[u,c]=z.useState(""),[d,f]=z.useState({email:!1,password:!1,confirmPassword:!1}),[p,m]=z.useState({email:"",password:"",confirmPassword:""}),[y,b]=z.useState([]),[v,x]=z.useState(""),[_,S]=z.useState([]),[k,O]=z.useState(!0),[A,R]=z.useState(!1),[P,T]=z.useState({title:"",file:new File([],"")}),{userData:L,setUserData:M,loadUserData:D,addUser:N,updateUser:U,getUserByEmail:K,getAllPapersData:G,addPaperData:Z,addPaperFile:X,addPaperToUser:W}=hC(),[q,Q]=z.useState(null),[H,re]=z.useState(!1),[te,he]=z.useState("");z.useEffect(()=>{de()},[L]),z.useEffect(()=>{const ue=y.filter(ve=>ve.title.toLowerCase().includes(v.toLowerCase()));S(ue)},[v,y]);const de=async()=>{try{if(!L)return;O(!0);const ue=await G();b(ue.filter(ve=>L.paperIds.includes(ve.id)))}catch(ue){console.error("Error loading papers:",ue),b([])}finally{O(!1)}},oe=()=>{T({title:"",file:new File([],"")}),R(!0)},ce=async()=>{try{if(!L){alert("Please login to add a paper");return}if(!(P!=null&&P.title.trim())){alert("Please enter a title");return}if(!(P!=null&&P.file)){alert("Please select a PDF file");return}const ue=kE(),ve={id:ue,title:P.title.trim()};await X(ue,P.file),await Z(ve),await W(L.id,ue),await de(),R(!1),console.log("Paper saved successfully")}catch(ue){console.error("Error saving paper:",ue),alert("Failed to save paper. Please try again.")}},ge=ue=>{var Te;const ve=(Te=ue.target.files)==null?void 0:Te[0];ve&&ve.type==="application/pdf"?T({...P,file:ve}):alert("Please select a valid PDF file")},xe=ue=>{t("/paper-reader",{state:{paperId:ue}})},Ee=async()=>{if(f({email:!1,password:!1,confirmPassword:!1}),m({email:"",password:"",confirmPassword:""}),!s.trim()){f(ue=>({...ue,email:!0})),m(ue=>({...ue,email:"Email is required"}));return}if(!a.trim()){f(ue=>({...ue,password:!0})),m(ue=>({...ue,password:"Password is required"}));return}if(r){const ue=await K(s);if(!ue){f({email:!0,password:!1,confirmPassword:!1}),m({email:"Email not found",password:"",confirmPassword:""});return}if(ue.password!==a){f({email:!1,password:!0,confirmPassword:!1}),m({email:"",password:"Password is incorrect",confirmPassword:""});return}localStorage.setItem("userId",ue.id),await D(ue.id)}else{if(a!==u){f(ve=>({...ve,confirmPassword:!0})),m(ve=>({...ve,confirmPassword:"Passwords do not match"}));return}if(a.length<8){f(ve=>({...ve,password:!0})),m(ve=>({...ve,password:"Password must be at least 6 characters"}));return}const ue=kE();await N({id:ue,email:s,password:a,name:s.split("@")[0],role:AH.STUDENT,paperIds:[]}),localStorage.setItem("userId",ue),await D(ue)}Pe()},Pe=()=>{n(!1),i(!0),o(""),l(""),c(""),f({email:!1,password:!1,confirmPassword:!1}),m({email:"",password:"",confirmPassword:""})},V=()=>{localStorage.removeItem("userId"),M(void 0),Q(null)},pe=()=>{he((L==null?void 0:L.name)||""),re(!0),Q(null)},me=async()=>{if(!(!L||!te.trim()))try{const ue={...L,name:te.trim()};await U(ue),await D(L.id),re(!1)}catch(ue){console.error("Error updating profile:",ue),alert("Failed to update profile. Please try again.")}},le=ue=>{Q(ue.currentTarget)},ee=()=>{Q(null)};return j.jsxs(Et,{className:"papers-hub-container",children:[j.jsxs(Et,{sx:{mb:4},children:[j.jsxs(Et,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[j.jsxs(Et,{sx:{display:"flex",alignItems:"center",gap:2},children:[j.jsx("img",{height:40,src:"/re-ad-icon.svg",alt:"re:ad"}),j.jsx(rn,{variant:"h4",component:"h1",fontWeight:"bold",children:"Papers Hub"})]}),L?j.jsxs(Et,{sx:{display:"flex",alignItems:"center",gap:1},children:[j.jsx(h4,{sx:{bgcolor:"grey.200"},children:j.jsx(Iye,{})}),j.jsx(rn,{variant:"body1",color:"text.secondary",children:L.name}),j.jsx(xh,{size:"small",onClick:le,sx:{ml:1},children:j.jsx(Aye,{})}),j.jsxs(BU,{anchorEl:q,open:!!q,onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[j.jsxs(nP,{onClick:pe,children:[j.jsx(S4,{children:j.jsx(Eye,{fontSize:"small"})}),j.jsx(C4,{children:"Edit Profile"})]}),j.jsxs(nP,{onClick:V,children:[j.jsx(S4,{children:j.jsx(Cye,{fontSize:"small"})}),j.jsx(C4,{children:"Logout"})]})]})]}):j.jsx(Ln,{variant:"contained",onClick:()=>n(!0),children:"Login / Register"})]}),j.jsx(JI,{sx:{borderColor:"black"}}),j.jsxs(Et,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[j.jsx(Xo,{placeholder:"Search papers...",value:v,onChange:ue=>x(ue.target.value),InputProps:{startAdornment:j.jsx(Ege,{position:"start",children:j.jsx(Nye,{})})},sx:{maxWidth:400},size:"small",fullWidth:!0}),j.jsx(Ln,{variant:"contained",startIcon:j.jsx(oP,{}),onClick:oe,size:"large",children:"Add Paper"})]})]}),j.jsxs(rn,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[_.length," paper",_.length!==1?"s":""," found"]}),j.jsx(Vm,{children:j.jsxs(Xme,{children:[j.jsx(uye,{children:j.jsxs(_k,{children:[j.jsx(Kp,{width:60}),j.jsx(Kp,{children:"Title"})]})}),j.jsx(eye,{children:k?Array.from(new Array(5)).map((ue,ve)=>j.jsxs(_k,{children:[j.jsx(Kp,{children:j.jsx(O4,{variant:"circular",width:40,height:40})}),j.jsx(Kp,{children:j.jsx(O4,{variant:"text"})})]},ve)):_.map(ue=>j.jsxs(_k,{sx:{"&:hover":{bgcolor:"action.hover"}},onClick:()=>xe(ue.id),children:[j.jsx(Kp,{children:j.jsx(h4,{sx:{bgcolor:"grey.200"},children:j.jsx(Pye,{sx:{color:"grey.600"}})})}),j.jsx(Kp,{children:j.jsx(rn,{variant:"body2",sx:{fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:ue.title})})]},ue.id))})]})}),_.length===0&&!k&&j.jsx(Et,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,textAlign:"center"},children:j.jsx(rn,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No papers found"})}),j.jsxs(Px,{open:e,onClose:Pe,children:[j.jsx(Mx,{children:r?"Login":"Register"}),j.jsx(Ox,{children:j.jsxs(Lx,{spacing:2,sx:{mt:1},children:[j.jsx(Xo,{required:!0,error:d.email,helperText:p.email,label:"Email",type:"email",fullWidth:!0,value:s,onChange:ue=>o(ue.target.value)}),j.jsx(Xo,{required:!0,error:d.password,helperText:p.password,label:"Password",type:"password",fullWidth:!0,value:a,onChange:ue=>l(ue.target.value)}),!r&&j.jsx(Xo,{required:!0,error:d.confirmPassword,helperText:p.confirmPassword,label:"Confirm Password",type:"password",fullWidth:!0,value:u,onChange:ue=>c(ue.target.value)}),j.jsx(Ln,{variant:"text",onClick:()=>i(!r),sx:{alignSelf:"flex-start",textTransform:"none"},children:r?"Don't have an account? Register":"Already have an account? Login"})]})}),j.jsxs(Nx,{children:[j.jsx(Ln,{onClick:Pe,children:"Cancel"}),j.jsx(Ln,{onClick:Ee,variant:"contained",children:r?"Login":"Register"})]})]}),j.jsxs(Px,{open:A,onClose:()=>R(!1),maxWidth:"sm",fullWidth:!0,children:[j.jsx(Mx,{children:"Add New Paper"}),j.jsx(Ox,{sx:{pt:2},children:j.jsxs(Lx,{spacing:3,children:[j.jsx(Xo,{label:"Title",value:P==null?void 0:P.title,onChange:ue=>T({...P,title:ue.target.value}),fullWidth:!0,required:!0}),j.jsxs(Et,{children:[j.jsx("input",{type:"file",accept:"application/pdf",onChange:ge,style:{display:"none"},id:"pdf-upload"}),j.jsx("label",{htmlFor:"pdf-upload",children:j.jsx(Ln,{variant:"outlined",component:"span",startIcon:j.jsx(WU,{}),fullWidth:!0,sx:{py:2},children:P!=null&&P.file?P.file.name:"Choose PDF File"})})]})]})}),j.jsxs(Nx,{sx:{px:3,pb:3},children:[j.jsx(Ln,{onClick:()=>R(!1),children:"Cancel"}),j.jsx(Ln,{onClick:ce,variant:"contained",children:"Add Paper"})]})]}),j.jsxs(Px,{open:H,onClose:()=>re(!1),children:[j.jsx(Mx,{children:"Edit Profile"}),j.jsx(Ox,{children:j.jsxs(Lx,{spacing:2,sx:{mt:1,minWidth:300},children:[j.jsx(Xo,{label:"Name",value:te,onChange:ue=>he(ue.target.value),fullWidth:!0,autoFocus:!0}),j.jsx(Xo,{label:"Email",value:(L==null?void 0:L.email)||"",disabled:!0,fullWidth:!0,helperText:"Email cannot be changed"}),j.jsx(Xo,{label:"Role",value:(L==null?void 0:L.role)||"",disabled:!0,fullWidth:!0,helperText:"Role is assigned by administrators"})]})}),j.jsxs(Nx,{children:[j.jsx(Ln,{onClick:()=>re(!1),children:"Cancel"}),j.jsx(Ln,{onClick:me,variant:"contained",children:"Save Changes"})]})]})]})};function XRe(){return z.useEffect(()=>{window.sessionStorage.clear()},[]),j.jsx(Oae,{children:j.jsx(xte,{children:j.jsx(Mae,{children:j.jsx(Q_e,{children:j.jsx(Kve,{children:j.jsxs(Ave,{children:[j.jsx(Dx,{path:"/",element:j.jsx(GRe,{})}),j.jsx(Dx,{path:"/papers",element:j.jsx(YRe,{})}),j.jsx(Dx,{path:"/paper-reader",element:j.jsx(SCe,{})})]})})})})})})}_B.createRoot(document.getElementById("root")).render(j.jsx(z.StrictMode,{children:j.jsx(XRe,{})}));
