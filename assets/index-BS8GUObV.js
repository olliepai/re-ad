var ble=Object.defineProperty;var mz=t=>{throw TypeError(t)};var xle=(t,e,n)=>e in t?ble(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var wle=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ct=(t,e,n)=>xle(t,typeof e!="symbol"?e+"":e,n),GI=(t,e,n)=>e.has(t)||mz("Cannot "+n);var C=(t,e,n)=>(GI(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>e.has(t)?mz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ne=(t,e,n,r)=>(GI(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),re=(t,e,n)=>(GI(t,e,"access private method"),n);var ys=(t,e,n,r)=>({set _(i){ne(t,e,i,n)},get _(){return C(t,e,r)}});var fet=wle((Os,Fs)=>{function _le(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sle(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var KI={exports:{}},ib={},YI={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yz;function Ele(){if(yz)return ln;yz=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),d=Symbol.iterator;function h(Y){return Y===null||typeof Y!="object"?null:(Y=d&&Y[d]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function x(Y,ae,q){this.props=Y,this.context=ae,this.refs=y,this.updater=q||p}x.prototype.isReactComponent={},x.prototype.setState=function(Y,ae){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ae,"setState")},x.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function _(){}_.prototype=x.prototype;function E(Y,ae,q){this.props=Y,this.context=ae,this.refs=y,this.updater=q||p}var S=E.prototype=new _;S.constructor=E,m(S,x.prototype),S.isPureReactComponent=!0;var T=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function M(Y,ae,q){var Q,te={},ue=null,de=null;if(ae!=null)for(Q in ae.ref!==void 0&&(de=ae.ref),ae.key!==void 0&&(ue=""+ae.key),ae)I.call(ae,Q)&&!R.hasOwnProperty(Q)&&(te[Q]=ae[Q]);var se=arguments.length-2;if(se===1)te.children=q;else if(1<se){for(var ce=Array(se),he=0;he<se;he++)ce[he]=arguments[he+2];te.children=ce}if(Y&&Y.defaultProps)for(Q in se=Y.defaultProps,se)te[Q]===void 0&&(te[Q]=se[Q]);return{$$typeof:t,type:Y,key:ue,ref:de,props:te,_owner:N.current}}function L(Y,ae){return{$$typeof:t,type:Y.type,key:ae,ref:Y.ref,props:Y.props,_owner:Y._owner}}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function D(Y){var ae={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(q){return ae[q]})}var V=/\/+/g;function $(Y,ae){return typeof Y=="object"&&Y!==null&&Y.key!=null?D(""+Y.key):ae.toString(36)}function H(Y,ae,q,Q,te){var ue=typeof Y;(ue==="undefined"||ue==="boolean")&&(Y=null);var de=!1;if(Y===null)de=!0;else switch(ue){case"string":case"number":de=!0;break;case"object":switch(Y.$$typeof){case t:case e:de=!0}}if(de)return de=Y,te=te(de),Y=Q===""?"."+$(de,0):Q,T(te)?(q="",Y!=null&&(q=Y.replace(V,"$&/")+"/"),H(te,ae,q,"",function(he){return he})):te!=null&&(k(te)&&(te=L(te,q+(!te.key||de&&de.key===te.key?"":(""+te.key).replace(V,"$&/")+"/")+Y)),ae.push(te)),1;if(de=0,Q=Q===""?".":Q+":",T(Y))for(var se=0;se<Y.length;se++){ue=Y[se];var ce=Q+$(ue,se);de+=H(ue,ae,q,ce,te)}else if(ce=h(Y),typeof ce=="function")for(Y=ce.call(Y),se=0;!(ue=Y.next()).done;)ue=ue.value,ce=Q+$(ue,se++),de+=H(ue,ae,q,ce,te);else if(ue==="object")throw ae=String(Y),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.");return de}function G(Y,ae,q){if(Y==null)return Y;var Q=[],te=0;return H(Y,Q,"","",function(ue){return ae.call(q,ue,te++)}),Q}function K(Y){if(Y._status===-1){var ae=Y._result;ae=ae(),ae.then(function(q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=q)},function(q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=q)}),Y._status===-1&&(Y._status=0,Y._result=ae)}if(Y._status===1)return Y._result.default;throw Y._result}var J={current:null},ee={transition:null},X={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:ee,ReactCurrentOwner:N};function j(){throw Error("act(...) is not supported in production builds of React.")}return ln.Children={map:G,forEach:function(Y,ae,q){G(Y,function(){ae.apply(this,arguments)},q)},count:function(Y){var ae=0;return G(Y,function(){ae++}),ae},toArray:function(Y){return G(Y,function(ae){return ae})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},ln.Component=x,ln.Fragment=n,ln.Profiler=i,ln.PureComponent=E,ln.StrictMode=r,ln.Suspense=l,ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,ln.act=j,ln.cloneElement=function(Y,ae,q){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Q=m({},Y.props),te=Y.key,ue=Y.ref,de=Y._owner;if(ae!=null){if(ae.ref!==void 0&&(ue=ae.ref,de=N.current),ae.key!==void 0&&(te=""+ae.key),Y.type&&Y.type.defaultProps)var se=Y.type.defaultProps;for(ce in ae)I.call(ae,ce)&&!R.hasOwnProperty(ce)&&(Q[ce]=ae[ce]===void 0&&se!==void 0?se[ce]:ae[ce])}var ce=arguments.length-2;if(ce===1)Q.children=q;else if(1<ce){se=Array(ce);for(var he=0;he<ce;he++)se[he]=arguments[he+2];Q.children=se}return{$$typeof:t,type:Y.type,key:te,ref:ue,props:Q,_owner:de}},ln.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:o,_context:Y},Y.Consumer=Y},ln.createElement=M,ln.createFactory=function(Y){var ae=M.bind(null,Y);return ae.type=Y,ae},ln.createRef=function(){return{current:null}},ln.forwardRef=function(Y){return{$$typeof:a,render:Y}},ln.isValidElement=k,ln.lazy=function(Y){return{$$typeof:c,_payload:{_status:-1,_result:Y},_init:K}},ln.memo=function(Y,ae){return{$$typeof:u,type:Y,compare:ae===void 0?null:ae}},ln.startTransition=function(Y){var ae=ee.transition;ee.transition={};try{Y()}finally{ee.transition=ae}},ln.unstable_act=j,ln.useCallback=function(Y,ae){return J.current.useCallback(Y,ae)},ln.useContext=function(Y){return J.current.useContext(Y)},ln.useDebugValue=function(){},ln.useDeferredValue=function(Y){return J.current.useDeferredValue(Y)},ln.useEffect=function(Y,ae){return J.current.useEffect(Y,ae)},ln.useId=function(){return J.current.useId()},ln.useImperativeHandle=function(Y,ae,q){return J.current.useImperativeHandle(Y,ae,q)},ln.useInsertionEffect=function(Y,ae){return J.current.useInsertionEffect(Y,ae)},ln.useLayoutEffect=function(Y,ae){return J.current.useLayoutEffect(Y,ae)},ln.useMemo=function(Y,ae){return J.current.useMemo(Y,ae)},ln.useReducer=function(Y,ae,q){return J.current.useReducer(Y,ae,q)},ln.useRef=function(Y){return J.current.useRef(Y)},ln.useState=function(Y){return J.current.useState(Y)},ln.useSyncExternalStore=function(Y,ae,q){return J.current.useSyncExternalStore(Y,ae,q)},ln.useTransition=function(){return J.current.useTransition()},ln.version="18.3.1",ln}var vz;function dl(){return vz||(vz=1,YI.exports=Ele()),YI.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bz;function Cle(){if(bz)return ib;bz=1;var t=dl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var c,d={},h=null,p=null;u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(c in l)r.call(l,c)&&!o.hasOwnProperty(c)&&(d[c]=l[c]);if(a&&a.defaultProps)for(c in l=a.defaultProps,l)d[c]===void 0&&(d[c]=l[c]);return{$$typeof:e,type:a,key:h,ref:p,props:d,_owner:i.current}}return ib.Fragment=n,ib.jsx=s,ib.jsxs=s,ib}var xz;function Tle(){return xz||(xz=1,KI.exports=Cle()),KI.exports}var O=Tle(),F=dl();const oe=lo(F),gL=_le({__proto__:null,default:oe},[F]);var nE={},XI={exports:{}},$o={},JI={exports:{}},QI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wz;function Ale(){return wz||(wz=1,function(t){function e(ee,X){var j=ee.length;ee.push(X);e:for(;0<j;){var Y=j-1>>>1,ae=ee[Y];if(0<i(ae,X))ee[Y]=X,ee[j]=ae,j=Y;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var X=ee[0],j=ee.pop();if(j!==X){ee[0]=j;e:for(var Y=0,ae=ee.length,q=ae>>>1;Y<q;){var Q=2*(Y+1)-1,te=ee[Q],ue=Q+1,de=ee[ue];if(0>i(te,j))ue<ae&&0>i(de,te)?(ee[Y]=de,ee[ue]=j,Y=ue):(ee[Y]=te,ee[Q]=j,Y=Q);else if(ue<ae&&0>i(de,j))ee[Y]=de,ee[ue]=j,Y=ue;else break e}}return X}function i(ee,X){var j=ee.sortIndex-X.sortIndex;return j!==0?j:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ee){for(var X=n(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=ee)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(u)}}function T(ee){if(y=!1,S(ee),!m)if(n(l)!==null)m=!0,K(I);else{var X=n(u);X!==null&&J(T,X.startTime-ee)}}function I(ee,X){m=!1,y&&(y=!1,_(M),M=-1),p=!0;var j=h;try{for(S(X),d=n(l);d!==null&&(!(d.expirationTime>X)||ee&&!D());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var ae=Y(d.expirationTime<=X);X=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),S(X)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var Q=n(u);Q!==null&&J(T,Q.startTime-X),q=!1}return q}finally{d=null,h=j,p=!1}}var N=!1,R=null,M=-1,L=5,k=-1;function D(){return!(t.unstable_now()-k<L)}function V(){if(R!==null){var ee=t.unstable_now();k=ee;var X=!0;try{X=R(!0,ee)}finally{X?$():(N=!1,R=null)}}else N=!1}var $;if(typeof E=="function")$=function(){E(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=V,$=function(){G.postMessage(null)}}else $=function(){x(V,0)};function K(ee){R=ee,N||(N=!0,$())}function J(ee,X){M=x(function(){ee(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,K(I))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ee){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var j=h;h=X;try{return ee()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var j=h;h=ee;try{return X()}finally{h=j}},t.unstable_scheduleCallback=function(ee,X,j){var Y=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Y+j:Y):j=Y,ee){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=j+ae,ee={id:c++,callback:X,priorityLevel:ee,startTime:j,expirationTime:ae,sortIndex:-1},j>Y?(ee.sortIndex=j,e(u,ee),n(l)===null&&ee===n(u)&&(y?(_(M),M=-1):y=!0,J(T,j-Y))):(ee.sortIndex=ae,e(l,ee),m||p||(m=!0,K(I))),ee},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ee){var X=h;return function(){var j=h;h=X;try{return ee.apply(this,arguments)}finally{h=j}}}}(QI)),QI}var _z;function Rle(){return _z||(_z=1,JI.exports=Ale()),JI.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sz;function Ple(){if(Sz)return $o;Sz=1;var t=dl(),e=Rle();function n(f){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(f,g){s(f,g),s(f+"Capture",g)}function s(f,g){for(i[f]=g,f=0;f<g.length;f++)r.add(g[f])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},d={};function h(f){return l.call(d,f)?!0:l.call(c,f)?!1:u.test(f)?d[f]=!0:(c[f]=!0,!1)}function p(f,g,w,P){if(w!==null&&w.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return P?!1:w!==null?!w.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function m(f,g,w,P){if(g===null||typeof g>"u"||p(f,g,w,P))return!0;if(P)return!1;if(w!==null)switch(w.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(f,g,w,P,B,U,Z){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=P,this.attributeNamespace=B,this.mustUseProperty=w,this.propertyName=f,this.type=g,this.sanitizeURL=U,this.removeEmptyString=Z}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){x[f]=new y(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var g=f[0];x[g]=new y(g,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){x[f]=new y(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){x[f]=new y(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){x[f]=new y(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){x[f]=new y(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){x[f]=new y(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){x[f]=new y(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){x[f]=new y(f,5,!1,f.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var g=f.replace(_,E);x[g]=new y(g,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var g=f.replace(_,E);x[g]=new y(g,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var g=f.replace(_,E);x[g]=new y(g,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){x[f]=new y(f,1,!1,f.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){x[f]=new y(f,1,!1,f.toLowerCase(),null,!0,!0)});function S(f,g,w,P){var B=x.hasOwnProperty(g)?x[g]:null;(B!==null?B.type!==0:P||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(m(g,w,B,P)&&(w=null),P||B===null?h(g)&&(w===null?f.removeAttribute(g):f.setAttribute(g,""+w)):B.mustUseProperty?f[B.propertyName]=w===null?B.type===3?!1:"":w:(g=B.attributeName,P=B.attributeNamespace,w===null?f.removeAttribute(g):(B=B.type,w=B===3||B===4&&w===!0?"":""+w,P?f.setAttributeNS(P,g,w):f.setAttribute(g,w))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ee=Symbol.iterator;function X(f){return f===null||typeof f!="object"?null:(f=ee&&f[ee]||f["@@iterator"],typeof f=="function"?f:null)}var j=Object.assign,Y;function ae(f){if(Y===void 0)try{throw Error()}catch(w){var g=w.stack.trim().match(/\n( *(at )?)/);Y=g&&g[1]||""}return`
`+Y+f}var q=!1;function Q(f,g){if(!f||q)return"";q=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ee){var P=Ee}Reflect.construct(f,[],g)}else{try{g.call()}catch(Ee){P=Ee}f.call(g.prototype)}else{try{throw Error()}catch(Ee){P=Ee}f()}}catch(Ee){if(Ee&&P&&typeof Ee.stack=="string"){for(var B=Ee.stack.split(`
`),U=P.stack.split(`
`),Z=B.length-1,fe=U.length-1;1<=Z&&0<=fe&&B[Z]!==U[fe];)fe--;for(;1<=Z&&0<=fe;Z--,fe--)if(B[Z]!==U[fe]){if(Z!==1||fe!==1)do if(Z--,fe--,0>fe||B[Z]!==U[fe]){var ge=`
`+B[Z].replace(" at new "," at ");return f.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",f.displayName)),ge}while(1<=Z&&0<=fe);break}}}finally{q=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?ae(f):""}function te(f){switch(f.tag){case 5:return ae(f.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return f=Q(f.type,!1),f;case 11:return f=Q(f.type.render,!1),f;case 1:return f=Q(f.type,!0),f;default:return""}}function ue(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case R:return"Fragment";case N:return"Portal";case L:return"Profiler";case M:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case D:return(f.displayName||"Context")+".Consumer";case k:return(f._context.displayName||"Context")+".Provider";case V:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case G:return g=f.displayName||null,g!==null?g:ue(f.type)||"Memo";case K:g=f._payload,f=f._init;try{return ue(f(g))}catch{}}return null}function de(f){var g=f.type;switch(f.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=g.render,f=f.displayName||f.name||"",g.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(g);case 8:return g===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function se(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function ce(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function he(f){var g=ce(f)?"checked":"value",w=Object.getOwnPropertyDescriptor(f.constructor.prototype,g),P=""+f[g];if(!f.hasOwnProperty(g)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var B=w.get,U=w.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return B.call(this)},set:function(Z){P=""+Z,U.call(this,Z)}}),Object.defineProperty(f,g,{enumerable:w.enumerable}),{getValue:function(){return P},setValue:function(Z){P=""+Z},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function ve(f){f._valueTracker||(f._valueTracker=he(f))}function be(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var w=g.getValue(),P="";return f&&(P=ce(f)?f.checked?"true":"false":f.value),f=P,f!==w?(g.setValue(f),!0):!1}function Re(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function pe(f,g){var w=g.checked;return j({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??f._wrapperState.initialChecked})}function Ce(f,g){var w=g.defaultValue==null?"":g.defaultValue,P=g.checked!=null?g.checked:g.defaultChecked;w=se(g.value!=null?g.value:w),f._wrapperState={initialChecked:P,initialValue:w,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function $e(f,g){g=g.checked,g!=null&&S(f,"checked",g,!1)}function De(f,g){$e(f,g);var w=se(g.value),P=g.type;if(w!=null)P==="number"?(w===0&&f.value===""||f.value!=w)&&(f.value=""+w):f.value!==""+w&&(f.value=""+w);else if(P==="submit"||P==="reset"){f.removeAttribute("value");return}g.hasOwnProperty("value")?qe(f,g.type,w):g.hasOwnProperty("defaultValue")&&qe(f,g.type,se(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(f.defaultChecked=!!g.defaultChecked)}function ke(f,g,w){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var P=g.type;if(!(P!=="submit"&&P!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+f._wrapperState.initialValue,w||g===f.value||(f.value=g),f.defaultValue=g}w=f.name,w!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,w!==""&&(f.name=w)}function qe(f,g,w){(g!=="number"||Re(f.ownerDocument)!==f)&&(w==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+w&&(f.defaultValue=""+w))}var Fe=Array.isArray;function Qe(f,g,w,P){if(f=f.options,g){g={};for(var B=0;B<w.length;B++)g["$"+w[B]]=!0;for(w=0;w<f.length;w++)B=g.hasOwnProperty("$"+f[w].value),f[w].selected!==B&&(f[w].selected=B),B&&P&&(f[w].defaultSelected=!0)}else{for(w=""+se(w),g=null,B=0;B<f.length;B++){if(f[B].value===w){f[B].selected=!0,P&&(f[B].defaultSelected=!0);return}g!==null||f[B].disabled||(g=f[B])}g!==null&&(g.selected=!0)}}function ze(f,g){if(g.dangerouslySetInnerHTML!=null)throw Error(n(91));return j({},g,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function lt(f,g){var w=g.value;if(w==null){if(w=g.children,g=g.defaultValue,w!=null){if(g!=null)throw Error(n(92));if(Fe(w)){if(1<w.length)throw Error(n(93));w=w[0]}g=w}g==null&&(g=""),w=g}f._wrapperState={initialValue:se(w)}}function It(f,g){var w=se(g.value),P=se(g.defaultValue);w!=null&&(w=""+w,w!==f.value&&(f.value=w),g.defaultValue==null&&f.defaultValue!==w&&(f.defaultValue=w)),P!=null&&(f.defaultValue=""+P)}function on(f){var g=f.textContent;g===f._wrapperState.initialValue&&g!==""&&g!==null&&(f.value=g)}function we(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(f,g){return f==null||f==="http://www.w3.org/1999/xhtml"?we(g):f==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var We,yt=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,w,P,B){MSApp.execUnsafeLocalFunction(function(){return f(g,w,P,B)})}:f}(function(f,g){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=g;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=We.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;g.firstChild;)f.appendChild(g.firstChild)}});function Ct(f,g){if(g){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=g;return}}f.textContent=g}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vn=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(f){vn.forEach(function(g){g=g+f.charAt(0).toUpperCase()+f.substring(1),ht[g]=ht[f]})});function en(f,g,w){return g==null||typeof g=="boolean"||g===""?"":w||typeof g!="number"||g===0||ht.hasOwnProperty(f)&&ht[f]?(""+g).trim():g+"px"}function sn(f,g){f=f.style;for(var w in g)if(g.hasOwnProperty(w)){var P=w.indexOf("--")===0,B=en(w,g[w],P);w==="float"&&(w="cssFloat"),P?f.setProperty(w,B):f[w]=B}}var it=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lt(f,g){if(g){if(it[f]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(n(137,f));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(n(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(n(61))}if(g.style!=null&&typeof g.style!="object")throw Error(n(62))}}function fn(f,g){if(f.indexOf("-")===-1)return typeof g.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function dt(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var $t=null,Bt=null,hn=null;function nr(f){if(f=H0(f)){if(typeof $t!="function")throw Error(n(280));var g=f.stateNode;g&&(g=yS(g),$t(f.stateNode,f.type,g))}}function Nn(f){Bt?hn?hn.push(f):hn=[f]:Bt=f}function Dn(){if(Bt){var f=Bt,g=hn;if(hn=Bt=null,nr(f),g)for(f=0;f<g.length;f++)nr(g[f])}}function Si(f,g){return f(g)}function zt(){}var wr=!1;function vl(f,g,w){if(wr)return f(g,w);wr=!0;try{return Si(f,g,w)}finally{wr=!1,(Bt!==null||hn!==null)&&(zt(),Dn())}}function _r(f,g){var w=f.stateNode;if(w===null)return null;var P=yS(w);if(P===null)return null;w=P[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(f=f.type,P=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!P;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(n(231,g,typeof w));return w}var dd=!1;if(a)try{var us={};Object.defineProperty(us,"passive",{get:function(){dd=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{dd=!1}function Du(f,g,w,P,B,U,Z,fe,ge){var Ee=Array.prototype.slice.call(arguments,3);try{g.apply(w,Ee)}catch(Ue){this.onError(Ue)}}var Lu=!1,fd=null,cs=!1,eh=null,T0={onError:function(f){Lu=!0,fd=f}};function hd(f,g,w,P,B,U,Z,fe,ge){Lu=!1,fd=null,Du.apply(T0,arguments)}function Rg(f,g,w,P,B,U,Z,fe,ge){if(hd.apply(this,arguments),Lu){if(Lu){var Ee=fd;Lu=!1,fd=null}else throw Error(n(198));cs||(cs=!0,eh=Ee)}}function Ro(f){var g=f,w=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(w=g.return),f=g.return;while(f)}return g.tag===3?w:null}function bl(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function Po(f){if(Ro(f)!==f)throw Error(n(188))}function Pg(f){var g=f.alternate;if(!g){if(g=Ro(f),g===null)throw Error(n(188));return g!==f?null:f}for(var w=f,P=g;;){var B=w.return;if(B===null)break;var U=B.alternate;if(U===null){if(P=B.return,P!==null){w=P;continue}break}if(B.child===U.child){for(U=B.child;U;){if(U===w)return Po(B),f;if(U===P)return Po(B),g;U=U.sibling}throw Error(n(188))}if(w.return!==P.return)w=B,P=U;else{for(var Z=!1,fe=B.child;fe;){if(fe===w){Z=!0,w=B,P=U;break}if(fe===P){Z=!0,P=B,w=U;break}fe=fe.sibling}if(!Z){for(fe=U.child;fe;){if(fe===w){Z=!0,w=U,P=B;break}if(fe===P){Z=!0,P=U,w=B;break}fe=fe.sibling}if(!Z)throw Error(n(189))}}if(w.alternate!==P)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?f:g}function th(f){return f=Pg(f),f!==null?pd(f):null}function pd(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var g=pd(f);if(g!==null)return g;f=f.sibling}return null}var gd=e.unstable_scheduleCallback,nh=e.unstable_cancelCallback,Ig=e.unstable_shouldYield,kg=e.unstable_requestPaint,Wn=e.unstable_now,Mg=e.unstable_getCurrentPriorityLevel,Ou=e.unstable_ImmediatePriority,xl=e.unstable_UserBlockingPriority,Io=e.unstable_NormalPriority,rh=e.unstable_LowPriority,Ng=e.unstable_IdlePriority,wl=null,fo=null;function Dg(f){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(wl,f,void 0,(f.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:Og,ih=Math.log,Lg=Math.LN2;function Og(f){return f>>>=0,f===0?32:31-(ih(f)/Lg|0)|0}var md=64,ba=4194304;function _l(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Fu(f,g){var w=f.pendingLanes;if(w===0)return 0;var P=0,B=f.suspendedLanes,U=f.pingedLanes,Z=w&268435455;if(Z!==0){var fe=Z&~B;fe!==0?P=_l(fe):(U&=Z,U!==0&&(P=_l(U)))}else Z=w&~B,Z!==0?P=_l(Z):U!==0&&(P=_l(U));if(P===0)return 0;if(g!==0&&g!==P&&(g&B)===0&&(B=P&-P,U=g&-g,B>=U||B===16&&(U&4194240)!==0))return g;if((P&4)!==0&&(P|=w&16),g=f.entangledLanes,g!==0)for(f=f.entanglements,g&=P;0<g;)w=31-Ei(g),B=1<<w,P|=f[w],g&=~B;return P}function A0(f,g){switch(f){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ds(f,g){for(var w=f.suspendedLanes,P=f.pingedLanes,B=f.expirationTimes,U=f.pendingLanes;0<U;){var Z=31-Ei(U),fe=1<<Z,ge=B[Z];ge===-1?((fe&w)===0||(fe&P)!==0)&&(B[Z]=A0(fe,g)):ge<=g&&(f.expiredLanes|=fe),U&=~fe}}function ho(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function $u(){var f=md;return md<<=1,(md&4194240)===0&&(md=64),f}function xa(f){for(var g=[],w=0;31>w;w++)g.push(f);return g}function yd(f,g,w){f.pendingLanes|=g,g!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,g=31-Ei(g),f[g]=w}function Jn(f,g){var w=f.pendingLanes&~g;f.pendingLanes=g,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=g,f.mutableReadLanes&=g,f.entangledLanes&=g,g=f.entanglements;var P=f.eventTimes;for(f=f.expirationTimes;0<w;){var B=31-Ei(w),U=1<<B;g[B]=0,P[B]=-1,f[B]=-1,w&=~U}}function vd(f,g){var w=f.entangledLanes|=g;for(f=f.entanglements;w;){var P=31-Ei(w),B=1<<P;B&g|f[P]&g&&(f[P]|=g),w&=~B}}var bn=0;function bd(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var X1,Fg,J1,Q1,Z1,R0=!1,Sl=[],Ci=null,wa=null,_a=null,xd=new Map,Hs=new Map,El=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eS(f,g){switch(f){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":xd.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(g.pointerId)}}function ko(f,g,w,P,B,U){return f===null||f.nativeEvent!==U?(f={blockedOn:g,domEventName:w,eventSystemFlags:P,nativeEvent:U,targetContainers:[B]},g!==null&&(g=H0(g),g!==null&&Fg(g)),f):(f.eventSystemFlags|=P,g=f.targetContainers,B!==null&&g.indexOf(B)===-1&&g.push(B),f)}function CP(f,g,w,P,B){switch(g){case"focusin":return Ci=ko(Ci,f,g,w,P,B),!0;case"dragenter":return wa=ko(wa,f,g,w,P,B),!0;case"mouseover":return _a=ko(_a,f,g,w,P,B),!0;case"pointerover":var U=B.pointerId;return xd.set(U,ko(xd.get(U)||null,f,g,w,P,B)),!0;case"gotpointercapture":return U=B.pointerId,Hs.set(U,ko(Hs.get(U)||null,f,g,w,P,B)),!0}return!1}function tS(f){var g=uh(f.target);if(g!==null){var w=Ro(g);if(w!==null){if(g=w.tag,g===13){if(g=bl(w),g!==null){f.blockedOn=g,Z1(f.priority,function(){J1(w)});return}}else if(g===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Bu(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var w=$g(f.domEventName,f.eventSystemFlags,g[0],f.nativeEvent);if(w===null){w=f.nativeEvent;var P=new w.constructor(w.type,w);Be=P,w.target.dispatchEvent(P),Be=null}else return g=H0(w),g!==null&&Fg(g),f.blockedOn=w,!1;g.shift()}return!0}function oh(f,g,w){Bu(f)&&w.delete(g)}function nS(){R0=!1,Ci!==null&&Bu(Ci)&&(Ci=null),wa!==null&&Bu(wa)&&(wa=null),_a!==null&&Bu(_a)&&(_a=null),xd.forEach(oh),Hs.forEach(oh)}function Sa(f,g){f.blockedOn===g&&(f.blockedOn=null,R0||(R0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nS)))}function Ea(f){function g(B){return Sa(B,f)}if(0<Sl.length){Sa(Sl[0],f);for(var w=1;w<Sl.length;w++){var P=Sl[w];P.blockedOn===f&&(P.blockedOn=null)}}for(Ci!==null&&Sa(Ci,f),wa!==null&&Sa(wa,f),_a!==null&&Sa(_a,f),xd.forEach(g),Hs.forEach(g),w=0;w<El.length;w++)P=El[w],P.blockedOn===f&&(P.blockedOn=null);for(;0<El.length&&(w=El[0],w.blockedOn===null);)tS(w),w.blockedOn===null&&El.shift()}var Vu=T.ReactCurrentBatchConfig,wd=!0;function gr(f,g,w,P){var B=bn,U=Vu.transition;Vu.transition=null;try{bn=1,P0(f,g,w,P)}finally{bn=B,Vu.transition=U}}function TP(f,g,w,P){var B=bn,U=Vu.transition;Vu.transition=null;try{bn=4,P0(f,g,w,P)}finally{bn=B,Vu.transition=U}}function P0(f,g,w,P){if(wd){var B=$g(f,g,w,P);if(B===null)FP(f,g,P,sh,w),eS(f,P);else if(CP(B,f,g,w,P))P.stopPropagation();else if(eS(f,P),g&4&&-1<EP.indexOf(f)){for(;B!==null;){var U=H0(B);if(U!==null&&X1(U),U=$g(f,g,w,P),U===null&&FP(f,g,P,sh,w),U===B)break;B=U}B!==null&&P.stopPropagation()}else FP(f,g,P,null,w)}}var sh=null;function $g(f,g,w,P){if(sh=null,f=dt(P),f=uh(f),f!==null)if(g=Ro(f),g===null)f=null;else if(w=g.tag,w===13){if(f=bl(g),f!==null)return f;f=null}else if(w===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null);return sh=f,null}function I0(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mg()){case Ou:return 1;case xl:return 4;case Io:case rh:return 16;case Ng:return 536870912;default:return 16}default:return 16}}var fs=null,Bg=null,Mo=null;function k0(){if(Mo)return Mo;var f,g=Bg,w=g.length,P,B="value"in fs?fs.value:fs.textContent,U=B.length;for(f=0;f<w&&g[f]===B[f];f++);var Z=w-f;for(P=1;P<=Z&&g[w-P]===B[U-P];P++);return Mo=B.slice(f,1<P?1-P:void 0)}function Vg(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function Cl(){return!0}function M0(){return!1}function Ti(f){function g(w,P,B,U,Z){this._reactName=w,this._targetInst=B,this.type=P,this.nativeEvent=U,this.target=Z,this.currentTarget=null;for(var fe in f)f.hasOwnProperty(fe)&&(w=f[fe],this[fe]=w?w(U):U[fe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Cl:M0,this.isPropagationStopped=M0,this}return j(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),g}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=Ti(Ca),Tl=j({},Ca,{view:0,detail:0}),AP=Ti(Tl),Ug,zu,_d,ah=j({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==_d&&(_d&&f.type==="mousemove"?(Ug=f.screenX-_d.screenX,zu=f.screenY-_d.screenY):zu=Ug=0,_d=f),Ug)},movementY:function(f){return"movementY"in f?f.movementY:zu}}),Hg=Ti(ah),N0=j({},ah,{dataTransfer:0}),rS=Ti(N0),qg=j({},Tl,{relatedTarget:0}),jg=Ti(qg),iS=j({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Ti(iS),oS=j({},Ca,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),sS=Ti(oS),aS=j({},Ca,{data:0}),D0=Ti(aS),Wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uS(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=lS[f])?!!g[f]:!1}function Al(){return uS}var A=j({},Tl,{key:function(f){if(f.key){var g=Wg[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=Vg(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?po[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(f){return f.type==="keypress"?Vg(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Vg(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),z=Ti(A),W=j({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),le=Ti(W),xe=j({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Te=Ti(xe),Xe=j({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Un=Ti(Xe),ni=j({},ah,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),Sn=Ti(ni),pi=[9,13,27,32],Hr=a&&"CompositionEvent"in window,qs=null;a&&"documentMode"in document&&(qs=document.documentMode);var hs=a&&"TextEvent"in window&&!qs,lh=a&&(!Hr||qs&&8<qs&&11>=qs),Gg=" ",cB=!1;function dB(f,g){switch(f){case"keyup":return pi.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fB(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Kg=!1;function mae(f,g){switch(f){case"compositionend":return fB(g);case"keypress":return g.which!==32?null:(cB=!0,Gg);case"textInput":return f=g.data,f===Gg&&cB?null:f;default:return null}}function yae(f,g){if(Kg)return f==="compositionend"||!Hr&&dB(f,g)?(f=k0(),Mo=Bg=fs=null,Kg=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return lh&&g.locale!=="ko"?null:g.data;default:return null}}var vae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hB(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!vae[f.type]:g==="textarea"}function pB(f,g,w,P){Nn(P),g=pS(g,"onChange"),0<g.length&&(w=new zg("onChange","change",null,w,P),f.push({event:w,listeners:g}))}var L0=null,O0=null;function bae(f){MB(f,0)}function cS(f){var g=Zg(f);if(be(g))return f}function xae(f,g){if(f==="change")return g}var gB=!1;if(a){var RP;if(a){var PP="oninput"in document;if(!PP){var mB=document.createElement("div");mB.setAttribute("oninput","return;"),PP=typeof mB.oninput=="function"}RP=PP}else RP=!1;gB=RP&&(!document.documentMode||9<document.documentMode)}function yB(){L0&&(L0.detachEvent("onpropertychange",vB),O0=L0=null)}function vB(f){if(f.propertyName==="value"&&cS(O0)){var g=[];pB(g,O0,f,dt(f)),vl(bae,g)}}function wae(f,g,w){f==="focusin"?(yB(),L0=g,O0=w,L0.attachEvent("onpropertychange",vB)):f==="focusout"&&yB()}function _ae(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return cS(O0)}function Sae(f,g){if(f==="click")return cS(g)}function Eae(f,g){if(f==="input"||f==="change")return cS(g)}function Cae(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var Ta=typeof Object.is=="function"?Object.is:Cae;function F0(f,g){if(Ta(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var w=Object.keys(f),P=Object.keys(g);if(w.length!==P.length)return!1;for(P=0;P<w.length;P++){var B=w[P];if(!l.call(g,B)||!Ta(f[B],g[B]))return!1}return!0}function bB(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function xB(f,g){var w=bB(f);f=0;for(var P;w;){if(w.nodeType===3){if(P=f+w.textContent.length,f<=g&&P>=g)return{node:w,offset:g-f};f=P}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=bB(w)}}function wB(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?wB(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function _B(){for(var f=window,g=Re();g instanceof f.HTMLIFrameElement;){try{var w=typeof g.contentWindow.location.href=="string"}catch{w=!1}if(w)f=g.contentWindow;else break;g=Re(f.document)}return g}function IP(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}function Tae(f){var g=_B(),w=f.focusedElem,P=f.selectionRange;if(g!==w&&w&&w.ownerDocument&&wB(w.ownerDocument.documentElement,w)){if(P!==null&&IP(w)){if(g=P.start,f=P.end,f===void 0&&(f=g),"selectionStart"in w)w.selectionStart=g,w.selectionEnd=Math.min(f,w.value.length);else if(f=(g=w.ownerDocument||document)&&g.defaultView||window,f.getSelection){f=f.getSelection();var B=w.textContent.length,U=Math.min(P.start,B);P=P.end===void 0?U:Math.min(P.end,B),!f.extend&&U>P&&(B=P,P=U,U=B),B=xB(w,U);var Z=xB(w,P);B&&Z&&(f.rangeCount!==1||f.anchorNode!==B.node||f.anchorOffset!==B.offset||f.focusNode!==Z.node||f.focusOffset!==Z.offset)&&(g=g.createRange(),g.setStart(B.node,B.offset),f.removeAllRanges(),U>P?(f.addRange(g),f.extend(Z.node,Z.offset)):(g.setEnd(Z.node,Z.offset),f.addRange(g)))}}for(g=[],f=w;f=f.parentNode;)f.nodeType===1&&g.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<g.length;w++)f=g[w],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Aae=a&&"documentMode"in document&&11>=document.documentMode,Yg=null,kP=null,$0=null,MP=!1;function SB(f,g,w){var P=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;MP||Yg==null||Yg!==Re(P)||(P=Yg,"selectionStart"in P&&IP(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),$0&&F0($0,P)||($0=P,P=pS(kP,"onSelect"),0<P.length&&(g=new zg("onSelect","select",null,g,w),f.push({event:g,listeners:P}),g.target=Yg)))}function dS(f,g){var w={};return w[f.toLowerCase()]=g.toLowerCase(),w["Webkit"+f]="webkit"+g,w["Moz"+f]="moz"+g,w}var Xg={animationend:dS("Animation","AnimationEnd"),animationiteration:dS("Animation","AnimationIteration"),animationstart:dS("Animation","AnimationStart"),transitionend:dS("Transition","TransitionEnd")},NP={},EB={};a&&(EB=document.createElement("div").style,"AnimationEvent"in window||(delete Xg.animationend.animation,delete Xg.animationiteration.animation,delete Xg.animationstart.animation),"TransitionEvent"in window||delete Xg.transitionend.transition);function fS(f){if(NP[f])return NP[f];if(!Xg[f])return f;var g=Xg[f],w;for(w in g)if(g.hasOwnProperty(w)&&w in EB)return NP[f]=g[w];return f}var CB=fS("animationend"),TB=fS("animationiteration"),AB=fS("animationstart"),RB=fS("transitionend"),PB=new Map,IB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sd(f,g){PB.set(f,g),o(g,[f])}for(var DP=0;DP<IB.length;DP++){var LP=IB[DP],Rae=LP.toLowerCase(),Pae=LP[0].toUpperCase()+LP.slice(1);Sd(Rae,"on"+Pae)}Sd(CB,"onAnimationEnd"),Sd(TB,"onAnimationIteration"),Sd(AB,"onAnimationStart"),Sd("dblclick","onDoubleClick"),Sd("focusin","onFocus"),Sd("focusout","onBlur"),Sd(RB,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iae=new Set("cancel close invalid load scroll toggle".split(" ").concat(B0));function kB(f,g,w){var P=f.type||"unknown-event";f.currentTarget=w,Rg(P,g,void 0,f),f.currentTarget=null}function MB(f,g){g=(g&4)!==0;for(var w=0;w<f.length;w++){var P=f[w],B=P.event;P=P.listeners;e:{var U=void 0;if(g)for(var Z=P.length-1;0<=Z;Z--){var fe=P[Z],ge=fe.instance,Ee=fe.currentTarget;if(fe=fe.listener,ge!==U&&B.isPropagationStopped())break e;kB(B,fe,Ee),U=ge}else for(Z=0;Z<P.length;Z++){if(fe=P[Z],ge=fe.instance,Ee=fe.currentTarget,fe=fe.listener,ge!==U&&B.isPropagationStopped())break e;kB(B,fe,Ee),U=ge}}}if(cs)throw f=eh,cs=!1,eh=null,f}function ur(f,g){var w=g[HP];w===void 0&&(w=g[HP]=new Set);var P=f+"__bubble";w.has(P)||(NB(g,f,2,!1),w.add(P))}function OP(f,g,w){var P=0;g&&(P|=4),NB(w,f,P,g)}var hS="_reactListening"+Math.random().toString(36).slice(2);function V0(f){if(!f[hS]){f[hS]=!0,r.forEach(function(w){w!=="selectionchange"&&(Iae.has(w)||OP(w,!1,f),OP(w,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[hS]||(g[hS]=!0,OP("selectionchange",!1,g))}}function NB(f,g,w,P){switch(I0(g)){case 1:var B=gr;break;case 4:B=TP;break;default:B=P0}w=B.bind(null,g,w,f),B=void 0,!dd||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(B=!0),P?B!==void 0?f.addEventListener(g,w,{capture:!0,passive:B}):f.addEventListener(g,w,!0):B!==void 0?f.addEventListener(g,w,{passive:B}):f.addEventListener(g,w,!1)}function FP(f,g,w,P,B){var U=P;if((g&1)===0&&(g&2)===0&&P!==null)e:for(;;){if(P===null)return;var Z=P.tag;if(Z===3||Z===4){var fe=P.stateNode.containerInfo;if(fe===B||fe.nodeType===8&&fe.parentNode===B)break;if(Z===4)for(Z=P.return;Z!==null;){var ge=Z.tag;if((ge===3||ge===4)&&(ge=Z.stateNode.containerInfo,ge===B||ge.nodeType===8&&ge.parentNode===B))return;Z=Z.return}for(;fe!==null;){if(Z=uh(fe),Z===null)return;if(ge=Z.tag,ge===5||ge===6){P=U=Z;continue e}fe=fe.parentNode}}P=P.return}vl(function(){var Ee=U,Ue=dt(w),je=[];e:{var Ve=PB.get(f);if(Ve!==void 0){var rt=zg,pt=f;switch(f){case"keypress":if(Vg(w)===0)break e;case"keydown":case"keyup":rt=z;break;case"focusin":pt="focus",rt=jg;break;case"focusout":pt="blur",rt=jg;break;case"beforeblur":case"afterblur":rt=jg;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Te;break;case CB:case TB:case AB:rt=Uu;break;case RB:rt=Un;break;case"scroll":rt=AP;break;case"wheel":rt=Sn;break;case"copy":case"cut":case"paste":rt=sS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=le}var xt=(g&4)!==0,Fr=!xt&&f==="scroll",_e=xt?Ve!==null?Ve+"Capture":null:Ve;xt=[];for(var ye=Ee,Se;ye!==null;){Se=ye;var Ke=Se.stateNode;if(Se.tag===5&&Ke!==null&&(Se=Ke,_e!==null&&(Ke=_r(ye,_e),Ke!=null&&xt.push(z0(ye,Ke,Se)))),Fr)break;ye=ye.return}0<xt.length&&(Ve=new rt(Ve,pt,null,w,Ue),je.push({event:Ve,listeners:xt}))}}if((g&7)===0){e:{if(Ve=f==="mouseover"||f==="pointerover",rt=f==="mouseout"||f==="pointerout",Ve&&w!==Be&&(pt=w.relatedTarget||w.fromElement)&&(uh(pt)||pt[Hu]))break e;if((rt||Ve)&&(Ve=Ue.window===Ue?Ue:(Ve=Ue.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,rt?(pt=w.relatedTarget||w.toElement,rt=Ee,pt=pt?uh(pt):null,pt!==null&&(Fr=Ro(pt),pt!==Fr||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(rt=null,pt=Ee),rt!==pt)){if(xt=Hg,Ke="onMouseLeave",_e="onMouseEnter",ye="mouse",(f==="pointerout"||f==="pointerover")&&(xt=le,Ke="onPointerLeave",_e="onPointerEnter",ye="pointer"),Fr=rt==null?Ve:Zg(rt),Se=pt==null?Ve:Zg(pt),Ve=new xt(Ke,ye+"leave",rt,w,Ue),Ve.target=Fr,Ve.relatedTarget=Se,Ke=null,uh(Ue)===Ee&&(xt=new xt(_e,ye+"enter",pt,w,Ue),xt.target=Se,xt.relatedTarget=Fr,Ke=xt),Fr=Ke,rt&&pt)t:{for(xt=rt,_e=pt,ye=0,Se=xt;Se;Se=Jg(Se))ye++;for(Se=0,Ke=_e;Ke;Ke=Jg(Ke))Se++;for(;0<ye-Se;)xt=Jg(xt),ye--;for(;0<Se-ye;)_e=Jg(_e),Se--;for(;ye--;){if(xt===_e||_e!==null&&xt===_e.alternate)break t;xt=Jg(xt),_e=Jg(_e)}xt=null}else xt=null;rt!==null&&DB(je,Ve,rt,xt,!1),pt!==null&&Fr!==null&&DB(je,Fr,pt,xt,!0)}}e:{if(Ve=Ee?Zg(Ee):window,rt=Ve.nodeName&&Ve.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Ve.type==="file")var wt=xae;else if(hB(Ve))if(gB)wt=Eae;else{wt=_ae;var Ot=wae}else(rt=Ve.nodeName)&&rt.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(wt=Sae);if(wt&&(wt=wt(f,Ee))){pB(je,wt,w,Ue);break e}Ot&&Ot(f,Ve,Ee),f==="focusout"&&(Ot=Ve._wrapperState)&&Ot.controlled&&Ve.type==="number"&&qe(Ve,"number",Ve.value)}switch(Ot=Ee?Zg(Ee):window,f){case"focusin":(hB(Ot)||Ot.contentEditable==="true")&&(Yg=Ot,kP=Ee,$0=null);break;case"focusout":$0=kP=Yg=null;break;case"mousedown":MP=!0;break;case"contextmenu":case"mouseup":case"dragend":MP=!1,SB(je,w,Ue);break;case"selectionchange":if(Aae)break;case"keydown":case"keyup":SB(je,w,Ue)}var Ft;if(Hr)e:{switch(f){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Kg?dB(f,w)&&(Ut="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(Ut="onCompositionStart");Ut&&(lh&&w.locale!=="ko"&&(Kg||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Kg&&(Ft=k0()):(fs=Ue,Bg="value"in fs?fs.value:fs.textContent,Kg=!0)),Ot=pS(Ee,Ut),0<Ot.length&&(Ut=new D0(Ut,f,null,w,Ue),je.push({event:Ut,listeners:Ot}),Ft?Ut.data=Ft:(Ft=fB(w),Ft!==null&&(Ut.data=Ft)))),(Ft=hs?mae(f,w):yae(f,w))&&(Ee=pS(Ee,"onBeforeInput"),0<Ee.length&&(Ue=new D0("onBeforeInput","beforeinput",null,w,Ue),je.push({event:Ue,listeners:Ee}),Ue.data=Ft))}MB(je,g)})}function z0(f,g,w){return{instance:f,listener:g,currentTarget:w}}function pS(f,g){for(var w=g+"Capture",P=[];f!==null;){var B=f,U=B.stateNode;B.tag===5&&U!==null&&(B=U,U=_r(f,w),U!=null&&P.unshift(z0(f,U,B)),U=_r(f,g),U!=null&&P.push(z0(f,U,B))),f=f.return}return P}function Jg(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function DB(f,g,w,P,B){for(var U=g._reactName,Z=[];w!==null&&w!==P;){var fe=w,ge=fe.alternate,Ee=fe.stateNode;if(ge!==null&&ge===P)break;fe.tag===5&&Ee!==null&&(fe=Ee,B?(ge=_r(w,U),ge!=null&&Z.unshift(z0(w,ge,fe))):B||(ge=_r(w,U),ge!=null&&Z.push(z0(w,ge,fe)))),w=w.return}Z.length!==0&&f.push({event:g,listeners:Z})}var kae=/\r\n?/g,Mae=/\u0000|\uFFFD/g;function LB(f){return(typeof f=="string"?f:""+f).replace(kae,`
`).replace(Mae,"")}function gS(f,g,w){if(g=LB(g),LB(f)!==g&&w)throw Error(n(425))}function mS(){}var $P=null,BP=null;function VP(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var zP=typeof setTimeout=="function"?setTimeout:void 0,Nae=typeof clearTimeout=="function"?clearTimeout:void 0,OB=typeof Promise=="function"?Promise:void 0,Dae=typeof queueMicrotask=="function"?queueMicrotask:typeof OB<"u"?function(f){return OB.resolve(null).then(f).catch(Lae)}:zP;function Lae(f){setTimeout(function(){throw f})}function UP(f,g){var w=g,P=0;do{var B=w.nextSibling;if(f.removeChild(w),B&&B.nodeType===8)if(w=B.data,w==="/$"){if(P===0){f.removeChild(B),Ea(g);return}P--}else w!=="$"&&w!=="$?"&&w!=="$!"||P++;w=B}while(w);Ea(g)}function Ed(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return f}function FB(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"){if(g===0)return f;g--}else w==="/$"&&g++}f=f.previousSibling}return null}var Qg=Math.random().toString(36).slice(2),Rl="__reactFiber$"+Qg,U0="__reactProps$"+Qg,Hu="__reactContainer$"+Qg,HP="__reactEvents$"+Qg,Oae="__reactListeners$"+Qg,Fae="__reactHandles$"+Qg;function uh(f){var g=f[Rl];if(g)return g;for(var w=f.parentNode;w;){if(g=w[Hu]||w[Rl]){if(w=g.alternate,g.child!==null||w!==null&&w.child!==null)for(f=FB(f);f!==null;){if(w=f[Rl])return w;f=FB(f)}return g}f=w,w=f.parentNode}return null}function H0(f){return f=f[Rl]||f[Hu],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Zg(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(n(33))}function yS(f){return f[U0]||null}var qP=[],em=-1;function Cd(f){return{current:f}}function cr(f){0>em||(f.current=qP[em],qP[em]=null,em--)}function rr(f,g){em++,qP[em]=f.current,f.current=g}var Td={},Hi=Cd(Td),No=Cd(!1),ch=Td;function tm(f,g){var w=f.type.contextTypes;if(!w)return Td;var P=f.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===g)return P.__reactInternalMemoizedMaskedChildContext;var B={},U;for(U in w)B[U]=g[U];return P&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=g,f.__reactInternalMemoizedMaskedChildContext=B),B}function Do(f){return f=f.childContextTypes,f!=null}function vS(){cr(No),cr(Hi)}function $B(f,g,w){if(Hi.current!==Td)throw Error(n(168));rr(Hi,g),rr(No,w)}function BB(f,g,w){var P=f.stateNode;if(g=g.childContextTypes,typeof P.getChildContext!="function")return w;P=P.getChildContext();for(var B in P)if(!(B in g))throw Error(n(108,de(f)||"Unknown",B));return j({},w,P)}function bS(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Td,ch=Hi.current,rr(Hi,f),rr(No,No.current),!0}function VB(f,g,w){var P=f.stateNode;if(!P)throw Error(n(169));w?(f=BB(f,g,ch),P.__reactInternalMemoizedMergedChildContext=f,cr(No),cr(Hi),rr(Hi,f)):cr(No),rr(No,w)}var qu=null,xS=!1,jP=!1;function zB(f){qu===null?qu=[f]:qu.push(f)}function $ae(f){xS=!0,zB(f)}function Ad(){if(!jP&&qu!==null){jP=!0;var f=0,g=bn;try{var w=qu;for(bn=1;f<w.length;f++){var P=w[f];do P=P(!0);while(P!==null)}qu=null,xS=!1}catch(B){throw qu!==null&&(qu=qu.slice(f+1)),gd(Ou,Ad),B}finally{bn=g,jP=!1}}return null}var nm=[],rm=0,wS=null,_S=0,js=[],Ws=0,dh=null,ju=1,Wu="";function fh(f,g){nm[rm++]=_S,nm[rm++]=wS,wS=f,_S=g}function UB(f,g,w){js[Ws++]=ju,js[Ws++]=Wu,js[Ws++]=dh,dh=f;var P=ju;f=Wu;var B=32-Ei(P)-1;P&=~(1<<B),w+=1;var U=32-Ei(g)+B;if(30<U){var Z=B-B%5;U=(P&(1<<Z)-1).toString(32),P>>=Z,B-=Z,ju=1<<32-Ei(g)+B|w<<B|P,Wu=U+f}else ju=1<<U|w<<B|P,Wu=f}function WP(f){f.return!==null&&(fh(f,1),UB(f,1,0))}function GP(f){for(;f===wS;)wS=nm[--rm],nm[rm]=null,_S=nm[--rm],nm[rm]=null;for(;f===dh;)dh=js[--Ws],js[Ws]=null,Wu=js[--Ws],js[Ws]=null,ju=js[--Ws],js[Ws]=null}var ps=null,gs=null,mr=!1,Aa=null;function HB(f,g){var w=Xs(5,null,null,0);w.elementType="DELETED",w.stateNode=g,w.return=f,g=f.deletions,g===null?(f.deletions=[w],f.flags|=16):g.push(w)}function qB(f,g){switch(f.tag){case 5:var w=f.type;return g=g.nodeType!==1||w.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(f.stateNode=g,ps=f,gs=Ed(g.firstChild),!0):!1;case 6:return g=f.pendingProps===""||g.nodeType!==3?null:g,g!==null?(f.stateNode=g,ps=f,gs=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(w=dh!==null?{id:ju,overflow:Wu}:null,f.memoizedState={dehydrated:g,treeContext:w,retryLane:1073741824},w=Xs(18,null,null,0),w.stateNode=g,w.return=f,f.child=w,ps=f,gs=null,!0):!1;default:return!1}}function KP(f){return(f.mode&1)!==0&&(f.flags&128)===0}function YP(f){if(mr){var g=gs;if(g){var w=g;if(!qB(f,g)){if(KP(f))throw Error(n(418));g=Ed(w.nextSibling);var P=ps;g&&qB(f,g)?HB(P,w):(f.flags=f.flags&-4097|2,mr=!1,ps=f)}}else{if(KP(f))throw Error(n(418));f.flags=f.flags&-4097|2,mr=!1,ps=f}}}function jB(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ps=f}function SS(f){if(f!==ps)return!1;if(!mr)return jB(f),mr=!0,!1;var g;if((g=f.tag!==3)&&!(g=f.tag!==5)&&(g=f.type,g=g!=="head"&&g!=="body"&&!VP(f.type,f.memoizedProps)),g&&(g=gs)){if(KP(f))throw WB(),Error(n(418));for(;g;)HB(f,g),g=Ed(g.nextSibling)}if(jB(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));e:{for(f=f.nextSibling,g=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"){if(g===0){gs=Ed(f.nextSibling);break e}g--}else w!=="$"&&w!=="$!"&&w!=="$?"||g++}f=f.nextSibling}gs=null}}else gs=ps?Ed(f.stateNode.nextSibling):null;return!0}function WB(){for(var f=gs;f;)f=Ed(f.nextSibling)}function im(){gs=ps=null,mr=!1}function XP(f){Aa===null?Aa=[f]:Aa.push(f)}var Bae=T.ReactCurrentBatchConfig;function q0(f,g,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(n(309));var P=w.stateNode}if(!P)throw Error(n(147,f));var B=P,U=""+f;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===U?g.ref:(g=function(Z){var fe=B.refs;Z===null?delete fe[U]:fe[U]=Z},g._stringRef=U,g)}if(typeof f!="string")throw Error(n(284));if(!w._owner)throw Error(n(290,f))}return f}function ES(f,g){throw f=Object.prototype.toString.call(g),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f))}function GB(f){var g=f._init;return g(f._payload)}function KB(f){function g(_e,ye){if(f){var Se=_e.deletions;Se===null?(_e.deletions=[ye],_e.flags|=16):Se.push(ye)}}function w(_e,ye){if(!f)return null;for(;ye!==null;)g(_e,ye),ye=ye.sibling;return null}function P(_e,ye){for(_e=new Map;ye!==null;)ye.key!==null?_e.set(ye.key,ye):_e.set(ye.index,ye),ye=ye.sibling;return _e}function B(_e,ye){return _e=Ld(_e,ye),_e.index=0,_e.sibling=null,_e}function U(_e,ye,Se){return _e.index=Se,f?(Se=_e.alternate,Se!==null?(Se=Se.index,Se<ye?(_e.flags|=2,ye):Se):(_e.flags|=2,ye)):(_e.flags|=1048576,ye)}function Z(_e){return f&&_e.alternate===null&&(_e.flags|=2),_e}function fe(_e,ye,Se,Ke){return ye===null||ye.tag!==6?(ye=zI(Se,_e.mode,Ke),ye.return=_e,ye):(ye=B(ye,Se),ye.return=_e,ye)}function ge(_e,ye,Se,Ke){var wt=Se.type;return wt===R?Ue(_e,ye,Se.props.children,Ke,Se.key):ye!==null&&(ye.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===K&&GB(wt)===ye.type)?(Ke=B(ye,Se.props),Ke.ref=q0(_e,ye,Se),Ke.return=_e,Ke):(Ke=KS(Se.type,Se.key,Se.props,null,_e.mode,Ke),Ke.ref=q0(_e,ye,Se),Ke.return=_e,Ke)}function Ee(_e,ye,Se,Ke){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Se.containerInfo||ye.stateNode.implementation!==Se.implementation?(ye=UI(Se,_e.mode,Ke),ye.return=_e,ye):(ye=B(ye,Se.children||[]),ye.return=_e,ye)}function Ue(_e,ye,Se,Ke,wt){return ye===null||ye.tag!==7?(ye=xh(Se,_e.mode,Ke,wt),ye.return=_e,ye):(ye=B(ye,Se),ye.return=_e,ye)}function je(_e,ye,Se){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=zI(""+ye,_e.mode,Se),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return Se=KS(ye.type,ye.key,ye.props,null,_e.mode,Se),Se.ref=q0(_e,null,ye),Se.return=_e,Se;case N:return ye=UI(ye,_e.mode,Se),ye.return=_e,ye;case K:var Ke=ye._init;return je(_e,Ke(ye._payload),Se)}if(Fe(ye)||X(ye))return ye=xh(ye,_e.mode,Se,null),ye.return=_e,ye;ES(_e,ye)}return null}function Ve(_e,ye,Se,Ke){var wt=ye!==null?ye.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return wt!==null?null:fe(_e,ye,""+Se,Ke);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case I:return Se.key===wt?ge(_e,ye,Se,Ke):null;case N:return Se.key===wt?Ee(_e,ye,Se,Ke):null;case K:return wt=Se._init,Ve(_e,ye,wt(Se._payload),Ke)}if(Fe(Se)||X(Se))return wt!==null?null:Ue(_e,ye,Se,Ke,null);ES(_e,Se)}return null}function rt(_e,ye,Se,Ke,wt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return _e=_e.get(Se)||null,fe(ye,_e,""+Ke,wt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case I:return _e=_e.get(Ke.key===null?Se:Ke.key)||null,ge(ye,_e,Ke,wt);case N:return _e=_e.get(Ke.key===null?Se:Ke.key)||null,Ee(ye,_e,Ke,wt);case K:var Ot=Ke._init;return rt(_e,ye,Se,Ot(Ke._payload),wt)}if(Fe(Ke)||X(Ke))return _e=_e.get(Se)||null,Ue(ye,_e,Ke,wt,null);ES(ye,Ke)}return null}function pt(_e,ye,Se,Ke){for(var wt=null,Ot=null,Ft=ye,Ut=ye=0,yi=null;Ft!==null&&Ut<Se.length;Ut++){Ft.index>Ut?(yi=Ft,Ft=null):yi=Ft.sibling;var In=Ve(_e,Ft,Se[Ut],Ke);if(In===null){Ft===null&&(Ft=yi);break}f&&Ft&&In.alternate===null&&g(_e,Ft),ye=U(In,ye,Ut),Ot===null?wt=In:Ot.sibling=In,Ot=In,Ft=yi}if(Ut===Se.length)return w(_e,Ft),mr&&fh(_e,Ut),wt;if(Ft===null){for(;Ut<Se.length;Ut++)Ft=je(_e,Se[Ut],Ke),Ft!==null&&(ye=U(Ft,ye,Ut),Ot===null?wt=Ft:Ot.sibling=Ft,Ot=Ft);return mr&&fh(_e,Ut),wt}for(Ft=P(_e,Ft);Ut<Se.length;Ut++)yi=rt(Ft,_e,Ut,Se[Ut],Ke),yi!==null&&(f&&yi.alternate!==null&&Ft.delete(yi.key===null?Ut:yi.key),ye=U(yi,ye,Ut),Ot===null?wt=yi:Ot.sibling=yi,Ot=yi);return f&&Ft.forEach(function(Od){return g(_e,Od)}),mr&&fh(_e,Ut),wt}function xt(_e,ye,Se,Ke){var wt=X(Se);if(typeof wt!="function")throw Error(n(150));if(Se=wt.call(Se),Se==null)throw Error(n(151));for(var Ot=wt=null,Ft=ye,Ut=ye=0,yi=null,In=Se.next();Ft!==null&&!In.done;Ut++,In=Se.next()){Ft.index>Ut?(yi=Ft,Ft=null):yi=Ft.sibling;var Od=Ve(_e,Ft,In.value,Ke);if(Od===null){Ft===null&&(Ft=yi);break}f&&Ft&&Od.alternate===null&&g(_e,Ft),ye=U(Od,ye,Ut),Ot===null?wt=Od:Ot.sibling=Od,Ot=Od,Ft=yi}if(In.done)return w(_e,Ft),mr&&fh(_e,Ut),wt;if(Ft===null){for(;!In.done;Ut++,In=Se.next())In=je(_e,In.value,Ke),In!==null&&(ye=U(In,ye,Ut),Ot===null?wt=In:Ot.sibling=In,Ot=In);return mr&&fh(_e,Ut),wt}for(Ft=P(_e,Ft);!In.done;Ut++,In=Se.next())In=rt(Ft,_e,Ut,In.value,Ke),In!==null&&(f&&In.alternate!==null&&Ft.delete(In.key===null?Ut:In.key),ye=U(In,ye,Ut),Ot===null?wt=In:Ot.sibling=In,Ot=In);return f&&Ft.forEach(function(vle){return g(_e,vle)}),mr&&fh(_e,Ut),wt}function Fr(_e,ye,Se,Ke){if(typeof Se=="object"&&Se!==null&&Se.type===R&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case I:e:{for(var wt=Se.key,Ot=ye;Ot!==null;){if(Ot.key===wt){if(wt=Se.type,wt===R){if(Ot.tag===7){w(_e,Ot.sibling),ye=B(Ot,Se.props.children),ye.return=_e,_e=ye;break e}}else if(Ot.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===K&&GB(wt)===Ot.type){w(_e,Ot.sibling),ye=B(Ot,Se.props),ye.ref=q0(_e,Ot,Se),ye.return=_e,_e=ye;break e}w(_e,Ot);break}else g(_e,Ot);Ot=Ot.sibling}Se.type===R?(ye=xh(Se.props.children,_e.mode,Ke,Se.key),ye.return=_e,_e=ye):(Ke=KS(Se.type,Se.key,Se.props,null,_e.mode,Ke),Ke.ref=q0(_e,ye,Se),Ke.return=_e,_e=Ke)}return Z(_e);case N:e:{for(Ot=Se.key;ye!==null;){if(ye.key===Ot)if(ye.tag===4&&ye.stateNode.containerInfo===Se.containerInfo&&ye.stateNode.implementation===Se.implementation){w(_e,ye.sibling),ye=B(ye,Se.children||[]),ye.return=_e,_e=ye;break e}else{w(_e,ye);break}else g(_e,ye);ye=ye.sibling}ye=UI(Se,_e.mode,Ke),ye.return=_e,_e=ye}return Z(_e);case K:return Ot=Se._init,Fr(_e,ye,Ot(Se._payload),Ke)}if(Fe(Se))return pt(_e,ye,Se,Ke);if(X(Se))return xt(_e,ye,Se,Ke);ES(_e,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ye!==null&&ye.tag===6?(w(_e,ye.sibling),ye=B(ye,Se),ye.return=_e,_e=ye):(w(_e,ye),ye=zI(Se,_e.mode,Ke),ye.return=_e,_e=ye),Z(_e)):w(_e,ye)}return Fr}var om=KB(!0),YB=KB(!1),CS=Cd(null),TS=null,sm=null,JP=null;function QP(){JP=sm=TS=null}function ZP(f){var g=CS.current;cr(CS),f._currentValue=g}function eI(f,g,w){for(;f!==null;){var P=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,P!==null&&(P.childLanes|=g)):P!==null&&(P.childLanes&g)!==g&&(P.childLanes|=g),f===w)break;f=f.return}}function am(f,g){TS=f,JP=sm=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&g)!==0&&(Lo=!0),f.firstContext=null)}function Gs(f){var g=f._currentValue;if(JP!==f)if(f={context:f,memoizedValue:g,next:null},sm===null){if(TS===null)throw Error(n(308));sm=f,TS.dependencies={lanes:0,firstContext:f}}else sm=sm.next=f;return g}var hh=null;function tI(f){hh===null?hh=[f]:hh.push(f)}function XB(f,g,w,P){var B=g.interleaved;return B===null?(w.next=w,tI(g)):(w.next=B.next,B.next=w),g.interleaved=w,Gu(f,P)}function Gu(f,g){f.lanes|=g;var w=f.alternate;for(w!==null&&(w.lanes|=g),w=f,f=f.return;f!==null;)f.childLanes|=g,w=f.alternate,w!==null&&(w.childLanes|=g),w=f,f=f.return;return w.tag===3?w.stateNode:null}var Rd=!1;function nI(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JB(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Ku(f,g){return{eventTime:f,lane:g,tag:0,payload:null,callback:null,next:null}}function Pd(f,g,w){var P=f.updateQueue;if(P===null)return null;if(P=P.shared,(Rn&2)!==0){var B=P.pending;return B===null?g.next=g:(g.next=B.next,B.next=g),P.pending=g,Gu(f,w)}return B=P.interleaved,B===null?(g.next=g,tI(P)):(g.next=B.next,B.next=g),P.interleaved=g,Gu(f,w)}function AS(f,g,w){if(g=g.updateQueue,g!==null&&(g=g.shared,(w&4194240)!==0)){var P=g.lanes;P&=f.pendingLanes,w|=P,g.lanes=w,vd(f,w)}}function QB(f,g){var w=f.updateQueue,P=f.alternate;if(P!==null&&(P=P.updateQueue,w===P)){var B=null,U=null;if(w=w.firstBaseUpdate,w!==null){do{var Z={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};U===null?B=U=Z:U=U.next=Z,w=w.next}while(w!==null);U===null?B=U=g:U=U.next=g}else B=U=g;w={baseState:P.baseState,firstBaseUpdate:B,lastBaseUpdate:U,shared:P.shared,effects:P.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=g:f.next=g,w.lastBaseUpdate=g}function RS(f,g,w,P){var B=f.updateQueue;Rd=!1;var U=B.firstBaseUpdate,Z=B.lastBaseUpdate,fe=B.shared.pending;if(fe!==null){B.shared.pending=null;var ge=fe,Ee=ge.next;ge.next=null,Z===null?U=Ee:Z.next=Ee,Z=ge;var Ue=f.alternate;Ue!==null&&(Ue=Ue.updateQueue,fe=Ue.lastBaseUpdate,fe!==Z&&(fe===null?Ue.firstBaseUpdate=Ee:fe.next=Ee,Ue.lastBaseUpdate=ge))}if(U!==null){var je=B.baseState;Z=0,Ue=Ee=ge=null,fe=U;do{var Ve=fe.lane,rt=fe.eventTime;if((P&Ve)===Ve){Ue!==null&&(Ue=Ue.next={eventTime:rt,lane:0,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null});e:{var pt=f,xt=fe;switch(Ve=g,rt=w,xt.tag){case 1:if(pt=xt.payload,typeof pt=="function"){je=pt.call(rt,je,Ve);break e}je=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=xt.payload,Ve=typeof pt=="function"?pt.call(rt,je,Ve):pt,Ve==null)break e;je=j({},je,Ve);break e;case 2:Rd=!0}}fe.callback!==null&&fe.lane!==0&&(f.flags|=64,Ve=B.effects,Ve===null?B.effects=[fe]:Ve.push(fe))}else rt={eventTime:rt,lane:Ve,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},Ue===null?(Ee=Ue=rt,ge=je):Ue=Ue.next=rt,Z|=Ve;if(fe=fe.next,fe===null){if(fe=B.shared.pending,fe===null)break;Ve=fe,fe=Ve.next,Ve.next=null,B.lastBaseUpdate=Ve,B.shared.pending=null}}while(!0);if(Ue===null&&(ge=je),B.baseState=ge,B.firstBaseUpdate=Ee,B.lastBaseUpdate=Ue,g=B.shared.interleaved,g!==null){B=g;do Z|=B.lane,B=B.next;while(B!==g)}else U===null&&(B.shared.lanes=0);mh|=Z,f.lanes=Z,f.memoizedState=je}}function ZB(f,g,w){if(f=g.effects,g.effects=null,f!==null)for(g=0;g<f.length;g++){var P=f[g],B=P.callback;if(B!==null){if(P.callback=null,P=w,typeof B!="function")throw Error(n(191,B));B.call(P)}}}var j0={},Pl=Cd(j0),W0=Cd(j0),G0=Cd(j0);function ph(f){if(f===j0)throw Error(n(174));return f}function rI(f,g){switch(rr(G0,g),rr(W0,f),rr(Pl,j0),f=g.nodeType,f){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:Ae(null,"");break;default:f=f===8?g.parentNode:g,g=f.namespaceURI||null,f=f.tagName,g=Ae(g,f)}cr(Pl),rr(Pl,g)}function lm(){cr(Pl),cr(W0),cr(G0)}function eV(f){ph(G0.current);var g=ph(Pl.current),w=Ae(g,f.type);g!==w&&(rr(W0,f),rr(Pl,w))}function iI(f){W0.current===f&&(cr(Pl),cr(W0))}var Sr=Cd(0);function PS(f){for(var g=f;g!==null;){if(g.tag===13){var w=g.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var oI=[];function sI(){for(var f=0;f<oI.length;f++)oI[f]._workInProgressVersionPrimary=null;oI.length=0}var IS=T.ReactCurrentDispatcher,aI=T.ReactCurrentBatchConfig,gh=0,Er=null,ri=null,gi=null,kS=!1,K0=!1,Y0=0,Vae=0;function qi(){throw Error(n(321))}function lI(f,g){if(g===null)return!1;for(var w=0;w<g.length&&w<f.length;w++)if(!Ta(f[w],g[w]))return!1;return!0}function uI(f,g,w,P,B,U){if(gh=U,Er=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,IS.current=f===null||f.memoizedState===null?qae:jae,f=w(P,B),K0){U=0;do{if(K0=!1,Y0=0,25<=U)throw Error(n(301));U+=1,gi=ri=null,g.updateQueue=null,IS.current=Wae,f=w(P,B)}while(K0)}if(IS.current=DS,g=ri!==null&&ri.next!==null,gh=0,gi=ri=Er=null,kS=!1,g)throw Error(n(300));return f}function cI(){var f=Y0!==0;return Y0=0,f}function Il(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gi===null?Er.memoizedState=gi=f:gi=gi.next=f,gi}function Ks(){if(ri===null){var f=Er.alternate;f=f!==null?f.memoizedState:null}else f=ri.next;var g=gi===null?Er.memoizedState:gi.next;if(g!==null)gi=g,ri=f;else{if(f===null)throw Error(n(310));ri=f,f={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},gi===null?Er.memoizedState=gi=f:gi=gi.next=f}return gi}function X0(f,g){return typeof g=="function"?g(f):g}function dI(f){var g=Ks(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=f;var P=ri,B=P.baseQueue,U=w.pending;if(U!==null){if(B!==null){var Z=B.next;B.next=U.next,U.next=Z}P.baseQueue=B=U,w.pending=null}if(B!==null){U=B.next,P=P.baseState;var fe=Z=null,ge=null,Ee=U;do{var Ue=Ee.lane;if((gh&Ue)===Ue)ge!==null&&(ge=ge.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),P=Ee.hasEagerState?Ee.eagerState:f(P,Ee.action);else{var je={lane:Ue,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ge===null?(fe=ge=je,Z=P):ge=ge.next=je,Er.lanes|=Ue,mh|=Ue}Ee=Ee.next}while(Ee!==null&&Ee!==U);ge===null?Z=P:ge.next=fe,Ta(P,g.memoizedState)||(Lo=!0),g.memoizedState=P,g.baseState=Z,g.baseQueue=ge,w.lastRenderedState=P}if(f=w.interleaved,f!==null){B=f;do U=B.lane,Er.lanes|=U,mh|=U,B=B.next;while(B!==f)}else B===null&&(w.lanes=0);return[g.memoizedState,w.dispatch]}function fI(f){var g=Ks(),w=g.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=f;var P=w.dispatch,B=w.pending,U=g.memoizedState;if(B!==null){w.pending=null;var Z=B=B.next;do U=f(U,Z.action),Z=Z.next;while(Z!==B);Ta(U,g.memoizedState)||(Lo=!0),g.memoizedState=U,g.baseQueue===null&&(g.baseState=U),w.lastRenderedState=U}return[U,P]}function tV(){}function nV(f,g){var w=Er,P=Ks(),B=g(),U=!Ta(P.memoizedState,B);if(U&&(P.memoizedState=B,Lo=!0),P=P.queue,hI(oV.bind(null,w,P,f),[f]),P.getSnapshot!==g||U||gi!==null&&gi.memoizedState.tag&1){if(w.flags|=2048,J0(9,iV.bind(null,w,P,B,g),void 0,null),mi===null)throw Error(n(349));(gh&30)!==0||rV(w,g,B)}return B}function rV(f,g,w){f.flags|=16384,f={getSnapshot:g,value:w},g=Er.updateQueue,g===null?(g={lastEffect:null,stores:null},Er.updateQueue=g,g.stores=[f]):(w=g.stores,w===null?g.stores=[f]:w.push(f))}function iV(f,g,w,P){g.value=w,g.getSnapshot=P,sV(g)&&aV(f)}function oV(f,g,w){return w(function(){sV(g)&&aV(f)})}function sV(f){var g=f.getSnapshot;f=f.value;try{var w=g();return!Ta(f,w)}catch{return!0}}function aV(f){var g=Gu(f,1);g!==null&&ka(g,f,1,-1)}function lV(f){var g=Il();return typeof f=="function"&&(f=f()),g.memoizedState=g.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:f},g.queue=f,f=f.dispatch=Hae.bind(null,Er,f),[g.memoizedState,f]}function J0(f,g,w,P){return f={tag:f,create:g,destroy:w,deps:P,next:null},g=Er.updateQueue,g===null?(g={lastEffect:null,stores:null},Er.updateQueue=g,g.lastEffect=f.next=f):(w=g.lastEffect,w===null?g.lastEffect=f.next=f:(P=w.next,w.next=f,f.next=P,g.lastEffect=f)),f}function uV(){return Ks().memoizedState}function MS(f,g,w,P){var B=Il();Er.flags|=f,B.memoizedState=J0(1|g,w,void 0,P===void 0?null:P)}function NS(f,g,w,P){var B=Ks();P=P===void 0?null:P;var U=void 0;if(ri!==null){var Z=ri.memoizedState;if(U=Z.destroy,P!==null&&lI(P,Z.deps)){B.memoizedState=J0(g,w,U,P);return}}Er.flags|=f,B.memoizedState=J0(1|g,w,U,P)}function cV(f,g){return MS(8390656,8,f,g)}function hI(f,g){return NS(2048,8,f,g)}function dV(f,g){return NS(4,2,f,g)}function fV(f,g){return NS(4,4,f,g)}function hV(f,g){if(typeof g=="function")return f=f(),g(f),function(){g(null)};if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function pV(f,g,w){return w=w!=null?w.concat([f]):null,NS(4,4,hV.bind(null,g,f),w)}function pI(){}function gV(f,g){var w=Ks();g=g===void 0?null:g;var P=w.memoizedState;return P!==null&&g!==null&&lI(g,P[1])?P[0]:(w.memoizedState=[f,g],f)}function mV(f,g){var w=Ks();g=g===void 0?null:g;var P=w.memoizedState;return P!==null&&g!==null&&lI(g,P[1])?P[0]:(f=f(),w.memoizedState=[f,g],f)}function yV(f,g,w){return(gh&21)===0?(f.baseState&&(f.baseState=!1,Lo=!0),f.memoizedState=w):(Ta(w,g)||(w=$u(),Er.lanes|=w,mh|=w,f.baseState=!0),g)}function zae(f,g){var w=bn;bn=w!==0&&4>w?w:4,f(!0);var P=aI.transition;aI.transition={};try{f(!1),g()}finally{bn=w,aI.transition=P}}function vV(){return Ks().memoizedState}function Uae(f,g,w){var P=Nd(f);if(w={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null},bV(f))xV(g,w);else if(w=XB(f,g,w,P),w!==null){var B=mo();ka(w,f,P,B),wV(w,g,P)}}function Hae(f,g,w){var P=Nd(f),B={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null};if(bV(f))xV(g,B);else{var U=f.alternate;if(f.lanes===0&&(U===null||U.lanes===0)&&(U=g.lastRenderedReducer,U!==null))try{var Z=g.lastRenderedState,fe=U(Z,w);if(B.hasEagerState=!0,B.eagerState=fe,Ta(fe,Z)){var ge=g.interleaved;ge===null?(B.next=B,tI(g)):(B.next=ge.next,ge.next=B),g.interleaved=B;return}}catch{}finally{}w=XB(f,g,B,P),w!==null&&(B=mo(),ka(w,f,P,B),wV(w,g,P))}}function bV(f){var g=f.alternate;return f===Er||g!==null&&g===Er}function xV(f,g){K0=kS=!0;var w=f.pending;w===null?g.next=g:(g.next=w.next,w.next=g),f.pending=g}function wV(f,g,w){if((w&4194240)!==0){var P=g.lanes;P&=f.pendingLanes,w|=P,g.lanes=w,vd(f,w)}}var DS={readContext:Gs,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},qae={readContext:Gs,useCallback:function(f,g){return Il().memoizedState=[f,g===void 0?null:g],f},useContext:Gs,useEffect:cV,useImperativeHandle:function(f,g,w){return w=w!=null?w.concat([f]):null,MS(4194308,4,hV.bind(null,g,f),w)},useLayoutEffect:function(f,g){return MS(4194308,4,f,g)},useInsertionEffect:function(f,g){return MS(4,2,f,g)},useMemo:function(f,g){var w=Il();return g=g===void 0?null:g,f=f(),w.memoizedState=[f,g],f},useReducer:function(f,g,w){var P=Il();return g=w!==void 0?w(g):g,P.memoizedState=P.baseState=g,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:g},P.queue=f,f=f.dispatch=Uae.bind(null,Er,f),[P.memoizedState,f]},useRef:function(f){var g=Il();return f={current:f},g.memoizedState=f},useState:lV,useDebugValue:pI,useDeferredValue:function(f){return Il().memoizedState=f},useTransition:function(){var f=lV(!1),g=f[0];return f=zae.bind(null,f[1]),Il().memoizedState=f,[g,f]},useMutableSource:function(){},useSyncExternalStore:function(f,g,w){var P=Er,B=Il();if(mr){if(w===void 0)throw Error(n(407));w=w()}else{if(w=g(),mi===null)throw Error(n(349));(gh&30)!==0||rV(P,g,w)}B.memoizedState=w;var U={value:w,getSnapshot:g};return B.queue=U,cV(oV.bind(null,P,U,f),[f]),P.flags|=2048,J0(9,iV.bind(null,P,U,w,g),void 0,null),w},useId:function(){var f=Il(),g=mi.identifierPrefix;if(mr){var w=Wu,P=ju;w=(P&~(1<<32-Ei(P)-1)).toString(32)+w,g=":"+g+"R"+w,w=Y0++,0<w&&(g+="H"+w.toString(32)),g+=":"}else w=Vae++,g=":"+g+"r"+w.toString(32)+":";return f.memoizedState=g},unstable_isNewReconciler:!1},jae={readContext:Gs,useCallback:gV,useContext:Gs,useEffect:hI,useImperativeHandle:pV,useInsertionEffect:dV,useLayoutEffect:fV,useMemo:mV,useReducer:dI,useRef:uV,useState:function(){return dI(X0)},useDebugValue:pI,useDeferredValue:function(f){var g=Ks();return yV(g,ri.memoizedState,f)},useTransition:function(){var f=dI(X0)[0],g=Ks().memoizedState;return[f,g]},useMutableSource:tV,useSyncExternalStore:nV,useId:vV,unstable_isNewReconciler:!1},Wae={readContext:Gs,useCallback:gV,useContext:Gs,useEffect:hI,useImperativeHandle:pV,useInsertionEffect:dV,useLayoutEffect:fV,useMemo:mV,useReducer:fI,useRef:uV,useState:function(){return fI(X0)},useDebugValue:pI,useDeferredValue:function(f){var g=Ks();return ri===null?g.memoizedState=f:yV(g,ri.memoizedState,f)},useTransition:function(){var f=fI(X0)[0],g=Ks().memoizedState;return[f,g]},useMutableSource:tV,useSyncExternalStore:nV,useId:vV,unstable_isNewReconciler:!1};function Ra(f,g){if(f&&f.defaultProps){g=j({},g),f=f.defaultProps;for(var w in f)g[w]===void 0&&(g[w]=f[w]);return g}return g}function gI(f,g,w,P){g=f.memoizedState,w=w(P,g),w=w==null?g:j({},g,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var LS={isMounted:function(f){return(f=f._reactInternals)?Ro(f)===f:!1},enqueueSetState:function(f,g,w){f=f._reactInternals;var P=mo(),B=Nd(f),U=Ku(P,B);U.payload=g,w!=null&&(U.callback=w),g=Pd(f,U,B),g!==null&&(ka(g,f,B,P),AS(g,f,B))},enqueueReplaceState:function(f,g,w){f=f._reactInternals;var P=mo(),B=Nd(f),U=Ku(P,B);U.tag=1,U.payload=g,w!=null&&(U.callback=w),g=Pd(f,U,B),g!==null&&(ka(g,f,B,P),AS(g,f,B))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var w=mo(),P=Nd(f),B=Ku(w,P);B.tag=2,g!=null&&(B.callback=g),g=Pd(f,B,P),g!==null&&(ka(g,f,P,w),AS(g,f,P))}};function _V(f,g,w,P,B,U,Z){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(P,U,Z):g.prototype&&g.prototype.isPureReactComponent?!F0(w,P)||!F0(B,U):!0}function SV(f,g,w){var P=!1,B=Td,U=g.contextType;return typeof U=="object"&&U!==null?U=Gs(U):(B=Do(g)?ch:Hi.current,P=g.contextTypes,U=(P=P!=null)?tm(f,B):Td),g=new g(w,U),f.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=LS,f.stateNode=g,g._reactInternals=f,P&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=B,f.__reactInternalMemoizedMaskedChildContext=U),g}function EV(f,g,w,P){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(w,P),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(w,P),g.state!==f&&LS.enqueueReplaceState(g,g.state,null)}function mI(f,g,w,P){var B=f.stateNode;B.props=w,B.state=f.memoizedState,B.refs={},nI(f);var U=g.contextType;typeof U=="object"&&U!==null?B.context=Gs(U):(U=Do(g)?ch:Hi.current,B.context=tm(f,U)),B.state=f.memoizedState,U=g.getDerivedStateFromProps,typeof U=="function"&&(gI(f,g,U,w),B.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(g=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),g!==B.state&&LS.enqueueReplaceState(B,B.state,null),RS(f,w,B,P),B.state=f.memoizedState),typeof B.componentDidMount=="function"&&(f.flags|=4194308)}function um(f,g){try{var w="",P=g;do w+=te(P),P=P.return;while(P);var B=w}catch(U){B=`
Error generating stack: `+U.message+`
`+U.stack}return{value:f,source:g,stack:B,digest:null}}function yI(f,g,w){return{value:f,source:null,stack:w??null,digest:g??null}}function vI(f,g){try{console.error(g.value)}catch(w){setTimeout(function(){throw w})}}var Gae=typeof WeakMap=="function"?WeakMap:Map;function CV(f,g,w){w=Ku(-1,w),w.tag=3,w.payload={element:null};var P=g.value;return w.callback=function(){US||(US=!0,NI=P),vI(f,g)},w}function TV(f,g,w){w=Ku(-1,w),w.tag=3;var P=f.type.getDerivedStateFromError;if(typeof P=="function"){var B=g.value;w.payload=function(){return P(B)},w.callback=function(){vI(f,g)}}var U=f.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(w.callback=function(){vI(f,g),typeof P!="function"&&(kd===null?kd=new Set([this]):kd.add(this));var Z=g.stack;this.componentDidCatch(g.value,{componentStack:Z!==null?Z:""})}),w}function AV(f,g,w){var P=f.pingCache;if(P===null){P=f.pingCache=new Gae;var B=new Set;P.set(g,B)}else B=P.get(g),B===void 0&&(B=new Set,P.set(g,B));B.has(w)||(B.add(w),f=ale.bind(null,f,g,w),g.then(f,f))}function RV(f){do{var g;if((g=f.tag===13)&&(g=f.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return f;f=f.return}while(f!==null);return null}function PV(f,g,w,P,B){return(f.mode&1)===0?(f===g?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(g=Ku(-1,1),g.tag=2,Pd(w,g,1))),w.lanes|=1),f):(f.flags|=65536,f.lanes=B,f)}var Kae=T.ReactCurrentOwner,Lo=!1;function go(f,g,w,P){g.child=f===null?YB(g,null,w,P):om(g,f.child,w,P)}function IV(f,g,w,P,B){w=w.render;var U=g.ref;return am(g,B),P=uI(f,g,w,P,U,B),w=cI(),f!==null&&!Lo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,Yu(f,g,B)):(mr&&w&&WP(g),g.flags|=1,go(f,g,P,B),g.child)}function kV(f,g,w,P,B){if(f===null){var U=w.type;return typeof U=="function"&&!VI(U)&&U.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(g.tag=15,g.type=U,MV(f,g,U,P,B)):(f=KS(w.type,null,P,g,g.mode,B),f.ref=g.ref,f.return=g,g.child=f)}if(U=f.child,(f.lanes&B)===0){var Z=U.memoizedProps;if(w=w.compare,w=w!==null?w:F0,w(Z,P)&&f.ref===g.ref)return Yu(f,g,B)}return g.flags|=1,f=Ld(U,P),f.ref=g.ref,f.return=g,g.child=f}function MV(f,g,w,P,B){if(f!==null){var U=f.memoizedProps;if(F0(U,P)&&f.ref===g.ref)if(Lo=!1,g.pendingProps=P=U,(f.lanes&B)!==0)(f.flags&131072)!==0&&(Lo=!0);else return g.lanes=f.lanes,Yu(f,g,B)}return bI(f,g,w,P,B)}function NV(f,g,w){var P=g.pendingProps,B=P.children,U=f!==null?f.memoizedState:null;if(P.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(dm,ms),ms|=w;else{if((w&1073741824)===0)return f=U!==null?U.baseLanes|w:w,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:f,cachePool:null,transitions:null},g.updateQueue=null,rr(dm,ms),ms|=f,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=U!==null?U.baseLanes:w,rr(dm,ms),ms|=P}else U!==null?(P=U.baseLanes|w,g.memoizedState=null):P=w,rr(dm,ms),ms|=P;return go(f,g,B,w),g.child}function DV(f,g){var w=g.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(g.flags|=512,g.flags|=2097152)}function bI(f,g,w,P,B){var U=Do(w)?ch:Hi.current;return U=tm(g,U),am(g,B),w=uI(f,g,w,P,U,B),P=cI(),f!==null&&!Lo?(g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~B,Yu(f,g,B)):(mr&&P&&WP(g),g.flags|=1,go(f,g,w,B),g.child)}function LV(f,g,w,P,B){if(Do(w)){var U=!0;bS(g)}else U=!1;if(am(g,B),g.stateNode===null)FS(f,g),SV(g,w,P),mI(g,w,P,B),P=!0;else if(f===null){var Z=g.stateNode,fe=g.memoizedProps;Z.props=fe;var ge=Z.context,Ee=w.contextType;typeof Ee=="object"&&Ee!==null?Ee=Gs(Ee):(Ee=Do(w)?ch:Hi.current,Ee=tm(g,Ee));var Ue=w.getDerivedStateFromProps,je=typeof Ue=="function"||typeof Z.getSnapshotBeforeUpdate=="function";je||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(fe!==P||ge!==Ee)&&EV(g,Z,P,Ee),Rd=!1;var Ve=g.memoizedState;Z.state=Ve,RS(g,P,Z,B),ge=g.memoizedState,fe!==P||Ve!==ge||No.current||Rd?(typeof Ue=="function"&&(gI(g,w,Ue,P),ge=g.memoizedState),(fe=Rd||_V(g,w,fe,P,Ve,ge,Ee))?(je||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=P,g.memoizedState=ge),Z.props=P,Z.state=ge,Z.context=Ee,P=fe):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),P=!1)}else{Z=g.stateNode,JB(f,g),fe=g.memoizedProps,Ee=g.type===g.elementType?fe:Ra(g.type,fe),Z.props=Ee,je=g.pendingProps,Ve=Z.context,ge=w.contextType,typeof ge=="object"&&ge!==null?ge=Gs(ge):(ge=Do(w)?ch:Hi.current,ge=tm(g,ge));var rt=w.getDerivedStateFromProps;(Ue=typeof rt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(fe!==je||Ve!==ge)&&EV(g,Z,P,ge),Rd=!1,Ve=g.memoizedState,Z.state=Ve,RS(g,P,Z,B);var pt=g.memoizedState;fe!==je||Ve!==pt||No.current||Rd?(typeof rt=="function"&&(gI(g,w,rt,P),pt=g.memoizedState),(Ee=Rd||_V(g,w,Ee,P,Ve,pt,ge)||!1)?(Ue||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(P,pt,ge),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(P,pt,ge)),typeof Z.componentDidUpdate=="function"&&(g.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Z.componentDidUpdate!="function"||fe===f.memoizedProps&&Ve===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&Ve===f.memoizedState||(g.flags|=1024),g.memoizedProps=P,g.memoizedState=pt),Z.props=P,Z.state=pt,Z.context=ge,P=Ee):(typeof Z.componentDidUpdate!="function"||fe===f.memoizedProps&&Ve===f.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||fe===f.memoizedProps&&Ve===f.memoizedState||(g.flags|=1024),P=!1)}return xI(f,g,w,P,U,B)}function xI(f,g,w,P,B,U){DV(f,g);var Z=(g.flags&128)!==0;if(!P&&!Z)return B&&VB(g,w,!1),Yu(f,g,U);P=g.stateNode,Kae.current=g;var fe=Z&&typeof w.getDerivedStateFromError!="function"?null:P.render();return g.flags|=1,f!==null&&Z?(g.child=om(g,f.child,null,U),g.child=om(g,null,fe,U)):go(f,g,fe,U),g.memoizedState=P.state,B&&VB(g,w,!0),g.child}function OV(f){var g=f.stateNode;g.pendingContext?$B(f,g.pendingContext,g.pendingContext!==g.context):g.context&&$B(f,g.context,!1),rI(f,g.containerInfo)}function FV(f,g,w,P,B){return im(),XP(B),g.flags|=256,go(f,g,w,P),g.child}var wI={dehydrated:null,treeContext:null,retryLane:0};function _I(f){return{baseLanes:f,cachePool:null,transitions:null}}function $V(f,g,w){var P=g.pendingProps,B=Sr.current,U=!1,Z=(g.flags&128)!==0,fe;if((fe=Z)||(fe=f!==null&&f.memoizedState===null?!1:(B&2)!==0),fe?(U=!0,g.flags&=-129):(f===null||f.memoizedState!==null)&&(B|=1),rr(Sr,B&1),f===null)return YP(g),f=g.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((g.mode&1)===0?g.lanes=1:f.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(Z=P.children,f=P.fallback,U?(P=g.mode,U=g.child,Z={mode:"hidden",children:Z},(P&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=Z):U=YS(Z,P,0,null),f=xh(f,P,w,null),U.return=g,f.return=g,U.sibling=f,g.child=U,g.child.memoizedState=_I(w),g.memoizedState=wI,f):SI(g,Z));if(B=f.memoizedState,B!==null&&(fe=B.dehydrated,fe!==null))return Yae(f,g,Z,P,fe,B,w);if(U){U=P.fallback,Z=g.mode,B=f.child,fe=B.sibling;var ge={mode:"hidden",children:P.children};return(Z&1)===0&&g.child!==B?(P=g.child,P.childLanes=0,P.pendingProps=ge,g.deletions=null):(P=Ld(B,ge),P.subtreeFlags=B.subtreeFlags&14680064),fe!==null?U=Ld(fe,U):(U=xh(U,Z,w,null),U.flags|=2),U.return=g,P.return=g,P.sibling=U,g.child=P,P=U,U=g.child,Z=f.child.memoizedState,Z=Z===null?_I(w):{baseLanes:Z.baseLanes|w,cachePool:null,transitions:Z.transitions},U.memoizedState=Z,U.childLanes=f.childLanes&~w,g.memoizedState=wI,P}return U=f.child,f=U.sibling,P=Ld(U,{mode:"visible",children:P.children}),(g.mode&1)===0&&(P.lanes=w),P.return=g,P.sibling=null,f!==null&&(w=g.deletions,w===null?(g.deletions=[f],g.flags|=16):w.push(f)),g.child=P,g.memoizedState=null,P}function SI(f,g){return g=YS({mode:"visible",children:g},f.mode,0,null),g.return=f,f.child=g}function OS(f,g,w,P){return P!==null&&XP(P),om(g,f.child,null,w),f=SI(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function Yae(f,g,w,P,B,U,Z){if(w)return g.flags&256?(g.flags&=-257,P=yI(Error(n(422))),OS(f,g,Z,P)):g.memoizedState!==null?(g.child=f.child,g.flags|=128,null):(U=P.fallback,B=g.mode,P=YS({mode:"visible",children:P.children},B,0,null),U=xh(U,B,Z,null),U.flags|=2,P.return=g,U.return=g,P.sibling=U,g.child=P,(g.mode&1)!==0&&om(g,f.child,null,Z),g.child.memoizedState=_I(Z),g.memoizedState=wI,U);if((g.mode&1)===0)return OS(f,g,Z,null);if(B.data==="$!"){if(P=B.nextSibling&&B.nextSibling.dataset,P)var fe=P.dgst;return P=fe,U=Error(n(419)),P=yI(U,P,void 0),OS(f,g,Z,P)}if(fe=(Z&f.childLanes)!==0,Lo||fe){if(P=mi,P!==null){switch(Z&-Z){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}B=(B&(P.suspendedLanes|Z))!==0?0:B,B!==0&&B!==U.retryLane&&(U.retryLane=B,Gu(f,B),ka(P,f,B,-1))}return BI(),P=yI(Error(n(421))),OS(f,g,Z,P)}return B.data==="$?"?(g.flags|=128,g.child=f.child,g=lle.bind(null,f),B._reactRetry=g,null):(f=U.treeContext,gs=Ed(B.nextSibling),ps=g,mr=!0,Aa=null,f!==null&&(js[Ws++]=ju,js[Ws++]=Wu,js[Ws++]=dh,ju=f.id,Wu=f.overflow,dh=g),g=SI(g,P.children),g.flags|=4096,g)}function BV(f,g,w){f.lanes|=g;var P=f.alternate;P!==null&&(P.lanes|=g),eI(f.return,g,w)}function EI(f,g,w,P,B){var U=f.memoizedState;U===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:P,tail:w,tailMode:B}:(U.isBackwards=g,U.rendering=null,U.renderingStartTime=0,U.last=P,U.tail=w,U.tailMode=B)}function VV(f,g,w){var P=g.pendingProps,B=P.revealOrder,U=P.tail;if(go(f,g,P.children,w),P=Sr.current,(P&2)!==0)P=P&1|2,g.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&BV(f,w,g);else if(f.tag===19)BV(f,w,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}P&=1}if(rr(Sr,P),(g.mode&1)===0)g.memoizedState=null;else switch(B){case"forwards":for(w=g.child,B=null;w!==null;)f=w.alternate,f!==null&&PS(f)===null&&(B=w),w=w.sibling;w=B,w===null?(B=g.child,g.child=null):(B=w.sibling,w.sibling=null),EI(g,!1,B,w,U);break;case"backwards":for(w=null,B=g.child,g.child=null;B!==null;){if(f=B.alternate,f!==null&&PS(f)===null){g.child=B;break}f=B.sibling,B.sibling=w,w=B,B=f}EI(g,!0,w,null,U);break;case"together":EI(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function FS(f,g){(g.mode&1)===0&&f!==null&&(f.alternate=null,g.alternate=null,g.flags|=2)}function Yu(f,g,w){if(f!==null&&(g.dependencies=f.dependencies),mh|=g.lanes,(w&g.childLanes)===0)return null;if(f!==null&&g.child!==f.child)throw Error(n(153));if(g.child!==null){for(f=g.child,w=Ld(f,f.pendingProps),g.child=w,w.return=g;f.sibling!==null;)f=f.sibling,w=w.sibling=Ld(f,f.pendingProps),w.return=g;w.sibling=null}return g.child}function Xae(f,g,w){switch(g.tag){case 3:OV(g),im();break;case 5:eV(g);break;case 1:Do(g.type)&&bS(g);break;case 4:rI(g,g.stateNode.containerInfo);break;case 10:var P=g.type._context,B=g.memoizedProps.value;rr(CS,P._currentValue),P._currentValue=B;break;case 13:if(P=g.memoizedState,P!==null)return P.dehydrated!==null?(rr(Sr,Sr.current&1),g.flags|=128,null):(w&g.child.childLanes)!==0?$V(f,g,w):(rr(Sr,Sr.current&1),f=Yu(f,g,w),f!==null?f.sibling:null);rr(Sr,Sr.current&1);break;case 19:if(P=(w&g.childLanes)!==0,(f.flags&128)!==0){if(P)return VV(f,g,w);g.flags|=128}if(B=g.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),rr(Sr,Sr.current),P)break;return null;case 22:case 23:return g.lanes=0,NV(f,g,w)}return Yu(f,g,w)}var zV,CI,UV,HV;zV=function(f,g){for(var w=g.child;w!==null;){if(w.tag===5||w.tag===6)f.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===g)break;for(;w.sibling===null;){if(w.return===null||w.return===g)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},CI=function(){},UV=function(f,g,w,P){var B=f.memoizedProps;if(B!==P){f=g.stateNode,ph(Pl.current);var U=null;switch(w){case"input":B=pe(f,B),P=pe(f,P),U=[];break;case"select":B=j({},B,{value:void 0}),P=j({},P,{value:void 0}),U=[];break;case"textarea":B=ze(f,B),P=ze(f,P),U=[];break;default:typeof B.onClick!="function"&&typeof P.onClick=="function"&&(f.onclick=mS)}Lt(w,P);var Z;w=null;for(Ee in B)if(!P.hasOwnProperty(Ee)&&B.hasOwnProperty(Ee)&&B[Ee]!=null)if(Ee==="style"){var fe=B[Ee];for(Z in fe)fe.hasOwnProperty(Z)&&(w||(w={}),w[Z]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?U||(U=[]):(U=U||[]).push(Ee,null));for(Ee in P){var ge=P[Ee];if(fe=B!=null?B[Ee]:void 0,P.hasOwnProperty(Ee)&&ge!==fe&&(ge!=null||fe!=null))if(Ee==="style")if(fe){for(Z in fe)!fe.hasOwnProperty(Z)||ge&&ge.hasOwnProperty(Z)||(w||(w={}),w[Z]="");for(Z in ge)ge.hasOwnProperty(Z)&&fe[Z]!==ge[Z]&&(w||(w={}),w[Z]=ge[Z])}else w||(U||(U=[]),U.push(Ee,w)),w=ge;else Ee==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,fe=fe?fe.__html:void 0,ge!=null&&fe!==ge&&(U=U||[]).push(Ee,ge)):Ee==="children"?typeof ge!="string"&&typeof ge!="number"||(U=U||[]).push(Ee,""+ge):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(ge!=null&&Ee==="onScroll"&&ur("scroll",f),U||fe===ge||(U=[])):(U=U||[]).push(Ee,ge))}w&&(U=U||[]).push("style",w);var Ee=U;(g.updateQueue=Ee)&&(g.flags|=4)}},HV=function(f,g,w,P){w!==P&&(g.flags|=4)};function Q0(f,g){if(!mr)switch(f.tailMode){case"hidden":g=f.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var P=null;w!==null;)w.alternate!==null&&(P=w),w=w.sibling;P===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:P.sibling=null}}function ji(f){var g=f.alternate!==null&&f.alternate.child===f.child,w=0,P=0;if(g)for(var B=f.child;B!==null;)w|=B.lanes|B.childLanes,P|=B.subtreeFlags&14680064,P|=B.flags&14680064,B.return=f,B=B.sibling;else for(B=f.child;B!==null;)w|=B.lanes|B.childLanes,P|=B.subtreeFlags,P|=B.flags,B.return=f,B=B.sibling;return f.subtreeFlags|=P,f.childLanes=w,g}function Jae(f,g,w){var P=g.pendingProps;switch(GP(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(g),null;case 1:return Do(g.type)&&vS(),ji(g),null;case 3:return P=g.stateNode,lm(),cr(No),cr(Hi),sI(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(f===null||f.child===null)&&(SS(g)?g.flags|=4:f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Aa!==null&&(OI(Aa),Aa=null))),CI(f,g),ji(g),null;case 5:iI(g);var B=ph(G0.current);if(w=g.type,f!==null&&g.stateNode!=null)UV(f,g,w,P,B),f.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!P){if(g.stateNode===null)throw Error(n(166));return ji(g),null}if(f=ph(Pl.current),SS(g)){P=g.stateNode,w=g.type;var U=g.memoizedProps;switch(P[Rl]=g,P[U0]=U,f=(g.mode&1)!==0,w){case"dialog":ur("cancel",P),ur("close",P);break;case"iframe":case"object":case"embed":ur("load",P);break;case"video":case"audio":for(B=0;B<B0.length;B++)ur(B0[B],P);break;case"source":ur("error",P);break;case"img":case"image":case"link":ur("error",P),ur("load",P);break;case"details":ur("toggle",P);break;case"input":Ce(P,U),ur("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!U.multiple},ur("invalid",P);break;case"textarea":lt(P,U),ur("invalid",P)}Lt(w,U),B=null;for(var Z in U)if(U.hasOwnProperty(Z)){var fe=U[Z];Z==="children"?typeof fe=="string"?P.textContent!==fe&&(U.suppressHydrationWarning!==!0&&gS(P.textContent,fe,f),B=["children",fe]):typeof fe=="number"&&P.textContent!==""+fe&&(U.suppressHydrationWarning!==!0&&gS(P.textContent,fe,f),B=["children",""+fe]):i.hasOwnProperty(Z)&&fe!=null&&Z==="onScroll"&&ur("scroll",P)}switch(w){case"input":ve(P),ke(P,U,!0);break;case"textarea":ve(P),on(P);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(P.onclick=mS)}P=B,g.updateQueue=P,P!==null&&(g.flags|=4)}else{Z=B.nodeType===9?B:B.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=we(w)),f==="http://www.w3.org/1999/xhtml"?w==="script"?(f=Z.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof P.is=="string"?f=Z.createElement(w,{is:P.is}):(f=Z.createElement(w),w==="select"&&(Z=f,P.multiple?Z.multiple=!0:P.size&&(Z.size=P.size))):f=Z.createElementNS(f,w),f[Rl]=g,f[U0]=P,zV(f,g,!1,!1),g.stateNode=f;e:{switch(Z=fn(w,P),w){case"dialog":ur("cancel",f),ur("close",f),B=P;break;case"iframe":case"object":case"embed":ur("load",f),B=P;break;case"video":case"audio":for(B=0;B<B0.length;B++)ur(B0[B],f);B=P;break;case"source":ur("error",f),B=P;break;case"img":case"image":case"link":ur("error",f),ur("load",f),B=P;break;case"details":ur("toggle",f),B=P;break;case"input":Ce(f,P),B=pe(f,P),ur("invalid",f);break;case"option":B=P;break;case"select":f._wrapperState={wasMultiple:!!P.multiple},B=j({},P,{value:void 0}),ur("invalid",f);break;case"textarea":lt(f,P),B=ze(f,P),ur("invalid",f);break;default:B=P}Lt(w,B),fe=B;for(U in fe)if(fe.hasOwnProperty(U)){var ge=fe[U];U==="style"?sn(f,ge):U==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&yt(f,ge)):U==="children"?typeof ge=="string"?(w!=="textarea"||ge!=="")&&Ct(f,ge):typeof ge=="number"&&Ct(f,""+ge):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?ge!=null&&U==="onScroll"&&ur("scroll",f):ge!=null&&S(f,U,ge,Z))}switch(w){case"input":ve(f),ke(f,P,!1);break;case"textarea":ve(f),on(f);break;case"option":P.value!=null&&f.setAttribute("value",""+se(P.value));break;case"select":f.multiple=!!P.multiple,U=P.value,U!=null?Qe(f,!!P.multiple,U,!1):P.defaultValue!=null&&Qe(f,!!P.multiple,P.defaultValue,!0);break;default:typeof B.onClick=="function"&&(f.onclick=mS)}switch(w){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return ji(g),null;case 6:if(f&&g.stateNode!=null)HV(f,g,f.memoizedProps,P);else{if(typeof P!="string"&&g.stateNode===null)throw Error(n(166));if(w=ph(G0.current),ph(Pl.current),SS(g)){if(P=g.stateNode,w=g.memoizedProps,P[Rl]=g,(U=P.nodeValue!==w)&&(f=ps,f!==null))switch(f.tag){case 3:gS(P.nodeValue,w,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&gS(P.nodeValue,w,(f.mode&1)!==0)}U&&(g.flags|=4)}else P=(w.nodeType===9?w:w.ownerDocument).createTextNode(P),P[Rl]=g,g.stateNode=P}return ji(g),null;case 13:if(cr(Sr),P=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(mr&&gs!==null&&(g.mode&1)!==0&&(g.flags&128)===0)WB(),im(),g.flags|=98560,U=!1;else if(U=SS(g),P!==null&&P.dehydrated!==null){if(f===null){if(!U)throw Error(n(318));if(U=g.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Rl]=g}else im(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;ji(g),U=!1}else Aa!==null&&(OI(Aa),Aa=null),U=!0;if(!U)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=w,g):(P=P!==null,P!==(f!==null&&f.memoizedState!==null)&&P&&(g.child.flags|=8192,(g.mode&1)!==0&&(f===null||(Sr.current&1)!==0?ii===0&&(ii=3):BI())),g.updateQueue!==null&&(g.flags|=4),ji(g),null);case 4:return lm(),CI(f,g),f===null&&V0(g.stateNode.containerInfo),ji(g),null;case 10:return ZP(g.type._context),ji(g),null;case 17:return Do(g.type)&&vS(),ji(g),null;case 19:if(cr(Sr),U=g.memoizedState,U===null)return ji(g),null;if(P=(g.flags&128)!==0,Z=U.rendering,Z===null)if(P)Q0(U,!1);else{if(ii!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(Z=PS(f),Z!==null){for(g.flags|=128,Q0(U,!1),P=Z.updateQueue,P!==null&&(g.updateQueue=P,g.flags|=4),g.subtreeFlags=0,P=w,w=g.child;w!==null;)U=w,f=P,U.flags&=14680066,Z=U.alternate,Z===null?(U.childLanes=0,U.lanes=f,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=Z.childLanes,U.lanes=Z.lanes,U.child=Z.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=Z.memoizedProps,U.memoizedState=Z.memoizedState,U.updateQueue=Z.updateQueue,U.type=Z.type,f=Z.dependencies,U.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),w=w.sibling;return rr(Sr,Sr.current&1|2),g.child}f=f.sibling}U.tail!==null&&Wn()>fm&&(g.flags|=128,P=!0,Q0(U,!1),g.lanes=4194304)}else{if(!P)if(f=PS(Z),f!==null){if(g.flags|=128,P=!0,w=f.updateQueue,w!==null&&(g.updateQueue=w,g.flags|=4),Q0(U,!0),U.tail===null&&U.tailMode==="hidden"&&!Z.alternate&&!mr)return ji(g),null}else 2*Wn()-U.renderingStartTime>fm&&w!==1073741824&&(g.flags|=128,P=!0,Q0(U,!1),g.lanes=4194304);U.isBackwards?(Z.sibling=g.child,g.child=Z):(w=U.last,w!==null?w.sibling=Z:g.child=Z,U.last=Z)}return U.tail!==null?(g=U.tail,U.rendering=g,U.tail=g.sibling,U.renderingStartTime=Wn(),g.sibling=null,w=Sr.current,rr(Sr,P?w&1|2:w&1),g):(ji(g),null);case 22:case 23:return $I(),P=g.memoizedState!==null,f!==null&&f.memoizedState!==null!==P&&(g.flags|=8192),P&&(g.mode&1)!==0?(ms&1073741824)!==0&&(ji(g),g.subtreeFlags&6&&(g.flags|=8192)):ji(g),null;case 24:return null;case 25:return null}throw Error(n(156,g.tag))}function Qae(f,g){switch(GP(g),g.tag){case 1:return Do(g.type)&&vS(),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return lm(),cr(No),cr(Hi),sI(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 5:return iI(g),null;case 13:if(cr(Sr),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(n(340));im()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return cr(Sr),null;case 4:return lm(),null;case 10:return ZP(g.type._context),null;case 22:case 23:return $I(),null;case 24:return null;default:return null}}var $S=!1,Wi=!1,Zae=typeof WeakSet=="function"?WeakSet:Set,ut=null;function cm(f,g){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(P){Ir(f,g,P)}else w.current=null}function TI(f,g,w){try{w()}catch(P){Ir(f,g,P)}}var qV=!1;function ele(f,g){if($P=wd,f=_B(),IP(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var P=w.getSelection&&w.getSelection();if(P&&P.rangeCount!==0){w=P.anchorNode;var B=P.anchorOffset,U=P.focusNode;P=P.focusOffset;try{w.nodeType,U.nodeType}catch{w=null;break e}var Z=0,fe=-1,ge=-1,Ee=0,Ue=0,je=f,Ve=null;t:for(;;){for(var rt;je!==w||B!==0&&je.nodeType!==3||(fe=Z+B),je!==U||P!==0&&je.nodeType!==3||(ge=Z+P),je.nodeType===3&&(Z+=je.nodeValue.length),(rt=je.firstChild)!==null;)Ve=je,je=rt;for(;;){if(je===f)break t;if(Ve===w&&++Ee===B&&(fe=Z),Ve===U&&++Ue===P&&(ge=Z),(rt=je.nextSibling)!==null)break;je=Ve,Ve=je.parentNode}je=rt}w=fe===-1||ge===-1?null:{start:fe,end:ge}}else w=null}w=w||{start:0,end:0}}else w=null;for(BP={focusedElem:f,selectionRange:w},wd=!1,ut=g;ut!==null;)if(g=ut,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,ut=f;else for(;ut!==null;){g=ut;try{var pt=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var xt=pt.memoizedProps,Fr=pt.memoizedState,_e=g.stateNode,ye=_e.getSnapshotBeforeUpdate(g.elementType===g.type?xt:Ra(g.type,xt),Fr);_e.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Se=g.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ke){Ir(g,g.return,Ke)}if(f=g.sibling,f!==null){f.return=g.return,ut=f;break}ut=g.return}return pt=qV,qV=!1,pt}function Z0(f,g,w){var P=g.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var B=P=P.next;do{if((B.tag&f)===f){var U=B.destroy;B.destroy=void 0,U!==void 0&&TI(g,w,U)}B=B.next}while(B!==P)}}function BS(f,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&f)===f){var P=w.create;w.destroy=P()}w=w.next}while(w!==g)}}function AI(f){var g=f.ref;if(g!==null){var w=f.stateNode;switch(f.tag){case 5:f=w;break;default:f=w}typeof g=="function"?g(f):g.current=f}}function jV(f){var g=f.alternate;g!==null&&(f.alternate=null,jV(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&(delete g[Rl],delete g[U0],delete g[HP],delete g[Oae],delete g[Fae])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function WV(f){return f.tag===5||f.tag===3||f.tag===4}function GV(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||WV(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function RI(f,g,w){var P=f.tag;if(P===5||P===6)f=f.stateNode,g?w.nodeType===8?w.parentNode.insertBefore(f,g):w.insertBefore(f,g):(w.nodeType===8?(g=w.parentNode,g.insertBefore(f,w)):(g=w,g.appendChild(f)),w=w._reactRootContainer,w!=null||g.onclick!==null||(g.onclick=mS));else if(P!==4&&(f=f.child,f!==null))for(RI(f,g,w),f=f.sibling;f!==null;)RI(f,g,w),f=f.sibling}function PI(f,g,w){var P=f.tag;if(P===5||P===6)f=f.stateNode,g?w.insertBefore(f,g):w.appendChild(f);else if(P!==4&&(f=f.child,f!==null))for(PI(f,g,w),f=f.sibling;f!==null;)PI(f,g,w),f=f.sibling}var Ai=null,Pa=!1;function Id(f,g,w){for(w=w.child;w!==null;)KV(f,g,w),w=w.sibling}function KV(f,g,w){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(wl,w)}catch{}switch(w.tag){case 5:Wi||cm(w,g);case 6:var P=Ai,B=Pa;Ai=null,Id(f,g,w),Ai=P,Pa=B,Ai!==null&&(Pa?(f=Ai,w=w.stateNode,f.nodeType===8?f.parentNode.removeChild(w):f.removeChild(w)):Ai.removeChild(w.stateNode));break;case 18:Ai!==null&&(Pa?(f=Ai,w=w.stateNode,f.nodeType===8?UP(f.parentNode,w):f.nodeType===1&&UP(f,w),Ea(f)):UP(Ai,w.stateNode));break;case 4:P=Ai,B=Pa,Ai=w.stateNode.containerInfo,Pa=!0,Id(f,g,w),Ai=P,Pa=B;break;case 0:case 11:case 14:case 15:if(!Wi&&(P=w.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){B=P=P.next;do{var U=B,Z=U.destroy;U=U.tag,Z!==void 0&&((U&2)!==0||(U&4)!==0)&&TI(w,g,Z),B=B.next}while(B!==P)}Id(f,g,w);break;case 1:if(!Wi&&(cm(w,g),P=w.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=w.memoizedProps,P.state=w.memoizedState,P.componentWillUnmount()}catch(fe){Ir(w,g,fe)}Id(f,g,w);break;case 21:Id(f,g,w);break;case 22:w.mode&1?(Wi=(P=Wi)||w.memoizedState!==null,Id(f,g,w),Wi=P):Id(f,g,w);break;default:Id(f,g,w)}}function YV(f){var g=f.updateQueue;if(g!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new Zae),g.forEach(function(P){var B=ule.bind(null,f,P);w.has(P)||(w.add(P),P.then(B,B))})}}function Ia(f,g){var w=g.deletions;if(w!==null)for(var P=0;P<w.length;P++){var B=w[P];try{var U=f,Z=g,fe=Z;e:for(;fe!==null;){switch(fe.tag){case 5:Ai=fe.stateNode,Pa=!1;break e;case 3:Ai=fe.stateNode.containerInfo,Pa=!0;break e;case 4:Ai=fe.stateNode.containerInfo,Pa=!0;break e}fe=fe.return}if(Ai===null)throw Error(n(160));KV(U,Z,B),Ai=null,Pa=!1;var ge=B.alternate;ge!==null&&(ge.return=null),B.return=null}catch(Ee){Ir(B,g,Ee)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)XV(g,f),g=g.sibling}function XV(f,g){var w=f.alternate,P=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Ia(g,f),kl(f),P&4){try{Z0(3,f,f.return),BS(3,f)}catch(xt){Ir(f,f.return,xt)}try{Z0(5,f,f.return)}catch(xt){Ir(f,f.return,xt)}}break;case 1:Ia(g,f),kl(f),P&512&&w!==null&&cm(w,w.return);break;case 5:if(Ia(g,f),kl(f),P&512&&w!==null&&cm(w,w.return),f.flags&32){var B=f.stateNode;try{Ct(B,"")}catch(xt){Ir(f,f.return,xt)}}if(P&4&&(B=f.stateNode,B!=null)){var U=f.memoizedProps,Z=w!==null?w.memoizedProps:U,fe=f.type,ge=f.updateQueue;if(f.updateQueue=null,ge!==null)try{fe==="input"&&U.type==="radio"&&U.name!=null&&$e(B,U),fn(fe,Z);var Ee=fn(fe,U);for(Z=0;Z<ge.length;Z+=2){var Ue=ge[Z],je=ge[Z+1];Ue==="style"?sn(B,je):Ue==="dangerouslySetInnerHTML"?yt(B,je):Ue==="children"?Ct(B,je):S(B,Ue,je,Ee)}switch(fe){case"input":De(B,U);break;case"textarea":It(B,U);break;case"select":var Ve=B._wrapperState.wasMultiple;B._wrapperState.wasMultiple=!!U.multiple;var rt=U.value;rt!=null?Qe(B,!!U.multiple,rt,!1):Ve!==!!U.multiple&&(U.defaultValue!=null?Qe(B,!!U.multiple,U.defaultValue,!0):Qe(B,!!U.multiple,U.multiple?[]:"",!1))}B[U0]=U}catch(xt){Ir(f,f.return,xt)}}break;case 6:if(Ia(g,f),kl(f),P&4){if(f.stateNode===null)throw Error(n(162));B=f.stateNode,U=f.memoizedProps;try{B.nodeValue=U}catch(xt){Ir(f,f.return,xt)}}break;case 3:if(Ia(g,f),kl(f),P&4&&w!==null&&w.memoizedState.isDehydrated)try{Ea(g.containerInfo)}catch(xt){Ir(f,f.return,xt)}break;case 4:Ia(g,f),kl(f);break;case 13:Ia(g,f),kl(f),B=f.child,B.flags&8192&&(U=B.memoizedState!==null,B.stateNode.isHidden=U,!U||B.alternate!==null&&B.alternate.memoizedState!==null||(MI=Wn())),P&4&&YV(f);break;case 22:if(Ue=w!==null&&w.memoizedState!==null,f.mode&1?(Wi=(Ee=Wi)||Ue,Ia(g,f),Wi=Ee):Ia(g,f),kl(f),P&8192){if(Ee=f.memoizedState!==null,(f.stateNode.isHidden=Ee)&&!Ue&&(f.mode&1)!==0)for(ut=f,Ue=f.child;Ue!==null;){for(je=ut=Ue;ut!==null;){switch(Ve=ut,rt=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:Z0(4,Ve,Ve.return);break;case 1:cm(Ve,Ve.return);var pt=Ve.stateNode;if(typeof pt.componentWillUnmount=="function"){P=Ve,w=Ve.return;try{g=P,pt.props=g.memoizedProps,pt.state=g.memoizedState,pt.componentWillUnmount()}catch(xt){Ir(P,w,xt)}}break;case 5:cm(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){ZV(je);continue}}rt!==null?(rt.return=Ve,ut=rt):ZV(je)}Ue=Ue.sibling}e:for(Ue=null,je=f;;){if(je.tag===5){if(Ue===null){Ue=je;try{B=je.stateNode,Ee?(U=B.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(fe=je.stateNode,ge=je.memoizedProps.style,Z=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,fe.style.display=en("display",Z))}catch(xt){Ir(f,f.return,xt)}}}else if(je.tag===6){if(Ue===null)try{je.stateNode.nodeValue=Ee?"":je.memoizedProps}catch(xt){Ir(f,f.return,xt)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===f)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===f)break e;for(;je.sibling===null;){if(je.return===null||je.return===f)break e;Ue===je&&(Ue=null),je=je.return}Ue===je&&(Ue=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Ia(g,f),kl(f),P&4&&YV(f);break;case 21:break;default:Ia(g,f),kl(f)}}function kl(f){var g=f.flags;if(g&2){try{e:{for(var w=f.return;w!==null;){if(WV(w)){var P=w;break e}w=w.return}throw Error(n(160))}switch(P.tag){case 5:var B=P.stateNode;P.flags&32&&(Ct(B,""),P.flags&=-33);var U=GV(f);PI(f,U,B);break;case 3:case 4:var Z=P.stateNode.containerInfo,fe=GV(f);RI(f,fe,Z);break;default:throw Error(n(161))}}catch(ge){Ir(f,f.return,ge)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function tle(f,g,w){ut=f,JV(f)}function JV(f,g,w){for(var P=(f.mode&1)!==0;ut!==null;){var B=ut,U=B.child;if(B.tag===22&&P){var Z=B.memoizedState!==null||$S;if(!Z){var fe=B.alternate,ge=fe!==null&&fe.memoizedState!==null||Wi;fe=$S;var Ee=Wi;if($S=Z,(Wi=ge)&&!Ee)for(ut=B;ut!==null;)Z=ut,ge=Z.child,Z.tag===22&&Z.memoizedState!==null?ez(B):ge!==null?(ge.return=Z,ut=ge):ez(B);for(;U!==null;)ut=U,JV(U),U=U.sibling;ut=B,$S=fe,Wi=Ee}QV(f)}else(B.subtreeFlags&8772)!==0&&U!==null?(U.return=B,ut=U):QV(f)}}function QV(f){for(;ut!==null;){var g=ut;if((g.flags&8772)!==0){var w=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:Wi||BS(5,g);break;case 1:var P=g.stateNode;if(g.flags&4&&!Wi)if(w===null)P.componentDidMount();else{var B=g.elementType===g.type?w.memoizedProps:Ra(g.type,w.memoizedProps);P.componentDidUpdate(B,w.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var U=g.updateQueue;U!==null&&ZB(g,U,P);break;case 3:var Z=g.updateQueue;if(Z!==null){if(w=null,g.child!==null)switch(g.child.tag){case 5:w=g.child.stateNode;break;case 1:w=g.child.stateNode}ZB(g,Z,w)}break;case 5:var fe=g.stateNode;if(w===null&&g.flags&4){w=fe;var ge=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&w.focus();break;case"img":ge.src&&(w.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var Ee=g.alternate;if(Ee!==null){var Ue=Ee.memoizedState;if(Ue!==null){var je=Ue.dehydrated;je!==null&&Ea(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wi||g.flags&512&&AI(g)}catch(Ve){Ir(g,g.return,Ve)}}if(g===f){ut=null;break}if(w=g.sibling,w!==null){w.return=g.return,ut=w;break}ut=g.return}}function ZV(f){for(;ut!==null;){var g=ut;if(g===f){ut=null;break}var w=g.sibling;if(w!==null){w.return=g.return,ut=w;break}ut=g.return}}function ez(f){for(;ut!==null;){var g=ut;try{switch(g.tag){case 0:case 11:case 15:var w=g.return;try{BS(4,g)}catch(ge){Ir(g,w,ge)}break;case 1:var P=g.stateNode;if(typeof P.componentDidMount=="function"){var B=g.return;try{P.componentDidMount()}catch(ge){Ir(g,B,ge)}}var U=g.return;try{AI(g)}catch(ge){Ir(g,U,ge)}break;case 5:var Z=g.return;try{AI(g)}catch(ge){Ir(g,Z,ge)}}}catch(ge){Ir(g,g.return,ge)}if(g===f){ut=null;break}var fe=g.sibling;if(fe!==null){fe.return=g.return,ut=fe;break}ut=g.return}}var nle=Math.ceil,VS=T.ReactCurrentDispatcher,II=T.ReactCurrentOwner,Ys=T.ReactCurrentBatchConfig,Rn=0,mi=null,qr=null,Ri=0,ms=0,dm=Cd(0),ii=0,eb=null,mh=0,zS=0,kI=0,tb=null,Oo=null,MI=0,fm=1/0,Xu=null,US=!1,NI=null,kd=null,HS=!1,Md=null,qS=0,nb=0,DI=null,jS=-1,WS=0;function mo(){return(Rn&6)!==0?Wn():jS!==-1?jS:jS=Wn()}function Nd(f){return(f.mode&1)===0?1:(Rn&2)!==0&&Ri!==0?Ri&-Ri:Bae.transition!==null?(WS===0&&(WS=$u()),WS):(f=bn,f!==0||(f=window.event,f=f===void 0?16:I0(f.type)),f)}function ka(f,g,w,P){if(50<nb)throw nb=0,DI=null,Error(n(185));yd(f,w,P),((Rn&2)===0||f!==mi)&&(f===mi&&((Rn&2)===0&&(zS|=w),ii===4&&Dd(f,Ri)),Fo(f,P),w===1&&Rn===0&&(g.mode&1)===0&&(fm=Wn()+500,xS&&Ad()))}function Fo(f,g){var w=f.callbackNode;ds(f,g);var P=Fu(f,f===mi?Ri:0);if(P===0)w!==null&&nh(w),f.callbackNode=null,f.callbackPriority=0;else if(g=P&-P,f.callbackPriority!==g){if(w!=null&&nh(w),g===1)f.tag===0?$ae(nz.bind(null,f)):zB(nz.bind(null,f)),Dae(function(){(Rn&6)===0&&Ad()}),w=null;else{switch(bd(P)){case 1:w=Ou;break;case 4:w=xl;break;case 16:w=Io;break;case 536870912:w=Ng;break;default:w=Io}w=cz(w,tz.bind(null,f))}f.callbackPriority=g,f.callbackNode=w}}function tz(f,g){if(jS=-1,WS=0,(Rn&6)!==0)throw Error(n(327));var w=f.callbackNode;if(hm()&&f.callbackNode!==w)return null;var P=Fu(f,f===mi?Ri:0);if(P===0)return null;if((P&30)!==0||(P&f.expiredLanes)!==0||g)g=GS(f,P);else{g=P;var B=Rn;Rn|=2;var U=iz();(mi!==f||Ri!==g)&&(Xu=null,fm=Wn()+500,vh(f,g));do try{ole();break}catch(fe){rz(f,fe)}while(!0);QP(),VS.current=U,Rn=B,qr!==null?g=0:(mi=null,Ri=0,g=ii)}if(g!==0){if(g===2&&(B=ho(f),B!==0&&(P=B,g=LI(f,B))),g===1)throw w=eb,vh(f,0),Dd(f,P),Fo(f,Wn()),w;if(g===6)Dd(f,P);else{if(B=f.current.alternate,(P&30)===0&&!rle(B)&&(g=GS(f,P),g===2&&(U=ho(f),U!==0&&(P=U,g=LI(f,U))),g===1))throw w=eb,vh(f,0),Dd(f,P),Fo(f,Wn()),w;switch(f.finishedWork=B,f.finishedLanes=P,g){case 0:case 1:throw Error(n(345));case 2:bh(f,Oo,Xu);break;case 3:if(Dd(f,P),(P&130023424)===P&&(g=MI+500-Wn(),10<g)){if(Fu(f,0)!==0)break;if(B=f.suspendedLanes,(B&P)!==P){mo(),f.pingedLanes|=f.suspendedLanes&B;break}f.timeoutHandle=zP(bh.bind(null,f,Oo,Xu),g);break}bh(f,Oo,Xu);break;case 4:if(Dd(f,P),(P&4194240)===P)break;for(g=f.eventTimes,B=-1;0<P;){var Z=31-Ei(P);U=1<<Z,Z=g[Z],Z>B&&(B=Z),P&=~U}if(P=B,P=Wn()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*nle(P/1960))-P,10<P){f.timeoutHandle=zP(bh.bind(null,f,Oo,Xu),P);break}bh(f,Oo,Xu);break;case 5:bh(f,Oo,Xu);break;default:throw Error(n(329))}}}return Fo(f,Wn()),f.callbackNode===w?tz.bind(null,f):null}function LI(f,g){var w=tb;return f.current.memoizedState.isDehydrated&&(vh(f,g).flags|=256),f=GS(f,g),f!==2&&(g=Oo,Oo=w,g!==null&&OI(g)),f}function OI(f){Oo===null?Oo=f:Oo.push.apply(Oo,f)}function rle(f){for(var g=f;;){if(g.flags&16384){var w=g.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var P=0;P<w.length;P++){var B=w[P],U=B.getSnapshot;B=B.value;try{if(!Ta(U(),B))return!1}catch{return!1}}}if(w=g.child,g.subtreeFlags&16384&&w!==null)w.return=g,g=w;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Dd(f,g){for(g&=~kI,g&=~zS,f.suspendedLanes|=g,f.pingedLanes&=~g,f=f.expirationTimes;0<g;){var w=31-Ei(g),P=1<<w;f[w]=-1,g&=~P}}function nz(f){if((Rn&6)!==0)throw Error(n(327));hm();var g=Fu(f,0);if((g&1)===0)return Fo(f,Wn()),null;var w=GS(f,g);if(f.tag!==0&&w===2){var P=ho(f);P!==0&&(g=P,w=LI(f,P))}if(w===1)throw w=eb,vh(f,0),Dd(f,g),Fo(f,Wn()),w;if(w===6)throw Error(n(345));return f.finishedWork=f.current.alternate,f.finishedLanes=g,bh(f,Oo,Xu),Fo(f,Wn()),null}function FI(f,g){var w=Rn;Rn|=1;try{return f(g)}finally{Rn=w,Rn===0&&(fm=Wn()+500,xS&&Ad())}}function yh(f){Md!==null&&Md.tag===0&&(Rn&6)===0&&hm();var g=Rn;Rn|=1;var w=Ys.transition,P=bn;try{if(Ys.transition=null,bn=1,f)return f()}finally{bn=P,Ys.transition=w,Rn=g,(Rn&6)===0&&Ad()}}function $I(){ms=dm.current,cr(dm)}function vh(f,g){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==-1&&(f.timeoutHandle=-1,Nae(w)),qr!==null)for(w=qr.return;w!==null;){var P=w;switch(GP(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&vS();break;case 3:lm(),cr(No),cr(Hi),sI();break;case 5:iI(P);break;case 4:lm();break;case 13:cr(Sr);break;case 19:cr(Sr);break;case 10:ZP(P.type._context);break;case 22:case 23:$I()}w=w.return}if(mi=f,qr=f=Ld(f.current,null),Ri=ms=g,ii=0,eb=null,kI=zS=mh=0,Oo=tb=null,hh!==null){for(g=0;g<hh.length;g++)if(w=hh[g],P=w.interleaved,P!==null){w.interleaved=null;var B=P.next,U=w.pending;if(U!==null){var Z=U.next;U.next=B,P.next=Z}w.pending=P}hh=null}return f}function rz(f,g){do{var w=qr;try{if(QP(),IS.current=DS,kS){for(var P=Er.memoizedState;P!==null;){var B=P.queue;B!==null&&(B.pending=null),P=P.next}kS=!1}if(gh=0,gi=ri=Er=null,K0=!1,Y0=0,II.current=null,w===null||w.return===null){ii=1,eb=g,qr=null;break}e:{var U=f,Z=w.return,fe=w,ge=g;if(g=Ri,fe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ee=ge,Ue=fe,je=Ue.tag;if((Ue.mode&1)===0&&(je===0||je===11||je===15)){var Ve=Ue.alternate;Ve?(Ue.updateQueue=Ve.updateQueue,Ue.memoizedState=Ve.memoizedState,Ue.lanes=Ve.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var rt=RV(Z);if(rt!==null){rt.flags&=-257,PV(rt,Z,fe,U,g),rt.mode&1&&AV(U,Ee,g),g=rt,ge=Ee;var pt=g.updateQueue;if(pt===null){var xt=new Set;xt.add(ge),g.updateQueue=xt}else pt.add(ge);break e}else{if((g&1)===0){AV(U,Ee,g),BI();break e}ge=Error(n(426))}}else if(mr&&fe.mode&1){var Fr=RV(Z);if(Fr!==null){(Fr.flags&65536)===0&&(Fr.flags|=256),PV(Fr,Z,fe,U,g),XP(um(ge,fe));break e}}U=ge=um(ge,fe),ii!==4&&(ii=2),tb===null?tb=[U]:tb.push(U),U=Z;do{switch(U.tag){case 3:U.flags|=65536,g&=-g,U.lanes|=g;var _e=CV(U,ge,g);QB(U,_e);break e;case 1:fe=ge;var ye=U.type,Se=U.stateNode;if((U.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(kd===null||!kd.has(Se)))){U.flags|=65536,g&=-g,U.lanes|=g;var Ke=TV(U,fe,g);QB(U,Ke);break e}}U=U.return}while(U!==null)}sz(w)}catch(wt){g=wt,qr===w&&w!==null&&(qr=w=w.return);continue}break}while(!0)}function iz(){var f=VS.current;return VS.current=DS,f===null?DS:f}function BI(){(ii===0||ii===3||ii===2)&&(ii=4),mi===null||(mh&268435455)===0&&(zS&268435455)===0||Dd(mi,Ri)}function GS(f,g){var w=Rn;Rn|=2;var P=iz();(mi!==f||Ri!==g)&&(Xu=null,vh(f,g));do try{ile();break}catch(B){rz(f,B)}while(!0);if(QP(),Rn=w,VS.current=P,qr!==null)throw Error(n(261));return mi=null,Ri=0,ii}function ile(){for(;qr!==null;)oz(qr)}function ole(){for(;qr!==null&&!Ig();)oz(qr)}function oz(f){var g=uz(f.alternate,f,ms);f.memoizedProps=f.pendingProps,g===null?sz(f):qr=g,II.current=null}function sz(f){var g=f;do{var w=g.alternate;if(f=g.return,(g.flags&32768)===0){if(w=Jae(w,g,ms),w!==null){qr=w;return}}else{if(w=Qae(w,g),w!==null){w.flags&=32767,qr=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{ii=6,qr=null;return}}if(g=g.sibling,g!==null){qr=g;return}qr=g=f}while(g!==null);ii===0&&(ii=5)}function bh(f,g,w){var P=bn,B=Ys.transition;try{Ys.transition=null,bn=1,sle(f,g,w,P)}finally{Ys.transition=B,bn=P}return null}function sle(f,g,w,P){do hm();while(Md!==null);if((Rn&6)!==0)throw Error(n(327));w=f.finishedWork;var B=f.finishedLanes;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(n(177));f.callbackNode=null,f.callbackPriority=0;var U=w.lanes|w.childLanes;if(Jn(f,U),f===mi&&(qr=mi=null,Ri=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||HS||(HS=!0,cz(Io,function(){return hm(),null})),U=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||U){U=Ys.transition,Ys.transition=null;var Z=bn;bn=1;var fe=Rn;Rn|=4,II.current=null,ele(f,w),XV(w,f),Tae(BP),wd=!!$P,BP=$P=null,f.current=w,tle(w),kg(),Rn=fe,bn=Z,Ys.transition=U}else f.current=w;if(HS&&(HS=!1,Md=f,qS=B),U=f.pendingLanes,U===0&&(kd=null),Dg(w.stateNode),Fo(f,Wn()),g!==null)for(P=f.onRecoverableError,w=0;w<g.length;w++)B=g[w],P(B.value,{componentStack:B.stack,digest:B.digest});if(US)throw US=!1,f=NI,NI=null,f;return(qS&1)!==0&&f.tag!==0&&hm(),U=f.pendingLanes,(U&1)!==0?f===DI?nb++:(nb=0,DI=f):nb=0,Ad(),null}function hm(){if(Md!==null){var f=bd(qS),g=Ys.transition,w=bn;try{if(Ys.transition=null,bn=16>f?16:f,Md===null)var P=!1;else{if(f=Md,Md=null,qS=0,(Rn&6)!==0)throw Error(n(331));var B=Rn;for(Rn|=4,ut=f.current;ut!==null;){var U=ut,Z=U.child;if((ut.flags&16)!==0){var fe=U.deletions;if(fe!==null){for(var ge=0;ge<fe.length;ge++){var Ee=fe[ge];for(ut=Ee;ut!==null;){var Ue=ut;switch(Ue.tag){case 0:case 11:case 15:Z0(8,Ue,U)}var je=Ue.child;if(je!==null)je.return=Ue,ut=je;else for(;ut!==null;){Ue=ut;var Ve=Ue.sibling,rt=Ue.return;if(jV(Ue),Ue===Ee){ut=null;break}if(Ve!==null){Ve.return=rt,ut=Ve;break}ut=rt}}}var pt=U.alternate;if(pt!==null){var xt=pt.child;if(xt!==null){pt.child=null;do{var Fr=xt.sibling;xt.sibling=null,xt=Fr}while(xt!==null)}}ut=U}}if((U.subtreeFlags&2064)!==0&&Z!==null)Z.return=U,ut=Z;else e:for(;ut!==null;){if(U=ut,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Z0(9,U,U.return)}var _e=U.sibling;if(_e!==null){_e.return=U.return,ut=_e;break e}ut=U.return}}var ye=f.current;for(ut=ye;ut!==null;){Z=ut;var Se=Z.child;if((Z.subtreeFlags&2064)!==0&&Se!==null)Se.return=Z,ut=Se;else e:for(Z=ye;ut!==null;){if(fe=ut,(fe.flags&2048)!==0)try{switch(fe.tag){case 0:case 11:case 15:BS(9,fe)}}catch(wt){Ir(fe,fe.return,wt)}if(fe===Z){ut=null;break e}var Ke=fe.sibling;if(Ke!==null){Ke.return=fe.return,ut=Ke;break e}ut=fe.return}}if(Rn=B,Ad(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(wl,f)}catch{}P=!0}return P}finally{bn=w,Ys.transition=g}}return!1}function az(f,g,w){g=um(w,g),g=CV(f,g,1),f=Pd(f,g,1),g=mo(),f!==null&&(yd(f,1,g),Fo(f,g))}function Ir(f,g,w){if(f.tag===3)az(f,f,w);else for(;g!==null;){if(g.tag===3){az(g,f,w);break}else if(g.tag===1){var P=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(kd===null||!kd.has(P))){f=um(w,f),f=TV(g,f,1),g=Pd(g,f,1),f=mo(),g!==null&&(yd(g,1,f),Fo(g,f));break}}g=g.return}}function ale(f,g,w){var P=f.pingCache;P!==null&&P.delete(g),g=mo(),f.pingedLanes|=f.suspendedLanes&w,mi===f&&(Ri&w)===w&&(ii===4||ii===3&&(Ri&130023424)===Ri&&500>Wn()-MI?vh(f,0):kI|=w),Fo(f,g)}function lz(f,g){g===0&&((f.mode&1)===0?g=1:(g=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var w=mo();f=Gu(f,g),f!==null&&(yd(f,g,w),Fo(f,w))}function lle(f){var g=f.memoizedState,w=0;g!==null&&(w=g.retryLane),lz(f,w)}function ule(f,g){var w=0;switch(f.tag){case 13:var P=f.stateNode,B=f.memoizedState;B!==null&&(w=B.retryLane);break;case 19:P=f.stateNode;break;default:throw Error(n(314))}P!==null&&P.delete(g),lz(f,w)}var uz;uz=function(f,g,w){if(f!==null)if(f.memoizedProps!==g.pendingProps||No.current)Lo=!0;else{if((f.lanes&w)===0&&(g.flags&128)===0)return Lo=!1,Xae(f,g,w);Lo=(f.flags&131072)!==0}else Lo=!1,mr&&(g.flags&1048576)!==0&&UB(g,_S,g.index);switch(g.lanes=0,g.tag){case 2:var P=g.type;FS(f,g),f=g.pendingProps;var B=tm(g,Hi.current);am(g,w),B=uI(null,g,P,f,B,w);var U=cI();return g.flags|=1,typeof B=="object"&&B!==null&&typeof B.render=="function"&&B.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Do(P)?(U=!0,bS(g)):U=!1,g.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,nI(g),B.updater=LS,g.stateNode=B,B._reactInternals=g,mI(g,P,f,w),g=xI(null,g,P,!0,U,w)):(g.tag=0,mr&&U&&WP(g),go(null,g,B,w),g=g.child),g;case 16:P=g.elementType;e:{switch(FS(f,g),f=g.pendingProps,B=P._init,P=B(P._payload),g.type=P,B=g.tag=dle(P),f=Ra(P,f),B){case 0:g=bI(null,g,P,f,w);break e;case 1:g=LV(null,g,P,f,w);break e;case 11:g=IV(null,g,P,f,w);break e;case 14:g=kV(null,g,P,Ra(P.type,f),w);break e}throw Error(n(306,P,""))}return g;case 0:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Ra(P,B),bI(f,g,P,B,w);case 1:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Ra(P,B),LV(f,g,P,B,w);case 3:e:{if(OV(g),f===null)throw Error(n(387));P=g.pendingProps,U=g.memoizedState,B=U.element,JB(f,g),RS(g,P,null,w);var Z=g.memoizedState;if(P=Z.element,U.isDehydrated)if(U={element:P,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},g.updateQueue.baseState=U,g.memoizedState=U,g.flags&256){B=um(Error(n(423)),g),g=FV(f,g,P,w,B);break e}else if(P!==B){B=um(Error(n(424)),g),g=FV(f,g,P,w,B);break e}else for(gs=Ed(g.stateNode.containerInfo.firstChild),ps=g,mr=!0,Aa=null,w=YB(g,null,P,w),g.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(im(),P===B){g=Yu(f,g,w);break e}go(f,g,P,w)}g=g.child}return g;case 5:return eV(g),f===null&&YP(g),P=g.type,B=g.pendingProps,U=f!==null?f.memoizedProps:null,Z=B.children,VP(P,B)?Z=null:U!==null&&VP(P,U)&&(g.flags|=32),DV(f,g),go(f,g,Z,w),g.child;case 6:return f===null&&YP(g),null;case 13:return $V(f,g,w);case 4:return rI(g,g.stateNode.containerInfo),P=g.pendingProps,f===null?g.child=om(g,null,P,w):go(f,g,P,w),g.child;case 11:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Ra(P,B),IV(f,g,P,B,w);case 7:return go(f,g,g.pendingProps,w),g.child;case 8:return go(f,g,g.pendingProps.children,w),g.child;case 12:return go(f,g,g.pendingProps.children,w),g.child;case 10:e:{if(P=g.type._context,B=g.pendingProps,U=g.memoizedProps,Z=B.value,rr(CS,P._currentValue),P._currentValue=Z,U!==null)if(Ta(U.value,Z)){if(U.children===B.children&&!No.current){g=Yu(f,g,w);break e}}else for(U=g.child,U!==null&&(U.return=g);U!==null;){var fe=U.dependencies;if(fe!==null){Z=U.child;for(var ge=fe.firstContext;ge!==null;){if(ge.context===P){if(U.tag===1){ge=Ku(-1,w&-w),ge.tag=2;var Ee=U.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ue=Ee.pending;Ue===null?ge.next=ge:(ge.next=Ue.next,Ue.next=ge),Ee.pending=ge}}U.lanes|=w,ge=U.alternate,ge!==null&&(ge.lanes|=w),eI(U.return,w,g),fe.lanes|=w;break}ge=ge.next}}else if(U.tag===10)Z=U.type===g.type?null:U.child;else if(U.tag===18){if(Z=U.return,Z===null)throw Error(n(341));Z.lanes|=w,fe=Z.alternate,fe!==null&&(fe.lanes|=w),eI(Z,w,g),Z=U.sibling}else Z=U.child;if(Z!==null)Z.return=U;else for(Z=U;Z!==null;){if(Z===g){Z=null;break}if(U=Z.sibling,U!==null){U.return=Z.return,Z=U;break}Z=Z.return}U=Z}go(f,g,B.children,w),g=g.child}return g;case 9:return B=g.type,P=g.pendingProps.children,am(g,w),B=Gs(B),P=P(B),g.flags|=1,go(f,g,P,w),g.child;case 14:return P=g.type,B=Ra(P,g.pendingProps),B=Ra(P.type,B),kV(f,g,P,B,w);case 15:return MV(f,g,g.type,g.pendingProps,w);case 17:return P=g.type,B=g.pendingProps,B=g.elementType===P?B:Ra(P,B),FS(f,g),g.tag=1,Do(P)?(f=!0,bS(g)):f=!1,am(g,w),SV(g,P,B),mI(g,P,B,w),xI(null,g,P,!0,f,w);case 19:return VV(f,g,w);case 22:return NV(f,g,w)}throw Error(n(156,g.tag))};function cz(f,g){return gd(f,g)}function cle(f,g,w,P){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(f,g,w,P){return new cle(f,g,w,P)}function VI(f){return f=f.prototype,!(!f||!f.isReactComponent)}function dle(f){if(typeof f=="function")return VI(f)?1:0;if(f!=null){if(f=f.$$typeof,f===V)return 11;if(f===G)return 14}return 2}function Ld(f,g){var w=f.alternate;return w===null?(w=Xs(f.tag,g,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=g,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,g=f.dependencies,w.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function KS(f,g,w,P,B,U){var Z=2;if(P=f,typeof f=="function")VI(f)&&(Z=1);else if(typeof f=="string")Z=5;else e:switch(f){case R:return xh(w.children,B,U,g);case M:Z=8,B|=8;break;case L:return f=Xs(12,w,g,B|2),f.elementType=L,f.lanes=U,f;case $:return f=Xs(13,w,g,B),f.elementType=$,f.lanes=U,f;case H:return f=Xs(19,w,g,B),f.elementType=H,f.lanes=U,f;case J:return YS(w,B,U,g);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case k:Z=10;break e;case D:Z=9;break e;case V:Z=11;break e;case G:Z=14;break e;case K:Z=16,P=null;break e}throw Error(n(130,f==null?f:typeof f,""))}return g=Xs(Z,w,g,B),g.elementType=f,g.type=P,g.lanes=U,g}function xh(f,g,w,P){return f=Xs(7,f,P,g),f.lanes=w,f}function YS(f,g,w,P){return f=Xs(22,f,P,g),f.elementType=J,f.lanes=w,f.stateNode={isHidden:!1},f}function zI(f,g,w){return f=Xs(6,f,null,g),f.lanes=w,f}function UI(f,g,w){return g=Xs(4,f.children!==null?f.children:[],f.key,g),g.lanes=w,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}function fle(f,g,w,P,B){this.tag=g,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=P,this.onRecoverableError=B,this.mutableSourceEagerHydrationData=null}function HI(f,g,w,P,B,U,Z,fe,ge){return f=new fle(f,g,w,fe,ge),g===1?(g=1,U===!0&&(g|=8)):g=0,U=Xs(3,null,null,g),f.current=U,U.stateNode=f,U.memoizedState={element:P,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},nI(U),f}function hle(f,g,w){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:P==null?null:""+P,children:f,containerInfo:g,implementation:w}}function dz(f){if(!f)return Td;f=f._reactInternals;e:{if(Ro(f)!==f||f.tag!==1)throw Error(n(170));var g=f;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Do(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(n(171))}if(f.tag===1){var w=f.type;if(Do(w))return BB(f,w,g)}return g}function fz(f,g,w,P,B,U,Z,fe,ge){return f=HI(w,P,!0,f,B,U,Z,fe,ge),f.context=dz(null),w=f.current,P=mo(),B=Nd(w),U=Ku(P,B),U.callback=g??null,Pd(w,U,B),f.current.lanes=B,yd(f,B,P),Fo(f,P),f}function XS(f,g,w,P){var B=g.current,U=mo(),Z=Nd(B);return w=dz(w),g.context===null?g.context=w:g.pendingContext=w,g=Ku(U,Z),g.payload={element:f},P=P===void 0?null:P,P!==null&&(g.callback=P),f=Pd(B,g,Z),f!==null&&(ka(f,B,Z,U),AS(f,B,Z)),Z}function JS(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function hz(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<g?w:g}}function qI(f,g){hz(f,g),(f=f.alternate)&&hz(f,g)}function ple(){return null}var pz=typeof reportError=="function"?reportError:function(f){console.error(f)};function jI(f){this._internalRoot=f}QS.prototype.render=jI.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(n(409));XS(f,g,null,null)},QS.prototype.unmount=jI.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;yh(function(){XS(null,f,null,null)}),g[Hu]=null}};function QS(f){this._internalRoot=f}QS.prototype.unstable_scheduleHydration=function(f){if(f){var g=Q1();f={blockedOn:null,target:f,priority:g};for(var w=0;w<El.length&&g!==0&&g<El[w].priority;w++);El.splice(w,0,f),w===0&&tS(f)}};function WI(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function ZS(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function gz(){}function gle(f,g,w,P,B){if(B){if(typeof P=="function"){var U=P;P=function(){var Ee=JS(Z);U.call(Ee)}}var Z=fz(g,P,f,0,null,!1,!1,"",gz);return f._reactRootContainer=Z,f[Hu]=Z.current,V0(f.nodeType===8?f.parentNode:f),yh(),Z}for(;B=f.lastChild;)f.removeChild(B);if(typeof P=="function"){var fe=P;P=function(){var Ee=JS(ge);fe.call(Ee)}}var ge=HI(f,0,!1,null,null,!1,!1,"",gz);return f._reactRootContainer=ge,f[Hu]=ge.current,V0(f.nodeType===8?f.parentNode:f),yh(function(){XS(g,ge,w,P)}),ge}function eE(f,g,w,P,B){var U=w._reactRootContainer;if(U){var Z=U;if(typeof B=="function"){var fe=B;B=function(){var ge=JS(Z);fe.call(ge)}}XS(g,Z,f,B)}else Z=gle(w,g,f,B,P);return JS(Z)}X1=function(f){switch(f.tag){case 3:var g=f.stateNode;if(g.current.memoizedState.isDehydrated){var w=_l(g.pendingLanes);w!==0&&(vd(g,w|1),Fo(g,Wn()),(Rn&6)===0&&(fm=Wn()+500,Ad()))}break;case 13:yh(function(){var P=Gu(f,1);if(P!==null){var B=mo();ka(P,f,1,B)}}),qI(f,1)}},Fg=function(f){if(f.tag===13){var g=Gu(f,134217728);if(g!==null){var w=mo();ka(g,f,134217728,w)}qI(f,134217728)}},J1=function(f){if(f.tag===13){var g=Nd(f),w=Gu(f,g);if(w!==null){var P=mo();ka(w,f,g,P)}qI(f,g)}},Q1=function(){return bn},Z1=function(f,g){var w=bn;try{return bn=f,g()}finally{bn=w}},$t=function(f,g,w){switch(g){case"input":if(De(f,w),g=w.name,w.type==="radio"&&g!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<w.length;g++){var P=w[g];if(P!==f&&P.form===f.form){var B=yS(P);if(!B)throw Error(n(90));be(P),De(P,B)}}}break;case"textarea":It(f,w);break;case"select":g=w.value,g!=null&&Qe(f,!!w.multiple,g,!1)}},Si=FI,zt=yh;var mle={usingClientEntryPoint:!1,Events:[H0,Zg,yS,Nn,Dn,FI]},rb={findFiberByHostInstance:uh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yle={bundleType:rb.bundleType,version:rb.version,rendererPackageName:rb.rendererPackageName,rendererConfig:rb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=th(f),f===null?null:f.stateNode},findFiberByHostInstance:rb.findFiberByHostInstance||ple,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tE.isDisabled&&tE.supportsFiber)try{wl=tE.inject(yle),fo=tE}catch{}}return $o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mle,$o.createPortal=function(f,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WI(g))throw Error(n(200));return hle(f,g,null,w)},$o.createRoot=function(f,g){if(!WI(f))throw Error(n(299));var w=!1,P="",B=pz;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onRecoverableError!==void 0&&(B=g.onRecoverableError)),g=HI(f,1,!1,null,null,w,!1,P,B),f[Hu]=g.current,V0(f.nodeType===8?f.parentNode:f),new jI(g)},$o.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=th(g),f=f===null?null:f.stateNode,f},$o.flushSync=function(f){return yh(f)},$o.hydrate=function(f,g,w){if(!ZS(g))throw Error(n(200));return eE(null,f,g,!0,w)},$o.hydrateRoot=function(f,g,w){if(!WI(f))throw Error(n(405));var P=w!=null&&w.hydratedSources||null,B=!1,U="",Z=pz;if(w!=null&&(w.unstable_strictMode===!0&&(B=!0),w.identifierPrefix!==void 0&&(U=w.identifierPrefix),w.onRecoverableError!==void 0&&(Z=w.onRecoverableError)),g=fz(g,null,f,1,w??null,B,!1,U,Z),f[Hu]=g.current,V0(f),P)for(f=0;f<P.length;f++)w=P[f],B=w._getVersion,B=B(w._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[w,B]:g.mutableSourceEagerHydrationData.push(w,B);return new QS(g)},$o.render=function(f,g,w){if(!ZS(g))throw Error(n(200));return eE(null,f,g,!1,w)},$o.unmountComponentAtNode=function(f){if(!ZS(f))throw Error(n(40));return f._reactRootContainer?(yh(function(){eE(null,null,f,!1,function(){f._reactRootContainer=null,f[Hu]=null})}),!0):!1},$o.unstable_batchedUpdates=FI,$o.unstable_renderSubtreeIntoContainer=function(f,g,w,P){if(!ZS(w))throw Error(n(200));if(f==null||f._reactInternals===void 0)throw Error(n(38));return eE(f,g,w,!1,P)},$o.version="18.3.1-next-f1338f8080-20240426",$o}var Ez;function BA(){if(Ez)return XI.exports;Ez=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),XI.exports=Ple(),XI.exports}var Cz;function Ile(){if(Cz)return nE;Cz=1;var t=BA();return nE.createRoot=t.createRoot,nE.hydrateRoot=t.hydrateRoot,nE}var fX=Ile();function ti(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=ti(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var kle={value:()=>{}};function VA(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new rC(n)}function rC(t){this._=t}function Mle(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}rC.prototype=VA.prototype={constructor:rC,on:function(t,e){var n=this._,r=Mle(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=Nle(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Tz(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Tz(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new rC(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Nle(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Tz(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=kle,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var mL="http://www.w3.org/1999/xhtml";const Az={svg:"http://www.w3.org/2000/svg",xhtml:mL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zA(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Az.hasOwnProperty(e)?{space:Az[e],local:t}:t}function Dle(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mL&&e.documentElement.namespaceURI===mL?e.createElement(t):e.createElementNS(n,t)}}function Lle(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function hX(t){var e=zA(t);return(e.local?Lle:Dle)(e)}function Ole(){}function D$(t){return t==null?Ole:function(){return this.querySelector(t)}}function Fle(t){typeof t!="function"&&(t=D$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Bs(r,this._parents)}function $le(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ble(){return[]}function pX(t){return t==null?Ble:function(){return this.querySelectorAll(t)}}function Vle(t){return function(){return $le(t.apply(this,arguments))}}function zle(t){typeof t=="function"?t=Vle(t):t=pX(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new Bs(r,i)}function gX(t){return function(){return this.matches(t)}}function mX(t){return function(e){return e.matches(t)}}var Ule=Array.prototype.find;function Hle(t){return function(){return Ule.call(this.children,t)}}function qle(){return this.firstElementChild}function jle(t){return this.select(t==null?qle:Hle(typeof t=="function"?t:mX(t)))}var Wle=Array.prototype.filter;function Gle(){return Array.from(this.children)}function Kle(t){return function(){return Wle.call(this.children,t)}}function Yle(t){return this.selectAll(t==null?Gle:Kle(typeof t=="function"?t:mX(t)))}function Xle(t){typeof t!="function"&&(t=gX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Bs(r,this._parents)}function yX(t){return new Array(t.length)}function Jle(){return new Bs(this._enter||this._groups.map(yX),this._parents)}function sT(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}sT.prototype={constructor:sT,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Qle(t){return function(){return t}}function Zle(t,e,n,r,i,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new sT(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function eue(t,e,n,r,i,o,s){var a,l,u=new Map,c=e.length,d=o.length,h=new Array(c),p;for(a=0;a<c;++a)(l=e[a])&&(h[a]=p=s.call(l,l.__data__,a,e)+"",u.has(p)?i[a]=l:u.set(p,l));for(a=0;a<d;++a)p=s.call(t,o[a],a,o)+"",(l=u.get(p))?(r[a]=l,l.__data__=o[a],u.delete(p)):n[a]=new sT(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(h[a])===l&&(i[a]=l)}function tue(t){return t.__data__}function nue(t,e){if(!arguments.length)return Array.from(this,tue);var n=e?eue:Zle,r=this._parents,i=this._groups;typeof t!="function"&&(t=Qle(t));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],h=d.length,p=rue(t.call(c,c&&c.__data__,u,r)),m=p.length,y=a[u]=new Array(m),x=s[u]=new Array(m),_=l[u]=new Array(h);n(c,d,y,x,_,p,e);for(var E=0,S=0,T,I;E<m;++E)if(T=y[E]){for(E>=S&&(S=E+1);!(I=x[S])&&++S<m;);T._next=I||null}}return s=new Bs(s,r),s._enter=a,s._exit=l,s}function rue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iue(){return new Bs(this._exit||this._groups.map(yX),this._parents)}function oue(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function sue(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var u=n[l],c=r[l],d=u.length,h=a[l]=new Array(d),p,m=0;m<d;++m)(p=u[m]||c[m])&&(h[m]=p);for(;l<i;++l)a[l]=n[l];return new Bs(a,this._parents)}function aue(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function lue(t){t||(t=uue);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Bs(i,this._parents).order()}function uue(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cue(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function due(){return Array.from(this)}function fue(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function hue(){let t=0;for(const e of this)++t;return t}function pue(){return!this.node()}function gue(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function mue(t){return function(){this.removeAttribute(t)}}function yue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vue(t,e){return function(){this.setAttribute(t,e)}}function bue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _ue(t,e){var n=zA(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?yue:mue:typeof e=="function"?n.local?wue:xue:n.local?bue:vue)(n,e))}function vX(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Sue(t){return function(){this.style.removeProperty(t)}}function Eue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Cue(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Tue(t,e,n){return arguments.length>1?this.each((e==null?Sue:typeof e=="function"?Cue:Eue)(t,e,n??"")):Sv(this.node(),t)}function Sv(t,e){return t.style.getPropertyValue(e)||vX(t).getComputedStyle(t,null).getPropertyValue(e)}function Aue(t){return function(){delete this[t]}}function Rue(t,e){return function(){this[t]=e}}function Pue(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Iue(t,e){return arguments.length>1?this.each((e==null?Aue:typeof e=="function"?Pue:Rue)(t,e)):this.node()[t]}function bX(t){return t.trim().split(/^|\s+/)}function L$(t){return t.classList||new xX(t)}function xX(t){this._node=t,this._names=bX(t.getAttribute("class")||"")}xX.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wX(t,e){for(var n=L$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _X(t,e){for(var n=L$(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function kue(t){return function(){wX(this,t)}}function Mue(t){return function(){_X(this,t)}}function Nue(t,e){return function(){(e.apply(this,arguments)?wX:_X)(this,t)}}function Due(t,e){var n=bX(t+"");if(arguments.length<2){for(var r=L$(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Nue:e?kue:Mue)(n,e))}function Lue(){this.textContent=""}function Oue(t){return function(){this.textContent=t}}function Fue(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function $ue(t){return arguments.length?this.each(t==null?Lue:(typeof t=="function"?Fue:Oue)(t)):this.node().textContent}function Bue(){this.innerHTML=""}function Vue(t){return function(){this.innerHTML=t}}function zue(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Uue(t){return arguments.length?this.each(t==null?Bue:(typeof t=="function"?zue:Vue)(t)):this.node().innerHTML}function Hue(){this.nextSibling&&this.parentNode.appendChild(this)}function que(){return this.each(Hue)}function jue(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wue(){return this.each(jue)}function Gue(t){var e=typeof t=="function"?t:hX(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Kue(){return null}function Yue(t,e){var n=typeof t=="function"?t:hX(t),r=e==null?Kue:typeof e=="function"?e:D$(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Xue(){var t=this.parentNode;t&&t.removeChild(this)}function Jue(){return this.each(Xue)}function Que(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Zue(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ece(t){return this.select(t?Zue:Que)}function tce(t){return arguments.length?this.property("__data__",t):this.node().__data__}function nce(t){return function(e){t.call(this,e,this.__data__)}}function rce(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ice(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function oce(t,e,n){return function(){var r=this.__on,i,o=nce(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function sce(t,e,n){var r=rce(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?oce:ice,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function SX(t,e,n){var r=vX(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ace(t,e){return function(){return SX(this,t,e)}}function lce(t,e){return function(){return SX(this,t,e.apply(this,arguments))}}function uce(t,e){return this.each((typeof e=="function"?lce:ace)(t,e))}function*cce(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var EX=[null];function Bs(t,e){this._groups=t,this._parents=e}function a1(){return new Bs([[document.documentElement]],EX)}function dce(){return this}Bs.prototype=a1.prototype={constructor:Bs,select:Fle,selectAll:zle,selectChild:jle,selectChildren:Yle,filter:Xle,data:nue,enter:Jle,exit:iue,join:oue,merge:sue,selection:dce,order:aue,sort:lue,call:cue,nodes:due,node:fue,size:hue,empty:pue,each:gue,attr:_ue,style:Tue,property:Iue,classed:Due,text:$ue,html:Uue,raise:que,lower:Wue,append:Gue,insert:Yue,remove:Jue,clone:ece,datum:tce,on:sce,dispatch:uce,[Symbol.iterator]:cce};function Bi(t){return typeof t=="string"?new Bs([[document.querySelector(t)]],[document.documentElement]):new Bs([[t]],EX)}function fce(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qa(t,e){if(t=fce(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const hce={passive:!1},Hx={capture:!0,passive:!1};function ZI(t){t.stopImmediatePropagation()}function gy(t){t.preventDefault(),t.stopImmediatePropagation()}function CX(t){var e=t.document.documentElement,n=Bi(t).on("dragstart.drag",gy,Hx);"onselectstart"in e?n.on("selectstart.drag",gy,Hx):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function TX(t,e){var n=t.document.documentElement,r=Bi(t).on("dragstart.drag",null);e&&(r.on("click.drag",gy,Hx),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rE=t=>()=>t;function yL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}yL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function pce(t){return!t.ctrlKey&&!t.button}function gce(){return this.parentNode}function mce(t,e){return e??{x:t.x,y:t.y}}function yce(){return navigator.maxTouchPoints||"ontouchstart"in this}function AX(){var t=pce,e=gce,n=mce,r=yce,i={},o=VA("start","drag","end"),s=0,a,l,u,c,d=0;function h(T){T.on("mousedown.drag",p).filter(r).on("touchstart.drag",x).on("touchmove.drag",_,hce).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(T,I){if(!(c||!t.call(this,T,I))){var N=S(this,e.call(this,T,I),T,I,"mouse");N&&(Bi(T.view).on("mousemove.drag",m,Hx).on("mouseup.drag",y,Hx),CX(T.view),ZI(T),u=!1,a=T.clientX,l=T.clientY,N("start",T))}}function m(T){if(gy(T),!u){var I=T.clientX-a,N=T.clientY-l;u=I*I+N*N>d}i.mouse("drag",T)}function y(T){Bi(T.view).on("mousemove.drag mouseup.drag",null),TX(T.view,u),gy(T),i.mouse("end",T)}function x(T,I){if(t.call(this,T,I)){var N=T.changedTouches,R=e.call(this,T,I),M=N.length,L,k;for(L=0;L<M;++L)(k=S(this,R,T,I,N[L].identifier,N[L]))&&(ZI(T),k("start",T,N[L]))}}function _(T){var I=T.changedTouches,N=I.length,R,M;for(R=0;R<N;++R)(M=i[I[R].identifier])&&(gy(T),M("drag",T,I[R]))}function E(T){var I=T.changedTouches,N=I.length,R,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),R=0;R<N;++R)(M=i[I[R].identifier])&&(ZI(T),M("end",T,I[R]))}function S(T,I,N,R,M,L){var k=o.copy(),D=Qa(L||N,I),V,$,H;if((H=n.call(T,new yL("beforestart",{sourceEvent:N,target:h,identifier:M,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:k}),R))!=null)return V=H.x-D[0]||0,$=H.y-D[1]||0,function G(K,J,ee){var X=D,j;switch(K){case"start":i[M]=G,j=s++;break;case"end":delete i[M],--s;case"drag":D=Qa(ee||J,I),j=s;break}k.call(K,T,new yL(K,{sourceEvent:J,subject:H,target:h,identifier:M,active:j,x:D[0]+V,y:D[1]+$,dx:D[0]-X[0],dy:D[1]-X[1],dispatch:k}),R)}}return h.filter=function(T){return arguments.length?(t=typeof T=="function"?T:rE(!!T),h):t},h.container=function(T){return arguments.length?(e=typeof T=="function"?T:rE(T),h):e},h.subject=function(T){return arguments.length?(n=typeof T=="function"?T:rE(T),h):n},h.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:rE(!!T),h):r},h.on=function(){var T=o.on.apply(o,arguments);return T===o?h:T},h.clickDistance=function(T){return arguments.length?(d=(T=+T)*T,h):Math.sqrt(d)},h}function O$(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RX(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function l1(){}var qx=.7,aT=1/qx,my="\\s*([+-]?\\d+)\\s*",jx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vce=/^#([0-9a-f]{3,8})$/,bce=new RegExp(`^rgb\\(${my},${my},${my}\\)$`),xce=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),wce=new RegExp(`^rgba\\(${my},${my},${my},${jx}\\)$`),_ce=new RegExp(`^rgba\\(${pu},${pu},${pu},${jx}\\)$`),Sce=new RegExp(`^hsl\\(${jx},${pu},${pu}\\)$`),Ece=new RegExp(`^hsla\\(${jx},${pu},${pu},${jx}\\)$`),Rz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O$(l1,Bp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Pz,formatHex:Pz,formatHex8:Cce,formatHsl:Tce,formatRgb:Iz,toString:Iz});function Pz(){return this.rgb().formatHex()}function Cce(){return this.rgb().formatHex8()}function Tce(){return PX(this).formatHsl()}function Iz(){return this.rgb().formatRgb()}function Bp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?kz(e):n===3?new Yo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?iE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?iE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bce.exec(t))?new Yo(e[1],e[2],e[3],1):(e=xce.exec(t))?new Yo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wce.exec(t))?iE(e[1],e[2],e[3],e[4]):(e=_ce.exec(t))?iE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sce.exec(t))?Dz(e[1],e[2]/100,e[3]/100,1):(e=Ece.exec(t))?Dz(e[1],e[2]/100,e[3]/100,e[4]):Rz.hasOwnProperty(t)?kz(Rz[t]):t==="transparent"?new Yo(NaN,NaN,NaN,0):null}function kz(t){return new Yo(t>>16&255,t>>8&255,t&255,1)}function iE(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yo(t,e,n,r)}function Ace(t){return t instanceof l1||(t=Bp(t)),t?(t=t.rgb(),new Yo(t.r,t.g,t.b,t.opacity)):new Yo}function vL(t,e,n,r){return arguments.length===1?Ace(t):new Yo(t,e,n,r??1)}function Yo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}O$(Yo,vL,RX(l1,{brighter(t){return t=t==null?aT:Math.pow(aT,t),new Yo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qx:Math.pow(qx,t),new Yo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yo(Dp(this.r),Dp(this.g),Dp(this.b),lT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mz,formatHex:Mz,formatHex8:Rce,formatRgb:Nz,toString:Nz}));function Mz(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}`}function Rce(){return`#${Dh(this.r)}${Dh(this.g)}${Dh(this.b)}${Dh((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nz(){const t=lT(this.opacity);return`${t===1?"rgb(":"rgba("}${Dp(this.r)}, ${Dp(this.g)}, ${Dp(this.b)}${t===1?")":`, ${t})`}`}function lT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Dp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dh(t){return t=Dp(t),(t<16?"0":"")+t.toString(16)}function Dz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new el(t,e,n,r)}function PX(t){if(t instanceof el)return new el(t.h,t.s,t.l,t.opacity);if(t instanceof l1||(t=Bp(t)),!t)return new el;if(t instanceof el)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new el(s,a,l,t.opacity)}function Pce(t,e,n,r){return arguments.length===1?PX(t):new el(t,e,n,r??1)}function el(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}O$(el,Pce,RX(l1,{brighter(t){return t=t==null?aT:Math.pow(aT,t),new el(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qx:Math.pow(qx,t),new el(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yo(ek(t>=240?t-240:t+120,i,r),ek(t,i,r),ek(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new el(Lz(this.h),oE(this.s),oE(this.l),lT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lT(this.opacity);return`${t===1?"hsl(":"hsla("}${Lz(this.h)}, ${oE(this.s)*100}%, ${oE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lz(t){return t=(t||0)%360,t<0?t+360:t}function oE(t){return Math.max(0,Math.min(1,t||0))}function ek(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const F$=t=>()=>t;function Ice(t,e){return function(n){return t+n*e}}function kce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Mce(t){return(t=+t)==1?IX:function(e,n){return n-e?kce(e,n,t):F$(isNaN(e)?n:e)}}function IX(t,e){var n=e-t;return n?Ice(t,n):F$(isNaN(t)?e:t)}const uT=function t(e){var n=Mce(e);function r(i,o){var s=n((i=vL(i)).r,(o=vL(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=IX(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Nce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Dce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=yy(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Oce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Za(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yy(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tk=new RegExp(bL.source,"g");function $ce(t){return function(){return t}}function Bce(t){return function(e){return t(e)+""}}function kX(t,e){var n=bL.lastIndex=tk.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=bL.exec(t))&&(i=tk.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Za(r,i)})),n=tk.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Bce(l[0].x):$ce(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function yy(t,e){var n=typeof e,r;return e==null||n==="boolean"?F$(e):(n==="number"?Za:n==="string"?(r=Bp(e))?(e=r,uT):kX:e instanceof Bp?uT:e instanceof Date?Oce:Dce(e)?Nce:Array.isArray(e)?Lce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fce:Za)(t,e)}function Vce(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Oz=180/Math.PI,xL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function MX(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Oz,skewX:Math.atan(l)*Oz,scaleX:s,scaleY:a}}var sE;function zce(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xL:MX(e.a,e.b,e.c,e.d,e.e,e.f)}function Uce(t){return t==null||(sE||(sE=document.createElementNS("http://www.w3.org/2000/svg","g")),sE.setAttribute("transform",t),!(t=sE.transform.baseVal.consolidate()))?xL:(t=t.matrix,MX(t.a,t.b,t.c,t.d,t.e,t.f))}function NX(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push("translate(",null,e,null,n);m.push({i:y-4,x:Za(u,d)},{i:y-2,x:Za(c,h)})}else(d||h)&&p.push("translate("+d+e+h+n)}function s(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Za(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(u,c,d,h){u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Za(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function l(u,c,d,h,p,m){if(u!==d||c!==h){var y=p.push(i(p)+"scale(",null,",",null,")");m.push({i:y-4,x:Za(u,d)},{i:y-2,x:Za(c,h)})}else(d!==1||h!==1)&&p.push(i(p)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,h),s(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(p){for(var m=-1,y=h.length,x;++m<y;)d[(x=h[m]).i]=x.x(p);return d.join("")}}}var Hce=NX(zce,"px, ","px)","deg)"),qce=NX(Uce,", ",")",")"),jce=1e-12;function Fz(t){return((t=Math.exp(t))+1/t)/2}function Wce(t){return((t=Math.exp(t))-1/t)/2}function Gce(t){return((t=Math.exp(2*t))-1)/(t+1)}const iC=function t(e,n,r){function i(o,s){var a=o[0],l=o[1],u=o[2],c=s[0],d=s[1],h=s[2],p=c-a,m=d-l,y=p*p+m*m,x,_;if(y<jce)_=Math.log(h/u)/e,x=function(R){return[a+R*p,l+R*m,u*Math.exp(e*R*_)]};else{var E=Math.sqrt(y),S=(h*h-u*u+r*y)/(2*u*n*E),T=(h*h-u*u-r*y)/(2*h*n*E),I=Math.log(Math.sqrt(S*S+1)-S),N=Math.log(Math.sqrt(T*T+1)-T);_=(N-I)/e,x=function(R){var M=R*_,L=Fz(I),k=u/(n*E)*(L*Gce(e*M+I)-Wce(I));return[a+k*p,l+k*m,u*L/Fz(e*M+I)]}}return x.duration=_*1e3*e/Math.SQRT2,x}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return t(s,a,l)},i}(Math.SQRT2,2,4);var Ev=0,Bb=0,ob=0,DX=1e3,cT,Vb,dT=0,Vp=0,UA=0,Wx=typeof performance=="object"&&performance.now?performance:Date,LX=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $$(){return Vp||(LX(Kce),Vp=Wx.now()+UA)}function Kce(){Vp=0}function fT(){this._call=this._time=this._next=null}fT.prototype=OX.prototype={constructor:fT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?$$():+n)+(e==null?0:+e),!this._next&&Vb!==this&&(Vb?Vb._next=this:cT=this,Vb=this),this._call=t,this._time=n,wL()},stop:function(){this._call&&(this._call=null,this._time=1/0,wL())}};function OX(t,e,n){var r=new fT;return r.restart(t,e,n),r}function Yce(){$$(),++Ev;for(var t=cT,e;t;)(e=Vp-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ev}function $z(){Vp=(dT=Wx.now())+UA,Ev=Bb=0;try{Yce()}finally{Ev=0,Jce(),Vp=0}}function Xce(){var t=Wx.now(),e=t-dT;e>DX&&(UA-=e,dT=t)}function Jce(){for(var t,e=cT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cT=n);Vb=t,wL(r)}function wL(t){if(!Ev){Bb&&(Bb=clearTimeout(Bb));var e=t-Vp;e>24?(t<1/0&&(Bb=setTimeout($z,t-Wx.now()-UA)),ob&&(ob=clearInterval(ob))):(ob||(dT=Wx.now(),ob=setInterval(Xce,DX)),Ev=1,LX($z))}}function Bz(t,e,n){var r=new fT;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Qce=VA("start","end","cancel","interrupt"),Zce=[],FX=0,Vz=1,_L=2,oC=3,zz=4,SL=5,sC=6;function HA(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;ede(t,n,{name:e,index:r,group:i,on:Qce,tween:Zce,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:FX})}function B$(t,e){var n=fl(t,e);if(n.state>FX)throw new Error("too late; already scheduled");return n}function Iu(t,e){var n=fl(t,e);if(n.state>oC)throw new Error("too late; already running");return n}function fl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ede(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=OX(o,0,n.time);function o(u){n.state=Vz,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,h,p;if(n.state!==Vz)return l();for(c in r)if(p=r[c],p.name===n.name){if(p.state===oC)return Bz(s);p.state===zz?(p.state=sC,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=sC,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[c])}if(Bz(function(){n.state===oC&&(n.state=zz,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=_L,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_L){for(n.state=oC,i=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=SL,1),d=-1,h=i.length;++d<h;)i[d].call(t,c);n.state===SL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=sC,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function aC(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>_L&&r.state<SL,r.state=sC,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function tde(t){return this.each(function(){aC(this,t)})}function nde(t,e){var n,r;return function(){var i=Iu(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function rde(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Iu(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}o.tween=i}}function ide(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=fl(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?nde:rde)(n,t,e))}function V$(t,e,n){var r=t._id;return t.each(function(){var i=Iu(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return fl(i,r).value[e]}}function $X(t,e){var n;return(typeof e=="number"?Za:e instanceof Bp?uT:(n=Bp(e))?(e=n,uT):kX)(t,e)}function ode(t){return function(){this.removeAttribute(t)}}function sde(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ade(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function lde(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function ude(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function cde(t,e,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a)))}}function dde(t,e){var n=zA(t),r=n==="transform"?qce:$X;return this.attrTween(t,typeof e=="function"?(n.local?cde:ude)(n,r,V$(this,"attr."+t,e)):e==null?(n.local?sde:ode)(n):(n.local?lde:ade)(n,r,e))}function fde(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hde(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function pde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&hde(t,o)),n}return i._value=e,i}function gde(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&fde(t,o)),n}return i._value=e,i}function mde(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=zA(t);return this.tween(n,(r.local?pde:gde)(r,e))}function yde(t,e){return function(){B$(this,t).delay=+e.apply(this,arguments)}}function vde(t,e){return e=+e,function(){B$(this,t).delay=e}}function bde(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?yde:vde)(e,t)):fl(this.node(),e).delay}function xde(t,e){return function(){Iu(this,t).duration=+e.apply(this,arguments)}}function wde(t,e){return e=+e,function(){Iu(this,t).duration=e}}function _de(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xde:wde)(e,t)):fl(this.node(),e).duration}function Sde(t,e){if(typeof e!="function")throw new Error;return function(){Iu(this,t).ease=e}}function Ede(t){var e=this._id;return arguments.length?this.each(Sde(e,t)):fl(this.node(),e).ease}function Cde(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Iu(this,t).ease=n}}function Tde(t){if(typeof t!="function")throw new Error;return this.each(Cde(this._id,t))}function Ade(t){typeof t!="function"&&(t=gX(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Wc(r,this._parents,this._name,this._id)}function Rde(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,d=s[a]=new Array(c),h,p=0;p<c;++p)(h=l[p]||u[p])&&(d[p]=h);for(;a<r;++a)s[a]=e[a];return new Wc(s,this._parents,this._name,this._id)}function Pde(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ide(t,e,n){var r,i,o=Pde(e)?B$:Iu;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function kde(t,e){var n=this._id;return arguments.length<2?fl(this.node(),n).on.on(t):this.each(Ide(n,t,e))}function Mde(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Nde(){return this.on("end.remove",Mde(this._id))}function Dde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=D$(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,u=o[s]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=t.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,HA(u[h],e,n,h,u,fl(c,n)));return new Wc(o,this._parents,e,n)}function Lde(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pX(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=t.call(c,c.__data__,d,l),p,m=fl(c,n),y=0,x=h.length;y<x;++y)(p=h[y])&&HA(p,e,n,y,h,m);o.push(h),s.push(c)}return new Wc(o,s,e,n)}var Ode=a1.prototype.constructor;function Fde(){return new Ode(this._groups,this._parents)}function $de(t,e){var n,r,i;return function(){var o=Sv(this,t),s=(this.style.removeProperty(t),Sv(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function BX(t){return function(){this.style.removeProperty(t)}}function Bde(t,e,n){var r,i=n+"",o;return function(){var s=Sv(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Vde(t,e,n){var r,i,o;return function(){var s=Sv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Sv(this,t))),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}function zde(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var l=Iu(this,t),u=l.on,c=l.value[o]==null?a||(a=BX(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),l.on=r}}function Ude(t,e,n){var r=(t+="")=="transform"?Hce:$X;return e==null?this.styleTween(t,$de(t,r)).on("end.style."+t,BX(t)):typeof e=="function"?this.styleTween(t,Vde(t,r,V$(this,"style."+t,e))).each(zde(this._id,t)):this.styleTween(t,Bde(t,r,e),n).on("end.style."+t,null)}function Hde(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qde(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Hde(t,s,n)),r}return o._value=e,o}function jde(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,qde(t,e,n??""))}function Wde(t){return function(){this.textContent=t}}function Gde(t){return function(){var e=t(this);this.textContent=e??""}}function Kde(t){return this.tween("text",typeof t=="function"?Gde(V$(this,"text",t)):Wde(t==null?"":t+""))}function Yde(t){return function(e){this.textContent=t.call(this,e)}}function Xde(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Yde(i)),e}return r._value=t,r}function Jde(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Xde(t))}function Qde(){for(var t=this._name,e=this._id,n=VX(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=fl(l,e);HA(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wc(r,this._parents,t,n)}function Zde(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var u=Iu(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&o()})}var efe=0;function Wc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function VX(){return++efe}var Ju=a1.prototype;Wc.prototype={constructor:Wc,select:Dde,selectAll:Lde,selectChild:Ju.selectChild,selectChildren:Ju.selectChildren,filter:Ade,merge:Rde,selection:Fde,transition:Qde,call:Ju.call,nodes:Ju.nodes,node:Ju.node,size:Ju.size,empty:Ju.empty,each:Ju.each,on:kde,attr:dde,attrTween:mde,style:Ude,styleTween:jde,text:Kde,textTween:Jde,remove:Nde,tween:ide,delay:bde,duration:_de,ease:Ede,easeVarying:Tde,end:Zde,[Symbol.iterator]:Ju[Symbol.iterator]};function tfe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var nfe={time:null,delay:0,duration:250,ease:tfe};function rfe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ife(t){var e,n;t instanceof Wc?(e=t._id,t=t._name):(e=VX(),(n=nfe).time=$$(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&HA(l,t,e,u,s,n||rfe(l,e));return new Wc(r,this._parents,t,e)}a1.prototype.interrupt=tde;a1.prototype.transition=ife;const aE=t=>()=>t;function ofe(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Dc(t,e,n){this.k=t,this.x=e,this.y=n}Dc.prototype={constructor:Dc,scale:function(t){return t===1?this:new Dc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qA=new Dc(1,0,0);zX.prototype=Dc.prototype;function zX(t){for(;!t.__zoom;)if(!(t=t.parentNode))return qA;return t.__zoom}function nk(t){t.stopImmediatePropagation()}function sb(t){t.preventDefault(),t.stopImmediatePropagation()}function sfe(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function afe(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Uz(){return this.__zoom||qA}function lfe(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ufe(){return navigator.maxTouchPoints||"ontouchstart"in this}function cfe(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function UX(){var t=sfe,e=afe,n=cfe,r=lfe,i=ufe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=iC,u=VA("start","zoom","end"),c,d,h,p=500,m=150,y=0,x=10;function _(H){H.property("__zoom",Uz).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(H,G,K,J){var ee=H.selection?H.selection():H;ee.property("__zoom",Uz),H!==ee?I(H,G,K,J):ee.interrupt().each(function(){N(this,arguments).event(J).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},_.scaleBy=function(H,G,K,J){_.scaleTo(H,function(){var ee=this.__zoom.k,X=typeof G=="function"?G.apply(this,arguments):G;return ee*X},K,J)},_.scaleTo=function(H,G,K,J){_.transform(H,function(){var ee=e.apply(this,arguments),X=this.__zoom,j=K==null?T(ee):typeof K=="function"?K.apply(this,arguments):K,Y=X.invert(j),ae=typeof G=="function"?G.apply(this,arguments):G;return n(S(E(X,ae),j,Y),ee,s)},K,J)},_.translateBy=function(H,G,K,J){_.transform(H,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof K=="function"?K.apply(this,arguments):K),e.apply(this,arguments),s)},null,J)},_.translateTo=function(H,G,K,J,ee){_.transform(H,function(){var X=e.apply(this,arguments),j=this.__zoom,Y=J==null?T(X):typeof J=="function"?J.apply(this,arguments):J;return n(qA.translate(Y[0],Y[1]).scale(j.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof K=="function"?-K.apply(this,arguments):-K),X,s)},J,ee)};function E(H,G){return G=Math.max(o[0],Math.min(o[1],G)),G===H.k?H:new Dc(G,H.x,H.y)}function S(H,G,K){var J=G[0]-K[0]*H.k,ee=G[1]-K[1]*H.k;return J===H.x&&ee===H.y?H:new Dc(H.k,J,ee)}function T(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function I(H,G,K,J){H.on("start.zoom",function(){N(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(J).end()}).tween("zoom",function(){var ee=this,X=arguments,j=N(ee,X).event(J),Y=e.apply(ee,X),ae=K==null?T(Y):typeof K=="function"?K.apply(ee,X):K,q=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Q=ee.__zoom,te=typeof G=="function"?G.apply(ee,X):G,ue=l(Q.invert(ae).concat(q/Q.k),te.invert(ae).concat(q/te.k));return function(de){if(de===1)de=te;else{var se=ue(de),ce=q/se[2];de=new Dc(ce,ae[0]-se[0]*ce,ae[1]-se[1]*ce)}j.zoom(null,de)}})}function N(H,G,K){return!K&&H.__zooming||new R(H,G)}function R(H,G){this.that=H,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(H,G),this.taps=0}R.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,G){return this.mouse&&H!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var G=Bi(this.that).datum();u.call(H,this.that,new ofe(H,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:u}),G)}};function M(H,...G){if(!t.apply(this,arguments))return;var K=N(this,G).event(H),J=this.__zoom,ee=Math.max(o[0],Math.min(o[1],J.k*Math.pow(2,r.apply(this,arguments)))),X=Qa(H);if(K.wheel)(K.mouse[0][0]!==X[0]||K.mouse[0][1]!==X[1])&&(K.mouse[1]=J.invert(K.mouse[0]=X)),clearTimeout(K.wheel);else{if(J.k===ee)return;K.mouse=[X,J.invert(X)],aC(this),K.start()}sb(H),K.wheel=setTimeout(j,m),K.zoom("mouse",n(S(E(J,ee),K.mouse[0],K.mouse[1]),K.extent,s));function j(){K.wheel=null,K.end()}}function L(H,...G){if(h||!t.apply(this,arguments))return;var K=H.currentTarget,J=N(this,G,!0).event(H),ee=Bi(H.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",q,!0),X=Qa(H,K),j=H.clientX,Y=H.clientY;CX(H.view),nk(H),J.mouse=[X,this.__zoom.invert(X)],aC(this),J.start();function ae(Q){if(sb(Q),!J.moved){var te=Q.clientX-j,ue=Q.clientY-Y;J.moved=te*te+ue*ue>y}J.event(Q).zoom("mouse",n(S(J.that.__zoom,J.mouse[0]=Qa(Q,K),J.mouse[1]),J.extent,s))}function q(Q){ee.on("mousemove.zoom mouseup.zoom",null),TX(Q.view,J.moved),sb(Q),J.event(Q).end()}}function k(H,...G){if(t.apply(this,arguments)){var K=this.__zoom,J=Qa(H.changedTouches?H.changedTouches[0]:H,this),ee=K.invert(J),X=K.k*(H.shiftKey?.5:2),j=n(S(E(K,X),J,ee),e.apply(this,G),s);sb(H),a>0?Bi(this).transition().duration(a).call(I,j,J,H):Bi(this).call(_.transform,j,J,H)}}function D(H,...G){if(t.apply(this,arguments)){var K=H.touches,J=K.length,ee=N(this,G,H.changedTouches.length===J).event(H),X,j,Y,ae;for(nk(H),j=0;j<J;++j)Y=K[j],ae=Qa(Y,this),ae=[ae,this.__zoom.invert(ae),Y.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==ae[2]&&(ee.touch1=ae,ee.taps=0):(ee.touch0=ae,X=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(ee.taps<2&&(d=ae[0],c=setTimeout(function(){c=null},p)),aC(this),ee.start())}}function V(H,...G){if(this.__zooming){var K=N(this,G).event(H),J=H.changedTouches,ee=J.length,X,j,Y,ae;for(sb(H),X=0;X<ee;++X)j=J[X],Y=Qa(j,this),K.touch0&&K.touch0[2]===j.identifier?K.touch0[0]=Y:K.touch1&&K.touch1[2]===j.identifier&&(K.touch1[0]=Y);if(j=K.that.__zoom,K.touch1){var q=K.touch0[0],Q=K.touch0[1],te=K.touch1[0],ue=K.touch1[1],de=(de=te[0]-q[0])*de+(de=te[1]-q[1])*de,se=(se=ue[0]-Q[0])*se+(se=ue[1]-Q[1])*se;j=E(j,Math.sqrt(de/se)),Y=[(q[0]+te[0])/2,(q[1]+te[1])/2],ae=[(Q[0]+ue[0])/2,(Q[1]+ue[1])/2]}else if(K.touch0)Y=K.touch0[0],ae=K.touch0[1];else return;K.zoom("touch",n(S(j,Y,ae),K.extent,s))}}function $(H,...G){if(this.__zooming){var K=N(this,G).event(H),J=H.changedTouches,ee=J.length,X,j;for(nk(H),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),X=0;X<ee;++X)j=J[X],K.touch0&&K.touch0[2]===j.identifier?delete K.touch0:K.touch1&&K.touch1[2]===j.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(j=Qa(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<x)){var Y=Bi(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return _.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:aE(+H),_):r},_.filter=function(H){return arguments.length?(t=typeof H=="function"?H:aE(!!H),_):t},_.touchable=function(H){return arguments.length?(i=typeof H=="function"?H:aE(!!H),_):i},_.extent=function(H){return arguments.length?(e=typeof H=="function"?H:aE([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),_):e},_.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],_):[o[0],o[1]]},_.translateExtent=function(H){return arguments.length?(s[0][0]=+H[0][0],s[1][0]=+H[1][0],s[0][1]=+H[0][1],s[1][1]=+H[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(H){return arguments.length?(n=H,_):n},_.duration=function(H){return arguments.length?(a=+H,_):a},_.interpolate=function(H){return arguments.length?(l=H,_):l},_.on=function(){var H=u.on.apply(u,arguments);return H===u?_:H},_.clickDistance=function(H){return arguments.length?(y=(H=+H)*H,_):Math.sqrt(y)},_.tapDistance=function(H){return arguments.length?(x=+H,_):x},_}const Su={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Gx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],HX=["Enter"," ","Escape"],qX={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Cv;(function(t){t.Strict="strict",t.Loose="loose"})(Cv||(Cv={}));var Lp;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Lp||(Lp={}));var Kx;(function(t){t.Partial="partial",t.Full="full"})(Kx||(Kx={}));const jX={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Yd;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Yd||(Yd={}));var Op;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Op||(Op={}));var at;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(at||(at={}));const Hz={[at.Left]:at.Right,[at.Right]:at.Left,[at.Top]:at.Bottom,[at.Bottom]:at.Top};function WX(t){return t===null?null:t?"valid":"invalid"}const GX=t=>"id"in t&&"source"in t&&"target"in t,dfe=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),z$=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),u1=(t,e=[0,0])=>{const{width:n,height:r}=id(t),i=t.origin??e,o=n*i[0],s=r*i[1];return{x:t.position.x-o,y:t.position.y-s}},ffe=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const o=typeof i=="string";let s=!e.nodeLookup&&!o?i:void 0;e.nodeLookup&&(s=o?e.nodeLookup.get(i):z$(i)?i:e.nodeLookup.get(i.id));const a=s?hT(s,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return jA(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return WA(n)},c1=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=hT(r);n=jA(n,i)}}),WA(n)},U$=(t,e,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...d1(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const u of t.values()){const{measured:c,selectable:d=!0,hidden:h=!1}=u;if(s&&!d||h)continue;const p=c.width??u.width??u.initialWidth??null,m=c.height??u.height??u.initialHeight??null,y=Yx(a,Av(u)),x=(p??0)*(m??0),_=o&&y>0;(!u.internals.handleBounds||_||y>=x||u.dragging)&&l.push(u)}return l},hfe=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function pfe(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function gfe({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(t.size===0)return Promise.resolve(!0);const a=pfe(t,s),l=c1(a),u=H$(l,e,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(u,{duration:s==null?void 0:s.duration,ease:s==null?void 0:s.ease,interpolate:s==null?void 0:s.interpolate}),Promise.resolve(!0)}function KX({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(t),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},c=s.origin??r;let d=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",Su.error005());else{const p=a.measured.width,m=a.measured.height;p&&m&&(d=[[l,u],[l+p,u+m]])}else a&&Rv(s.extent)&&(d=[[s.extent[0][0]+l,s.extent[0][1]+u],[s.extent[1][0]+l,s.extent[1][1]+u]]);const h=Rv(d)?zp(e,d,s.measured):e;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",Su.error015())),{position:{x:h.x-l+(s.measured.width??0)*c[0],y:h.y-u+(s.measured.height??0)*c[1]},positionAbsolute:h}}async function mfe({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(t.map(h=>h.id)),s=[];for(const h of n){if(h.deletable===!1)continue;const p=o.has(h.id),m=!p&&h.parentId&&s.find(y=>y.id===h.parentId);(p||m)&&s.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),c=hfe(s,l);for(const h of l)a.has(h.id)&&!c.find(m=>m.id===h.id)&&c.push(h);if(!i)return{edges:c,nodes:s};const d=await i({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const Tv=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),zp=(t={x:0,y:0},e,n)=>({x:Tv(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Tv(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function YX(t,e,n){const{width:r,height:i}=id(n),{x:o,y:s}=n.internals.positionAbsolute;return zp(t,[[o,s],[o+r,s+i]],e)}const qz=(t,e,n)=>t<e?Tv(Math.abs(t-e),1,e)/e:t>n?-Tv(Math.abs(t-n),1,e)/e:0,XX=(t,e,n=15,r=40)=>{const i=qz(t.x,r,e.width-r)*n,o=qz(t.y,r,e.height-r)*n;return[i,o]},jA=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),EL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),WA=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Av=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=z$(t)?t.internals.positionAbsolute:u1(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0}},hT=(t,e=[0,0])=>{var i,o;const{x:n,y:r}=z$(t)?t.internals.positionAbsolute:u1(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((o=t.measured)==null?void 0:o.height)??t.height??t.initialHeight??0)}},JX=(t,e)=>WA(jA(EL(t),EL(e))),Yx=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},jz=t=>tl(t.width)&&tl(t.height)&&tl(t.x)&&tl(t.y),tl=t=>!isNaN(t)&&isFinite(t),yfe=(t,e)=>{},GA=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),d1=({x:t,y:e},[n,r,i],o=!1,s=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return o?GA(a,s):a},pT=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function pm(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function vfe(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=pm(t,n),i=pm(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=pm(t.top??t.y??0,n),i=pm(t.bottom??t.y??0,n),o=pm(t.left??t.x??0,e),s=pm(t.right??t.x??0,e);return{top:r,right:s,bottom:i,left:o,x:o+s,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function bfe(t,e,n,r,i,o){const{x:s,y:a}=pT(t,[e,n,r]),{x:l,y:u}=pT({x:t.x+t.width,y:t.y+t.height},[e,n,r]),c=i-l,d=o-u;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}const H$=(t,e,n,r,i,o)=>{const s=vfe(o,e,n),a=(e-s.x)/t.width,l=(n-s.y)/t.height,u=Math.min(a,l),c=Tv(u,r,i),d=t.x+t.width/2,h=t.y+t.height/2,p=e/2-d*c,m=n/2-h*c,y=bfe(t,p,m,c,e,n),x={left:Math.min(y.left-s.left,0),top:Math.min(y.top-s.top,0),right:Math.min(y.right-s.right,0),bottom:Math.min(y.bottom-s.bottom,0)};return{x:p-x.left+x.right,y:m-x.top+x.bottom,zoom:c}},gT=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Rv(t){return t!==void 0&&t!=="parent"}function id(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function QX(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function ZX(t,e={width:0,height:0},n,r,i){const o={...t},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(e.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(e.height??0)*a[1]}return o}function Wz(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function xfe(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function wfe(t){return{...qX,...t||{}}}function xx(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=Oc(t),a=d1({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:l,y:u}=n?GA(a,e):a;return{xSnapped:l,ySnapped:u,...a}}const q$=t=>({width:t.offsetWidth,height:t.offsetHeight}),eJ=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},_fe=["INPUT","SELECT","TEXTAREA"];function tJ(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:_fe.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const nJ=t=>"clientX"in t,Oc=(t,e)=>{var o,s;const n=nJ(t),r=n?t.clientX:(o=t.touches)==null?void 0:o[0].clientX,i=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},Gz=(t,e,n,r,i)=>{const o=e.querySelectorAll(`.${t}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:t,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...q$(s)}})};function rJ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=t*.125+i*.375+s*.375+n*.125,u=e*.125+o*.375+a*.375+r*.125,c=Math.abs(l-t),d=Math.abs(u-e);return[l,u,c,d]}function lE(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Kz({pos:t,x1:e,y1:n,x2:r,y2:i,c:o}){switch(t){case at.Left:return[e-lE(e-r,o),n];case at.Right:return[e+lE(r-e,o),n];case at.Top:return[e,n-lE(n-i,o)];case at.Bottom:return[e,n+lE(i-n,o)]}}function KA({sourceX:t,sourceY:e,sourcePosition:n=at.Bottom,targetX:r,targetY:i,targetPosition:o=at.Top,curvature:s=.25}){const[a,l]=Kz({pos:n,x1:t,y1:e,x2:r,y2:i,c:s}),[u,c]=Kz({pos:o,x1:r,y1:i,x2:t,y2:e,c:s}),[d,h,p,m]=rJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${e} C${a},${l} ${u},${c} ${r},${i}`,d,h,p,m]}function iJ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,o=n<t?n+i:n-i,s=Math.abs(r-e)/2,a=r<e?r+s:r-s;return[o,a,i,s]}function Sfe({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||e.selected||t.selected,s=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(o?s:0)}function Efe({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const o=jA(hT(t),hT(e));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Yx(s,WA(o))>0}const Cfe=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Tfe=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),oJ=(t,e)=>{if(!t.source||!t.target)return e;let n;return GX(t)?n={...t}:n={...t,id:Cfe(t)},Tfe(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function sJ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,o,s,a]=iJ({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,o,s,a]}const Yz={[at.Left]:{x:-1,y:0},[at.Right]:{x:1,y:0},[at.Top]:{x:0,y:-1},[at.Bottom]:{x:0,y:1}},Afe=({source:t,sourcePosition:e=at.Bottom,target:n})=>e===at.Left||e===at.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Xz=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Rfe({source:t,sourcePosition:e=at.Bottom,target:n,targetPosition:r=at.Top,center:i,offset:o}){const s=Yz[e],a=Yz[r],l={x:t.x+s.x*o,y:t.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},c=Afe({source:l,sourcePosition:e,target:u}),d=c.x!==0?"x":"y",h=c[d];let p=[],m,y;const x={x:0,y:0},_={x:0,y:0},[E,S,T,I]=iJ({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[d]*a[d]===-1){m=i.x??E,y=i.y??S;const R=[{x:m,y:l.y},{x:m,y:u.y}],M=[{x:l.x,y},{x:u.x,y}];s[d]===h?p=d==="x"?R:M:p=d==="x"?M:R}else{const R=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?p=s.x===h?M:R:p=s.y===h?R:M,e===r){const $=Math.abs(t[d]-n[d]);if($<=o){const H=Math.min(o-1,o-$);s[d]===h?x[d]=(l[d]>t[d]?-1:1)*H:_[d]=(u[d]>n[d]?-1:1)*H}}if(e!==r){const $=d==="x"?"y":"x",H=s[d]===a[$],G=l[$]>u[$],K=l[$]<u[$];(s[d]===1&&(!H&&G||H&&K)||s[d]!==1&&(!H&&K||H&&G))&&(p=d==="x"?R:M)}const L={x:l.x+x.x,y:l.y+x.y},k={x:u.x+_.x,y:u.y+_.y},D=Math.max(Math.abs(L.x-p[0].x),Math.abs(k.x-p[0].x)),V=Math.max(Math.abs(L.y-p[0].y),Math.abs(k.y-p[0].y));D>=V?(m=(L.x+k.x)/2,y=p[0].y):(m=p[0].x,y=(L.y+k.y)/2)}return[[t,{x:l.x+x.x,y:l.y+x.y},...p,{x:u.x+_.x,y:u.y+_.y},n],m,y,T,I]}function Pfe(t,e,n,r){const i=Math.min(Xz(t,e)/2,Xz(e,n)/2,r),{x:o,y:s}=e;if(t.x===o&&o===n.x||t.y===s&&s===n.y)return`L${o} ${s}`;if(t.y===s){const u=t.x<n.x?-1:1,c=t.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function CL({sourceX:t,sourceY:e,sourcePosition:n=at.Bottom,targetX:r,targetY:i,targetPosition:o=at.Top,borderRadius:s=5,centerX:a,centerY:l,offset:u=20}){const[c,d,h,p,m]=Rfe({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:u});return[c.reduce((x,_,E)=>{let S="";return E>0&&E<c.length-1?S=Pfe(c[E-1],_,c[E+1],s):S=`${E===0?"M":"L"}${_.x} ${_.y}`,x+=S,x},""),d,h,p,m]}function Jz(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Ife(t){var d;const{sourceNode:e,targetNode:n}=t;if(!Jz(e)||!Jz(n))return null;const r=e.internals.handleBounds||Qz(e.handles),i=n.internals.handleBounds||Qz(n.handles),o=Zz((r==null?void 0:r.source)??[],t.sourceHandle),s=Zz(t.connectionMode===Cv.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!o||!s)return(d=t.onError)==null||d.call(t,"008",Su.error008(o?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(o==null?void 0:o.position)||at.Bottom,l=(s==null?void 0:s.position)||at.Top,u=Xx(e,o,a),c=Xx(n,s,l);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y,sourcePosition:a,targetPosition:l}}function Qz(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Xx(t,e,n=at.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,o=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:s,height:a}=e??id(t);if(r)return{x:i+s/2,y:o+a/2};switch((e==null?void 0:e.position)??n){case at.Top:return{x:i+s/2,y:o};case at.Right:return{x:i+s,y:o+a/2};case at.Bottom:return{x:i+s/2,y:o+a};case at.Left:return{x:i,y:o+a/2}}}function Zz(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function TL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function kfe(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return t.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const u=TL(l,e);o.has(u)||(s.push({id:u,color:l.color||n,...l}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const j$={nodeOrigin:[0,0],nodeExtent:Gx,elevateNodesOnSelect:!0,defaults:{}},Mfe={...j$,checkEquality:!0};function W$(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function Nfe(t,e,n){const r=W$(j$,n);for(const i of t.values())if(i.parentId)G$(i,t,e,r);else{const o=u1(i,r.nodeOrigin),s=Rv(i.extent)?i.extent:r.nodeExtent,a=zp(o,s,id(i));i.internals.positionAbsolute=a}}function AL(t,e,n,r){var l,u;const i=W$(Mfe,r);let o=t.length>0;const s=new Map(e),a=i!=null&&i.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let d=s.get(c.id);if(i.checkEquality&&c===(d==null?void 0:d.internals.userNode))e.set(c.id,d);else{const h=u1(c,i.nodeOrigin),p=Rv(c.extent)?c.extent:i.nodeExtent,m=zp(h,p,id(c));d={...i.defaults,...c,measured:{width:(l=c.measured)==null?void 0:l.width,height:(u=c.measured)==null?void 0:u.height},internals:{positionAbsolute:m,handleBounds:c.measured?d==null?void 0:d.internals.handleBounds:void 0,z:aJ(c,a),userNode:c}},e.set(c.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(o=!1),c.parentId&&G$(d,e,n,r)}return o}function Dfe(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function G$(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=W$(j$,r),a=t.parentId,l=e.get(a);if(!l){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Dfe(t,n);const u=i?1e3:0,{x:c,y:d,z:h}=Lfe(t,l,o,s,u),{positionAbsolute:p}=t.internals,m=c!==p.x||d!==p.y;(m||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:m?{x:c,y:d}:p,z:h}})}function aJ(t,e){return(tl(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Lfe(t,e,n,r,i){const{x:o,y:s}=e.internals.positionAbsolute,a=id(t),l=u1(t,n),u=Rv(t.extent)?zp(l,t.extent,a):l;let c=zp({x:o+u.x,y:s+u.y},r,a);t.extent==="parent"&&(c=YX(c,a,e));const d=aJ(t,i),h=e.internals.z??0;return{x:c.x,y:c.y,z:h>d?h:d}}function K$(t,e,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Av(l),c=JX(u,a.rect);o.set(a.parentId,{expandedRect:c,parent:l})}return o.size>0&&o.forEach(({expandedRect:a,parent:l},u)=>{var S;const c=l.internals.positionAbsolute,d=id(l),h=l.origin??r,p=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,m=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,y=Math.max(d.width,Math.round(a.width)),x=Math.max(d.height,Math.round(a.height)),_=(y-d.width)*h[0],E=(x-d.height)*h[1];(p>0||m>0||_||E)&&(i.push({id:u,type:"position",position:{x:l.position.x-p+_,y:l.position.y-m+E}}),(S=n.get(u))==null||S.forEach(T=>{t.some(I=>I.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+p,y:T.position.y+m}})})),(d.width<a.width||d.height<a.height||p||m)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:y+(p?h[0]*p-_:0),height:x+(m?h[1]*m-E:0)}})}),i}function Ofe(t,e,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],u=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(u.transform),d=[];for(const h of t.values()){const p=e.get(h.id);if(!p)continue;if(p.hidden){e.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const m=q$(h.nodeElement),y=p.measured.width!==m.width||p.measured.height!==m.height;if(!!(m.width&&m.height&&(y||!p.internals.handleBounds||h.force))){const _=h.nodeElement.getBoundingClientRect(),E=Rv(p.extent)?p.extent:o;let{positionAbsolute:S}=p.internals;p.parentId&&p.extent==="parent"?S=YX(S,m,e.get(p.parentId)):E&&(S=zp(S,E,m));const T={...p,measured:m,internals:{...p.internals,positionAbsolute:S,handleBounds:{source:Gz("source",h.nodeElement,_,c,p.id),target:Gz("target",h.nodeElement,_,c,p.id)}}};e.set(p.id,T),p.parentId&&G$(T,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:p.id,type:"dimensions",dimensions:m}),p.expandParent&&p.parentId&&d.push({id:p.id,parentId:p.parentId,rect:Av(T,i)}))}}if(d.length>0){const h=K$(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function Ffe({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:o}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const s=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function e6(t,e,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,e)),s=`${i}-${t}`;const l=r.get(s)||new Map;if(r.set(s,l.set(n,e)),o){s=`${i}-${t}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,e))}}function lJ(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,c=`${o}-${a}--${i}-${s}`;e6("source",l,c,t,i,s),e6("target",l,u,t,o,a),e.set(r.id,r)}}function uJ(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:uJ(n,e):!1}function t6(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function $fe(t,e,n,r){const i=new Map;for(const[o,s]of t)if((s.selected||s.id===r)&&(!s.parentId||!uJ(s,t))&&(s.draggable||e&&typeof s.draggable>"u")){const a=t.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function rk({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[u,c]of e){const d=(s=n.get(u))==null?void 0:s.internals.userNode;d&&i.push({...d,position:c.position,dragging:r})}if(!t)return[i[0],i];const o=(a=n.get(t))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=e.get(t))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function Bfe({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,u={x:0,y:0},c=null,d=!1,h=null,p=!1;function m({noDragClassName:x,handleSelector:_,domNode:E,isSelectable:S,nodeId:T,nodeClickDistance:I=0}){h=Bi(E);function N({x:k,y:D},V){const{nodeLookup:$,nodeExtent:H,snapGrid:G,snapToGrid:K,nodeOrigin:J,onNodeDrag:ee,onSelectionDrag:X,onError:j,updateNodePositions:Y}=e();o={x:k,y:D};let ae=!1,q={x:0,y:0,x2:0,y2:0};if(a.size>1&&H){const Q=c1(a);q=EL(Q)}for(const[Q,te]of a){if(!$.has(Q))continue;let ue={x:k-te.distance.x,y:D-te.distance.y};K&&(ue=GA(ue,G));let de=[[H[0][0],H[0][1]],[H[1][0],H[1][1]]];if(a.size>1&&H&&!te.extent){const{positionAbsolute:he}=te.internals,ve=he.x-q.x+H[0][0],be=he.x+te.measured.width-q.x2+H[1][0],Re=he.y-q.y+H[0][1],pe=he.y+te.measured.height-q.y2+H[1][1];de=[[ve,Re],[be,pe]]}const{position:se,positionAbsolute:ce}=KX({nodeId:Q,nextPosition:ue,nodeLookup:$,nodeExtent:de,nodeOrigin:J,onError:j});ae=ae||te.position.x!==se.x||te.position.y!==se.y,te.position=se,te.internals.positionAbsolute=ce}if(ae&&(Y(a,!0),V&&(r||ee||!T&&X))){const[Q,te]=rk({nodeId:T,dragItems:a,nodeLookup:$});r==null||r(V,a,Q,te),ee==null||ee(V,Q,te),T||X==null||X(V,te)}}async function R(){if(!c)return;const{transform:k,panBy:D,autoPanSpeed:V,autoPanOnNodeDrag:$}=e();if(!$){l=!1,cancelAnimationFrame(s);return}const[H,G]=XX(u,c,V);(H!==0||G!==0)&&(o.x=(o.x??0)-H/k[2],o.y=(o.y??0)-G/k[2],await D({x:H,y:G})&&N(o,null)),s=requestAnimationFrame(R)}function M(k){var ae;const{nodeLookup:D,multiSelectionActive:V,nodesDraggable:$,transform:H,snapGrid:G,snapToGrid:K,selectNodesOnDrag:J,onNodeDragStart:ee,onSelectionDragStart:X,unselectNodesAndEdges:j}=e();d=!0,(!J||!S)&&!V&&T&&((ae=D.get(T))!=null&&ae.selected||j()),S&&J&&T&&(t==null||t(T));const Y=xx(k.sourceEvent,{transform:H,snapGrid:G,snapToGrid:K,containerBounds:c});if(o=Y,a=$fe(D,$,Y,T),a.size>0&&(n||ee||!T&&X)){const[q,Q]=rk({nodeId:T,dragItems:a,nodeLookup:D});n==null||n(k.sourceEvent,a,q,Q),ee==null||ee(k.sourceEvent,q,Q),T||X==null||X(k.sourceEvent,Q)}}const L=AX().clickDistance(I).on("start",k=>{const{domNode:D,nodeDragThreshold:V,transform:$,snapGrid:H,snapToGrid:G}=e();c=(D==null?void 0:D.getBoundingClientRect())||null,p=!1,V===0&&M(k),o=xx(k.sourceEvent,{transform:$,snapGrid:H,snapToGrid:G,containerBounds:c}),u=Oc(k.sourceEvent,c)}).on("drag",k=>{const{autoPanOnNodeDrag:D,transform:V,snapGrid:$,snapToGrid:H,nodeDragThreshold:G,nodeLookup:K}=e(),J=xx(k.sourceEvent,{transform:V,snapGrid:$,snapToGrid:H,containerBounds:c});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||T&&!K.has(T))&&(p=!0),!p){if(!l&&D&&d&&(l=!0,R()),!d){const ee=J.xSnapped-(o.x??0),X=J.ySnapped-(o.y??0);Math.sqrt(ee*ee+X*X)>G&&M(k)}(o.x!==J.xSnapped||o.y!==J.ySnapped)&&a&&d&&(u=Oc(k.sourceEvent,c),N(J,k.sourceEvent))}}).on("end",k=>{if(!(!d||p)&&(l=!1,d=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:D,updateNodePositions:V,onNodeDragStop:$,onSelectionDragStop:H}=e();if(V(a,!1),i||$||!T&&H){const[G,K]=rk({nodeId:T,dragItems:a,nodeLookup:D,dragging:!1});i==null||i(k.sourceEvent,a,G,K),$==null||$(k.sourceEvent,G,K),T||H==null||H(k.sourceEvent,K)}}}).filter(k=>{const D=k.target;return!k.button&&(!x||!t6(D,`.${x}`,E))&&(!_||t6(D,_,E))});h.call(L)}function y(){h==null||h.on(".drag",null)}return{update:m,destroy:y}}function Vfe(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const o of e.values())Yx(i,Av(o))>0&&r.push(o);return r}const zfe=250;function Ufe(t,e,n,r){var a,l;let i=[],o=1/0;const s=Vfe(t,n,e+zfe);for(const u of s){const c=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((l=u.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:p}=Xx(u,d,d.position,!0),m=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(p-t.y,2));m>e||(m<o?(i=[{...d,x:h,y:p}],o=m):m===o&&i.push({...d,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function cJ(t,e,n,r,i,o=!1){var u,c,d;const s=r.get(t);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[e]:[...((c=s.internals.handleBounds)==null?void 0:c.source)??[],...((d=s.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&o?{...l,...Xx(s,l,l.position,!0)}:l}function dJ(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Hfe(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const fJ=()=>!0;function qfe(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:u,autoPanOnConnect:c,flowId:d,panBy:h,cancelConnection:p,onConnectStart:m,onConnect:y,onConnectEnd:x,isValidConnection:_=fJ,onReconnectEnd:E,updateConnection:S,getTransform:T,getFromHandle:I,autoPanSpeed:N}){const R=eJ(t.target);let M=0,L;const{x:k,y:D}=Oc(t),V=R==null?void 0:R.elementFromPoint(k,D),$=dJ(o,V),H=a==null?void 0:a.getBoundingClientRect();if(!H||!$)return;const G=cJ(i,$,r,l,e);if(!G)return;let K=Oc(t,H),J=!1,ee=null,X=!1,j=null;function Y(){if(!c||!H)return;const[ce,he]=XX(K,H,N);h({x:ce,y:he}),M=requestAnimationFrame(Y)}const ae={...G,nodeId:i,type:$,position:G.position},q=l.get(i),te={inProgress:!0,isValid:null,from:Xx(q,ae,at.Left,!0),fromHandle:ae,fromPosition:ae.position,fromNode:q,to:K,toHandle:null,toPosition:Hz[ae.position],toNode:null};S(te);let ue=te;m==null||m(t,{nodeId:i,handleId:r,handleType:$});function de(ce){if(!I()||!ae){se(ce);return}const he=T();K=Oc(ce,H),L=Ufe(d1(K,he,!1,[1,1]),n,l,ae),J||(Y(),J=!0);const ve=hJ(ce,{handle:L,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:_,doc:R,lib:u,flowId:d,nodeLookup:l});j=ve.handleDomNode,ee=ve.connection,X=Hfe(!!L,ve.isValid);const be={...ue,isValid:X,to:ve.toHandle&&X?pT({x:ve.toHandle.x,y:ve.toHandle.y},he):K,toHandle:ve.toHandle,toPosition:X&&ve.toHandle?ve.toHandle.position:Hz[ae.position],toNode:ve.toHandle?l.get(ve.toHandle.nodeId):null};X&&L&&ue.toHandle&&be.toHandle&&ue.toHandle.type===be.toHandle.type&&ue.toHandle.nodeId===be.toHandle.nodeId&&ue.toHandle.id===be.toHandle.id&&ue.to.x===be.to.x&&ue.to.y===be.to.y||(S(be),ue=be)}function se(ce){(L||j)&&ee&&X&&(y==null||y(ee));const{inProgress:he,...ve}=ue,be={...ve,toPosition:ue.toHandle?ue.toPosition:null};x==null||x(ce,be),o&&(E==null||E(ce,be)),p(),cancelAnimationFrame(M),J=!1,X=!1,ee=null,j=null,R.removeEventListener("mousemove",de),R.removeEventListener("mouseup",se),R.removeEventListener("touchmove",de),R.removeEventListener("touchend",se)}R.addEventListener("mousemove",de),R.addEventListener("mouseup",se),R.addEventListener("touchmove",de),R.addEventListener("touchend",se)}function hJ(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:u=fJ,nodeLookup:c}){const d=o==="target",h=e?s.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:p,y:m}=Oc(t),y=s.elementFromPoint(p,m),x=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:h,_={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){const E=dJ(void 0,x),S=x.getAttribute("data-nodeid"),T=x.getAttribute("data-handleid"),I=x.classList.contains("connectable"),N=x.classList.contains("connectableend");if(!S||!E)return _;const R={source:d?S:r,sourceHandle:d?T:i,target:d?r:S,targetHandle:d?i:T};_.connection=R;const L=I&&N&&(n===Cv.Strict?d&&E==="source"||!d&&E==="target":S!==r||T!==i);_.isValid=L&&u(R),_.toHandle=cJ(S,E,T,c,n,!0)}return _}const RL={onPointerDown:qfe,isValid:hJ};function jfe({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Bi(t);function o({translateExtent:a,width:l,height:u,zoomStep:c=10,pannable:d=!0,zoomable:h=!0,inversePan:p=!1}){const m=S=>{const T=n();if(S.sourceEvent.type!=="wheel"||!e)return;const I=-S.sourceEvent.deltaY*(S.sourceEvent.deltaMode===1?.05:S.sourceEvent.deltaMode?1:.002)*c,N=T[2]*Math.pow(2,I);e.scaleTo(N)};let y=[0,0];const x=S=>{(S.sourceEvent.type==="mousedown"||S.sourceEvent.type==="touchstart")&&(y=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY])},_=S=>{const T=n();if(S.sourceEvent.type!=="mousemove"&&S.sourceEvent.type!=="touchmove"||!e)return;const I=[S.sourceEvent.clientX??S.sourceEvent.touches[0].clientX,S.sourceEvent.clientY??S.sourceEvent.touches[0].clientY],N=[I[0]-y[0],I[1]-y[1]];y=I;const R=r()*Math.max(T[2],Math.log(T[2]))*(p?-1:1),M={x:T[0]-N[0]*R,y:T[1]-N[1]*R},L=[[0,0],[l,u]];e.setViewportConstrained({x:M.x,y:M.y,zoom:T[2]},L,a)},E=UX().on("start",x).on("zoom",d?_:null).on("zoom.wheel",h?m:null);i.call(E,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Qa}}const Wfe=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,YA=t=>({x:t.x,y:t.y,zoom:t.k}),ik=({x:t,y:e,zoom:n})=>qA.translate(t,e).scale(n),uy=(t,e)=>t.target.closest(`.${e}`),pJ=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Gfe=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,ok=(t,e=0,n=Gfe,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},gJ=t=>{const e=t.ctrlKey&&gT()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Kfe({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:u}){return c=>{if(uy(c,e))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(c.ctrlKey&&s){const x=Qa(c),_=gJ(c),E=d*Math.pow(2,_);r.scaleTo(n,E,x,c);return}const h=c.deltaMode===1?20:1;let p=i===Lp.Vertical?0:c.deltaX*h,m=i===Lp.Horizontal?0:c.deltaY*h;!gT()&&c.shiftKey&&i!==Lp.Vertical&&(p=c.deltaY*h,m=0),r.translateBy(n,-(p/d)*o,-(m/d)*o,{internal:!0});const y=YA(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(c,y)),t.isPanScrolling&&(l==null||l(c,y),t.panScrollTimeout=setTimeout(()=>{u==null||u(c,y),t.isPanScrolling=!1},150))}}function Yfe({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!e&&o&&!r.ctrlKey,a=uy(r,t);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function Xfe({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=YA(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function Jfe({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;t.usedRightMouseButton=!!(n&&pJ(e,t.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,YA(o.transform)))}}function Qfe({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,o&&pJ(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&Wfe(t.prevViewport,s.transform))){const l=YA(s.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,l)},n?150:0)}}}function Zfe({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:u}){return c=>{var m;const d=t||e,h=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(uy(c,`${u}-flow__node`)||uy(c,`${u}-flow__edge`)))return!0;if(!r&&!d&&!i&&!o&&!n||s||uy(c,a)&&c.type==="wheel"||uy(c,l)&&(c.type!=="wheel"||i&&c.type==="wheel"&&!t)||!n&&c.ctrlKey&&c.type==="wheel")return!1;if(!n&&c.type==="touchstart"&&((m=c.touches)==null?void 0:m.length)>1)return c.preventDefault(),!1;if(!d&&!i&&!h&&c.type==="wheel"||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&p}}function ehe({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:u}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=UX().clickDistance(!tl(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),p=Bi(t).call(h);S({x:o.x,y:o.y,zoom:Tv(o.zoom,e,n)},[[0,0],[d.width,d.height]],i);const m=p.on("wheel.zoom"),y=p.on("dblclick.zoom");h.wheelDelta(gJ);function x(V,$){return p?new Promise(H=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).transform(ok(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>H(!0)),V)}):Promise.resolve(!1)}function _({noWheelClassName:V,noPanClassName:$,onPaneContextMenu:H,userSelectionActive:G,panOnScroll:K,panOnDrag:J,panOnScrollMode:ee,panOnScrollSpeed:X,preventScrolling:j,zoomOnPinch:Y,zoomOnScroll:ae,zoomOnDoubleClick:q,zoomActivationKeyPressed:Q,lib:te,onTransformChange:ue}){G&&!c.isZoomingOrPanning&&E();const se=K&&!Q&&!G?Kfe({zoomPanValues:c,noWheelClassName:V,d3Selection:p,d3Zoom:h,panOnScrollMode:ee,panOnScrollSpeed:X,zoomOnPinch:Y,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):Yfe({noWheelClassName:V,preventScrolling:j,d3ZoomHandler:m});if(p.on("wheel.zoom",se,{passive:!1}),!G){const he=Xfe({zoomPanValues:c,onDraggingChange:u,onPanZoomStart:a});h.on("start",he);const ve=Jfe({zoomPanValues:c,panOnDrag:J,onPaneContextMenu:!!H,onPanZoom:s,onTransformChange:ue});h.on("zoom",ve);const be=Qfe({zoomPanValues:c,panOnDrag:J,panOnScroll:K,onPaneContextMenu:H,onPanZoomEnd:l,onDraggingChange:u});h.on("end",be)}const ce=Zfe({zoomActivationKeyPressed:Q,panOnDrag:J,zoomOnScroll:ae,panOnScroll:K,zoomOnDoubleClick:q,zoomOnPinch:Y,userSelectionActive:G,noPanClassName:$,noWheelClassName:V,lib:te});h.filter(ce),q?p.on("dblclick.zoom",y):p.on("dblclick.zoom",null)}function E(){h.on("zoom",null)}async function S(V,$,H){const G=ik(V),K=h==null?void 0:h.constrain()(G,$,H);return K&&await x(K),new Promise(J=>J(K))}async function T(V,$){const H=ik(V);return await x(H,$),new Promise(G=>G(H))}function I(V){if(p){const $=ik(V),H=p.property("__zoom");(H.k!==V.zoom||H.x!==V.x||H.y!==V.y)&&(h==null||h.transform(p,$,null,{sync:!0}))}}function N(){const V=p?zX(p.node()):{x:0,y:0,k:1};return{x:V.x,y:V.y,zoom:V.k}}function R(V,$){return p?new Promise(H=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).scaleTo(ok(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>H(!0)),V)}):Promise.resolve(!1)}function M(V,$){return p?new Promise(H=>{h==null||h.interpolate(($==null?void 0:$.interpolate)==="linear"?yy:iC).scaleBy(ok(p,$==null?void 0:$.duration,$==null?void 0:$.ease,()=>H(!0)),V)}):Promise.resolve(!1)}function L(V){h==null||h.scaleExtent(V)}function k(V){h==null||h.translateExtent(V)}function D(V){const $=!tl(V)||V<0?0:V;h==null||h.clickDistance($)}return{update:_,destroy:E,setViewport:T,setViewportConstrained:S,getViewport:N,scaleTo:R,scaleBy:M,setScaleExtent:L,setTranslateExtent:k,syncViewport:I,setClickDistance:D}}var Pv;(function(t){t.Line="line",t.Handle="handle"})(Pv||(Pv={}));function the({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=t-e,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function nhe(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Fd(t,e){return Math.max(0,e-t)}function $d(t,e){return Math.max(0,t-e)}function uE(t,e,n){return Math.max(0,e-t,t-n)}function n6(t,e){return t?!e:e}function rhe(t,e,n,r,i,o,s,a){let{affectsX:l,affectsY:u}=e;const{isHorizontal:c,isVertical:d}=e,h=c&&d,{xSnapped:p,ySnapped:m}=n,{minWidth:y,maxWidth:x,minHeight:_,maxHeight:E}=r,{x:S,y:T,width:I,height:N,aspectRatio:R}=t;let M=Math.floor(c?p-t.pointerX:0),L=Math.floor(d?m-t.pointerY:0);const k=I+(l?-M:M),D=N+(u?-L:L),V=-o[0]*I,$=-o[1]*N;let H=uE(k,y,x),G=uE(D,_,E);if(s){let ee=0,X=0;l&&M<0?ee=Fd(S+M+V,s[0][0]):!l&&M>0&&(ee=$d(S+k+V,s[1][0])),u&&L<0?X=Fd(T+L+$,s[0][1]):!u&&L>0&&(X=$d(T+D+$,s[1][1])),H=Math.max(H,ee),G=Math.max(G,X)}if(a){let ee=0,X=0;l&&M>0?ee=$d(S+M,a[0][0]):!l&&M<0&&(ee=Fd(S+k,a[1][0])),u&&L>0?X=$d(T+L,a[0][1]):!u&&L<0&&(X=Fd(T+D,a[1][1])),H=Math.max(H,ee),G=Math.max(G,X)}if(i){if(c){const ee=uE(k/R,_,E)*R;if(H=Math.max(H,ee),s){let X=0;!l&&!u||l&&!u&&h?X=$d(T+$+k/R,s[1][1])*R:X=Fd(T+$+(l?M:-M)/R,s[0][1])*R,H=Math.max(H,X)}if(a){let X=0;!l&&!u||l&&!u&&h?X=Fd(T+k/R,a[1][1])*R:X=$d(T+(l?M:-M)/R,a[0][1])*R,H=Math.max(H,X)}}if(d){const ee=uE(D*R,y,x)/R;if(G=Math.max(G,ee),s){let X=0;!l&&!u||u&&!l&&h?X=$d(S+D*R+V,s[1][0])/R:X=Fd(S+(u?L:-L)*R+V,s[0][0])/R,G=Math.max(G,X)}if(a){let X=0;!l&&!u||u&&!l&&h?X=Fd(S+D*R,a[1][0])/R:X=$d(S+(u?L:-L)*R,a[0][0])/R,G=Math.max(G,X)}}}L=L+(L<0?G:-G),M=M+(M<0?H:-H),i&&(h?k>D*R?L=(n6(l,u)?-M:M)/R:M=(n6(l,u)?-L:L)*R:c?(L=M/R,u=l):(M=L*R,l=u));const K=l?S+M:S,J=u?T+L:T;return{width:I+(l?-M:M),height:N+(u?-L:L),x:o[0]*M*(l?-1:1)+K,y:o[1]*L*(u?-1:1)+J}}const mJ={width:0,height:0,x:0,y:0},ihe={...mJ,pointerX:0,pointerY:0,aspectRatio:1};function ohe(t){return[[0,0],[t.measured.width,t.measured.height]]}function she(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,o=t.measured.width??0,s=t.measured.height??0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function ahe({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const o=Bi(t);function s({controlPosition:l,boundaries:u,keepAspectRatio:c,resizeDirection:d,onResizeStart:h,onResize:p,onResizeEnd:m,shouldResize:y}){let x={...mJ},_={...ihe};const E=nhe(l);let S,T=null,I=[],N,R,M;const L=AX().on("start",k=>{const{nodeLookup:D,transform:V,snapGrid:$,snapToGrid:H,nodeOrigin:G,paneDomNode:K}=n();if(S=D.get(e),!S)return;T=(K==null?void 0:K.getBoundingClientRect())??null;const{xSnapped:J,ySnapped:ee}=xx(k.sourceEvent,{transform:V,snapGrid:$,snapToGrid:H,containerBounds:T});x={width:S.measured.width??0,height:S.measured.height??0,x:S.position.x??0,y:S.position.y??0},_={...x,pointerX:J,pointerY:ee,aspectRatio:x.width/x.height},N=void 0,S.parentId&&(S.extent==="parent"||S.expandParent)&&(N=D.get(S.parentId),R=N&&S.extent==="parent"?ohe(N):void 0),I=[],M=void 0;for(const[X,j]of D)if(j.parentId===e&&(I.push({id:X,position:{...j.position},extent:j.extent}),j.extent==="parent"||j.expandParent)){const Y=she(j,S,j.origin??G);M?M=[[Math.min(Y[0][0],M[0][0]),Math.min(Y[0][1],M[0][1])],[Math.max(Y[1][0],M[1][0]),Math.max(Y[1][1],M[1][1])]]:M=Y}h==null||h(k,{...x})}).on("drag",k=>{const{transform:D,snapGrid:V,snapToGrid:$,nodeOrigin:H}=n(),G=xx(k.sourceEvent,{transform:D,snapGrid:V,snapToGrid:$,containerBounds:T}),K=[];if(!S)return;const{x:J,y:ee,width:X,height:j}=x,Y={},ae=S.origin??H,{width:q,height:Q,x:te,y:ue}=rhe(_,E,G,u,c,ae,R,M),de=q!==X,se=Q!==j,ce=te!==J&&de,he=ue!==ee&&se;if(!ce&&!he&&!de&&!se)return;if((ce||he||ae[0]===1||ae[1]===1)&&(Y.x=ce?te:x.x,Y.y=he?ue:x.y,x.x=Y.x,x.y=Y.y,I.length>0)){const pe=te-J,Ce=ue-ee;for(const $e of I)$e.position={x:$e.position.x-pe+ae[0]*(q-X),y:$e.position.y-Ce+ae[1]*(Q-j)},K.push($e)}if((de||se)&&(Y.width=de&&(!d||d==="horizontal")?q:x.width,Y.height=se&&(!d||d==="vertical")?Q:x.height,x.width=Y.width,x.height=Y.height),N&&S.expandParent){const pe=ae[0]*(Y.width??0);Y.x&&Y.x<pe&&(x.x=pe,_.x=_.x-(Y.x-pe));const Ce=ae[1]*(Y.height??0);Y.y&&Y.y<Ce&&(x.y=Ce,_.y=_.y-(Y.y-Ce))}const ve=the({width:x.width,prevWidth:X,height:x.height,prevHeight:j,affectsX:E.affectsX,affectsY:E.affectsY}),be={...x,direction:ve};(y==null?void 0:y(k,be))!==!1&&(p==null||p(k,be),r(Y,K))}).on("end",k=>{m==null||m(k,{...x}),i==null||i({...x})});o.call(L)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var sk={exports:{}},ak={},lk={exports:{}},uk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r6;function lhe(){if(r6)return uk;r6=1;var t=dl();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(d,h){var p=h(),m=r({inst:{value:p,getSnapshot:h}}),y=m[0].inst,x=m[1];return o(function(){y.value=p,y.getSnapshot=h,l(y)&&x({inst:y})},[d,p,h]),i(function(){return l(y)&&x({inst:y}),d(function(){l(y)&&x({inst:y})})},[d]),s(p),p}function l(d){var h=d.getSnapshot;d=d.value;try{var p=h();return!n(d,p)}catch{return!0}}function u(d,h){return h()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return uk.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,uk}var i6;function uhe(){return i6||(i6=1,lk.exports=lhe()),lk.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function che(){if(o6)return ak;o6=1;var t=dl(),e=uhe();function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return ak.useSyncExternalStoreWithSelector=function(u,c,d,h,p){var m=o(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function _(N){if(!E){if(E=!0,S=N,N=h(N),p!==void 0&&y.hasValue){var R=y.value;if(p(R,N))return T=R}return T=N}if(R=T,r(S,N))return R;var M=h(N);return p!==void 0&&p(R,M)?(S=N,R):(S=N,T=M)}var E=!1,S,T,I=d===void 0?null:d;return[function(){return _(c())},I===null?void 0:function(){return _(I())}]},[c,d,h,p]);var x=i(u,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},ak}var s6;function dhe(){return s6||(s6=1,sk.exports=che()),sk.exports}var fhe=dhe();const hhe=lo(fhe),phe={},a6=t=>{let e;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(phe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},ghe=t=>t?a6(t):a6,{useDebugValue:mhe}=oe,{useSyncExternalStoreWithSelector:yhe}=hhe,vhe=t=>t;function yJ(t,e=vhe,n){const r=yhe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return mhe(r),r}const l6=(t,e)=>{const n=ghe(t),r=(i,o=e)=>yJ(n,i,o);return Object.assign(r,n),r},bhe=(t,e)=>t?l6(t,e):l6;function pr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Fc=BA();const _f=lo(Fc),XA=F.createContext(null),xhe=XA.Provider,vJ=Su.error001();function dn(t,e){const n=F.useContext(XA);if(n===null)throw new Error(vJ);return yJ(n,t,e)}function xr(){const t=F.useContext(XA);if(t===null)throw new Error(vJ);return F.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const u6={display:"none"},whe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bJ="react-flow__node-desc",xJ="react-flow__edge-desc",_he="react-flow__aria-live",She=t=>t.ariaLiveMessage,Ehe=t=>t.ariaLabelConfig;function Che({rfId:t}){const e=dn(She);return O.jsx("div",{id:`${_he}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:whe,children:e})}function The({rfId:t,disableKeyboardA11y:e}){const n=dn(Ehe);return O.jsxs(O.Fragment,{children:[O.jsx("div",{id:`${bJ}-${t}`,style:u6,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),O.jsx("div",{id:`${xJ}-${t}`,style:u6,children:n["edge.a11yDescription.default"]}),!e&&O.jsx(Che,{rfId:t})]})}const Ahe=t=>t.userSelectionActive?"none":"all",Iv=F.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},o)=>{const s=dn(Ahe),a=`${t}`.split("-");return O.jsx("div",{className:ti(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:e})});Iv.displayName="Panel";function Rhe({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:O.jsx(Iv,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:O.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Phe=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},cE=t=>t.id;function Ihe(t,e){return pr(t.selectedNodes.map(cE),e.selectedNodes.map(cE))&&pr(t.selectedEdges.map(cE),e.selectedEdges.map(cE))}function khe({onSelectionChange:t}){const e=xr(),{selectedNodes:n,selectedEdges:r}=dn(Phe,Ihe);return F.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,t]),null}const Mhe=t=>!!t.onSelectionChangeHandlers;function Nhe({onSelectionChange:t}){const e=dn(Mhe);return t||e?O.jsx(khe,{onSelectionChange:t}):null}const wJ=[0,0],Dhe={x:0,y:0,zoom:1},Lhe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],c6=[...Lhe,"rfId"],Ohe=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),d6={translateExtent:Gx,nodeOrigin:wJ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Fhe(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:u}=dn(Ohe,pr),c=xr();F.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=d6,a()}),[]);const d=F.useRef(d6);return F.useEffect(()=>{for(const h of c6){const p=t[h],m=d.current[h];p!==m&&(typeof t[h]>"u"||(h==="nodes"?e(p):h==="edges"?n(p):h==="minZoom"?r(p):h==="maxZoom"?i(p):h==="translateExtent"?o(p):h==="nodeExtent"?s(p):h==="paneClickDistance"?u(p):h==="fitView"?c.setState({fitViewQueued:p}):h==="fitViewOptions"&&c.setState({fitViewOptions:p}),h==="ariaLabelConfig"?c.setState({ariaLabelConfig:wfe(p)}):c.setState({[h]:p})))}d.current=t},c6.map(h=>t[h])),null}function f6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function $he(t){var r;const[e,n]=F.useState(t==="system"?null:t);return F.useEffect(()=>{if(t!=="system"){n(t);return}const i=f6(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[t]),e!==null?e:(r=f6())!=null&&r.matches?"dark":"light"}const h6=typeof document<"u"?document:null;function Jx(t=null,e={target:h6,actInsideInputWithModifier:!0}){const[n,r]=F.useState(!1),i=F.useRef(!1),o=F.useRef(new Set([])),[s,a]=F.useMemo(()=>{if(t!==null){const u=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),c=u.reduce((d,h)=>d.concat(...h),[]);return[u,c]}return[[],[]]},[t]);return F.useEffect(()=>{const l=(e==null?void 0:e.target)??h6,u=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const c=p=>{var x,_;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&tJ(p))return!1;const y=g6(p.code,a);if(o.current.add(p[y]),p6(s,o.current,!1)){const E=((_=(x=p.composedPath)==null?void 0:x.call(p))==null?void 0:_[0])||p.target,S=(E==null?void 0:E.nodeName)==="BUTTON"||(E==null?void 0:E.nodeName)==="A";e.preventDefault!==!1&&(i.current||!S)&&p.preventDefault(),r(!0)}},d=p=>{const m=g6(p.code,a);p6(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[m]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function p6(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function g6(t,e){return e.includes(t)?"code":"key"}const Bhe=()=>{const t=xr();return F.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,o],panZoom:s}=t.getState();return s?(await s.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=t.getState(),l=H$(e,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=t.getState();if(!s)return e;const{x:a,y:l}=s.getBoundingClientRect(),u={x:e.x-a,y:e.y-l},c=n.snapGrid??i,d=n.snapToGrid??o;return d1(u,r,d,c)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:o}=r.getBoundingClientRect(),s=pT(e,n);return{x:s.x+i,y:s.y+o}}}),[])};function _J(t,e){const n=[],r=new Map,i=[];for(const o of t)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of e){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)Vhe(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function Vhe(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function SJ(t,e){return _J(t,e)}function EJ(t,e){return _J(t,e)}function Eh(t,e){return{id:t,type:"select",selected:e}}function cy(t,e=new Set,n=!1){const r=[];for(const[i,o]of t){const s=e.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(Eh(o.id,s)))}return r}function m6({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(o=>[o.id,o]));for(const[o,s]of t.entries()){const a=e.get(s.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of e)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function y6(t){return{id:t.id,type:"remove"}}const v6=t=>dfe(t),zhe=t=>GX(t);function CJ(t){return F.forwardRef(t)}const Uhe=typeof window<"u"?F.useLayoutEffect:F.useEffect;function b6(t){const[e,n]=F.useState(BigInt(0)),[r]=F.useState(()=>Hhe(()=>n(i=>i+BigInt(1))));return Uhe(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Hhe(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const TJ=F.createContext(null);function qhe({children:t}){const e=xr(),n=F.useCallback(a=>{const{nodes:l=[],setNodes:u,hasDefaultNodes:c,onNodesChange:d,nodeLookup:h,fitViewQueued:p}=e.getState();let m=l;for(const x of a)m=typeof x=="function"?x(m):x;const y=m6({items:m,lookup:h});c&&u(m),y.length>0?d==null||d(y):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:x,nodes:_,setNodes:E}=e.getState();x&&E(_)})},[]),r=b6(n),i=F.useCallback(a=>{const{edges:l=[],setEdges:u,hasDefaultEdges:c,onEdgesChange:d,edgeLookup:h}=e.getState();let p=l;for(const m of a)p=typeof m=="function"?m(p):m;c?u(p):d&&d(m6({items:p,lookup:h}))},[]),o=b6(i),s=F.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return O.jsx(TJ.Provider,{value:s,children:t})}function jhe(){const t=F.useContext(TJ);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Whe=t=>!!t.panZoom;function f1(){const t=Bhe(),e=xr(),n=jhe(),r=dn(Whe),i=F.useMemo(()=>{const o=d=>e.getState().nodeLookup.get(d),s=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var _,E;const{nodeLookup:h,nodeOrigin:p}=e.getState(),m=v6(d)?d:h.get(d.id),y=m.parentId?ZX(m.position,m.measured,m.parentId,h,p):m.position,x={...m,position:y,width:((_=m.measured)==null?void 0:_.width)??m.width,height:((E=m.measured)==null?void 0:E.height)??m.height};return Av(x)},u=(d,h,p={replace:!1})=>{s(m=>m.map(y=>{if(y.id===d){const x=typeof h=="function"?h(y):h;return p.replace&&v6(x)?x:{...y,...x}}return y}))},c=(d,h,p={replace:!1})=>{a(m=>m.map(y=>{if(y.id===d){const x=typeof h=="function"?h(y):h;return p.replace&&zhe(x)?x:{...y,...x}}return y}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=o(d))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:s,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(p=>[...p,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:p}=e.getState(),[m,y,x]=p;return{nodes:d.map(_=>({..._})),edges:h.map(_=>({..._})),viewport:{x:m,y,zoom:x}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:p,edges:m,onNodesDelete:y,onEdgesDelete:x,triggerNodeChanges:_,triggerEdgeChanges:E,onDelete:S,onBeforeDelete:T}=e.getState(),{nodes:I,edges:N}=await mfe({nodesToRemove:d,edgesToRemove:h,nodes:p,edges:m,onBeforeDelete:T}),R=N.length>0,M=I.length>0;if(R){const L=N.map(y6);x==null||x(N),E(L)}if(M){const L=I.map(y6);y==null||y(I),_(L)}return(M||R)&&(S==null||S({nodes:I,edges:N})),{deletedNodes:I,deletedEdges:N}},getIntersectingNodes:(d,h=!0,p)=>{const m=jz(d),y=m?d:l(d),x=p!==void 0;return y?(p||e.getState().nodes).filter(_=>{const E=e.getState().nodeLookup.get(_.id);if(E&&!m&&(_.id===d.id||!E.internals.positionAbsolute))return!1;const S=Av(x?_:E),T=Yx(S,y);return h&&T>0||T>=y.width*y.height}):[]},isNodeIntersecting:(d,h,p=!0)=>{const y=jz(d)?d:l(d);if(!y)return!1;const x=Yx(y,h);return p&&x>0||x>=y.width*y.height},updateNode:u,updateNodeData:(d,h,p={replace:!1})=>{u(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},updateEdge:c,updateEdgeData:(d,h,p={replace:!1})=>{c(d,m=>{const y=typeof h=="function"?h(m):h;return p.replace?{...m,data:y}:{...m,data:{...m.data,...y}}},p)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:p}=e.getState();return ffe(d,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:d,id:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}-${d}${h?`-${h}`:""}`))==null?void 0:m.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:p})=>{var m;return Array.from(((m=e.getState().connectionLookup.get(`${p}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:m.values())??[])},fitView:async d=>{const h=e.getState().fitViewResolver??xfe();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(p=>[...p]),h.promise}}},[]);return F.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const x6=t=>t.selected,Ghe=typeof window<"u"?window:void 0;function Khe({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=xr(),{deleteElements:r}=f1(),i=Jx(t,{actInsideInputWithModifier:!1}),o=Jx(e,{target:Ghe});F.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(x6),edges:s.filter(x6)}),n.setState({nodesSelectionActive:!1})}},[i]),F.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function Yhe(t){const e=xr();F.useEffect(()=>{const n=()=>{var i,o;if(!t.current)return!1;const r=q$(t.current);(r.height===0||r.width===0)&&((o=(i=e.getState()).onError)==null||o.call(i,"004",Su.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const JA={position:"absolute",width:"100%",height:"100%",top:0,left:0},Xhe=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Jhe({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Lp.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:u,minZoom:c,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:p=!0,children:m,noWheelClassName:y,noPanClassName:x,onViewportChange:_,isControlledViewport:E,paneClickDistance:S}){const T=xr(),I=F.useRef(null),{userSelectionActive:N,lib:R}=dn(Xhe,pr),M=Jx(h),L=F.useRef();Yhe(I);const k=F.useCallback(D=>{_==null||_({x:D[0],y:D[1],zoom:D[2]}),E||T.setState({transform:D})},[_,E]);return F.useEffect(()=>{if(I.current){L.current=ehe({domNode:I.current,minZoom:c,maxZoom:d,translateExtent:u,viewport:l,paneClickDistance:S,onDraggingChange:H=>T.setState({paneDragging:H}),onPanZoomStart:(H,G)=>{const{onViewportChangeStart:K,onMoveStart:J}=T.getState();J==null||J(H,G),K==null||K(G)},onPanZoom:(H,G)=>{const{onViewportChange:K,onMove:J}=T.getState();J==null||J(H,G),K==null||K(G)},onPanZoomEnd:(H,G)=>{const{onViewportChangeEnd:K,onMoveEnd:J}=T.getState();J==null||J(H,G),K==null||K(G)}});const{x:D,y:V,zoom:$}=L.current.getViewport();return T.setState({panZoom:L.current,transform:[D,V,$],domNode:I.current.closest(".react-flow")}),()=>{var H;(H=L.current)==null||H.destroy()}}},[]),F.useEffect(()=>{var D;(D=L.current)==null||D.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:p,noPanClassName:x,userSelectionActive:N,noWheelClassName:y,lib:R,onTransformChange:k})},[t,e,n,r,i,o,s,a,M,p,x,N,y,R,k]),O.jsx("div",{className:"react-flow__renderer",ref:I,style:JA,children:m})}const Qhe=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Zhe(){const{userSelectionActive:t,userSelectionRect:e}=dn(Qhe,pr);return t&&e?O.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const ck=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},epe=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function tpe({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Kx.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:c,onPaneMouseMove:d,onPaneMouseLeave:h,children:p}){const m=xr(),{userSelectionActive:y,elementsSelectable:x,dragging:_,connectionInProgress:E}=dn(epe,pr),S=x&&(t||y),T=F.useRef(null),I=F.useRef(),N=F.useRef(new Set),R=F.useRef(new Set),M=F.useRef(!1),L=F.useRef(!1),k=J=>{if(M.current||E){M.current=!1;return}a==null||a(J),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},D=J=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){J.preventDefault();return}l==null||l(J)},V=u?J=>u(J):void 0,$=J=>{var ae,q;const{resetSelectedElements:ee,domNode:X}=m.getState();if(I.current=X==null?void 0:X.getBoundingClientRect(),!x||!t||J.button!==0||J.target!==T.current||!I.current)return;(q=(ae=J.target)==null?void 0:ae.setPointerCapture)==null||q.call(ae,J.pointerId),L.current=!0,M.current=!1;const{x:j,y:Y}=Oc(J.nativeEvent,I.current);ee(),m.setState({userSelectionRect:{width:0,height:0,startX:j,startY:Y,x:j,y:Y}}),o==null||o(J)},H=J=>{const{userSelectionRect:ee,transform:X,nodeLookup:j,edgeLookup:Y,connectionLookup:ae,triggerNodeChanges:q,triggerEdgeChanges:Q,defaultEdgeOptions:te}=m.getState();if(!I.current||!ee)return;M.current=!0;const{x:ue,y:de}=Oc(J.nativeEvent,I.current),{startX:se,startY:ce}=ee,he={startX:se,startY:ce,x:ue<se?ue:se,y:de<ce?de:ce,width:Math.abs(ue-se),height:Math.abs(de-ce)},ve=N.current,be=R.current;N.current=new Set(U$(j,he,X,n===Kx.Partial,!0).map(pe=>pe.id)),R.current=new Set;const Re=(te==null?void 0:te.selectable)??!0;for(const pe of N.current){const Ce=ae.get(pe);if(Ce)for(const{edgeId:$e}of Ce.values()){const De=Y.get($e);De&&(De.selectable??Re)&&R.current.add($e)}}if(!Wz(ve,N.current)){const pe=cy(j,N.current,!0);q(pe)}if(!Wz(be,R.current)){const pe=cy(Y,R.current);Q(pe)}m.setState({userSelectionRect:he,userSelectionActive:!0,nodesSelectionActive:!1})},G=J=>{var X,j;if(J.button!==0||!L.current)return;(j=(X=J.target)==null?void 0:X.releasePointerCapture)==null||j.call(X,J.pointerId);const{userSelectionRect:ee}=m.getState();!y&&ee&&J.target===T.current&&(k==null||k(J)),m.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:N.current.size>0}),s==null||s(J),(e||i)&&(M.current=!1),L.current=!1},K=r===!0||Array.isArray(r)&&r.includes(0);return O.jsxs("div",{className:ti(["react-flow__pane",{draggable:K,dragging:_,selection:t}]),onClick:S?void 0:ck(k,T),onContextMenu:ck(D,T),onWheel:ck(V,T),onPointerEnter:S?void 0:c,onPointerDown:S?$:d,onPointerMove:S?H:d,onPointerUp:S?G:void 0,onPointerLeave:h,ref:T,style:JA,children:[p,O.jsx(Zhe,{})]})}function PL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=e.getState(),u=a.get(t);if(!u){l==null||l("012",Su.error012(t));return}e.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([t])}function AJ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=xr(),[l,u]=F.useState(!1),c=F.useRef();return F.useEffect(()=>{c.current=Bfe({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{PL({id:d,store:a,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),F.useEffect(()=>{var d,h;if(e)(d=c.current)==null||d.destroy();else if(t.current)return(h=c.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=c.current)==null||p.destroy()}},[n,r,e,o,t,i]),l}const npe=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function RJ(){const t=xr();return F.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:u,nodeOrigin:c}=t.getState(),d=new Map,h=npe(s),p=i?o[0]:5,m=i?o[1]:5,y=n.direction.x*p*n.factor,x=n.direction.y*m*n.factor;for(const[,_]of u){if(!h(_))continue;let E={x:_.internals.positionAbsolute.x+y,y:_.internals.positionAbsolute.y+x};i&&(E=GA(E,o));const{position:S,positionAbsolute:T}=KX({nodeId:_.id,nextPosition:E,nodeLookup:u,nodeExtent:r,nodeOrigin:c,onError:a});_.position=S,_.internals.positionAbsolute=T,d.set(_.id,_)}l(d)},[])}const Y$=F.createContext(null),rpe=Y$.Provider;Y$.Consumer;const PJ=()=>F.useContext(Y$),ipe=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),ope=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:u}=s,c=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:c,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Cv.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:c&&u}};function spe({type:t="source",position:e=at.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:u,onMouseDown:c,onTouchStart:d,...h},p){var G,K;const m=s||null,y=t==="target",x=xr(),_=PJ(),{connectOnClick:E,noPanClassName:S,rfId:T}=dn(ipe,pr),{connectingFrom:I,connectingTo:N,clickConnecting:R,isPossibleEndHandle:M,connectionInProcess:L,clickConnectionInProcess:k,valid:D}=dn(ope(_,m,t),pr);_||(K=(G=x.getState()).onError)==null||K.call(G,"010",Su.error010());const V=J=>{const{defaultEdgeOptions:ee,onConnect:X,hasDefaultEdges:j}=x.getState(),Y={...ee,...J};if(j){const{edges:ae,setEdges:q}=x.getState();q(oJ(Y,ae))}X==null||X(Y),a==null||a(Y)},$=J=>{if(!_)return;const ee=nJ(J.nativeEvent);if(i&&(ee&&J.button===0||!ee)){const X=x.getState();RL.onPointerDown(J.nativeEvent,{autoPanOnConnect:X.autoPanOnConnect,connectionMode:X.connectionMode,connectionRadius:X.connectionRadius,domNode:X.domNode,nodeLookup:X.nodeLookup,lib:X.lib,isTarget:y,handleId:m,nodeId:_,flowId:X.rfId,panBy:X.panBy,cancelConnection:X.cancelConnection,onConnectStart:X.onConnectStart,onConnectEnd:X.onConnectEnd,updateConnection:X.updateConnection,onConnect:V,isValidConnection:n||X.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:X.autoPanSpeed})}ee?c==null||c(J):d==null||d(J)},H=J=>{const{onClickConnectStart:ee,onClickConnectEnd:X,connectionClickStartHandle:j,connectionMode:Y,isValidConnection:ae,lib:q,rfId:Q,nodeLookup:te,connection:ue}=x.getState();if(!_||!j&&!i)return;if(!j){ee==null||ee(J.nativeEvent,{nodeId:_,handleId:m,handleType:t}),x.setState({connectionClickStartHandle:{nodeId:_,type:t,id:m}});return}const de=eJ(J.target),se=n||ae,{connection:ce,isValid:he}=RL.isValid(J.nativeEvent,{handle:{nodeId:_,id:m,type:t},connectionMode:Y,fromNodeId:j.nodeId,fromHandleId:j.id||null,fromType:j.type,isValidConnection:se,flowId:Q,doc:de,lib:q,nodeLookup:te});he&&ce&&V(ce);const ve=structuredClone(ue);delete ve.inProgress,ve.toPosition=ve.toHandle?ve.toHandle.position:null,X==null||X(J,ve),x.setState({connectionClickStartHandle:null})};return O.jsx("div",{"data-handleid":m,"data-nodeid":_,"data-handlepos":e,"data-id":`${T}-${_}-${m}-${t}`,className:ti(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",S,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:o,clickconnecting:R,connectingfrom:I,connectingto:N,valid:D,connectionindicator:r&&(!L||M)&&(L||k?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:E?H:void 0,ref:p,...h,children:l})}const Xo=F.memo(CJ(spe));function ape({data:t,isConnectable:e,sourcePosition:n=at.Bottom}){return O.jsxs(O.Fragment,{children:[t==null?void 0:t.label,O.jsx(Xo,{type:"source",position:n,isConnectable:e})]})}function lpe({data:t,isConnectable:e,targetPosition:n=at.Top,sourcePosition:r=at.Bottom}){return O.jsxs(O.Fragment,{children:[O.jsx(Xo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,O.jsx(Xo,{type:"source",position:r,isConnectable:e})]})}function upe(){return null}function cpe({data:t,isConnectable:e,targetPosition:n=at.Top}){return O.jsxs(O.Fragment,{children:[O.jsx(Xo,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const mT={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},w6={input:ape,default:lpe,output:cpe,group:upe};function dpe(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const fpe=t=>{const{width:e,height:n,x:r,y:i}=c1(t.nodeLookup,{filter:o=>!!o.selected});return{width:tl(e)?e:null,height:tl(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function hpe({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=xr(),{width:i,height:o,transformString:s,userSelectionActive:a}=dn(fpe,pr),l=RJ(),u=F.useRef(null);if(F.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),AJ({nodeRef:u}),a||!i||!o)return null;const c=t?h=>{const p=r.getState().nodes.filter(m=>m.selected);t(h,p)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(mT,h.key)&&(h.preventDefault(),l({direction:mT[h.key],factor:h.shiftKey?4:1}))};return O.jsx("div",{className:ti(["react-flow__nodesselection","react-flow__container",e]),style:{transform:s},children:O.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:o}})})}const _6=typeof window<"u"?window:void 0,ppe=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function IJ({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:u,selectionOnDrag:c,selectionMode:d,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:m,panActivationKeyCode:y,zoomActivationKeyCode:x,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:T,panOnScrollSpeed:I,panOnScrollMode:N,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:L,translateExtent:k,minZoom:D,maxZoom:V,preventScrolling:$,onSelectionContextMenu:H,noWheelClassName:G,noPanClassName:K,disableKeyboardA11y:J,onViewportChange:ee,isControlledViewport:X}){const{nodesSelectionActive:j,userSelectionActive:Y}=dn(ppe),ae=Jx(u,{target:_6}),q=Jx(y,{target:_6}),Q=q||M,te=q||T,ue=c&&Q!==!0,de=ae||Y||ue;return Khe({deleteKeyCode:l,multiSelectionKeyCode:m}),O.jsx(Jhe,{onPaneContextMenu:o,elementsSelectable:_,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:te,panOnScrollSpeed:I,panOnScrollMode:N,zoomOnDoubleClick:R,panOnDrag:!ae&&Q,defaultViewport:L,translateExtent:k,minZoom:D,maxZoom:V,zoomActivationKeyCode:x,preventScrolling:$,noWheelClassName:G,noPanClassName:K,onViewportChange:ee,isControlledViewport:X,paneClickDistance:a,children:O.jsxs(tpe,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:Q,isSelecting:!!de,selectionMode:d,selectionKeyPressed:ae,selectionOnDrag:ue,children:[t,j&&O.jsx(hpe,{onSelectionContextMenu:H,noPanClassName:K,disableKeyboardA11y:J})]})})}IJ.displayName="FlowRenderer";const gpe=F.memo(IJ),mpe=t=>e=>t?U$(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function ype(t){return dn(F.useCallback(mpe(t),[t]),pr)}const vpe=t=>t.updateNodeInternals;function bpe(){const t=dn(vpe),[e]=F.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),t(r)}));return F.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function xpe({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=xr(),o=F.useRef(null),s=F.useRef(null),a=F.useRef(t.sourcePosition),l=F.useRef(t.targetPosition),u=F.useRef(e),c=n&&!!t.internals.handleBounds;return F.useEffect(()=>{o.current&&!t.hidden&&(!c||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[c,t.hidden]),F.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),F.useEffect(()=>{if(o.current){const d=u.current!==e,h=a.current!==t.sourcePosition,p=l.current!==t.targetPosition;(d||h||p)&&(u.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:o.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),o}function wpe({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:u,nodesFocusable:c,resizeObserver:d,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:m,rfId:y,nodeTypes:x,nodeClickDistance:_,onError:E}){const{node:S,internals:T,isParent:I}=dn(se=>{const ce=se.nodeLookup.get(t),he=se.parentLookup.has(t);return{node:ce,internals:ce.internals,isParent:he}},pr);let N=S.type||"default",R=(x==null?void 0:x[N])||w6[N];R===void 0&&(E==null||E("003",Su.error003(N)),N="default",R=w6.default);const M=!!(S.draggable||a&&typeof S.draggable>"u"),L=!!(S.selectable||l&&typeof S.selectable>"u"),k=!!(S.connectable||u&&typeof S.connectable>"u"),D=!!(S.focusable||c&&typeof S.focusable>"u"),V=xr(),$=QX(S),H=xpe({node:S,nodeType:N,hasDimensions:$,resizeObserver:d}),G=AJ({nodeRef:H,disabled:S.hidden||!M,noDragClassName:h,handleSelector:S.dragHandle,nodeId:t,isSelectable:L,nodeClickDistance:_}),K=RJ();if(S.hidden)return null;const J=id(S),ee=dpe(S),X=L||M||e||n||r||i,j=n?se=>n(se,{...T.userNode}):void 0,Y=r?se=>r(se,{...T.userNode}):void 0,ae=i?se=>i(se,{...T.userNode}):void 0,q=o?se=>o(se,{...T.userNode}):void 0,Q=s?se=>s(se,{...T.userNode}):void 0,te=se=>{const{selectNodesOnDrag:ce,nodeDragThreshold:he}=V.getState();L&&(!ce||!M||he>0)&&PL({id:t,store:V,nodeRef:H}),e&&e(se,{...T.userNode})},ue=se=>{if(!(tJ(se.nativeEvent)||m)){if(HX.includes(se.key)&&L){const ce=se.key==="Escape";PL({id:t,store:V,unselect:ce,nodeRef:H})}else if(M&&S.selected&&Object.prototype.hasOwnProperty.call(mT,se.key)){se.preventDefault();const{ariaLabelConfig:ce}=V.getState();V.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:se.key.replace("Arrow","").toLowerCase(),x:~~T.positionAbsolute.x,y:~~T.positionAbsolute.y})}),K({direction:mT[se.key],factor:se.shiftKey?4:1})}}},de=()=>{var pe;if(m||!((pe=H.current)!=null&&pe.matches(":focus-visible")))return;const{transform:se,width:ce,height:he,autoPanOnNodeFocus:ve,setCenter:be}=V.getState();if(!ve)return;U$(new Map([[t,S]]),{x:0,y:0,width:ce,height:he},se,!0).length>0||be(S.position.x+J.width/2,S.position.y+J.height/2,{zoom:se[2]})};return O.jsx("div",{className:ti(["react-flow__node",`react-flow__node-${N}`,{[p]:M},S.className,{selected:S.selected,selectable:L,parent:I,draggable:M,dragging:G}]),ref:H,style:{zIndex:T.z,transform:`translate(${T.positionAbsolute.x}px,${T.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:$?"visible":"hidden",...S.style,...ee},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:j,onMouseMove:Y,onMouseLeave:ae,onContextMenu:q,onClick:te,onDoubleClick:Q,onKeyDown:D?ue:void 0,tabIndex:D?0:void 0,onFocus:D?de:void 0,role:S.ariaRole??(D?"group":void 0),"aria-roledescription":"node","aria-describedby":m?void 0:`${bJ}-${y}`,"aria-label":S.ariaLabel,...S.domAttributes,children:O.jsx(rpe,{value:t,children:O.jsx(R,{id:t,data:S.data,type:N,positionAbsoluteX:T.positionAbsolute.x,positionAbsoluteY:T.positionAbsolute.y,selected:S.selected??!1,selectable:L,draggable:M,deletable:S.deletable??!0,isConnectable:k,sourcePosition:S.sourcePosition,targetPosition:S.targetPosition,dragging:G,dragHandle:S.dragHandle,zIndex:T.z,parentId:S.parentId,...J})})})}const _pe=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function kJ(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=dn(_pe,pr),s=ype(t.onlyRenderVisibleElements),a=bpe();return O.jsx("div",{className:"react-flow__nodes",style:JA,children:s.map(l=>O.jsx(wpe,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:o},l))})}kJ.displayName="NodeRenderer";const Spe=F.memo(kJ);function Epe(t){return dn(F.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&Efe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),pr)}const Cpe=({color:t="none",strokeWidth:e=1})=>O.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Tpe=({color:t="none",strokeWidth:e=1})=>O.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),S6={[Op.Arrow]:Cpe,[Op.ArrowClosed]:Tpe};function Ape(t){const e=xr();return F.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(S6,t)?S6[t]:((o=(i=e.getState()).onError)==null||o.call(i,"009",Su.error009(t)),null)},[t])}const Rpe=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=Ape(e);return l?O.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:O.jsx(l,{color:n,strokeWidth:s})}):null},MJ=({defaultColor:t,rfId:e})=>{const n=dn(o=>o.edges),r=dn(o=>o.defaultEdgeOptions),i=F.useMemo(()=>kfe(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?O.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:O.jsx("defs",{children:i.map(o=>O.jsx(Rpe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};MJ.displayName="MarkerDefinitions";var Ppe=F.memo(MJ);function NJ({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c}){const[d,h]=F.useState({x:1,y:0,width:0,height:0}),p=ti(["react-flow__edge-textwrapper",u]),m=F.useRef(null);return F.useEffect(()=>{if(m.current){const y=m.current.getBBox();h({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?O.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...c,children:[i&&O.jsx("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),O.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:m,style:r,children:n}),l]}):null}NJ.displayName="EdgeText";const Ipe=F.memo(NJ);function i0({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:u=20,...c}){return O.jsxs(O.Fragment,{children:[O.jsx("path",{...c,d:t,fill:"none",className:ti(["react-flow__edge-path",c.className])}),u&&O.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&tl(e)&&tl(n)?O.jsx(Ipe,{x:e,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function E6({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===at.Left||t===at.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function X$({sourceX:t,sourceY:e,sourcePosition:n=at.Bottom,targetX:r,targetY:i,targetPosition:o=at.Top}){const[s,a]=E6({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,u]=E6({pos:o,x1:r,y1:i,x2:t,y2:e}),[c,d,h,p]=rJ({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${a} ${l},${u} ${r},${i}`,c,d,h,p]}function DJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:_})=>{const[E,S,T]=X$({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),I=t.isInternal?void 0:e;return O.jsx(i0,{id:I,path:E,labelX:S,labelY:T,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:_})})}const kpe=DJ({isInternal:!1}),LJ=DJ({isInternal:!0});kpe.displayName="SimpleBezierEdge";LJ.displayName="SimpleBezierEdgeInternal";function OJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,sourcePosition:p=at.Bottom,targetPosition:m=at.Top,markerEnd:y,markerStart:x,pathOptions:_,interactionWidth:E})=>{const[S,T,I]=CL({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:m,borderRadius:_==null?void 0:_.borderRadius,offset:_==null?void 0:_.offset}),N=t.isInternal?void 0:e;return O.jsx(i0,{id:N,path:S,labelX:T,labelY:I,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:y,markerStart:x,interactionWidth:E})})}const FJ=OJ({isInternal:!1}),$J=OJ({isInternal:!0});FJ.displayName="SmoothStepEdge";$J.displayName="SmoothStepEdgeInternal";function BJ(t){return F.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return O.jsx(FJ,{...n,id:r,pathOptions:F.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const Mpe=BJ({isInternal:!1}),VJ=BJ({isInternal:!0});Mpe.displayName="StepEdge";VJ.displayName="StepEdgeInternal";function zJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})=>{const[x,_,E]=sJ({sourceX:n,sourceY:r,targetX:i,targetY:o}),S=t.isInternal?void 0:e;return O.jsx(i0,{id:S,path:x,labelX:_,labelY:E,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:h,markerEnd:p,markerStart:m,interactionWidth:y})})}const Npe=zJ({isInternal:!1}),UJ=zJ({isInternal:!0});Npe.displayName="StraightEdge";UJ.displayName="StraightEdgeInternal";function HJ(t){return F.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=at.Bottom,targetPosition:a=at.Top,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,pathOptions:_,interactionWidth:E})=>{const[S,T,I]=KA({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:_==null?void 0:_.curvature}),N=t.isInternal?void 0:e;return O.jsx(i0,{id:N,path:S,labelX:T,labelY:I,label:l,labelStyle:u,labelShowBg:c,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:x,interactionWidth:E})})}const Dpe=HJ({isInternal:!1}),qJ=HJ({isInternal:!0});Dpe.displayName="BezierEdge";qJ.displayName="BezierEdgeInternal";const C6={default:qJ,straight:UJ,step:VJ,smoothstep:$J,simplebezier:LJ},T6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Lpe=(t,e,n)=>n===at.Left?t-e:n===at.Right?t+e:t,Ope=(t,e,n)=>n===at.Top?t-e:n===at.Bottom?t+e:t,A6="react-flow__edgeupdater";function R6({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return O.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:ti([A6,`${A6}-${a}`]),cx:Lpe(e,r,t),cy:Ope(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Fpe({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:u,onReconnectStart:c,onReconnectEnd:d,setReconnecting:h,setUpdateHover:p}){const m=xr(),y=(T,I)=>{if(T.button!==0)return;const{autoPanOnConnect:N,domNode:R,isValidConnection:M,connectionMode:L,connectionRadius:k,lib:D,onConnectStart:V,onConnectEnd:$,cancelConnection:H,nodeLookup:G,rfId:K,panBy:J,updateConnection:ee}=m.getState(),X=I.type==="target";h(!0),c==null||c(T,n,I.type);const j=(ae,q)=>{h(!1),d==null||d(ae,n,I.type,q)},Y=ae=>u==null?void 0:u(n,ae);RL.onPointerDown(T.nativeEvent,{autoPanOnConnect:N,connectionMode:L,connectionRadius:k,domNode:R,handleId:I.id,nodeId:I.nodeId,nodeLookup:G,isTarget:X,edgeUpdaterType:I.type,lib:D,flowId:K,cancelConnection:H,panBy:J,isValidConnection:M,onConnect:Y,onConnectStart:V,onConnectEnd:$,onReconnectEnd:j,updateConnection:ee,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},x=T=>y(T,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=T=>y(T,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),E=()=>p(!0),S=()=>p(!1);return O.jsxs(O.Fragment,{children:[(t===!0||t==="source")&&O.jsx(R6,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:x,onMouseEnter:E,onMouseOut:S,type:"source"}),(t===!0||t==="target")&&O.jsx(R6,{position:l,centerX:o,centerY:s,radius:e,onMouseDown:_,onMouseEnter:E,onMouseOut:S,type:"target"})]})}function $pe({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,rfId:m,edgeTypes:y,noPanClassName:x,onError:_,disableKeyboardA11y:E}){let S=dn(be=>be.edgeLookup.get(t));const T=dn(be=>be.defaultEdgeOptions);S=T?{...T,...S}:S;let I=S.type||"default",N=(y==null?void 0:y[I])||C6[I];N===void 0&&(_==null||_("011",Su.error011(I)),I="default",N=C6.default);const R=!!(S.focusable||e&&typeof S.focusable>"u"),M=typeof d<"u"&&(S.reconnectable||n&&typeof S.reconnectable>"u"),L=!!(S.selectable||r&&typeof S.selectable>"u"),k=F.useRef(null),[D,V]=F.useState(!1),[$,H]=F.useState(!1),G=xr(),{zIndex:K,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ae}=dn(F.useCallback(be=>{const Re=be.nodeLookup.get(S.source),pe=be.nodeLookup.get(S.target);if(!Re||!pe)return{zIndex:S.zIndex,...T6};const Ce=Ife({id:t,sourceNode:Re,targetNode:pe,sourceHandle:S.sourceHandle||null,targetHandle:S.targetHandle||null,connectionMode:be.connectionMode,onError:_});return{zIndex:Sfe({selected:S.selected,zIndex:S.zIndex,sourceNode:Re,targetNode:pe,elevateOnSelect:be.elevateEdgesOnSelect}),...Ce||T6}},[S.source,S.target,S.sourceHandle,S.targetHandle,S.selected,S.zIndex]),pr),q=F.useMemo(()=>S.markerStart?`url('#${TL(S.markerStart,m)}')`:void 0,[S.markerStart,m]),Q=F.useMemo(()=>S.markerEnd?`url('#${TL(S.markerEnd,m)}')`:void 0,[S.markerEnd,m]);if(S.hidden||J===null||ee===null||X===null||j===null)return null;const te=be=>{var $e;const{addSelectedEdges:Re,unselectNodesAndEdges:pe,multiSelectionActive:Ce}=G.getState();L&&(G.setState({nodesSelectionActive:!1}),S.selected&&Ce?(pe({nodes:[],edges:[S]}),($e=k.current)==null||$e.blur()):Re([t])),i&&i(be,S)},ue=o?be=>{o(be,{...S})}:void 0,de=s?be=>{s(be,{...S})}:void 0,se=a?be=>{a(be,{...S})}:void 0,ce=l?be=>{l(be,{...S})}:void 0,he=u?be=>{u(be,{...S})}:void 0,ve=be=>{var Re;if(!E&&HX.includes(be.key)&&L){const{unselectNodesAndEdges:pe,addSelectedEdges:Ce}=G.getState();be.key==="Escape"?((Re=k.current)==null||Re.blur(),pe({edges:[S]})):Ce([t])}};return O.jsx("svg",{style:{zIndex:K},children:O.jsxs("g",{className:ti(["react-flow__edge",`react-flow__edge-${I}`,S.className,x,{selected:S.selected,animated:S.animated,inactive:!L&&!i,updating:D,selectable:L}]),onClick:te,onDoubleClick:ue,onContextMenu:de,onMouseEnter:se,onMouseMove:ce,onMouseLeave:he,onKeyDown:R?ve:void 0,tabIndex:R?0:void 0,role:S.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":S.ariaLabel===null?void 0:S.ariaLabel||`Edge from ${S.source} to ${S.target}`,"aria-describedby":R?`${xJ}-${m}`:void 0,ref:k,...S.domAttributes,children:[!$&&O.jsx(N,{id:t,source:S.source,target:S.target,type:S.type,selected:S.selected,animated:S.animated,selectable:L,deletable:S.deletable??!0,label:S.label,labelStyle:S.labelStyle,labelShowBg:S.labelShowBg,labelBgStyle:S.labelBgStyle,labelBgPadding:S.labelBgPadding,labelBgBorderRadius:S.labelBgBorderRadius,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ae,data:S.data,style:S.style,sourceHandleId:S.sourceHandle,targetHandleId:S.targetHandle,markerStart:q,markerEnd:Q,pathOptions:"pathOptions"in S?S.pathOptions:void 0,interactionWidth:S.interactionWidth}),M&&O.jsx(Fpe,{edge:S,isReconnectable:M,reconnectRadius:c,onReconnect:d,onReconnectStart:h,onReconnectEnd:p,sourceX:J,sourceY:ee,targetX:X,targetY:j,sourcePosition:Y,targetPosition:ae,setUpdateHover:V,setReconnecting:H})]})})}const Bpe=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function jJ({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:c,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,disableKeyboardA11y:y}){const{edgesFocusable:x,edgesReconnectable:_,elementsSelectable:E,onError:S}=dn(Bpe,pr),T=Epe(e);return O.jsxs("div",{className:"react-flow__edges",children:[O.jsx(Ppe,{defaultColor:t,rfId:n}),T.map(I=>O.jsx($pe,{id:I,edgesFocusable:x,edgesReconnectable:_,elementsSelectable:E,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:u,onClick:c,reconnectRadius:d,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:m,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:y},I))]})}jJ.displayName="EdgeRenderer";const Vpe=F.memo(jJ),zpe=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Upe({children:t}){const e=dn(zpe);return O.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Hpe(t){const e=f1(),n=F.useRef(!1);F.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const qpe=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function jpe(t){const e=dn(qpe),n=xr();return F.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Wpe(t){return t.connection.inProgress?{...t.connection,to:d1(t.connection.to,t.transform)}:{...t.connection}}function Gpe(t){return Wpe}function J$(t){const e=Gpe();return dn(e,pr)}const Kpe=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Ype({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=dn(Kpe,pr);return!(o&&i&&l)?null:O.jsx("svg",{style:t,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:O.jsx("g",{className:ti(["react-flow__connection",WX(a)]),children:O.jsx(WJ,{style:e,type:n,CustomComponent:r,isValid:a})})})}const WJ=({style:t,type:e=Yd.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:u,toNode:c,toHandle:d,toPosition:h}=J$();if(!i)return;if(n)return O.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:l,toPosition:h,connectionStatus:WX(r),toNode:c,toHandle:d});let p="";const m={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:u.x,targetY:u.y,targetPosition:h};switch(e){case Yd.Bezier:[p]=KA(m);break;case Yd.SimpleBezier:[p]=X$(m);break;case Yd.Step:[p]=CL({...m,borderRadius:0});break;case Yd.SmoothStep:[p]=CL(m);break;default:[p]=sJ(m)}return O.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:t})};WJ.displayName="ConnectionLine";const Xpe={};function P6(t=Xpe){F.useRef(t),xr(),F.useEffect(()=>{},[t])}function Jpe(){xr(),F.useRef(!1),F.useEffect(()=>{},[])}function GJ({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:p,connectionLineType:m,connectionLineStyle:y,connectionLineComponent:x,connectionLineContainerStyle:_,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,multiSelectionKeyCode:I,panActivationKeyCode:N,zoomActivationKeyCode:R,deleteKeyCode:M,onlyRenderVisibleElements:L,elementsSelectable:k,defaultViewport:D,translateExtent:V,minZoom:$,maxZoom:H,preventScrolling:G,defaultMarkerColor:K,zoomOnScroll:J,zoomOnPinch:ee,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Y,zoomOnDoubleClick:ae,panOnDrag:q,onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ue,onPaneMouseLeave:de,onPaneScroll:se,onPaneContextMenu:ce,paneClickDistance:he,nodeClickDistance:ve,onEdgeContextMenu:be,onEdgeMouseEnter:Re,onEdgeMouseMove:pe,onEdgeMouseLeave:Ce,reconnectRadius:$e,onReconnect:De,onReconnectStart:ke,onReconnectEnd:qe,noDragClassName:Fe,noWheelClassName:Qe,noPanClassName:ze,disableKeyboardA11y:lt,nodeExtent:It,rfId:on,viewport:we,onViewportChange:Ae}){return P6(t),P6(e),Jpe(),Hpe(n),jpe(we),O.jsx(gpe,{onPaneClick:Q,onPaneMouseEnter:te,onPaneMouseMove:ue,onPaneMouseLeave:de,onPaneContextMenu:ce,onPaneScroll:se,paneClickDistance:he,deleteKeyCode:M,selectionKeyCode:E,selectionOnDrag:S,selectionMode:T,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:I,panActivationKeyCode:N,zoomActivationKeyCode:R,elementsSelectable:k,zoomOnScroll:J,zoomOnPinch:ee,zoomOnDoubleClick:ae,panOnScroll:X,panOnScrollSpeed:j,panOnScrollMode:Y,panOnDrag:q,defaultViewport:D,translateExtent:V,minZoom:$,maxZoom:H,onSelectionContextMenu:d,preventScrolling:G,noDragClassName:Fe,noWheelClassName:Qe,noPanClassName:ze,disableKeyboardA11y:lt,onViewportChange:Ae,isControlledViewport:!!we,children:O.jsxs(Upe,{children:[O.jsx(Vpe,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:De,onReconnectStart:ke,onReconnectEnd:qe,onlyRenderVisibleElements:L,onEdgeContextMenu:be,onEdgeMouseEnter:Re,onEdgeMouseMove:pe,onEdgeMouseLeave:Ce,reconnectRadius:$e,defaultMarkerColor:K,noPanClassName:ze,disableKeyboardA11y:lt,rfId:on}),O.jsx(Ype,{style:y,type:m,component:x,containerStyle:_}),O.jsx("div",{className:"react-flow__edgelabel-renderer"}),O.jsx(Spe,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:u,onNodeContextMenu:c,nodeClickDistance:ve,onlyRenderVisibleElements:L,noPanClassName:ze,noDragClassName:Fe,disableKeyboardA11y:lt,nodeExtent:It,rfId:on}),O.jsx("div",{className:"react-flow__viewport-portal"})]})})}GJ.displayName="GraphView";const Qpe=F.memo(GJ),I6=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:u=2,nodeOrigin:c,nodeExtent:d}={})=>{const h=new Map,p=new Map,m=new Map,y=new Map,x=r??e??[],_=n??t??[],E=c??[0,0],S=d??Gx;lJ(m,y,x);const T=AL(_,h,p,{nodeOrigin:E,nodeExtent:S,elevateNodesOnSelect:!1});let I=[0,0,1];if(s&&i&&o){const N=c1(h,{filter:k=>!!((k.width||k.initialWidth)&&(k.height||k.initialHeight))}),{x:R,y:M,zoom:L}=H$(N,i,o,l,u,(a==null?void 0:a.padding)??.1);I=[R,M,L]}return{rfId:"1",width:0,height:0,transform:I,nodes:_,nodesInitialized:T,nodeLookup:h,parentLookup:p,edges:x,edgeLookup:y,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:u,translateExtent:Gx,nodeExtent:S,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Cv.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s??!1,fitViewOptions:a,fitViewResolver:null,connection:{...jX},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:yfe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:qX}},Zpe=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d})=>bhe((h,p)=>{async function m(){const{nodeLookup:y,panZoom:x,fitViewOptions:_,fitViewResolver:E,width:S,height:T,minZoom:I,maxZoom:N}=p();x&&(await gfe({nodes:y,width:S,height:T,panZoom:x,minZoom:I,maxZoom:N},_),E==null||E.resolve(!0),h({fitViewResolver:null}))}return{...I6({nodes:t,edges:e,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:u,nodeOrigin:c,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:x,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:S,fitViewQueued:T}=p(),I=AL(y,x,_,{nodeOrigin:E,nodeExtent:d,elevateNodesOnSelect:S,checkEquality:!0});T&&I?(m(),h({nodes:y,nodesInitialized:I,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:y,nodesInitialized:I})},setEdges:y=>{const{connectionLookup:x,edgeLookup:_}=p();lJ(x,_,y),h({edges:y})},setDefaultNodesAndEdges:(y,x)=>{if(y){const{setNodes:_}=p();_(y),h({hasDefaultNodes:!0})}if(x){const{setEdges:_}=p();_(x),h({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:E,domNode:S,nodeOrigin:T,nodeExtent:I,debug:N,fitViewQueued:R}=p(),{changes:M,updatedInternals:L}=Ofe(y,_,E,S,T,I);L&&(Nfe(_,E,{nodeOrigin:T,nodeExtent:I}),R?(m(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(M==null?void 0:M.length)>0&&(N&&console.log("React Flow: trigger node changes",M),x==null||x(M)))},updateNodePositions:(y,x=!1)=>{const _=[],E=[],{nodeLookup:S,triggerNodeChanges:T}=p();for(const[I,N]of y){const R=S.get(I),M=!!(R!=null&&R.expandParent&&(R!=null&&R.parentId)&&(N!=null&&N.position)),L={id:I,type:"position",position:M?{x:Math.max(0,N.position.x),y:Math.max(0,N.position.y)}:N.position,dragging:x};M&&R.parentId&&_.push({id:I,parentId:R.parentId,rect:{...N.internals.positionAbsolute,width:N.measured.width??0,height:N.measured.height??0}}),E.push(L)}if(_.length>0){const{parentLookup:I,nodeOrigin:N}=p(),R=K$(_,S,I,N);E.push(...R)}T(E)},triggerNodeChanges:y=>{const{onNodesChange:x,setNodes:_,nodes:E,hasDefaultNodes:S,debug:T}=p();if(y!=null&&y.length){if(S){const I=SJ(y,E);_(I)}T&&console.log("React Flow: trigger node changes",y),x==null||x(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:x,setEdges:_,edges:E,hasDefaultEdges:S,debug:T}=p();if(y!=null&&y.length){if(S){const I=EJ(y,E);_(I)}T&&console.log("React Flow: trigger edge changes",y),x==null||x(y)}},addSelectedNodes:y=>{const{multiSelectionActive:x,edgeLookup:_,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(x){const I=y.map(N=>Eh(N,!0));S(I);return}S(cy(E,new Set([...y]),!0)),T(cy(_))},addSelectedEdges:y=>{const{multiSelectionActive:x,edgeLookup:_,nodeLookup:E,triggerNodeChanges:S,triggerEdgeChanges:T}=p();if(x){const I=y.map(N=>Eh(N,!0));T(I);return}T(cy(_,new Set([...y]))),S(cy(E,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:x}={})=>{const{edges:_,nodes:E,nodeLookup:S,triggerNodeChanges:T,triggerEdgeChanges:I}=p(),N=y||E,R=x||_,M=N.map(k=>{const D=S.get(k.id);return D&&(D.selected=!1),Eh(k.id,!1)}),L=R.map(k=>Eh(k.id,!1));T(M),I(L)},setMinZoom:y=>{const{panZoom:x,maxZoom:_}=p();x==null||x.setScaleExtent([y,_]),h({minZoom:y})},setMaxZoom:y=>{const{panZoom:x,minZoom:_}=p();x==null||x.setScaleExtent([_,y]),h({maxZoom:y})},setTranslateExtent:y=>{var x;(x=p().panZoom)==null||x.setTranslateExtent(y),h({translateExtent:y})},setPaneClickDistance:y=>{var x;(x=p().panZoom)==null||x.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:x,triggerNodeChanges:_,triggerEdgeChanges:E,elementsSelectable:S}=p();if(!S)return;const T=x.reduce((N,R)=>R.selected?[...N,Eh(R.id,!1)]:N,[]),I=y.reduce((N,R)=>R.selected?[...N,Eh(R.id,!1)]:N,[]);_(T),E(I)},setNodeExtent:y=>{const{nodes:x,nodeLookup:_,parentLookup:E,nodeOrigin:S,elevateNodesOnSelect:T,nodeExtent:I}=p();y[0][0]===I[0][0]&&y[0][1]===I[0][1]&&y[1][0]===I[1][0]&&y[1][1]===I[1][1]||(AL(x,_,E,{nodeOrigin:S,nodeExtent:y,elevateNodesOnSelect:T,checkEquality:!1}),h({nodeExtent:y}))},panBy:y=>{const{transform:x,width:_,height:E,panZoom:S,translateExtent:T}=p();return Ffe({delta:y,panZoom:S,transform:x,translateExtent:T,width:_,height:E})},setCenter:async(y,x,_)=>{const{width:E,height:S,maxZoom:T,panZoom:I}=p();if(!I)return Promise.resolve(!1);const N=typeof(_==null?void 0:_.zoom)<"u"?_.zoom:T;return await I.setViewport({x:E/2-y*N,y:S/2-x*N,zoom:N},{duration:_==null?void 0:_.duration,ease:_==null?void 0:_.ease,interpolate:_==null?void 0:_.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...jX}})},updateConnection:y=>{h({connection:y})},reset:()=>h({...I6()})}},Object.is);function KJ({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:u,nodeOrigin:c,nodeExtent:d,children:h}){const[p]=F.useState(()=>Zpe({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:c,nodeExtent:d}));return O.jsx(xhe,{value:p,children:O.jsx(qhe,{children:h})})}function ege({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:u,maxZoom:c,nodeOrigin:d,nodeExtent:h}){return F.useContext(XA)?O.jsx(O.Fragment,{children:t}):O.jsx(KJ,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:u,initialMaxZoom:c,nodeOrigin:d,nodeExtent:h,children:t})}const tge={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function nge({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:h,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:_,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:I,onNodeDoubleClick:N,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:L,onNodesDelete:k,onEdgesDelete:D,onDelete:V,onSelectionChange:$,onSelectionDragStart:H,onSelectionDrag:G,onSelectionDragStop:K,onSelectionContextMenu:J,onSelectionStart:ee,onSelectionEnd:X,onBeforeDelete:j,connectionMode:Y,connectionLineType:ae=Yd.Bezier,connectionLineStyle:q,connectionLineComponent:Q,connectionLineContainerStyle:te,deleteKeyCode:ue="Backspace",selectionKeyCode:de="Shift",selectionOnDrag:se=!1,selectionMode:ce=Kx.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:ve=gT()?"Meta":"Control",zoomActivationKeyCode:be=gT()?"Meta":"Control",snapToGrid:Re,snapGrid:pe,onlyRenderVisibleElements:Ce=!1,selectNodesOnDrag:$e,nodesDraggable:De,autoPanOnNodeFocus:ke,nodesConnectable:qe,nodesFocusable:Fe,nodeOrigin:Qe=wJ,edgesFocusable:ze,edgesReconnectable:lt,elementsSelectable:It=!0,defaultViewport:on=Dhe,minZoom:we=.5,maxZoom:Ae=2,translateExtent:We=Gx,preventScrolling:yt=!0,nodeExtent:Ct,defaultMarkerColor:ht="#b1b1b7",zoomOnScroll:vn=!0,zoomOnPinch:en=!0,panOnScroll:sn=!1,panOnScrollSpeed:it=.5,panOnScrollMode:Lt=Lp.Free,zoomOnDoubleClick:fn=!0,panOnDrag:Be=!0,onPaneClick:dt,onPaneMouseEnter:$t,onPaneMouseMove:Bt,onPaneMouseLeave:hn,onPaneScroll:nr,onPaneContextMenu:Nn,paneClickDistance:Dn=0,nodeClickDistance:Si=0,children:zt,onReconnect:wr,onReconnectStart:vl,onReconnectEnd:_r,onEdgeContextMenu:dd,onEdgeDoubleClick:us,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:fd,reconnectRadius:cs=10,onNodesChange:eh,onEdgesChange:T0,noDragClassName:hd="nodrag",noWheelClassName:Rg="nowheel",noPanClassName:Ro="nopan",fitView:bl,fitViewOptions:Po,connectOnClick:Pg,attributionPosition:th,proOptions:pd,defaultEdgeOptions:gd,elevateNodesOnSelect:nh,elevateEdgesOnSelect:Ig,disableKeyboardA11y:kg=!1,autoPanOnConnect:Wn,autoPanOnNodeDrag:Mg,autoPanSpeed:Ou,connectionRadius:xl,isValidConnection:Io,onError:rh,style:Ng,id:wl,nodeDragThreshold:fo,viewport:Dg,onViewportChange:Ei,width:ih,height:Lg,colorMode:Og="light",debug:md,onScroll:ba,ariaLabelConfig:_l,...Fu},A0){const ds=wl||"1",ho=$he(Og),$u=F.useCallback(xa=>{xa.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),ba==null||ba(xa)},[ba]);return O.jsx("div",{"data-testid":"rf__wrapper",...Fu,onScroll:$u,style:{...Ng,...tge},ref:A0,className:ti(["react-flow",i,ho]),id:wl,role:"application",children:O.jsxs(ege,{nodes:t,edges:e,width:ih,height:Lg,fitView:bl,fitViewOptions:Po,minZoom:we,maxZoom:Ae,nodeOrigin:Qe,nodeExtent:Ct,children:[O.jsx(Qpe,{onInit:u,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:I,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:s,connectionLineType:ae,connectionLineStyle:q,connectionLineComponent:Q,connectionLineContainerStyle:te,selectionKeyCode:de,selectionOnDrag:se,selectionMode:ce,deleteKeyCode:ue,multiSelectionKeyCode:ve,panActivationKeyCode:he,zoomActivationKeyCode:be,onlyRenderVisibleElements:Ce,defaultViewport:on,translateExtent:We,minZoom:we,maxZoom:Ae,preventScrolling:yt,zoomOnScroll:vn,zoomOnPinch:en,zoomOnDoubleClick:fn,panOnScroll:sn,panOnScrollSpeed:it,panOnScrollMode:Lt,panOnDrag:Be,onPaneClick:dt,onPaneMouseEnter:$t,onPaneMouseMove:Bt,onPaneMouseLeave:hn,onPaneScroll:nr,onPaneContextMenu:Nn,paneClickDistance:Dn,nodeClickDistance:Si,onSelectionContextMenu:J,onSelectionStart:ee,onSelectionEnd:X,onReconnect:wr,onReconnectStart:vl,onReconnectEnd:_r,onEdgeContextMenu:dd,onEdgeDoubleClick:us,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:fd,reconnectRadius:cs,defaultMarkerColor:ht,noDragClassName:hd,noWheelClassName:Rg,noPanClassName:Ro,rfId:ds,disableKeyboardA11y:kg,nodeExtent:Ct,viewport:Dg,onViewportChange:Ei}),O.jsx(Fhe,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:m,onConnectEnd:y,onClickConnectStart:x,onClickConnectEnd:_,nodesDraggable:De,autoPanOnNodeFocus:ke,nodesConnectable:qe,nodesFocusable:Fe,edgesFocusable:ze,edgesReconnectable:lt,elementsSelectable:It,elevateNodesOnSelect:nh,elevateEdgesOnSelect:Ig,minZoom:we,maxZoom:Ae,nodeExtent:Ct,onNodesChange:eh,onEdgesChange:T0,snapToGrid:Re,snapGrid:pe,connectionMode:Y,translateExtent:We,connectOnClick:Pg,defaultEdgeOptions:gd,fitView:bl,fitViewOptions:Po,onNodesDelete:k,onEdgesDelete:D,onDelete:V,onNodeDragStart:R,onNodeDrag:M,onNodeDragStop:L,onSelectionDrag:G,onSelectionDragStart:H,onSelectionDragStop:K,onMove:c,onMoveStart:d,onMoveEnd:h,noPanClassName:Ro,nodeOrigin:Qe,rfId:ds,autoPanOnConnect:Wn,autoPanOnNodeDrag:Mg,autoPanSpeed:Ou,onError:rh,connectionRadius:xl,isValidConnection:Io,selectNodesOnDrag:$e,nodeDragThreshold:fo,onBeforeDelete:j,paneClickDistance:Dn,debug:md,ariaLabelConfig:_l}),O.jsx(Nhe,{onSelectionChange:$}),zt,O.jsx(Rhe,{proOptions:pd,position:th}),O.jsx(The,{rfId:ds,disableKeyboardA11y:kg})]})})}var rge=CJ(nge);const ige=t=>{var e;return(e=t.domNode)==null?void 0:e.querySelector(".react-flow__edgelabel-renderer")};function YJ({children:t}){const e=dn(ige);return e?Fc.createPortal(t,e):null}const oge=t=>t.nodes;function sge(){return dn(oge,pr)}function age(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>SJ(i,o)),[]);return[e,n,r]}function lge(t){const[e,n]=F.useState(t),r=F.useCallback(i=>n(o=>EJ(i,o)),[]);return[e,n,r]}function k6(t){return dn(F.useCallback(n=>n.nodeLookup.get(t),[t]),pr)}function uge({dimensions:t,lineWidth:e,variant:n,className:r}){return O.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:ti(["react-flow__background-pattern",n,r])})}function cge({radius:t,className:e}){return O.jsx("circle",{cx:t,cy:t,r:t,className:ti(["react-flow__background-pattern","dots",e])})}var Cf;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Cf||(Cf={}));const dge={[Cf.Dots]:1,[Cf.Lines]:1,[Cf.Cross]:6},fge=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function XJ({id:t,variant:e=Cf.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:u,patternClassName:c}){const d=F.useRef(null),{transform:h,patternId:p}=dn(fge,pr),m=r||dge[e],y=e===Cf.Dots,x=e===Cf.Cross,_=Array.isArray(n)?n:[n,n],E=[_[0]*h[2]||1,_[1]*h[2]||1],S=m*h[2],T=Array.isArray(o)?o:[o,o],I=x?[S,S]:E,N=[T[0]*h[2]||1+I[0]/2,T[1]*h[2]||1+I[1]/2],R=`${p}${t||""}`;return O.jsxs("svg",{className:ti(["react-flow__background",u]),style:{...l,...JA,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:d,"data-testid":"rf__background",children:[O.jsx("pattern",{id:R,x:h[0]%E[0],y:h[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:y?O.jsx(cge,{radius:S/2,className:c}):O.jsx(uge,{dimensions:I,lineWidth:i,variant:e,className:c})}),O.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}XJ.displayName="Background";const hge=F.memo(XJ);function pge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:O.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function gge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:O.jsx("path",{d:"M0 0h32v4.2H0z"})})}function mge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:O.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function yge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function vge(){return O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:O.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function dE({children:t,className:e,...n}){return O.jsx("button",{type:"button",className:ti(["react-flow__controls-button",e]),...n,children:t})}const bge=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function JJ({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:u,children:c,position:d="bottom-left",orientation:h="vertical","aria-label":p}){const m=xr(),{isInteractive:y,minZoomReached:x,maxZoomReached:_,ariaLabelConfig:E}=dn(bge,pr),{zoomIn:S,zoomOut:T,fitView:I}=f1(),N=()=>{S(),o==null||o()},R=()=>{T(),s==null||s()},M=()=>{I(i),a==null||a()},L=()=>{m.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},k=h==="horizontal"?"horizontal":"vertical";return O.jsxs(Iv,{className:ti(["react-flow__controls",k,u]),position:d,style:t,"data-testid":"rf__controls","aria-label":p??E["controls.ariaLabel"],children:[e&&O.jsxs(O.Fragment,{children:[O.jsx(dE,{onClick:N,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:_,children:O.jsx(pge,{})}),O.jsx(dE,{onClick:R,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:x,children:O.jsx(gge,{})})]}),n&&O.jsx(dE,{className:"react-flow__controls-fitview",onClick:M,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:O.jsx(mge,{})}),r&&O.jsx(dE,{className:"react-flow__controls-interactive",onClick:L,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:y?O.jsx(vge,{}):O.jsx(yge,{})}),c]})}JJ.displayName="Controls";const xge=F.memo(JJ);function wge({id:t,x:e,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:u,borderRadius:c,shapeRendering:d,selected:h,onClick:p}){const{background:m,backgroundColor:y}=o||{},x=s||m||y;return O.jsx("rect",{className:ti(["react-flow__minimap-node",{selected:h},u]),x:e,y:n,rx:c,ry:c,width:r,height:i,style:{fill:x,stroke:a,strokeWidth:l},shapeRendering:d,onClick:p?_=>p(_,t):void 0})}const _ge=F.memo(wge),Sge=t=>t.nodes.map(e=>e.id),dk=t=>t instanceof Function?t:()=>t;function Ege({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=_ge,onClick:s}){const a=dn(Sge,pr),l=dk(e),u=dk(t),c=dk(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return O.jsx(O.Fragment,{children:a.map(h=>O.jsx(Tge,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:u,nodeClassNameFunc:c,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:d},h))})}function Cge({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:u,x:c,y:d,width:h,height:p}=dn(m=>{const{internals:y}=m.nodeLookup.get(t),x=y.userNode,{x:_,y:E}=y.positionAbsolute,{width:S,height:T}=id(x);return{node:x,x:_,y:E,width:S,height:T}},pr);return!u||u.hidden||!QX(u)?null:O.jsx(a,{x:c,y:d,width:h,height:p,style:u.style,selected:!!u.selected,className:r(u),color:e(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:l,id:u.id})}const Tge=F.memo(Cge);var Age=F.memo(Ege);const Rge=200,Pge=150,Ige=t=>!t.hidden,kge=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?JX(c1(t.nodeLookup,{filter:Ige}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},Mge="react-flow__minimap-desc";function QJ({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:u,maskStrokeColor:c,maskStrokeWidth:d,position:h="bottom-right",onClick:p,onNodeClick:m,pannable:y=!1,zoomable:x=!1,ariaLabel:_,inversePan:E,zoomStep:S=10,offsetScale:T=5}){const I=xr(),N=F.useRef(null),{boundingRect:R,viewBB:M,rfId:L,panZoom:k,translateExtent:D,flowWidth:V,flowHeight:$,ariaLabelConfig:H}=dn(kge,pr),G=(t==null?void 0:t.width)??Rge,K=(t==null?void 0:t.height)??Pge,J=R.width/G,ee=R.height/K,X=Math.max(J,ee),j=X*G,Y=X*K,ae=T*X,q=R.x-(j-R.width)/2-ae,Q=R.y-(Y-R.height)/2-ae,te=j+ae*2,ue=Y+ae*2,de=`${Mge}-${L}`,se=F.useRef(0),ce=F.useRef();se.current=X,F.useEffect(()=>{if(N.current&&k)return ce.current=jfe({domNode:N.current,panZoom:k,getTransform:()=>I.getState().transform,getViewScale:()=>se.current}),()=>{var Re;(Re=ce.current)==null||Re.destroy()}},[k]),F.useEffect(()=>{var Re;(Re=ce.current)==null||Re.update({translateExtent:D,width:V,height:$,inversePan:E,pannable:y,zoomStep:S,zoomable:x})},[y,x,E,S,D,V,$]);const he=p?Re=>{var $e;const[pe,Ce]=(($e=ce.current)==null?void 0:$e.pointer(Re))||[0,0];p(Re,{x:pe,y:Ce})}:void 0,ve=m?F.useCallback((Re,pe)=>{const Ce=I.getState().nodeLookup.get(pe).internals.userNode;m(Re,Ce)},[]):void 0,be=_??H["minimap.ariaLabel"];return O.jsx(Iv,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*X:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:ti(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:O.jsxs("svg",{width:G,height:K,viewBox:`${q} ${Q} ${te} ${ue}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":de,ref:N,onClick:he,children:[be&&O.jsx("title",{id:de,children:be}),O.jsx(Age,{onClick:ve,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),O.jsx("path",{className:"react-flow__minimap-mask",d:`M${q-ae},${Q-ae}h${te+ae*2}v${ue+ae*2}h${-te-ae*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}QJ.displayName="MiniMap";const Nge=F.memo(QJ),Dge=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,Lge={[Pv.Line]:"right",[Pv.Handle]:"bottom-right"};function Oge({nodeId:t,position:e,variant:n=Pv.Handle,className:r,style:i=void 0,children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:u=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:p=!0,shouldResize:m,onResizeStart:y,onResize:x,onResizeEnd:_}){const E=PJ(),S=typeof t=="string"?t:E,T=xr(),I=F.useRef(null),N=n===Pv.Handle,R=dn(F.useCallback(Dge(N&&p),[N,p]),pr),M=F.useRef(null),L=e??Lge[n];F.useEffect(()=>{if(!(!I.current||!S))return M.current||(M.current=ahe({domNode:I.current,nodeId:S,getStoreItems:()=>{const{nodeLookup:D,transform:V,snapGrid:$,snapToGrid:H,nodeOrigin:G,domNode:K}=T.getState();return{nodeLookup:D,transform:V,snapGrid:$,snapToGrid:H,nodeOrigin:G,paneDomNode:K}},onChange:(D,V)=>{const{triggerNodeChanges:$,nodeLookup:H,parentLookup:G,nodeOrigin:K}=T.getState(),J=[],ee={x:D.x,y:D.y},X=H.get(S);if(X&&X.expandParent&&X.parentId){const j=X.origin??K,Y=D.width??X.measured.width??0,ae=D.height??X.measured.height??0,q={id:X.id,parentId:X.parentId,rect:{width:Y,height:ae,...ZX({x:D.x??X.position.x,y:D.y??X.position.y},{width:Y,height:ae},X.parentId,H,j)}},Q=K$([q],H,G,K);J.push(...Q),ee.x=D.x?Math.max(j[0]*Y,D.x):void 0,ee.y=D.y?Math.max(j[1]*ae,D.y):void 0}if(ee.x!==void 0&&ee.y!==void 0){const j={id:S,type:"position",position:{...ee}};J.push(j)}if(D.width!==void 0&&D.height!==void 0){const Y={id:S,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:D.width,height:D.height}};J.push(Y)}for(const j of V){const Y={...j,type:"position"};J.push(Y)}$(J)},onEnd:({width:D,height:V})=>{const $={id:S,type:"dimensions",resizing:!1,dimensions:{width:D,height:V}};T.getState().triggerNodeChanges([$])}})),M.current.update({controlPosition:L,boundaries:{minWidth:a,minHeight:l,maxWidth:u,maxHeight:c},keepAspectRatio:d,resizeDirection:h,onResizeStart:y,onResize:x,onResizeEnd:_,shouldResize:m}),()=>{var D;(D=M.current)==null||D.destroy()}},[L,a,l,u,c,d,y,x,_,m]);const k=L.split("-");return O.jsx("div",{className:ti(["react-flow__resize-control","nodrag",...k,n,r]),ref:I,style:{...i,scale:R,...s&&{[N?"backgroundColor":"borderColor"]:s}},children:o})}F.memo(Oge);const Pi=[];for(let t=0;t<256;++t)Pi.push((t+256).toString(16).slice(1));function Fge(t,e=0){return(Pi[t[e+0]]+Pi[t[e+1]]+Pi[t[e+2]]+Pi[t[e+3]]+"-"+Pi[t[e+4]]+Pi[t[e+5]]+"-"+Pi[t[e+6]]+Pi[t[e+7]]+"-"+Pi[t[e+8]]+Pi[t[e+9]]+"-"+Pi[t[e+10]]+Pi[t[e+11]]+Pi[t[e+12]]+Pi[t[e+13]]+Pi[t[e+14]]+Pi[t[e+15]]).toLowerCase()}let fk;const $ge=new Uint8Array(16);function Bge(){if(!fk){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fk=crypto.getRandomValues.bind(crypto)}return fk($ge)}const Vge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),M6={randomUUID:Vge};function wx(t,e,n){var i;if(M6.randomUUID&&!t)return M6.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Bge();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Fge(r)}const zge=()=>{};var N6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uge=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},eQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZJ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uge(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new Hge;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qge=function(t){const e=ZJ(t);return eQ.encodeByteArray(e,!0)},yT=function(t){return qge(t).replace(/\./g,"")},jge=function(t){try{return eQ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gge=()=>Wge().__FIREBASE_DEFAULTS__,Kge=()=>{if(typeof process>"u"||typeof N6>"u")return;const t=N6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yge=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jge(t[1]);return e&&JSON.parse(e)},Q$=()=>{try{return zge()||Gge()||Kge()||Yge()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xge=t=>{var e,n;return(n=(e=Q$())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tQ=t=>{const e=Xge(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nQ=()=>{var t;return(t=Q$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){return t.endsWith(".cloudworkstations.dev")}async function rQ(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yT(JSON.stringify(n)),yT(JSON.stringify(s)),""].join(".")}const _x={};function Qge(){const t={prod:[],emulator:[]};for(const e of Object.keys(_x))_x[e]?t.emulator.push(e):t.prod.push(e);return t}function Zge(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let D6=!1;function oQ(t,e){if(typeof window>"u"||typeof document>"u"||!h1(window.location.host)||_x[t]===e||_x[t]||D6)return;_x[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=Qge().prod.length>0;function s(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{D6=!0,s()},h}function c(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=Zge(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),x=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const S=h.element;a(S),c(x,y);const T=u();l(E,_),S.append(E,m,x,T),document.body.appendChild(S)}o?(m.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tme(){var t;const e=(t=Q$())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nme(){return!tme()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rme(){try{return typeof indexedDB=="object"}catch{return!1}}function ime(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome="FirebaseError";class ag extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ome,Object.setPrototypeOf(this,ag.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sQ.prototype.create)}}class sQ{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?sme(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ag(i,a,r)}}function sme(t,e){return t.replace(ame,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ame=/\{\$([^}]+)}/g;function vT(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(L6(o)&&L6(s)){if(!vT(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){return t&&t._delegate?t._delegate:t}class kv{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jge;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cme(e))try{this.getOrInitializeService({instanceIdentifier:Ch})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ch){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ch){return this.instances.has(e)}getOptions(e=Ch){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ume(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ch){return this.component?this.component.multipleInstances?e:Ch:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ume(t){return t===Ch?void 0:t}function cme(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lme(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(An||(An={}));const fme={debug:An.DEBUG,verbose:An.VERBOSE,info:An.INFO,warn:An.WARN,error:An.ERROR,silent:An.SILENT},hme=An.INFO,pme={[An.DEBUG]:"log",[An.VERBOSE]:"log",[An.INFO]:"info",[An.WARN]:"warn",[An.ERROR]:"error"},gme=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aQ{constructor(e){this.name=e,this._logLevel=hme,this._logHandler=gme,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in An))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fme[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,An.DEBUG,...e),this._logHandler(this,An.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,An.VERBOSE,...e),this._logHandler(this,An.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,An.INFO,...e),this._logHandler(this,An.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,An.WARN,...e),this._logHandler(this,An.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,An.ERROR,...e),this._logHandler(this,An.ERROR,...e)}}const mme=(t,e)=>e.some(n=>t instanceof n);let O6,F6;function yme(){return O6||(O6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vme(){return F6||(F6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lQ=new WeakMap,IL=new WeakMap,uQ=new WeakMap,hk=new WeakMap,Z$=new WeakMap;function bme(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tf(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lQ.set(n,t)}).catch(()=>{}),Z$.set(e,t),e}function xme(t){if(IL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});IL.set(t,e)}let kL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return IL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uQ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wme(t){kL=t(kL)}function _me(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pk(this),e,...n);return uQ.set(r,e.sort?e.sort():[e]),Tf(r)}:vme().includes(t)?function(...e){return t.apply(pk(this),e),Tf(lQ.get(this))}:function(...e){return Tf(t.apply(pk(this),e))}}function Sme(t){return typeof t=="function"?_me(t):(t instanceof IDBTransaction&&xme(t),mme(t,yme())?new Proxy(t,kL):t)}function Tf(t){if(t instanceof IDBRequest)return bme(t);if(hk.has(t))return hk.get(t);const e=Sme(t);return e!==t&&(hk.set(t,e),Z$.set(e,t)),e}const pk=t=>Z$.get(t);function Eme(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Tf(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Tf(s.result),l.oldVersion,l.newVersion,Tf(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Cme=["get","getKey","getAll","getAllKeys","count"],Tme=["put","add","delete","clear"],gk=new Map;function $6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gk.get(e))return gk.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tme.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Cme.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return gk.set(e,o),o}wme(t=>({...t,get:(e,n,r)=>$6(e,n)||t.get(e,n,r),has:(e,n)=>!!$6(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ame{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rme(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ML="@firebase/app",B6="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new aQ("@firebase/app"),Pme="@firebase/app-compat",Ime="@firebase/analytics-compat",kme="@firebase/analytics",Mme="@firebase/app-check-compat",Nme="@firebase/app-check",Dme="@firebase/auth",Lme="@firebase/auth-compat",Ome="@firebase/database",Fme="@firebase/data-connect",$me="@firebase/database-compat",Bme="@firebase/functions",Vme="@firebase/functions-compat",zme="@firebase/installations",Ume="@firebase/installations-compat",Hme="@firebase/messaging",qme="@firebase/messaging-compat",jme="@firebase/performance",Wme="@firebase/performance-compat",Gme="@firebase/remote-config",Kme="@firebase/remote-config-compat",Yme="@firebase/storage",Xme="@firebase/storage-compat",Jme="@firebase/firestore",Qme="@firebase/ai",Zme="@firebase/firestore-compat",eye="firebase",tye="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="[DEFAULT]",nye={[ML]:"fire-core",[Pme]:"fire-core-compat",[kme]:"fire-analytics",[Ime]:"fire-analytics-compat",[Nme]:"fire-app-check",[Mme]:"fire-app-check-compat",[Dme]:"fire-auth",[Lme]:"fire-auth-compat",[Ome]:"fire-rtdb",[Fme]:"fire-data-connect",[$me]:"fire-rtdb-compat",[Bme]:"fire-fn",[Vme]:"fire-fn-compat",[zme]:"fire-iid",[Ume]:"fire-iid-compat",[Hme]:"fire-fcm",[qme]:"fire-fcm-compat",[jme]:"fire-perf",[Wme]:"fire-perf-compat",[Gme]:"fire-rc",[Kme]:"fire-rc-compat",[Yme]:"fire-gcs",[Xme]:"fire-gcs-compat",[Jme]:"fire-fst",[Zme]:"fire-fst-compat",[Qme]:"fire-vertex","fire-js":"fire-js",[eye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map,rye=new Map,DL=new Map;function V6(t,e){try{t.container.addComponent(e)}catch(n){Gc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qx(t){const e=t.name;if(DL.has(e))return Gc.debug(`There were multiple attempts to register component ${e}.`),!1;DL.set(e,t);for(const n of bT.values())V6(n,t);for(const n of rye.values())V6(n,t);return!0}function cQ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dQ(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Af=new sQ("app","Firebase",iye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oye{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Af.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=tye;function hQ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:NL,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Af.create("bad-app-name",{appName:String(i)});if(n||(n=nQ()),!n)throw Af.create("no-options");const o=bT.get(i);if(o){if(vT(n,o.options)&&vT(r,o.config))return o;throw Af.create("duplicate-app",{appName:i})}const s=new dme(i);for(const l of DL.values())s.addComponent(l);const a=new oye(n,r,s);return bT.set(i,a),a}function pQ(t=NL){const e=bT.get(t);if(!e&&t===NL&&nQ())return hQ();if(!e)throw Af.create("no-app",{appName:t});return e}function Rf(t,e,n){var r;let i=(r=nye[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gc.warn(a.join(" "));return}Qx(new kv(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sye="firebase-heartbeat-database",aye=1,Zx="firebase-heartbeat-store";let mk=null;function gQ(){return mk||(mk=Eme(sye,aye,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zx)}catch(n){console.warn(n)}}}}).catch(t=>{throw Af.create("idb-open",{originalErrorMessage:t.message})})),mk}async function lye(t){try{const n=(await gQ()).transaction(Zx),r=await n.objectStore(Zx).get(mQ(t));return await n.done,r}catch(e){if(e instanceof ag)Gc.warn(e.message);else{const n=Af.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gc.warn(n.message)}}}async function z6(t,e){try{const r=(await gQ()).transaction(Zx,"readwrite");await r.objectStore(Zx).put(e,mQ(t)),await r.done}catch(n){if(n instanceof ag)Gc.warn(n.message);else{const r=Af.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gc.warn(r.message)}}}function mQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uye=1024,cye=30;class dye{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hye(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=U6();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cye){const s=pye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gc.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U6(),{heartbeatsToSend:r,unsentEntries:i}=fye(this._heartbeatsCache.heartbeats),o=yT(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gc.warn(n),""}}}function U6(){return new Date().toISOString().substring(0,10)}function fye(t,e=uye){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),H6(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),H6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rme()?ime().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lye(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return z6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function H6(t){return yT(JSON.stringify({version:2,heartbeats:t})).length}function pye(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gye(t){Qx(new kv("platform-logger",e=>new Ame(e),"PRIVATE")),Qx(new kv("heartbeat",e=>new dye(e),"PRIVATE")),Rf(ML,B6,t),Rf(ML,B6,"esm2017"),Rf("fire-js","")}gye("");var mye="firebase",yye="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rf(mye,yye,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="firebasestorage.googleapis.com",vQ="storageBucket",vye=2*60*1e3,bye=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends ag{constructor(e,n,r=0){super(yk(e),`Firebase Storage: ${n} (${yk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Or.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lr||(Lr={}));function yk(t){return"storage/"+t}function e5(){const t="An unknown error occurred, please check the error payload for server response.";return new Or(Lr.UNKNOWN,t)}function xye(t){return new Or(Lr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function wye(t){return new Or(Lr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _ye(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Or(Lr.UNAUTHENTICATED,t)}function Sye(){return new Or(Lr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Eye(t){return new Or(Lr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Cye(){return new Or(Lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tye(){return new Or(Lr.CANCELED,"User canceled the upload/download.")}function Aye(t){return new Or(Lr.INVALID_URL,"Invalid URL '"+t+"'.")}function Rye(t){return new Or(Lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Pye(){return new Or(Lr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vQ+"' property when initializing the app?")}function Iye(){return new Or(Lr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kye(){return new Or(Lr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mye(t){return new Or(Lr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function LL(t){return new Or(Lr.INVALID_ARGUMENT,t)}function bQ(){return new Or(Lr.APP_DELETED,"The Firebase app was deleted.")}function Nye(t){return new Or(Lr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sx(t,e){return new Or(Lr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ab(t){throw new Or(Lr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw Rye(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},y=n===yQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${y}/${i}/${x}`,"i"),S=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<S.length;T++){const I=S[T],N=I.regex.exec(e);if(N){const R=N[I.indices.bucket];let M=N[I.indices.path];M||(M=""),r=new Ds(R,M),I.postModify(r);break}}if(r==null)throw Aye(e);return r}}class Dye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lye(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...x){u||(u=!0,e.apply(null,x))}function d(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function h(){o&&clearTimeout(o)}function p(x,..._){if(u){h();return}if(x){h(),c.call(null,x,..._);return}if(l()||s){h(),c.call(null,x,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function y(x){m||(m=!0,h(),!u&&(i!==null?(x||(a=2),clearTimeout(i),d(0)):x||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function Oye(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fye(t){return t!==void 0}function $ye(t){return typeof t=="object"&&!Array.isArray(t)}function t5(t){return typeof t=="string"||t instanceof String}function q6(t){return n5()&&t instanceof Blob}function n5(){return typeof Blob<"u"}function j6(t,e,n,r){if(r<e)throw LL(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw LL(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Fp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fp||(Fp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bye(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vye{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new fE(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Fp.NO_ERROR,l=o.getStatus();if(!a||Bye(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Fp.ABORT;r(!1,new fE(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new fE(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Fye(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=e5();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?bQ():Tye();s(l)}else{const l=Cye();s(l)}};this.canceled_?n(!1,new fE(!1,null,!0)):this.backoffId_=Lye(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Oye(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Uye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jye(t,e,n,r,i,o,s=!0,a=!1){const l=xQ(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Hye(c,e),zye(c,n),Uye(c,o),qye(c,r),new Vye(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Gye(...t){const e=Wye();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(n5())return new Blob(t);throw new Or(Lr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Kye(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yye(t){if(typeof atob>"u")throw Mye("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vk{constructor(e,n){this.data=e,this.contentType=n||null}}function Xye(t,e){switch(t){case cu.RAW:return new vk(wQ(e));case cu.BASE64:case cu.BASE64URL:return new vk(_Q(t,e));case cu.DATA_URL:return new vk(Qye(e),Zye(e))}throw e5()}function wQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Jye(t){let e;try{e=decodeURIComponent(t)}catch{throw Sx(cu.DATA_URL,"Malformed data URL.")}return wQ(e)}function _Q(t,e){switch(t){case cu.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Sx(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cu.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Sx(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Yye(e)}catch(i){throw i.message.includes("polyfill")?i:Sx(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class SQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Sx(cu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=eve(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Qye(t){const e=new SQ(t);return e.base64?_Q(cu.BASE64,e.rest):Jye(e.rest)}function Zye(t){return new SQ(t).contentType}function eve(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){let r=0,i="";q6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(q6(this.data_)){const r=this.data_,i=Kye(r,e,n);return i===null?null:new Xd(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xd(r,!0)}}static getBlob(...e){if(n5()){const n=e.map(r=>r instanceof Xd?r.data_:r);return new Xd(Gye.apply(null,n))}else{const n=e.map(s=>t5(s)?Xye(cu.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Xd(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(t){let e;try{e=JSON.parse(t)}catch{return null}return $ye(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tve(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nve(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function CQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(t,e){return e}class yo{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||rve}}let hE=null;function ive(t){return!t5(t)||t.length<2?t:CQ(t)}function TQ(){if(hE)return hE;const t=[];t.push(new yo("bucket")),t.push(new yo("generation")),t.push(new yo("metageneration")),t.push(new yo("name","fullPath",!0));function e(o,s){return ive(s)}const n=new yo("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new yo("size");return i.xform=r,t.push(i),t.push(new yo("timeCreated")),t.push(new yo("updated")),t.push(new yo("md5Hash",null,!0)),t.push(new yo("cacheControl",null,!0)),t.push(new yo("contentDisposition",null,!0)),t.push(new yo("contentEncoding",null,!0)),t.push(new yo("contentLanguage",null,!0)),t.push(new yo("contentType",null,!0)),t.push(new yo("metadata","customMetadata",!0)),hE=t,hE}function ove(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ds(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function sve(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return ove(r,t),r}function AQ(t,e,n){const r=EQ(e);return r===null?null:sve(t,r,n)}function ave(t,e,n,r){const i=EQ(e);if(i===null||!t5(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=r5(h,n,r),m=xQ({alt:"media",token:u});return p+m})[0]}function lve(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class RQ{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t){if(!t)throw e5()}function uve(t,e){function n(r,i){const o=AQ(t,i,e);return PQ(o!==null),o}return n}function cve(t,e){function n(r,i){const o=AQ(t,i,e);return PQ(o!==null),ave(o,i,t.host,t._protocol)}return n}function IQ(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Sye():i=_ye():n.getStatus()===402?i=wye(t.bucket):n.getStatus()===403?i=Eye(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dve(t){const e=IQ(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=xye(t.path)),o.serverResponse=i.serverResponse,o}return n}function fve(t,e,n){const r=e.fullServerUrl(),i=r5(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new RQ(i,o,cve(t,n),s);return a.errorHandler=dve(e),a}function hve(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pve(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hve(null,e)),r}function gve(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let T=0;T<2;T++)S=S+Math.random().toString().slice(2);return S}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=pve(e,r,i),c=lve(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Xd.getBlob(d,r,h);if(p===null)throw Iye();const m={name:u.fullPath},y=r5(o,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,E=new RQ(y,x,uve(t,n),_);return E.urlParams=m,E.headers=s,E.body=p.uploadData(),E.errorHandler=IQ(e),E}class mve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ab("cannot .send() more than once");if(h1(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ab("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ab("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ab("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ab("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yve extends mve{initXhr(){this.xhr_.responseType="text"}}function kQ(){return new yve}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Up(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CQ(this._location.path)}get storage(){return this._service}get parent(){const e=tve(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new Up(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Nye(e)}}function vve(t,e,n){t._throwIfRoot("uploadBytes");const r=gve(t.storage,t._location,TQ(),new Xd(e,!0),n);return t.storage.makeRequestWithTokens(r,kQ).then(i=>({metadata:i,ref:t}))}function bve(t){t._throwIfRoot("getDownloadURL");const e=fve(t.storage,t._location,TQ());return t.storage.makeRequestWithTokens(e,kQ).then(n=>{if(n===null)throw kye();return n})}function xve(t,e){const n=nve(t._location.path,e),r=new Ds(t._location.bucket,n);return new Up(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wve(t){return/^[A-Za-z]+:\/\//.test(t)}function _ve(t,e){return new Up(t,e)}function MQ(t,e){if(t instanceof i5){const n=t;if(n._bucket==null)throw Pye();const r=new Up(n,n._bucket);return e!=null?MQ(r,e):r}else return e!==void 0?xve(t,e):t}function Sve(t,e){if(e&&wve(e)){if(t instanceof i5)return _ve(t,e);throw LL("To use ref(service, url), the first argument must be a Storage instance.")}else return MQ(t,e)}function W6(t,e){const n=e==null?void 0:e[vQ];return n==null?null:Ds.makeFromBucketSpec(n,t)}function Eve(t,e,n,r={}){t.host=`${e}:${n}`;const i=h1(e);i&&(rQ(`https://${t.host}/b`),oQ("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:iQ(o,t.app.options.projectId))}class i5{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=yQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vye,this._maxUploadRetryTime=bye,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=W6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=W6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dQ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Up(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Dye(bQ());{const s=jye(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const G6="@firebase/storage",K6="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ="storage";function Cve(t,e,n){return t=Eu(t),vve(t,e,n)}function Tve(t){return t=Eu(t),bve(t)}function Y6(t,e){return t=Eu(t),Sve(t,e)}function Ave(t=pQ(),e){t=Eu(t);const r=cQ(t,NQ).getImmediate({identifier:e}),i=tQ("storage");return i&&Rve(r,...i),r}function Rve(t,e,n,r={}){Eve(t,e,n,r)}function Pve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new i5(n,r,i,e,fQ)}function Ive(){Qx(new kv(NQ,Pve,"PUBLIC").setMultipleInstances(!0)),Rf(G6,K6,""),Rf(G6,K6,"esm2017")}Ive();var X6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pf,DQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,M){function L(){}L.prototype=M.prototype,R.D=M.prototype,R.prototype=new L,R.prototype.constructor=R,R.C=function(k,D,V){for(var $=Array(arguments.length-2),H=2;H<arguments.length;H++)$[H-2]=arguments[H];return M.prototype[D].apply(k,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,M,L){L||(L=0);var k=Array(16);if(typeof M=="string")for(var D=0;16>D;++D)k[D]=M.charCodeAt(L++)|M.charCodeAt(L++)<<8|M.charCodeAt(L++)<<16|M.charCodeAt(L++)<<24;else for(D=0;16>D;++D)k[D]=M[L++]|M[L++]<<8|M[L++]<<16|M[L++]<<24;M=R.g[0],L=R.g[1],D=R.g[2];var V=R.g[3],$=M+(V^L&(D^V))+k[0]+3614090360&4294967295;M=L+($<<7&4294967295|$>>>25),$=V+(D^M&(L^D))+k[1]+3905402710&4294967295,V=M+($<<12&4294967295|$>>>20),$=D+(L^V&(M^L))+k[2]+606105819&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(M^D&(V^M))+k[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=M+(V^L&(D^V))+k[4]+4118548399&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(D^M&(L^D))+k[5]+1200080426&4294967295,V=M+($<<12&4294967295|$>>>20),$=D+(L^V&(M^L))+k[6]+2821735955&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(M^D&(V^M))+k[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=M+(V^L&(D^V))+k[8]+1770035416&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(D^M&(L^D))+k[9]+2336552879&4294967295,V=M+($<<12&4294967295|$>>>20),$=D+(L^V&(M^L))+k[10]+4294925233&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(M^D&(V^M))+k[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=M+(V^L&(D^V))+k[12]+1804603682&4294967295,M=L+($<<7&4294967295|$>>>25),$=V+(D^M&(L^D))+k[13]+4254626195&4294967295,V=M+($<<12&4294967295|$>>>20),$=D+(L^V&(M^L))+k[14]+2792965006&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(M^D&(V^M))+k[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=M+(D^V&(L^D))+k[1]+4129170786&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^D&(M^L))+k[6]+3225465664&4294967295,V=M+($<<9&4294967295|$>>>23),$=D+(M^L&(V^M))+k[11]+643717713&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^M&(D^V))+k[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=M+(D^V&(L^D))+k[5]+3593408605&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^D&(M^L))+k[10]+38016083&4294967295,V=M+($<<9&4294967295|$>>>23),$=D+(M^L&(V^M))+k[15]+3634488961&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^M&(D^V))+k[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=M+(D^V&(L^D))+k[9]+568446438&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^D&(M^L))+k[14]+3275163606&4294967295,V=M+($<<9&4294967295|$>>>23),$=D+(M^L&(V^M))+k[3]+4107603335&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^M&(D^V))+k[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=M+(D^V&(L^D))+k[13]+2850285829&4294967295,M=L+($<<5&4294967295|$>>>27),$=V+(L^D&(M^L))+k[2]+4243563512&4294967295,V=M+($<<9&4294967295|$>>>23),$=D+(M^L&(V^M))+k[7]+1735328473&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^M&(D^V))+k[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=M+(L^D^V)+k[5]+4294588738&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^D)+k[8]+2272392833&4294967295,V=M+($<<11&4294967295|$>>>21),$=D+(V^M^L)+k[11]+1839030562&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^M)+k[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=M+(L^D^V)+k[1]+2763975236&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^D)+k[4]+1272893353&4294967295,V=M+($<<11&4294967295|$>>>21),$=D+(V^M^L)+k[7]+4139469664&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^M)+k[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=M+(L^D^V)+k[13]+681279174&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^D)+k[0]+3936430074&4294967295,V=M+($<<11&4294967295|$>>>21),$=D+(V^M^L)+k[3]+3572445317&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^M)+k[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=M+(L^D^V)+k[9]+3654602809&4294967295,M=L+($<<4&4294967295|$>>>28),$=V+(M^L^D)+k[12]+3873151461&4294967295,V=M+($<<11&4294967295|$>>>21),$=D+(V^M^L)+k[15]+530742520&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^M)+k[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=M+(D^(L|~V))+k[0]+4096336452&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~D))+k[7]+1126891415&4294967295,V=M+($<<10&4294967295|$>>>22),$=D+(M^(V|~L))+k[14]+2878612391&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~M))+k[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=M+(D^(L|~V))+k[12]+1700485571&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~D))+k[3]+2399980690&4294967295,V=M+($<<10&4294967295|$>>>22),$=D+(M^(V|~L))+k[10]+4293915773&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~M))+k[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=M+(D^(L|~V))+k[8]+1873313359&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~D))+k[15]+4264355552&4294967295,V=M+($<<10&4294967295|$>>>22),$=D+(M^(V|~L))+k[6]+2734768916&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~M))+k[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=M+(D^(L|~V))+k[4]+4149444226&4294967295,M=L+($<<6&4294967295|$>>>26),$=V+(L^(M|~D))+k[11]+3174756917&4294967295,V=M+($<<10&4294967295|$>>>22),$=D+(M^(V|~L))+k[2]+718787259&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~M))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+M&4294967295,R.g[1]=R.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,M){M===void 0&&(M=R.length);for(var L=M-this.blockSize,k=this.B,D=this.h,V=0;V<M;){if(D==0)for(;V<=L;)i(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<M;)if(k[D++]=R.charCodeAt(V++),D==this.blockSize){i(this,k),D=0;break}}else for(;V<M;)if(k[D++]=R[V++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=M},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var M=1;M<R.length-8;++M)R[M]=0;var L=8*this.o;for(M=R.length-8;M<R.length;++M)R[M]=L&255,L/=256;for(this.u(R),R=Array(16),M=L=0;4>M;++M)for(var k=0;32>k;k+=8)R[L++]=this.g[M]>>>k&255;return R};function o(R,M){var L=a;return Object.prototype.hasOwnProperty.call(L,R)?L[R]:L[R]=M(R)}function s(R,M){this.h=M;for(var L=[],k=!0,D=R.length-1;0<=D;D--){var V=R[D]|0;k&&V==M||(L[D]=V,k=!1)}this.g=L}var a={};function l(R){return-128<=R&&128>R?o(R,function(M){return new s([M|0],0>M?-1:0)}):new s([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return d;if(0>R)return x(u(-R));for(var M=[],L=1,k=0;R>=L;k++)M[k]=R/L|0,L*=4294967296;return new s(M,0)}function c(R,M){if(R.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R.charAt(0)=="-")return x(c(R.substring(1),M));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=u(Math.pow(M,8)),k=d,D=0;D<R.length;D+=8){var V=Math.min(8,R.length-D),$=parseInt(R.substring(D,D+V),M);8>V?(V=u(Math.pow(M,V)),k=k.j(V).add(u($))):(k=k.j(L),k=k.add(u($)))}return k}var d=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(y(this))return-x(this).m();for(var R=0,M=1,L=0;L<this.g.length;L++){var k=this.i(L);R+=(0<=k?k:4294967296+k)*M,M*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(m(this))return"0";if(y(this))return"-"+x(this).toString(R);for(var M=u(Math.pow(R,6)),L=this,k="";;){var D=T(L,M).g;L=_(L,D.j(M));var V=((0<L.g.length?L.g[0]:L.h)>>>0).toString(R);if(L=D,m(L))return V+k;for(;6>V.length;)V="0"+V;k=V+k}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function m(R){if(R.h!=0)return!1;for(var M=0;M<R.g.length;M++)if(R.g[M]!=0)return!1;return!0}function y(R){return R.h==-1}t.l=function(R){return R=_(this,R),y(R)?-1:m(R)?0:1};function x(R){for(var M=R.g.length,L=[],k=0;k<M;k++)L[k]=~R.g[k];return new s(L,~R.h).add(h)}t.abs=function(){return y(this)?x(this):this},t.add=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],k=0,D=0;D<=M;D++){var V=k+(this.i(D)&65535)+(R.i(D)&65535),$=(V>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);k=$>>>16,V&=65535,$&=65535,L[D]=$<<16|V}return new s(L,L[L.length-1]&-2147483648?-1:0)};function _(R,M){return R.add(x(M))}t.j=function(R){if(m(this)||m(R))return d;if(y(this))return y(R)?x(this).j(x(R)):x(x(this).j(R));if(y(R))return x(this.j(x(R)));if(0>this.l(p)&&0>R.l(p))return u(this.m()*R.m());for(var M=this.g.length+R.g.length,L=[],k=0;k<2*M;k++)L[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<R.g.length;D++){var V=this.i(k)>>>16,$=this.i(k)&65535,H=R.i(D)>>>16,G=R.i(D)&65535;L[2*k+2*D]+=$*G,E(L,2*k+2*D),L[2*k+2*D+1]+=V*G,E(L,2*k+2*D+1),L[2*k+2*D+1]+=$*H,E(L,2*k+2*D+1),L[2*k+2*D+2]+=V*H,E(L,2*k+2*D+2)}for(k=0;k<M;k++)L[k]=L[2*k+1]<<16|L[2*k];for(k=M;k<2*M;k++)L[k]=0;return new s(L,0)};function E(R,M){for(;(R[M]&65535)!=R[M];)R[M+1]+=R[M]>>>16,R[M]&=65535,M++}function S(R,M){this.g=R,this.h=M}function T(R,M){if(m(M))throw Error("division by zero");if(m(R))return new S(d,d);if(y(R))return M=T(x(R),M),new S(x(M.g),x(M.h));if(y(M))return M=T(R,x(M)),new S(x(M.g),M.h);if(30<R.g.length){if(y(R)||y(M))throw Error("slowDivide_ only works with positive integers.");for(var L=h,k=M;0>=k.l(R);)L=I(L),k=I(k);var D=N(L,1),V=N(k,1);for(k=N(k,2),L=N(L,2);!m(k);){var $=V.add(k);0>=$.l(R)&&(D=D.add(L),V=$),k=N(k,1),L=N(L,1)}return M=_(R,D.j(M)),new S(D,M)}for(D=d;0<=R.l(M);){for(L=Math.max(1,Math.floor(R.m()/M.m())),k=Math.ceil(Math.log(L)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),V=u(L),$=V.j(M);y($)||0<$.l(R);)L-=k,V=u(L),$=V.j(M);m(V)&&(V=h),D=D.add(V),R=_(R,$)}return new S(D,R)}t.A=function(R){return T(this,R).h},t.and=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],k=0;k<M;k++)L[k]=this.i(k)&R.i(k);return new s(L,this.h&R.h)},t.or=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],k=0;k<M;k++)L[k]=this.i(k)|R.i(k);return new s(L,this.h|R.h)},t.xor=function(R){for(var M=Math.max(this.g.length,R.g.length),L=[],k=0;k<M;k++)L[k]=this.i(k)^R.i(k);return new s(L,this.h^R.h)};function I(R){for(var M=R.g.length+1,L=[],k=0;k<M;k++)L[k]=R.i(k)<<1|R.i(k-1)>>>31;return new s(L,R.h)}function N(R,M){var L=M>>5;M%=32;for(var k=R.g.length-L,D=[],V=0;V<k;V++)D[V]=0<M?R.i(V+L)>>>M|R.i(V+L+1)<<32-M:R.i(V+L);return new s(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DQ=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Pf=s}).apply(typeof X6<"u"?X6:typeof self<"u"?self:typeof window<"u"?window:{});var pE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LQ,zb,OQ,lC,OL,FQ,$Q,BQ;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,z,W){return A==Array.prototype||A==Object.prototype||(A[z]=W.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof pE=="object"&&pE];for(var z=0;z<A.length;++z){var W=A[z];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var r=n(this);function i(A,z){if(z)e:{var W=r;A=A.split(".");for(var le=0;le<A.length-1;le++){var xe=A[le];if(!(xe in W))break e;W=W[xe]}A=A[A.length-1],le=W[A],z=z(le),z!=le&&z!=null&&e(W,A,{configurable:!0,writable:!0,value:z})}}function o(A,z){A instanceof String&&(A+="");var W=0,le=!1,xe={next:function(){if(!le&&W<A.length){var Te=W++;return{value:z(Te,A[Te]),done:!1}}return le=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(A){return A||function(){return o(this,function(z,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(A){var z=typeof A;return z=z!="object"?z:A?Array.isArray(A)?"array":z:"null",z=="array"||z=="object"&&typeof A.length=="number"}function u(A){var z=typeof A;return z=="object"&&A!=null||z=="function"}function c(A,z,W){return A.call.apply(A.bind,arguments)}function d(A,z,W){if(!A)throw Error();if(2<arguments.length){var le=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,le),A.apply(z,xe)}}return function(){return A.apply(z,arguments)}}function h(A,z,W){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(A,z){var W=Array.prototype.slice.call(arguments,1);return function(){var le=W.slice();return le.push.apply(le,arguments),A.apply(this,le)}}function m(A,z){function W(){}W.prototype=z.prototype,A.aa=z.prototype,A.prototype=new W,A.prototype.constructor=A,A.Qb=function(le,xe,Te){for(var Xe=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)Xe[Un-2]=arguments[Un];return z.prototype[xe].apply(le,Xe)}}function y(A){const z=A.length;if(0<z){const W=Array(z);for(let le=0;le<z;le++)W[le]=A[le];return W}return[]}function x(A,z){for(let W=1;W<arguments.length;W++){const le=arguments[W];if(l(le)){const xe=A.length||0,Te=le.length||0;A.length=xe+Te;for(let Xe=0;Xe<Te;Xe++)A[xe+Xe]=le[Xe]}else A.push(le)}}class _{constructor(z,W){this.i=z,this.j=W,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function E(A){return/^[\s\xa0]*$/.test(A)}function S(){var A=a.navigator;return A&&(A=A.userAgent)?A:""}function T(A){return T[" "](A),A}T[" "]=function(){};var I=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(A,z,W){for(const le in A)z.call(W,A[le],le,A)}function R(A,z){for(const W in A)z.call(void 0,A[W],W,A)}function M(A){const z={};for(const W in A)z[W]=A[W];return z}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(A,z){let W,le;for(let xe=1;xe<arguments.length;xe++){le=arguments[xe];for(W in le)A[W]=le[W];for(let Te=0;Te<L.length;Te++)W=L[Te],Object.prototype.hasOwnProperty.call(le,W)&&(A[W]=le[W])}}function D(A){var z=1;A=A.split(":");const W=[];for(;0<z&&A.length;)W.push(A.shift()),z--;return A.length&&W.push(A.join(":")),W}function V(A){a.setTimeout(()=>{throw A},0)}function $(){var A=X;let z=null;return A.g&&(z=A.g,A.g=A.g.next,A.g||(A.h=null),z.next=null),z}class H{constructor(){this.h=this.g=null}add(z,W){const le=G.get();le.set(z,W),this.h?this.h.next=le:this.g=le,this.h=le}}var G=new _(()=>new K,A=>A.reset());class K{constructor(){this.next=this.g=this.h=null}set(z,W){this.h=z,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,X=new H,j=()=>{const A=a.Promise.resolve(void 0);J=()=>{A.then(Y)}};var Y=()=>{for(var A;A=$();){try{A.h.call(A.g)}catch(W){V(W)}var z=G;z.j(A),100>z.h&&(z.h++,A.next=z.g,z.g=A)}ee=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(A,z){this.type=A,this.g=this.target=z,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var A=!1,z=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const W=()=>{};a.addEventListener("test",W,z),a.removeEventListener("test",W,z)}catch{}return A}();function te(A,z){if(q.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A){var W=this.type=A.type,le=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;if(this.target=A.target||A.srcElement,this.g=z,z=A.relatedTarget){if(I){e:{try{T(z.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(z=null)}}else W=="mouseover"?z=A.fromElement:W=="mouseout"&&(z=A.toElement);this.relatedTarget=z,le?(this.clientX=le.clientX!==void 0?le.clientX:le.pageX,this.clientY=le.clientY!==void 0?le.clientY:le.pageY,this.screenX=le.screenX||0,this.screenY=le.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=typeof A.pointerType=="string"?A.pointerType:ue[A.pointerType]||"",this.state=A.state,this.i=A,A.defaultPrevented&&te.aa.h.call(this)}}m(te,q);var ue={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),se=0;function ce(A,z,W,le,xe){this.listener=A,this.proxy=null,this.src=z,this.type=W,this.capture=!!le,this.ha=xe,this.key=++se,this.da=this.fa=!1}function he(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ve(A){this.src=A,this.g={},this.h=0}ve.prototype.add=function(A,z,W,le,xe){var Te=A.toString();A=this.g[Te],A||(A=this.g[Te]=[],this.h++);var Xe=Re(A,z,le,xe);return-1<Xe?(z=A[Xe],W||(z.fa=!1)):(z=new ce(z,this.src,Te,!!le,xe),z.fa=W,A.push(z)),z};function be(A,z){var W=z.type;if(W in A.g){var le=A.g[W],xe=Array.prototype.indexOf.call(le,z,void 0),Te;(Te=0<=xe)&&Array.prototype.splice.call(le,xe,1),Te&&(he(z),A.g[W].length==0&&(delete A.g[W],A.h--))}}function Re(A,z,W,le){for(var xe=0;xe<A.length;++xe){var Te=A[xe];if(!Te.da&&Te.listener==z&&Te.capture==!!W&&Te.ha==le)return xe}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ce={};function $e(A,z,W,le,xe){if(Array.isArray(z)){for(var Te=0;Te<z.length;Te++)$e(A,z[Te],W,le,xe);return null}return W=on(W),A&&A[de]?A.K(z,W,u(le)?!!le.capture:!1,xe):De(A,z,W,!1,le,xe)}function De(A,z,W,le,xe,Te){if(!z)throw Error("Invalid event type");var Xe=u(xe)?!!xe.capture:!!xe,Un=lt(A);if(Un||(A[pe]=Un=new ve(A)),W=Un.add(z,W,le,Xe,Te),W.proxy)return W;if(le=ke(),W.proxy=le,le.src=A,le.listener=W,A.addEventListener)Q||(xe=Xe),xe===void 0&&(xe=!1),A.addEventListener(z.toString(),le,xe);else if(A.attachEvent)A.attachEvent(Qe(z.toString()),le);else if(A.addListener&&A.removeListener)A.addListener(le);else throw Error("addEventListener and attachEvent are unavailable.");return W}function ke(){function A(W){return z.call(A.src,A.listener,W)}const z=ze;return A}function qe(A,z,W,le,xe){if(Array.isArray(z))for(var Te=0;Te<z.length;Te++)qe(A,z[Te],W,le,xe);else le=u(le)?!!le.capture:!!le,W=on(W),A&&A[de]?(A=A.i,z=String(z).toString(),z in A.g&&(Te=A.g[z],W=Re(Te,W,le,xe),-1<W&&(he(Te[W]),Array.prototype.splice.call(Te,W,1),Te.length==0&&(delete A.g[z],A.h--)))):A&&(A=lt(A))&&(z=A.g[z.toString()],A=-1,z&&(A=Re(z,W,le,xe)),(W=-1<A?z[A]:null)&&Fe(W))}function Fe(A){if(typeof A!="number"&&A&&!A.da){var z=A.src;if(z&&z[de])be(z.i,A);else{var W=A.type,le=A.proxy;z.removeEventListener?z.removeEventListener(W,le,A.capture):z.detachEvent?z.detachEvent(Qe(W),le):z.addListener&&z.removeListener&&z.removeListener(le),(W=lt(z))?(be(W,A),W.h==0&&(W.src=null,z[pe]=null)):he(A)}}}function Qe(A){return A in Ce?Ce[A]:Ce[A]="on"+A}function ze(A,z){if(A.da)A=!0;else{z=new te(z,this);var W=A.listener,le=A.ha||A.src;A.fa&&Fe(A),A=W.call(le,z)}return A}function lt(A){return A=A[pe],A instanceof ve?A:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(A){return typeof A=="function"?A:(A[It]||(A[It]=function(z){return A.handleEvent(z)}),A[It])}function we(){ae.call(this),this.i=new ve(this),this.M=this,this.F=null}m(we,ae),we.prototype[de]=!0,we.prototype.removeEventListener=function(A,z,W,le){qe(this,A,z,W,le)};function Ae(A,z){var W,le=A.F;if(le)for(W=[];le;le=le.F)W.push(le);if(A=A.M,le=z.type||z,typeof z=="string")z=new q(z,A);else if(z instanceof q)z.target=z.target||A;else{var xe=z;z=new q(le,A),k(z,xe)}if(xe=!0,W)for(var Te=W.length-1;0<=Te;Te--){var Xe=z.g=W[Te];xe=We(Xe,le,!0,z)&&xe}if(Xe=z.g=A,xe=We(Xe,le,!0,z)&&xe,xe=We(Xe,le,!1,z)&&xe,W)for(Te=0;Te<W.length;Te++)Xe=z.g=W[Te],xe=We(Xe,le,!1,z)&&xe}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var A=this.i,z;for(z in A.g){for(var W=A.g[z],le=0;le<W.length;le++)he(W[le]);delete A.g[z],A.h--}}this.F=null},we.prototype.K=function(A,z,W,le){return this.i.add(String(A),z,!1,W,le)},we.prototype.L=function(A,z,W,le){return this.i.add(String(A),z,!0,W,le)};function We(A,z,W,le){if(z=A.i.g[String(z)],!z)return!0;z=z.concat();for(var xe=!0,Te=0;Te<z.length;++Te){var Xe=z[Te];if(Xe&&!Xe.da&&Xe.capture==W){var Un=Xe.listener,ni=Xe.ha||Xe.src;Xe.fa&&be(A.i,Xe),xe=Un.call(ni,le)!==!1&&xe}}return xe&&!le.defaultPrevented}function yt(A,z,W){if(typeof A=="function")W&&(A=h(A,W));else if(A&&typeof A.handleEvent=="function")A=h(A.handleEvent,A);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:a.setTimeout(A,z||0)}function Ct(A){A.g=yt(()=>{A.g=null,A.i&&(A.i=!1,Ct(A))},A.l);const z=A.h;A.h=null,A.m.apply(null,z)}class ht extends ae{constructor(z,W){super(),this.m=z,this.l=W,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(A){ae.call(this),this.h=A,this.g={}}m(vn,ae);var en=[];function sn(A){N(A.g,function(z,W){this.g.hasOwnProperty(W)&&Fe(z)},A),A.g={}}vn.prototype.N=function(){vn.aa.N.call(this),sn(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=a.JSON.stringify,Lt=a.JSON.parse,fn=class{stringify(A){return a.JSON.stringify(A,void 0)}parse(A){return a.JSON.parse(A,void 0)}};function Be(){}Be.prototype.h=null;function dt(A){return A.h||(A.h=A.i())}function $t(){}var Bt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hn(){q.call(this,"d")}m(hn,q);function nr(){q.call(this,"c")}m(nr,q);var Nn={},Dn=null;function Si(){return Dn=Dn||new we}Nn.La="serverreachability";function zt(A){q.call(this,Nn.La,A)}m(zt,q);function wr(A){const z=Si();Ae(z,new zt(z))}Nn.STAT_EVENT="statevent";function vl(A,z){q.call(this,Nn.STAT_EVENT,A),this.stat=z}m(vl,q);function _r(A){const z=Si();Ae(z,new vl(z,A))}Nn.Ma="timingevent";function dd(A,z){q.call(this,Nn.Ma,A),this.size=z}m(dd,q);function us(A,z){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){A()},z)}function Du(){this.g=!0}Du.prototype.xa=function(){this.g=!1};function Lu(A,z,W,le,xe,Te){A.info(function(){if(A.g)if(Te)for(var Xe="",Un=Te.split("&"),ni=0;ni<Un.length;ni++){var Sn=Un[ni].split("=");if(1<Sn.length){var pi=Sn[0];Sn=Sn[1];var Hr=pi.split("_");Xe=2<=Hr.length&&Hr[1]=="type"?Xe+(pi+"="+Sn+"&"):Xe+(pi+"=redacted&")}}else Xe=null;else Xe=Te;return"XMLHTTP REQ ("+le+") [attempt "+xe+"]: "+z+`
`+W+`
`+Xe})}function fd(A,z,W,le,xe,Te,Xe){A.info(function(){return"XMLHTTP RESP ("+le+") [ attempt "+xe+"]: "+z+`
`+W+`
`+Te+" "+Xe})}function cs(A,z,W,le){A.info(function(){return"XMLHTTP TEXT ("+z+"): "+T0(A,W)+(le?" "+le:"")})}function eh(A,z){A.info(function(){return"TIMEOUT: "+z})}Du.prototype.info=function(){};function T0(A,z){if(!A.g)return z;if(!z)return null;try{var W=JSON.parse(z);if(W){for(A=0;A<W.length;A++)if(Array.isArray(W[A])){var le=W[A];if(!(2>le.length)){var xe=le[1];if(Array.isArray(xe)&&!(1>xe.length)){var Te=xe[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var Xe=1;Xe<xe.length;Xe++)xe[Xe]=""}}}}return it(W)}catch{return z}}var hd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ro;function bl(){}m(bl,Be),bl.prototype.g=function(){return new XMLHttpRequest},bl.prototype.i=function(){return{}},Ro=new bl;function Po(A,z,W,le){this.j=A,this.i=z,this.l=W,this.R=le||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pg}function Pg(){this.i=null,this.g="",this.h=!1}var th={},pd={};function gd(A,z,W){A.L=1,A.v=vd(ho(z)),A.m=W,A.P=!0,nh(A,null)}function nh(A,z){A.F=Date.now(),Wn(A),A.A=ho(A.v);var W=A.A,le=A.R;Array.isArray(le)||(le=[String(le)]),xd(W.i,"t",le),A.C=0,W=A.j.J,A.h=new Pg,A.g=aS(A.j,W?z:null,!A.m),0<A.O&&(A.M=new ht(h(A.Y,A,A.g),A.O)),z=A.U,W=A.g,le=A.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(en[0]=xe.toString()),xe=en);for(var Te=0;Te<xe.length;Te++){var Xe=$e(W,xe[Te],le||z.handleEvent,!1,z.h||z);if(!Xe)break;z.g[Xe.key]=Xe}z=A.H?M(A.H):{},A.m?(A.u||(A.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.A,A.u,A.m,z)):(A.u="GET",A.g.ea(A.A,A.u,null,z)),wr(),Lu(A.i,A.u,A.A,A.l,A.R,A.m)}Po.prototype.ca=function(A){A=A.target;const z=this.M;z&&Mo(A)==3?z.j():this.Y(A)},Po.prototype.Y=function(A){try{if(A==this.g)e:{const Hr=Mo(this.g);var z=this.g.Ba();const qs=this.g.Z();if(!(3>Hr)&&(Hr!=3||this.g&&(this.h.h||this.g.oa()||k0(this.g)))){this.J||Hr!=4||z==7||(z==8||0>=qs?wr(3):wr(2)),Ou(this);var W=this.g.Z();this.X=W;t:if(Ig(this)){var le=k0(this.g);A="";var xe=le.length,Te=Mo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Io(this),xl(this);var Xe="";break t}this.h.i=new a.TextDecoder}for(z=0;z<xe;z++)this.h.h=!0,A+=this.h.i.decode(le[z],{stream:!(Te&&z==xe-1)});le.length=0,this.h.g+=A,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=W==200,fd(this.i,this.u,this.A,this.l,this.R,Hr,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Un,ni=this.g;if((Un=ni.g?ni.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Un)){var Sn=Un;break t}}Sn=null}if(W=Sn)cs(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rh(this,W);else{this.o=!1,this.s=3,_r(12),Io(this),xl(this);break e}}if(this.P){W=!0;let hs;for(;!this.J&&this.C<Xe.length;)if(hs=kg(this,Xe),hs==pd){Hr==4&&(this.s=4,_r(14),W=!1),cs(this.i,this.l,null,"[Incomplete Response]");break}else if(hs==th){this.s=4,_r(15),cs(this.i,this.l,Xe,"[Invalid Chunk]"),W=!1;break}else cs(this.i,this.l,hs,null),rh(this,hs);if(Ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Hr!=4||Xe.length!=0||this.h.h||(this.s=1,_r(16),W=!1),this.o=this.o&&W,!W)cs(this.i,this.l,Xe,"[Invalid Chunked Response]"),Io(this),xl(this);else if(0<Xe.length&&!this.W){this.W=!0;var pi=this.j;pi.g==this&&pi.ba&&!pi.M&&(pi.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),N0(pi),pi.M=!0,_r(11))}}else cs(this.i,this.l,Xe,null),rh(this,Xe);Hr==4&&Io(this),this.o&&!this.J&&(Hr==4?jg(this.j,this):(this.o=!1,Wn(this)))}else Vg(this.g),W==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,_r(12)):(this.s=0,_r(13)),Io(this),xl(this)}}}catch{}finally{}};function Ig(A){return A.g?A.u=="GET"&&A.L!=2&&A.j.Ca:!1}function kg(A,z){var W=A.C,le=z.indexOf(`
`,W);return le==-1?pd:(W=Number(z.substring(W,le)),isNaN(W)?th:(le+=1,le+W>z.length?pd:(z=z.slice(le,le+W),A.C=le+W,z)))}Po.prototype.cancel=function(){this.J=!0,Io(this)};function Wn(A){A.S=Date.now()+A.I,Mg(A,A.I)}function Mg(A,z){if(A.B!=null)throw Error("WatchDog timer not null");A.B=us(h(A.ba,A),z)}function Ou(A){A.B&&(a.clearTimeout(A.B),A.B=null)}Po.prototype.ba=function(){this.B=null;const A=Date.now();0<=A-this.S?(eh(this.i,this.A),this.L!=2&&(wr(),_r(17)),Io(this),this.s=2,xl(this)):Mg(this,this.S-A)};function xl(A){A.j.G==0||A.J||jg(A.j,A)}function Io(A){Ou(A);var z=A.M;z&&typeof z.ma=="function"&&z.ma(),A.M=null,sn(A.U),A.g&&(z=A.g,A.g=null,z.abort(),z.ma())}function rh(A,z){try{var W=A.j;if(W.G!=0&&(W.g==A||Ei(W.h,A))){if(!A.K&&Ei(W.h,A)&&W.G==3){try{var le=W.Da.g.parse(z)}catch{le=null}if(Array.isArray(le)&&le.length==3){var xe=le;if(xe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<A.F)qg(W),Ca(W);else break e;Hg(W),_r(18)}}else W.za=xe[1],0<W.za-W.T&&37500>xe[2]&&W.F&&W.v==0&&!W.C&&(W.C=us(h(W.Za,W),6e3));if(1>=Dg(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Uu(W,11)}else if((A.K||W.g==A)&&qg(W),!E(z))for(xe=W.Da.g.parse(z),z=0;z<xe.length;z++){let Sn=xe[z];if(W.T=Sn[0],Sn=Sn[1],W.G==2)if(Sn[0]=="c"){W.K=Sn[1],W.ia=Sn[2];const pi=Sn[3];pi!=null&&(W.la=pi,W.j.info("VER="+W.la));const Hr=Sn[4];Hr!=null&&(W.Aa=Hr,W.j.info("SVER="+W.Aa));const qs=Sn[5];qs!=null&&typeof qs=="number"&&0<qs&&(le=1.5*qs,W.L=le,W.j.info("backChannelRequestTimeoutMs_="+le)),le=W;const hs=A.g;if(hs){const lh=hs.g?hs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var Te=le.h;Te.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(ih(Te,Te.h),Te.h=null))}if(le.D){const Gg=hs.g?hs.g.getResponseHeader("X-HTTP-Session-Id"):null;Gg&&(le.ya=Gg,Jn(le.I,le.D,Gg))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-A.F,W.j.info("Handshake RTT: "+W.R+"ms")),le=W;var Xe=A;if(le.qa=sS(le,le.J?le.ia:null,le.W),Xe.K){Lg(le.h,Xe);var Un=Xe,ni=le.L;ni&&(Un.I=ni),Un.B&&(Ou(Un),Wn(Un)),le.g=Xe}else ah(le);0<W.i.length&&Tl(W)}else Sn[0]!="stop"&&Sn[0]!="close"||Uu(W,7);else W.G==3&&(Sn[0]=="stop"||Sn[0]=="close"?Sn[0]=="stop"?Uu(W,7):Ti(W):Sn[0]!="noop"&&W.l&&W.l.ta(Sn),W.v=0)}}wr(4)}catch{}}var Ng=class{constructor(A,z){this.g=A,this.map=z}};function wl(A){this.l=A||10,a.PerformanceNavigationTiming?(A=a.performance.getEntriesByType("navigation"),A=0<A.length&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Dg(A){return A.h?1:A.g?A.g.size:0}function Ei(A,z){return A.h?A.h==z:A.g?A.g.has(z):!1}function ih(A,z){A.g?A.g.add(z):A.h=z}function Lg(A,z){A.h&&A.h==z?A.h=null:A.g&&A.g.has(z)&&A.g.delete(z)}wl.prototype.cancel=function(){if(this.i=Og(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function Og(A){if(A.h!=null)return A.i.concat(A.h.D);if(A.g!=null&&A.g.size!==0){let z=A.i;for(const W of A.g.values())z=z.concat(W.D);return z}return y(A.i)}function md(A){if(A.V&&typeof A.V=="function")return A.V();if(typeof Map<"u"&&A instanceof Map||typeof Set<"u"&&A instanceof Set)return Array.from(A.values());if(typeof A=="string")return A.split("");if(l(A)){for(var z=[],W=A.length,le=0;le<W;le++)z.push(A[le]);return z}z=[],W=0;for(le in A)z[W++]=A[le];return z}function ba(A){if(A.na&&typeof A.na=="function")return A.na();if(!A.V||typeof A.V!="function"){if(typeof Map<"u"&&A instanceof Map)return Array.from(A.keys());if(!(typeof Set<"u"&&A instanceof Set)){if(l(A)||typeof A=="string"){var z=[];A=A.length;for(var W=0;W<A;W++)z.push(W);return z}z=[],W=0;for(const le in A)z[W++]=le;return z}}}function _l(A,z){if(A.forEach&&typeof A.forEach=="function")A.forEach(z,void 0);else if(l(A)||typeof A=="string")Array.prototype.forEach.call(A,z,void 0);else for(var W=ba(A),le=md(A),xe=le.length,Te=0;Te<xe;Te++)z.call(void 0,le[Te],W&&W[Te],A)}var Fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A0(A,z){if(A){A=A.split("&");for(var W=0;W<A.length;W++){var le=A[W].indexOf("="),xe=null;if(0<=le){var Te=A[W].substring(0,le);xe=A[W].substring(le+1)}else Te=A[W];z(Te,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function ds(A){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,A instanceof ds){this.h=A.h,$u(this,A.j),this.o=A.o,this.g=A.g,xa(this,A.s),this.l=A.l;var z=A.i,W=new Sl;W.i=z.i,z.g&&(W.g=new Map(z.g),W.h=z.h),yd(this,W),this.m=A.m}else A&&(z=String(A).match(Fu))?(this.h=!1,$u(this,z[1]||"",!0),this.o=bn(z[2]||""),this.g=bn(z[3]||"",!0),xa(this,z[4]),this.l=bn(z[5]||"",!0),yd(this,z[6]||"",!0),this.m=bn(z[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}ds.prototype.toString=function(){var A=[],z=this.j;z&&A.push(bd(z,Fg,!0),":");var W=this.g;return(W||z=="file")&&(A.push("//"),(z=this.o)&&A.push(bd(z,Fg,!0),"@"),A.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&A.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&A.push("/"),A.push(bd(W,W.charAt(0)=="/"?Q1:J1,!0))),(W=this.i.toString())&&A.push("?",W),(W=this.m)&&A.push("#",bd(W,R0)),A.join("")};function ho(A){return new ds(A)}function $u(A,z,W){A.j=W?bn(z,!0):z,A.j&&(A.j=A.j.replace(/:$/,""))}function xa(A,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);A.s=z}else A.s=null}function yd(A,z,W){z instanceof Sl?(A.i=z,El(A.i,A.h)):(W||(z=bd(z,Z1)),A.i=new Sl(z,A.h))}function Jn(A,z,W){A.i.set(z,W)}function vd(A){return Jn(A,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),A}function bn(A,z){return A?z?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function bd(A,z,W){return typeof A=="string"?(A=encodeURI(A).replace(z,X1),W&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function X1(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var Fg=/[#\/\?@]/g,J1=/[#\?:]/g,Q1=/[#\?]/g,Z1=/[#\?@]/g,R0=/#/g;function Sl(A,z){this.h=this.g=null,this.i=A||null,this.j=!!z}function Ci(A){A.g||(A.g=new Map,A.h=0,A.i&&A0(A.i,function(z,W){A.add(decodeURIComponent(z.replace(/\+/g," ")),W)}))}t=Sl.prototype,t.add=function(A,z){Ci(this),this.i=null,A=Hs(this,A);var W=this.g.get(A);return W||this.g.set(A,W=[]),W.push(z),this.h+=1,this};function wa(A,z){Ci(A),z=Hs(A,z),A.g.has(z)&&(A.i=null,A.h-=A.g.get(z).length,A.g.delete(z))}function _a(A,z){return Ci(A),z=Hs(A,z),A.g.has(z)}t.forEach=function(A,z){Ci(this),this.g.forEach(function(W,le){W.forEach(function(xe){A.call(z,xe,le,this)},this)},this)},t.na=function(){Ci(this);const A=Array.from(this.g.values()),z=Array.from(this.g.keys()),W=[];for(let le=0;le<z.length;le++){const xe=A[le];for(let Te=0;Te<xe.length;Te++)W.push(z[le])}return W},t.V=function(A){Ci(this);let z=[];if(typeof A=="string")_a(this,A)&&(z=z.concat(this.g.get(Hs(this,A))));else{A=Array.from(this.g.values());for(let W=0;W<A.length;W++)z=z.concat(A[W])}return z},t.set=function(A,z){return Ci(this),this.i=null,A=Hs(this,A),_a(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[z]),this.h+=1,this},t.get=function(A,z){return A?(A=this.V(A),0<A.length?String(A[0]):z):z};function xd(A,z,W){wa(A,z),0<W.length&&(A.i=null,A.g.set(Hs(A,z),y(W)),A.h+=W.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],z=Array.from(this.g.keys());for(var W=0;W<z.length;W++){var le=z[W];const Te=encodeURIComponent(String(le)),Xe=this.V(le);for(le=0;le<Xe.length;le++){var xe=Te;Xe[le]!==""&&(xe+="="+encodeURIComponent(String(Xe[le]))),A.push(xe)}}return this.i=A.join("&")};function Hs(A,z){return z=String(z),A.j&&(z=z.toLowerCase()),z}function El(A,z){z&&!A.j&&(Ci(A),A.i=null,A.g.forEach(function(W,le){var xe=le.toLowerCase();le!=xe&&(wa(this,le),xd(this,xe,W))},A)),A.j=z}function EP(A,z){const W=new Du;if(a.Image){const le=new Image;le.onload=p(ko,W,"TestLoadImage: loaded",!0,z,le),le.onerror=p(ko,W,"TestLoadImage: error",!1,z,le),le.onabort=p(ko,W,"TestLoadImage: abort",!1,z,le),le.ontimeout=p(ko,W,"TestLoadImage: timeout",!1,z,le),a.setTimeout(function(){le.ontimeout&&le.ontimeout()},1e4),le.src=A}else z(!1)}function eS(A,z){const W=new Du,le=new AbortController,xe=setTimeout(()=>{le.abort(),ko(W,"TestPingServer: timeout",!1,z)},1e4);fetch(A,{signal:le.signal}).then(Te=>{clearTimeout(xe),Te.ok?ko(W,"TestPingServer: ok",!0,z):ko(W,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(xe),ko(W,"TestPingServer: error",!1,z)})}function ko(A,z,W,le,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),le(W)}catch{}}function CP(){this.g=new fn}function tS(A,z,W){const le=W||"";try{_l(A,function(xe,Te){let Xe=xe;u(xe)&&(Xe=it(xe)),z.push(le+Te+"="+encodeURIComponent(Xe))})}catch(xe){throw z.push(le+"type="+encodeURIComponent("_badmap")),xe}}function Bu(A){this.l=A.Ub||null,this.j=A.eb||!1}m(Bu,Be),Bu.prototype.g=function(){return new oh(this.l,this.j)},Bu.prototype.i=function(A){return function(){return A}}({});function oh(A,z){we.call(this),this.D=A,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(oh,we),t=oh.prototype,t.open=function(A,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=A,this.A=z,this.readyState=1,Ea(this)},t.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};A&&(z.body=A),(this.D||a).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Sa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nS(this)}else A.text().then(this.Ra.bind(this),this.ga.bind(this))};function nS(A){A.j.read().then(A.Pa.bind(A)).catch(A.ga.bind(A))}t.Pa=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var z=A.value?A.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!A.done}))&&(this.response=this.responseText+=z)}A.done?Sa(this):Ea(this),this.readyState==3&&nS(this)}},t.Ra=function(A){this.g&&(this.response=this.responseText=A,Sa(this))},t.Qa=function(A){this.g&&(this.response=A,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(A){A.readyState=4,A.l=null,A.j=null,A.v=null,Ea(A)}t.setRequestHeader=function(A,z){this.u.append(A,z)},t.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],z=this.h.entries();for(var W=z.next();!W.done;)W=W.value,A.push(W[0]+": "+W[1]),W=z.next();return A.join(`\r
`)};function Ea(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function Vu(A){let z="";return N(A,function(W,le){z+=le,z+=":",z+=W,z+=`\r
`}),z}function wd(A,z,W){e:{for(le in W){var le=!1;break e}le=!0}le||(W=Vu(W),typeof A=="string"?W!=null&&encodeURIComponent(String(W)):Jn(A,z,W))}function gr(A){we.call(this),this.headers=new Map,this.o=A||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(gr,we);var TP=/^https?$/i,P0=["POST","PUT"];t=gr.prototype,t.Ha=function(A){this.J=A},t.ea=function(A,z,W,le){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);z=z?z.toUpperCase():"GET",this.D=A,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ro.g(),this.v=this.o?dt(this.o):dt(Ro),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(z,String(A),!0),this.B=!1}catch(Te){sh(this,Te);return}if(A=W||"",W=new Map(this.headers),le)if(Object.getPrototypeOf(le)===Object.prototype)for(var xe in le)W.set(xe,le[xe]);else if(typeof le.keys=="function"&&typeof le.get=="function")for(const Te of le.keys())W.set(Te,le.get(Te));else throw Error("Unknown input type for opt_headers: "+String(le));le=Array.from(W.keys()).find(Te=>Te.toLowerCase()=="content-type"),xe=a.FormData&&A instanceof a.FormData,!(0<=Array.prototype.indexOf.call(P0,z,void 0))||le||xe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,Xe]of W)this.g.setRequestHeader(Te,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bg(this),this.u=!0,this.g.send(A),this.u=!1}catch(Te){sh(this,Te)}};function sh(A,z){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=z,A.m=5,$g(A),fs(A)}function $g(A){A.A||(A.A=!0,Ae(A,"complete"),Ae(A,"error"))}t.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=A||7,Ae(this,"complete"),Ae(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),gr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?I0(this):this.bb())},t.bb=function(){I0(this)};function I0(A){if(A.h&&typeof s<"u"&&(!A.v[1]||Mo(A)!=4||A.Z()!=2)){if(A.u&&Mo(A)==4)yt(A.Ea,0,A);else if(Ae(A,"readystatechange"),Mo(A)==4){A.h=!1;try{const Xe=A.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var W;if(!(W=z)){var le;if(le=Xe===0){var xe=String(A.D).match(Fu)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),le=!TP.test(xe?xe.toLowerCase():"")}W=le}if(W)Ae(A,"complete"),Ae(A,"success");else{A.m=6;try{var Te=2<Mo(A)?A.g.statusText:""}catch{Te=""}A.l=Te+" ["+A.Z()+"]",$g(A)}}finally{fs(A)}}}}function fs(A,z){if(A.g){Bg(A);const W=A.g,le=A.v[0]?()=>{}:null;A.g=null,A.v=null,z||Ae(A,"ready");try{W.onreadystatechange=le}catch{}}}function Bg(A){A.I&&(a.clearTimeout(A.I),A.I=null)}t.isActive=function(){return!!this.g};function Mo(A){return A.g?A.g.readyState:0}t.Z=function(){try{return 2<Mo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(A){if(this.g){var z=this.g.responseText;return A&&z.indexOf(A)==0&&(z=z.substring(A.length)),Lt(z)}};function k0(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.H){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function Vg(A){const z={};A=(A.g&&2<=Mo(A)&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let le=0;le<A.length;le++){if(E(A[le]))continue;var W=D(A[le]);const xe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Te=z[xe]||[];z[xe]=Te,Te.push(W)}R(z,function(le){return le.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(A,z,W){return W&&W.internalChannelParams&&W.internalChannelParams[A]||z}function M0(A){this.Aa=0,this.i=[],this.j=new Du,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,A),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,A),this.cb=Cl("retryDelaySeedMs",1e4,A),this.Wa=Cl("forwardChannelMaxRetries",2,A),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,A),this.pa=A&&A.xmlHttpFactory||void 0,this.Xa=A&&A.Tb||void 0,this.Ca=A&&A.useFetchStreams||!1,this.L=void 0,this.J=A&&A.supportsCrossDomainXhr||!1,this.K="",this.h=new wl(A&&A.concurrentRequestLimit),this.Da=new CP,this.P=A&&A.fastHandshake||!1,this.O=A&&A.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=A&&A.Rb||!1,A&&A.xa&&this.j.xa(),A&&A.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&A&&A.detectBufferingProxy||!1,this.ja=void 0,A&&A.longPollingTimeout&&0<A.longPollingTimeout&&(this.ja=A.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M0.prototype,t.la=8,t.G=1,t.connect=function(A,z,W,le){_r(0),this.W=A,this.H=z||{},W&&le!==void 0&&(this.H.OSID=W,this.H.OAID=le),this.F=this.X,this.I=sS(this,null,this.W),Tl(this)};function Ti(A){if(zg(A),A.G==3){var z=A.U++,W=ho(A.I);if(Jn(W,"SID",A.K),Jn(W,"RID",z),Jn(W,"TYPE","terminate"),zu(A,W),z=new Po(A,A.j,z),z.L=2,z.v=vd(ho(W)),W=!1,a.navigator&&a.navigator.sendBeacon)try{W=a.navigator.sendBeacon(z.v.toString(),"")}catch{}!W&&a.Image&&(new Image().src=z.v,W=!0),W||(z.g=aS(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Wn(z)}oS(A)}function Ca(A){A.g&&(N0(A),A.g.cancel(),A.g=null)}function zg(A){Ca(A),A.u&&(a.clearTimeout(A.u),A.u=null),qg(A),A.h.cancel(),A.s&&(typeof A.s=="number"&&a.clearTimeout(A.s),A.s=null)}function Tl(A){if(!fo(A.h)&&!A.s){A.s=!0;var z=A.Ga;J||j(),ee||(J(),ee=!0),X.add(z,A),A.B=0}}function AP(A,z){return Dg(A.h)>=A.h.j-(A.s?1:0)?!1:A.s?(A.i=z.D.concat(A.i),!0):A.G==1||A.G==2||A.B>=(A.Va?0:A.Wa)?!1:(A.s=us(h(A.Ga,A,z),iS(A,A.B)),A.B++,!0)}t.Ga=function(A){if(this.s)if(this.s=null,this.G==1){if(!A){this.U=Math.floor(1e5*Math.random()),A=this.U++;const xe=new Po(this,this.j,A);let Te=this.o;if(this.S&&(Te?(Te=M(Te),k(Te,this.S)):Te=this.S),this.m!==null||this.O||(xe.H=Te,Te=null),this.P)e:{for(var z=0,W=0;W<this.i.length;W++){t:{var le=this.i[W];if("__data__"in le.map&&(le=le.map.__data__,typeof le=="string")){le=le.length;break t}le=void 0}if(le===void 0)break;if(z+=le,4096<z){z=W;break e}if(z===4096||W===this.i.length-1){z=W+1;break e}}z=1e3}else z=1e3;z=_d(this,xe,z),W=ho(this.I),Jn(W,"RID",A),Jn(W,"CVER",22),this.D&&Jn(W,"X-HTTP-Session-Id",this.D),zu(this,W),Te&&(this.O?z="headers="+encodeURIComponent(String(Vu(Te)))+"&"+z:this.m&&wd(W,this.m,Te)),ih(this.h,xe),this.Ua&&Jn(W,"TYPE","init"),this.P?(Jn(W,"$req",z),Jn(W,"SID","null"),xe.T=!0,gd(xe,W,null)):gd(xe,W,z),this.G=2}}else this.G==3&&(A?Ug(this,A):this.i.length==0||fo(this.h)||Ug(this))};function Ug(A,z){var W;z?W=z.l:W=A.U++;const le=ho(A.I);Jn(le,"SID",A.K),Jn(le,"RID",W),Jn(le,"AID",A.T),zu(A,le),A.m&&A.o&&wd(le,A.m,A.o),W=new Po(A,A.j,W,A.B+1),A.m===null&&(W.H=A.o),z&&(A.i=z.D.concat(A.i)),z=_d(A,W,1e3),W.I=Math.round(.5*A.wa)+Math.round(.5*A.wa*Math.random()),ih(A.h,W),gd(W,le,z)}function zu(A,z){A.H&&N(A.H,function(W,le){Jn(z,le,W)}),A.l&&_l({},function(W,le){Jn(z,le,W)})}function _d(A,z,W){W=Math.min(A.i.length,W);var le=A.l?h(A.l.Na,A.l,A):null;e:{var xe=A.i;let Te=-1;for(;;){const Xe=["count="+W];Te==-1?0<W?(Te=xe[0].g,Xe.push("ofs="+Te)):Te=0:Xe.push("ofs="+Te);let Un=!0;for(let ni=0;ni<W;ni++){let Sn=xe[ni].g;const pi=xe[ni].map;if(Sn-=Te,0>Sn)Te=Math.max(0,xe[ni].g-100),Un=!1;else try{tS(pi,Xe,"req"+Sn+"_")}catch{le&&le(pi)}}if(Un){le=Xe.join("&");break e}}}return A=A.i.splice(0,W),z.D=A,le}function ah(A){if(!A.g&&!A.u){A.Y=1;var z=A.Fa;J||j(),ee||(J(),ee=!0),X.add(z,A),A.v=0}}function Hg(A){return A.g||A.u||3<=A.v?!1:(A.Y++,A.u=us(h(A.Fa,A),iS(A,A.v)),A.v++,!0)}t.Fa=function(){if(this.u=null,rS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var A=2*this.R;this.j.info("BP detection timer enabled: "+A),this.A=us(h(this.ab,this),A)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_r(10),Ca(this),rS(this))};function N0(A){A.A!=null&&(a.clearTimeout(A.A),A.A=null)}function rS(A){A.g=new Po(A,A.j,"rpc",A.Y),A.m===null&&(A.g.H=A.o),A.g.O=0;var z=ho(A.qa);Jn(z,"RID","rpc"),Jn(z,"SID",A.K),Jn(z,"AID",A.T),Jn(z,"CI",A.F?"0":"1"),!A.F&&A.ja&&Jn(z,"TO",A.ja),Jn(z,"TYPE","xmlhttp"),zu(A,z),A.m&&A.o&&wd(z,A.m,A.o),A.L&&(A.g.I=A.L);var W=A.g;A=A.ia,W.L=1,W.v=vd(ho(z)),W.m=null,W.P=!0,nh(W,A)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),Hg(this),_r(19))};function qg(A){A.C!=null&&(a.clearTimeout(A.C),A.C=null)}function jg(A,z){var W=null;if(A.g==z){qg(A),N0(A),A.g=null;var le=2}else if(Ei(A.h,z))W=z.D,Lg(A.h,z),le=1;else return;if(A.G!=0){if(z.o)if(le==1){W=z.m?z.m.length:0,z=Date.now()-z.F;var xe=A.B;le=Si(),Ae(le,new dd(le,W)),Tl(A)}else ah(A);else if(xe=z.s,xe==3||xe==0&&0<z.X||!(le==1&&AP(A,z)||le==2&&Hg(A)))switch(W&&0<W.length&&(z=A.h,z.i=z.i.concat(W)),xe){case 1:Uu(A,5);break;case 4:Uu(A,10);break;case 3:Uu(A,6);break;default:Uu(A,2)}}}function iS(A,z){let W=A.Ta+Math.floor(Math.random()*A.cb);return A.isActive()||(W*=2),W*z}function Uu(A,z){if(A.j.info("Error code "+z),z==2){var W=h(A.fb,A),le=A.Xa;const xe=!le;le=new ds(le||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(le,"https"),vd(le),xe?EP(le.toString(),W):eS(le.toString(),W)}else _r(2);A.G=0,A.l&&A.l.sa(z),oS(A),zg(A)}t.fb=function(A){A?(this.j.info("Successfully pinged google.com"),_r(2)):(this.j.info("Failed to ping google.com"),_r(1))};function oS(A){if(A.G=0,A.ka=[],A.l){const z=Og(A.h);(z.length!=0||A.i.length!=0)&&(x(A.ka,z),x(A.ka,A.i),A.h.i.length=0,y(A.i),A.i.length=0),A.l.ra()}}function sS(A,z,W){var le=W instanceof ds?ho(W):new ds(W);if(le.g!="")z&&(le.g=z+"."+le.g),xa(le,le.s);else{var xe=a.location;le=xe.protocol,z=z?z+"."+xe.hostname:xe.hostname,xe=+xe.port;var Te=new ds(null);le&&$u(Te,le),z&&(Te.g=z),xe&&xa(Te,xe),W&&(Te.l=W),le=Te}return W=A.D,z=A.ya,W&&z&&Jn(le,W,z),Jn(le,"VER",A.la),zu(A,le),le}function aS(A,z,W){if(z&&!A.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=A.Ca&&!A.pa?new gr(new Bu({eb:W})):new gr(A.pa),z.Ha(A.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function D0(){}t=D0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wg(){}Wg.prototype.g=function(A,z){return new po(A,z)};function po(A,z){we.call(this),this.g=new M0(z),this.l=A,this.h=z&&z.messageUrlParams||null,A=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(A?A["X-WebChannel-Content-Type"]=z.messageContentType:A={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(A?A["X-WebChannel-Client-Profile"]=z.va:A={"X-WebChannel-Client-Profile":z.va}),this.g.S=A,(A=z&&z.Sb)&&!E(A)&&(this.g.m=A),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!E(z)&&(this.g.D=z,A=this.h,A!==null&&z in A&&(A=this.h,z in A&&delete A[z])),this.j=new Al(this)}m(po,we),po.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},po.prototype.close=function(){Ti(this.g)},po.prototype.o=function(A){var z=this.g;if(typeof A=="string"){var W={};W.__data__=A,A=W}else this.u&&(W={},W.__data__=it(A),A=W);z.i.push(new Ng(z.Ya++,A)),z.G==3&&Tl(z)},po.prototype.N=function(){this.g.l=null,delete this.j,Ti(this.g),delete this.g,po.aa.N.call(this)};function lS(A){hn.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var z=A.__sm__;if(z){e:{for(const W in z){A=W;break e}A=void 0}(this.i=A)&&(A=this.i,z=z!==null&&A in z?z[A]:void 0),this.data=z}else this.data=A}m(lS,hn);function uS(){nr.call(this),this.status=1}m(uS,nr);function Al(A){this.g=A}m(Al,D0),Al.prototype.ua=function(){Ae(this.g,"a")},Al.prototype.ta=function(A){Ae(this.g,new lS(A))},Al.prototype.sa=function(A){Ae(this.g,new uS)},Al.prototype.ra=function(){Ae(this.g,"b")},Wg.prototype.createWebChannel=Wg.prototype.g,po.prototype.send=po.prototype.o,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,BQ=function(){return new Wg},$Q=function(){return Si()},FQ=Nn,OL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hd.NO_ERROR=0,hd.TIMEOUT=8,hd.HTTP_ERROR=6,lC=hd,Rg.COMPLETE="complete",OQ=Rg,$t.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",we.prototype.listen=we.prototype.K,zb=$t,gr.prototype.listenOnce=gr.prototype.L,gr.prototype.getLastError=gr.prototype.Ka,gr.prototype.getLastErrorCode=gr.prototype.Ba,gr.prototype.getStatus=gr.prototype.Z,gr.prototype.getResponseJson=gr.prototype.Oa,gr.prototype.getResponseText=gr.prototype.oa,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Ha,LQ=gr}).apply(typeof pE<"u"?pE:typeof self<"u"?self:typeof window<"u"?window:{});const J6="@firebase/firestore",Q6="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}no.UNAUTHENTICATED=new no(null),no.GOOGLE_CREDENTIALS=new no("google-credentials-uid"),no.FIRST_PARTY=new no("first-party-uid"),no.MOCK_USER=new no("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new aQ("@firebase/firestore");function Nm(){return Hp.logLevel}function ot(t,...e){if(Hp.logLevel<=An.DEBUG){const n=e.map(o5);Hp.debug(`Firestore (${o0}): ${t}`,...n)}}function Kc(t,...e){if(Hp.logLevel<=An.ERROR){const n=e.map(o5);Hp.error(`Firestore (${o0}): ${t}`,...n)}}function Mv(t,...e){if(Hp.logLevel<=An.WARN){const n=e.map(o5);Hp.warn(`Firestore (${o0}): ${t}`,...n)}}function o5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VQ(t,r,n)}function VQ(t,e,n){let r=`FIRESTORE (${o0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kc(r),new Error(r)}function zn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VQ(e,i,r)}function Xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ag{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(no.UNAUTHENTICATED))}shutdown(){}}class Mve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nve{constructor(e){this.t=e,this.currentUser=no.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $c;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $c,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $c)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zn(typeof r.accessToken=="string",31837,{l:r}),new zQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zn(e===null||typeof e=="string",2055,{h:e}),new no(e)}}class Dve{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=no.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lve{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Dve(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(no.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ove{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dQ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){zn(this.o===void 0,3512);const r=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z6(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Z6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Fve(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function an(t,e){return t<e?-1:t>e?1:0}function FL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return an(r,i);{const o=UQ(),s=$ve(o.encode(eU(t,n)),o.encode(eU(e,n)));return s!==0?s:an(r,i)}}n+=r>65535?2:1}return an(t.length,e.length)}function eU(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function $ve(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return an(t[n],e[n]);return an(t.length,e.length)}function Nv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=-62135596800,nU=1e6;class fi{static now(){return fi.fromMillis(Date.now())}static fromDate(e){return fi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nU);return new fi(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ft(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tU)throw new ft(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nU}_compareTo(e){return this.seconds===e.seconds?an(this.nanoseconds,e.nanoseconds):an(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new fi(0,0))}static max(){return new Kt(new fi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="__name__";class Bl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Vt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Vt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Bl.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return an(e.length,n.length)}static compareSegments(e,n){const r=Bl.isNumericId(e),i=Bl.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bl.extractNumericId(e).compare(Bl.extractNumericId(n)):FL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pf.fromString(e.substring(4,e.length-2))}}class hr extends Bl{construct(e,n,r){return new hr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ft(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new hr(n)}static emptyPath(){return new hr([])}}const Bve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vi extends Bl{construct(e,n,r){return new Vi(e,n,r)}static isValidIdentifier(e){return Bve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rU}static keyField(){return new Vi([rU])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ft(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ft(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ft(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ft(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vi(n)}static emptyPath(){return new Vi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(hr.fromString(e))}static fromName(e){return new Nt(hr.fromString(e).popFirst(5))}static empty(){return new Nt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new hr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=-1;function Vve(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Kt.fromTimestamp(r===1e9?new fi(n+1,0):new fi(n,r));return new Mf(i,Nt.empty(),e)}function zve(t){return new Mf(t.readTime,t.key,ew)}class Mf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mf(Kt.min(),Nt.empty(),ew)}static max(){return new Mf(Kt.max(),Nt.empty(),ew)}}function Uve(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Nt.comparator(t.documentKey,e.documentKey),n!==0?n:an(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qve{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==Hve)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ne?n:Ne.resolve(n)}catch(n){return Ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ne.reject(n)}static resolve(e){return new Ne((n,r)=>{n(e)})}static reject(e){return new Ne((n,r)=>{r(e)})}static waitFor(e){return new Ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ne.resolve(!1);for(const r of e)n=n.next(i=>i?Ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Ne((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function jve(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function a0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}QA.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=-1;function ZA(t){return t==null}function xT(t){return t===0&&1/t==-1/0}function Wve(t){return typeof t=="number"&&Number.isInteger(t)&&!xT(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="";function Gve(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iU(e)),e=Kve(t.get(n),e);return iU(e)}function Kve(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case qQ:n+="";break;default:n+=o}}return n}function iU(t){return t+qQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lg(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.comparator=e,this.root=n||Fi.EMPTY}insert(e,n){return new Rr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fi.BLACK,null,null))}remove(e){return new Rr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gE(this.root,e,this.comparator,!1)}getReverseIterator(){return new gE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gE(this.root,e,this.comparator,!0)}}class gE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Fi.RED,this.left=i??Fi.EMPTY,this.right=o??Fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Fi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Fi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}}Fi.EMPTY=null,Fi.RED=!0,Fi.BLACK=!1;Fi.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Fi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.comparator=e,this.data=new Rr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sU(this.data.getIterator())}getIteratorFrom(e){return new sU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hi(this.comparator);return n.data=e,n}}class sU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.fields=e,e.sort(Vi.comparator)}static empty(){return new nl([])}unionWith(e){let n=new hi(Vi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Nv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WQ("Invalid base64 string: "+o):o}}(e);return new Ui(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ui(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return an(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const Yve=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nf(t){if(zn(!!t,39018),typeof t=="string"){let e=0;const n=Yve.exec(t);if(zn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(t.seconds),nanos:Vr(t.nanos)}}function Vr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Df(t){return typeof t=="string"?Ui.fromBase64String(t):Ui.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ="server_timestamp",KQ="__type__",YQ="__previous_value__",XQ="__local_write_time__";function a5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KQ])===null||n===void 0?void 0:n.stringValue)===GQ}function eR(t){const e=t.mapValue.fields[YQ];return a5(e)?eR(e):e}function tw(t){const e=Nf(t.mapValue.fields[XQ].timestampValue);return new fi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xve{constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const wT="(default)";class nw{constructor(e,n){this.projectId=e,this.database=n||wT}static empty(){return new nw("","")}get isDefaultDatabase(){return this.database===wT}isEqual(e){return e instanceof nw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ="__type__",Jve="__max__",mE={mapValue:{}},QQ="__vector__",_T="value";function Lf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a5(t)?4:Zve(t)?9007199254740991:Qve(t)?10:11:Vt(28295,{value:t})}function Cu(t,e){if(t===e)return!0;const n=Lf(t);if(n!==Lf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tw(t).isEqual(tw(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Nf(i.timestampValue),a=Nf(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Df(i.bytesValue).isEqual(Df(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Vr(i.geoPointValue.latitude)===Vr(o.geoPointValue.latitude)&&Vr(i.geoPointValue.longitude)===Vr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Vr(i.integerValue)===Vr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Vr(i.doubleValue),a=Vr(o.doubleValue);return s===a?xT(s)===xT(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Nv(t.arrayValue.values||[],e.arrayValue.values||[],Cu);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oU(s)!==oU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Cu(s[l],a[l])))return!1;return!0}(t,e);default:return Vt(52216,{left:t})}}function rw(t,e){return(t.values||[]).find(n=>Cu(n,e))!==void 0}function Dv(t,e){if(t===e)return 0;const n=Lf(t),r=Lf(e);if(n!==r)return an(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return an(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Vr(o.integerValue||o.doubleValue),l=Vr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return aU(t.timestampValue,e.timestampValue);case 4:return aU(tw(t),tw(e));case 5:return FL(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Df(o),l=Df(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=an(a[u],l[u]);if(c!==0)return c}return an(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=an(Vr(o.latitude),Vr(s.latitude));return a!==0?a:an(Vr(o.longitude),Vr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lU(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},p=(a=d[_T])===null||a===void 0?void 0:a.arrayValue,m=(l=h[_T])===null||l===void 0?void 0:l.arrayValue,y=an(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:lU(p,m)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===mE.mapValue&&s===mE.mapValue)return 0;if(o===mE.mapValue)return 1;if(s===mE.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=FL(l[d],c[d]);if(h!==0)return h;const p=Dv(a[l[d]],u[c[d]]);if(p!==0)return p}return an(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Vt(23264,{Pe:n})}}function aU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return an(t,e);const n=Nf(t),r=Nf(e),i=an(n.seconds,r.seconds);return i!==0?i:an(n.nanos,r.nanos)}function lU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Dv(n[i],r[i]);if(o)return o}return an(n.length,r.length)}function Lv(t){return $L(t)}function $L(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Nf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Df(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Nt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=$L(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${$L(n.fields[s])}`;return i+"}"}(t.mapValue):Vt(61005,{value:t})}function uC(t){switch(Lf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eR(t);return e?16+uC(e):16;case 5:return 2*t.stringValue.length;case 6:return Df(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+uC(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return lg(r.fields,(o,s)=>{i+=o.length+uC(s)}),i}(t.mapValue);default:throw Vt(13486,{value:t})}}function uU(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BL(t){return!!t&&"integerValue"in t}function l5(t){return!!t&&"arrayValue"in t}function cU(t){return!!t&&"nullValue"in t}function dU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cC(t){return!!t&&"mapValue"in t}function Qve(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JQ])===null||n===void 0?void 0:n.stringValue)===QQ}function Ex(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lg(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ex(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ex(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zve(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Jve}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.value=e}static empty(){return new aa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cC(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ex(n)}setAll(e){let n=Vi.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ex(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cC(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){lg(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new aa(Ex(this.value))}}function ZQ(t){const e=[];return lg(t.fields,(n,r)=>{const i=new Vi([n]);if(cC(r)){const o=ZQ(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new nl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new io(e,0,Kt.min(),Kt.min(),Kt.min(),aa.empty(),0)}static newFoundDocument(e,n,r,i){return new io(e,1,n,Kt.min(),r,i,0)}static newNoDocument(e,n){return new io(e,2,n,Kt.min(),Kt.min(),aa.empty(),0)}static newUnknownDocument(e,n){return new io(e,3,n,Kt.min(),Kt.min(),aa.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=aa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=aa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof io&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new io(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.position=e,this.inclusive=n}}function fU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Nt.comparator(Nt.fromName(s.referenceValue),n.key):r=Dv(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n="asc"){this.field=e,this.dir=n}}function e0e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{}class Qr extends eZ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n0e(e,n,r):n==="array-contains"?new o0e(e,r):n==="in"?new s0e(e,r):n==="not-in"?new a0e(e,r):n==="array-contains-any"?new l0e(e,r):new Qr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r0e(e,r):new i0e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dv(n,this.value)):n!==null&&Lf(this.value)===Lf(n)&&this.matchesComparison(Dv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sl extends eZ{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new sl(e,n)}matches(e){return tZ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tZ(t){return t.op==="and"}function nZ(t){return t0e(t)&&tZ(t)}function t0e(t){for(const e of t.filters)if(e instanceof sl)return!1;return!0}function VL(t){if(t instanceof Qr)return t.field.canonicalString()+t.op.toString()+Lv(t.value);if(nZ(t))return t.filters.map(e=>VL(e)).join(",");{const e=t.filters.map(n=>VL(n)).join(",");return`${t.op}(${e})`}}function rZ(t,e){return t instanceof Qr?function(r,i){return i instanceof Qr&&r.op===i.op&&r.field.isEqual(i.field)&&Cu(r.value,i.value)}(t,e):t instanceof sl?function(r,i){return i instanceof sl&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rZ(s,i.filters[a]),!0):!1}(t,e):void Vt(19439)}function iZ(t){return t instanceof Qr?function(n){return`${n.field.canonicalString()} ${n.op} ${Lv(n.value)}`}(t):t instanceof sl?function(n){return n.op.toString()+" {"+n.getFilters().map(iZ).join(" ,")+"}"}(t):"Filter"}class n0e extends Qr{constructor(e,n,r){super(e,n,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const n=Nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class r0e extends Qr{constructor(e,n){super(e,"in",n),this.keys=oZ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i0e extends Qr{constructor(e,n){super(e,"not-in",n),this.keys=oZ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oZ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class o0e extends Qr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l5(n)&&rw(n.arrayValue,this.value)}}class s0e extends Qr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rw(this.value.arrayValue,n)}}class a0e extends Qr{constructor(e,n){super(e,"not-in",n)}matches(e){if(rw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rw(this.value.arrayValue,n)}}class l0e extends Qr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rw(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0e{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}}function pU(t,e=null,n=[],r=[],i=null,o=null,s=null){return new u0e(t,e,n,r,i,o,s)}function u5(t){const e=Xt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>VL(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ZA(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lv(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lv(r)).join(",")),e.Ie=n}return e.Ie}function c5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e0e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rZ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hU(t.startAt,e.startAt)&&hU(t.endAt,e.endAt)}function zL(t){return Nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c0e(t,e,n,r,i,o,s,a){return new p1(t,e,n,r,i,o,s,a)}function d5(t){return new p1(t)}function gU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sZ(t){return t.collectionGroup!==null}function Cx(t){const e=Xt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new hi(Vi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ET(o,r))}),n.has(Vi.keyField().canonicalString())||e.Ee.push(new ET(Vi.keyField(),r))}return e.Ee}function gu(t){const e=Xt(t);return e.de||(e.de=d0e(e,Cx(t))),e.de}function d0e(t,e){if(t.limitType==="F")return pU(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ET(i.field,o)});const n=t.endAt?new ST(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ST(t.startAt.position,t.startAt.inclusive):null;return pU(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function UL(t,e){const n=t.filters.concat([e]);return new p1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function HL(t,e,n){return new p1(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tR(t,e){return c5(gu(t),gu(e))&&t.limitType===e.limitType}function aZ(t){return`${u5(gu(t))}|lt:${t.limitType}`}function Dm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iZ(i)).join(", ")}]`),ZA(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lv(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lv(i)).join(",")),`Target(${r})`}(gu(t))}; limitType=${t.limitType})`}function nR(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cx(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Cx(r),i)||r.endAt&&!function(s,a,l){const u=fU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Cx(r),i))}(t,e)}function f0e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lZ(t){return(e,n)=>{let r=!1;for(const i of Cx(t)){const o=h0e(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h0e(t,e,n){const r=t.field.isKeyField()?Nt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Dv(l,u):Vt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Vt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lg(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return jQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0e=new Rr(Nt.comparator);function Yc(){return p0e}const uZ=new Rr(Nt.comparator);function Ub(...t){let e=uZ;for(const n of t)e=e.insert(n.key,n);return e}function cZ(t){let e=uZ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lh(){return Tx()}function dZ(){return Tx()}function Tx(){return new ug(t=>t.toString(),(t,e)=>t.isEqual(e))}const g0e=new Rr(Nt.comparator),m0e=new hi(Nt.comparator);function yn(...t){let e=m0e;for(const n of t)e=e.add(n);return e}const y0e=new hi(an);function v0e(){return y0e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xT(e)?"-0":e}}function fZ(t){return{integerValue:""+t}}function b0e(t,e){return Wve(e)?fZ(e):f5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this._=void 0}}function x0e(t,e,n){return t instanceof CT?function(i,o){const s={fields:{[KQ]:{stringValue:GQ},[XQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&a5(o)&&(o=eR(o)),o&&(s.fields[YQ]=o),{mapValue:s}}(n,e):t instanceof iw?pZ(t,e):t instanceof ow?gZ(t,e):function(i,o){const s=hZ(i,o),a=mU(s)+mU(i.Re);return BL(s)&&BL(i.Re)?fZ(a):f5(i.serializer,a)}(t,e)}function w0e(t,e,n){return t instanceof iw?pZ(t,e):t instanceof ow?gZ(t,e):n}function hZ(t,e){return t instanceof TT?function(r){return BL(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class CT extends rR{}class iw extends rR{constructor(e){super(),this.elements=e}}function pZ(t,e){const n=mZ(e);for(const r of t.elements)n.some(i=>Cu(i,r))||n.push(r);return{arrayValue:{values:n}}}class ow extends rR{constructor(e){super(),this.elements=e}}function gZ(t,e){let n=mZ(e);for(const r of t.elements)n=n.filter(i=>!Cu(i,r));return{arrayValue:{values:n}}}class TT extends rR{constructor(e,n){super(),this.serializer=e,this.Re=n}}function mU(t){return Vr(t.integerValue||t.doubleValue)}function mZ(t){return l5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _0e(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof iw&&i instanceof iw||r instanceof ow&&i instanceof ow?Nv(r.elements,i.elements,Cu):r instanceof TT&&i instanceof TT?Cu(r.Re,i.Re):r instanceof CT&&i instanceof CT}(t.transform,e.transform)}class S0e{constructor(e,n){this.version=e,this.transformResults=n}}class Bc{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bc}static exists(e){return new Bc(void 0,e)}static updateTime(e){return new Bc(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dC(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iR{}function yZ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bZ(t.key,Bc.none()):new g1(t.key,t.data,Bc.none());{const n=t.data,r=aa.empty();let i=new hi(Vi.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cg(t.key,r,new nl(i.toArray()),Bc.none())}}function E0e(t,e,n){t instanceof g1?function(i,o,s){const a=i.value.clone(),l=vU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cg?function(i,o,s){if(!dC(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=vU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(vZ(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ax(t,e,n,r){return t instanceof g1?function(o,s,a,l){if(!dC(o.precondition,s))return a;const u=o.value.clone(),c=bU(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof cg?function(o,s,a,l){if(!dC(o.precondition,s))return a;const u=bU(o.fieldTransforms,l,s),c=s.data;return c.setAll(vZ(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return dC(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function C0e(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=hZ(r.transform,i||null);o!=null&&(n===null&&(n=aa.empty()),n.set(r.field,o))}return n||null}function yU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Nv(r,i,(o,s)=>_0e(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class g1 extends iR{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cg extends iR{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vZ(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vU(t,e,n){const r=new Map;zn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,w0e(s,a,n[i]))}return r}function bU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,x0e(o,s,e))}return r}class bZ extends iR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T0e extends iR{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0e{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&E0e(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ax(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ax(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dZ();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=yZ(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Kt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yn())}isEqual(e){return this.batchId===e.batchId&&Nv(this.mutations,e.mutations,(n,r)=>yU(n,r))&&Nv(this.baseMutations,e.baseMutations,(n,r)=>yU(n,r))}}class h5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){zn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return g0e}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new h5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gr,En;function I0e(t){switch(t){case Le.OK:return Vt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return Vt(15467,{code:t})}}function xZ(t){if(t===void 0)return Kc("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Gr.OK:return Le.OK;case Gr.CANCELLED:return Le.CANCELLED;case Gr.UNKNOWN:return Le.UNKNOWN;case Gr.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Gr.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Gr.INTERNAL:return Le.INTERNAL;case Gr.UNAVAILABLE:return Le.UNAVAILABLE;case Gr.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Gr.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Gr.NOT_FOUND:return Le.NOT_FOUND;case Gr.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Gr.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Gr.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Gr.ABORTED:return Le.ABORTED;case Gr.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Gr.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Gr.DATA_LOSS:return Le.DATA_LOSS;default:return Vt(39323,{code:t})}}(En=Gr||(Gr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0e=new Pf([4294967295,4294967295],0);function xU(t){const e=UQ().encode(t),n=new DQ;return n.update(e),new Uint8Array(n.digest())}function wU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pf([n,r],0),new Pf([i,o],0)]}class p5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hb(`Invalid padding: ${n}`);if(r<0)throw new Hb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hb(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hb(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Pf.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Pf.fromNumber(r)));return i.compare(k0e)===1&&(i=new Pf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=xU(e),[r,i]=wU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new p5(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;const n=xU(e),[r,i]=wU(n);for(let o=0;o<this.hashCount;o++){const s=this.we(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,m1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oR(Kt.min(),i,new Rr(an),Yc(),yn())}}class m1{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new m1(r,n,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class wZ{constructor(e,n){this.targetId=e,this.Ce=n}}class _Z{constructor(e,n,r=Ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _U{constructor(){this.Fe=0,this.Me=SU(),this.xe=Ui.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=yn(),n=yn(),r=yn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Vt(38017,{changeType:o})}}),new m1(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=SU()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,zn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class M0e{constructor(e){this.ze=e,this.je=new Map,this.He=Yc(),this.Je=yE(),this.Ye=yE(),this.Ze=new Rr(an)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Vt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const o=i.target;if(zL(o))if(r===0){const s=new Nt(o.path);this.tt(n,s,io.newNoDocument(s,Kt.min()))}else zn(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Df(r).toUint8Array()}catch(l){if(l instanceof WQ)return Mv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new p5(s,i,o)}catch(l){return Mv(l instanceof Hb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){const n=new Map;this.je.forEach((o,s)=>{const a=this._t(s);if(a){if(o.current&&zL(a.target)){const l=new Nt(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,io.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=yn();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));const i=new oR(e,n,this.Ze,this.He,r);return this.He=Yc(),this.Je=yE(),this.Ye=yE(),this.Ze=new Rr(an),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new _U,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hi(an),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hi(an),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _U),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function yE(){return new Rr(Nt.comparator)}function SU(){return new Rr(Nt.comparator)}const N0e={asc:"ASCENDING",desc:"DESCENDING"},D0e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L0e={and:"AND",or:"OR"};class O0e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qL(t,e){return t.useProto3Json||ZA(e)?e:{value:e}}function AT(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SZ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function F0e(t,e){return AT(t,e.toTimestamp())}function mu(t){return zn(!!t,49232),Kt.fromTimestamp(function(n){const r=Nf(n);return new fi(r.seconds,r.nanos)}(t))}function g5(t,e){return jL(t,e).canonicalString()}function jL(t,e){const n=function(i){return new hr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EZ(t){const e=hr.fromString(t);return zn(PZ(e),10190,{key:e.toString()}),e}function WL(t,e){return g5(t.databaseId,e.path)}function bk(t,e){const n=EZ(e);if(n.get(1)!==t.databaseId.projectId)throw new ft(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ft(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Nt(TZ(n))}function CZ(t,e){return g5(t.databaseId,e)}function $0e(t){const e=EZ(t);return e.length===4?hr.emptyPath():TZ(e)}function GL(t){return new hr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TZ(t){return zn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EU(t,e,n){return{name:WL(t,e),fields:n.value.mapValue.fields}}function B0e(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Vt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(zn(c===void 0||typeof c=="string",58123),Ui.fromBase64String(c||"")):(zn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Ui.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?Le.UNKNOWN:xZ(u.code);return new ft(c,u.message||"")}(s);n=new _Z(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bk(t,r.document.name),o=mu(r.document.updateTime),s=r.document.createTime?mu(r.document.createTime):Kt.min(),a=new aa({mapValue:{fields:r.document.fields}}),l=io.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fC(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bk(t,r.document),o=r.readTime?mu(r.readTime):Kt.min(),s=io.newNoDocument(i,o),a=r.removedTargetIds||[];n=new fC([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bk(t,r.document),o=r.removedTargetIds||[];n=new fC([],o,i,null)}else{if(!("filter"in e))return Vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new P0e(i,o),a=r.targetId;n=new wZ(a,s)}}return n}function V0e(t,e){let n;if(e instanceof g1)n={update:EU(t,e.key,e.value)};else if(e instanceof bZ)n={delete:WL(t,e.key)};else if(e instanceof cg)n={update:EU(t,e.key,e.data),updateMask:Y0e(e.fieldMask)};else{if(!(e instanceof T0e))return Vt(16599,{ft:e.type});n={verify:WL(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof CT)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof iw)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ow)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof TT)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Vt(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:F0e(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Vt(27497)}(t,e.precondition)),n}function z0e(t,e){return t&&t.length>0?(zn(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?mu(i.updateTime):mu(o);return s.isEqual(Kt.min())&&(s=mu(o)),new S0e(s,i.transformResults||[])}(n,e))):[]}function U0e(t,e){return{documents:[CZ(t,e.path)]}}function H0e(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CZ(t,i);const o=function(u){if(u.length!==0)return RZ(sl.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Lm(h.field),direction:W0e(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=qL(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function q0e(t){let e=$0e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=AZ(d);return h instanceof sl&&nZ(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new ET(Om(m.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,ZA(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new ST(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new ST(p,h)}(n.endAt)),c0e(e,i,s,o,a,"F",l,u)}function j0e(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AZ(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Om(n.unaryFilter.field);return Qr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Om(n.unaryFilter.field);return Qr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Om(n.unaryFilter.field);return Qr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Om(n.unaryFilter.field);return Qr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qr.create(Om(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sl.create(n.compositeFilter.filters.map(r=>AZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}}(n.compositeFilter.op))}(t):Vt(30097,{filter:t})}function W0e(t){return N0e[t]}function G0e(t){return D0e[t]}function K0e(t){return L0e[t]}function Lm(t){return{fieldPath:t.canonicalString()}}function Om(t){return Vi.fromServerFormat(t.fieldPath)}function RZ(t){return t instanceof Qr?function(n){if(n.op==="=="){if(dU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NAN"}};if(cU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NOT_NAN"}};if(cU(n.value))return{unaryFilter:{field:Lm(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lm(n.field),op:G0e(n.op),value:n.value}}}(t):t instanceof sl?function(n){const r=n.getFilters().map(i=>RZ(i));return r.length===1?r[0]:{compositeFilter:{op:K0e(n.op),filters:r}}}(t):Vt(54877,{filter:t})}function Y0e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PZ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,r,i,o=Kt.min(),s=Kt.min(),a=Ui.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Sf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(e){this.wt=e}}function J0e(t){const e=q0e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?HL(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0e{constructor(){this.Cn=new Z0e}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ne.resolve()}getCollectionParents(e,n){return Ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ne.resolve()}deleteFieldIndex(e,n){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,n){return Ne.resolve()}getDocumentsMatchingTarget(e,n){return Ne.resolve(null)}getIndexType(e,n){return Ne.resolve(0)}getFieldIndexes(e,n){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,n){return Ne.resolve(Mf.min())}getMinOffsetFromCollectionGroup(e,n){return Ne.resolve(Mf.min())}updateCollectionGroup(e,n,r){return Ne.resolve()}updateIndexEntries(e,n){return Ne.resolve()}}class Z0e{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hi(hr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hi(hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IZ=41943040;class Go{static withCacheSize(e){return new Go(e,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go.DEFAULT_COLLECTION_PERCENTILE=10,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Go.DEFAULT=new Go(IZ,Go.DEFAULT_COLLECTION_PERCENTILE,Go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Go.DISABLED=new Go(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ov(0)}static lr(){return new Ov(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="LruGarbageCollector",ebe=1048576;function AU([t,e],[n,r]){const i=an(t,n);return i===0?an(e,r):i}class tbe{constructor(e){this.Er=e,this.buffer=new hi(AU),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();AU(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nbe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ot(TU,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){a0(n)?ot(TU,"Ignoring IndexedDB error during garbage collection: ",n):await s0(n)}await this.mr(3e5)})}}class rbe{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ne.resolve(QA.le);const r=new tbe(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(CU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CU):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(o=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Nm()<=An.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}function ibe(t,e){return new rbe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class obe{constructor(){this.changes=new ug(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,io.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class abe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ax(r.mutation,i,nl.empty(),fi.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yn()){const i=Lh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ub();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Lh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yc();const s=Tx(),a=function(){return Tx()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof cg)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Ax(c.mutation,u,c.mutation.getFieldMask(),fi.now())):s.set(u.key,nl.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new sbe(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tx();let i=new Rr((s,a)=>s-a),o=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||nl.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||yn()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=dZ();c.forEach(h=>{if(!o.has(h)){const p=yZ(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Nt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ne.resolve(Lh());let a=ew,l=o;return s.next(u=>Ne.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?Ne.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,yn())).next(c=>({batchId:a,changes:cZ(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Nt(n)).next(r=>{let i=Ub();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ub();return this.indexManager.getCollectionParents(e,o).next(a=>Ne.forEach(a,l=>{const u=function(d,h){return new p1(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,io.newInvalidDocument(c)))});let a=Ub();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Ax(c.mutation,u,nl.empty(),fi.now()),nR(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ne.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mu(i.createTime)}}(n)),Ne.resolve()}getNamedQuery(e,n){return Ne.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:J0e(i.bundledQuery),readTime:mu(i.readTime)}}(n)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(){this.overlays=new Rr(Nt.comparator),this.Qr=new Map}getOverlay(e,n){return Ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lh();return Ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),Ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,n,r){const i=Lh(),o=n.length+1,s=new Nt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Rr((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Lh(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Lh(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ne.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new R0e(n,r));let o=this.Qr.get(n);o===void 0&&(o=yn(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cbe{constructor(){this.sessionToken=Ui.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.$r=new hi(xi.Ur),this.Kr=new hi(xi.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new xi(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new xi(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Nt(new hr([])),r=new xi(n,e),i=new xi(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Nt(new hr([])),r=new xi(n,e),i=new xi(n,e+1);let o=yn();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xi(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xi{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Nt.comparator(e.key,n.key)||an(e.Zr,n.Zr)}static Wr(e,n){return an(e.Zr,n.Zr)||Nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dbe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hi(xi.Ur)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new A0e(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Xr=this.Xr.add(new xi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ne.resolve(s)}lookupMutationBatch(e,n){return Ne.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return Ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?s5:this.nr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xi(n,0),i=new xi(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{const a=this.ei(s.Zr);o.push(a)}),Ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hi(an);return n.forEach(i=>{const o=new xi(i,0),s=new xi(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),Ne.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Nt.isDocumentKey(o)||(o=o.child(""));const s=new xi(new Nt(o),0);let a=new hi(an);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},s),Ne.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){zn(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ne.forEach(n.mutations,i=>{const o=new xi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new xi(n,0),i=this.Xr.firstAfterOrEqual(r);return Ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fbe{constructor(e){this.ii=e,this.docs=function(){return new Rr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ne.resolve(r?r.document.mutableCopy():io.newInvalidDocument(n))}getEntries(e,n){let r=Yc();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():io.newInvalidDocument(i))}),Ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yc();const s=n.path,a=new Nt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Uve(zve(c),r)<=0||(i.has(c.key)||nR(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Vt(9500)}si(e,n){return Ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hbe(this)}getSize(e){return Ne.resolve(this.size)}}class hbe extends obe{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),Ne.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pbe{constructor(e){this.persistence=e,this.oi=new ug(n=>u5(n),c5),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this._i=0,this.ai=new m5,this.targetCount=0,this.ui=Ov.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ne.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ov(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ne.resolve()}updateTargetData(e,n){return this.Tr(n),Ne.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ne.waitFor(o).next(()=>i)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ne.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ne.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ne.resolve(r)}containsKey(e,n){return Ne.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,n){this.ci={},this.overlays={},this.li=new QA(0),this.hi=!1,this.hi=!0,this.Pi=new cbe,this.referenceDelegate=e(this),this.Ti=new pbe(this),this.indexManager=new Q0e,this.remoteDocumentCache=function(i){return new fbe(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new X0e(n),this.Ei=new lbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ube,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new dbe(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ot("MemoryPersistence","Starting transaction:",e);const i=new gbe(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return Ne.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class gbe extends qve{constructor(e){super(),this.currentSequenceNumber=e}}class y5{constructor(e){this.persistence=e,this.Vi=new m5,this.mi=null}static fi(e){return new y5(e)}get gi(){if(this.mi)return this.mi;throw Vt(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ne.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ne.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.gi,r=>{const i=Nt.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,Kt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ne.or([()=>Ne.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class RT{constructor(e,n){this.persistence=e,this.yi=new ug(r=>Gve(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ibe(this,n)}static fi(e,n){return new RT(e,n)}di(){}Ai(e){return Ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ne.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?Ne.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,Kt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ne.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uC(e.data.value)),n}Dr(e,n,r){return Ne.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=yn(),i=yn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new v5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ybe{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return nme()?8:jve(eme())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new mbe;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,s,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Nm()<=An.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Dm(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ne.resolve()):(Nm()<=An.DEBUG&&ot("QueryEngine","Query:",Dm(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Nm()<=An.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Dm(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gu(n))):Ne.resolve())}ws(e,n){if(gU(n))return Ne.resolve(null);let r=gu(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=HL(n,null,"F"),r=gu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=yn(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,s,l.readTime)?this.ws(e,HL(n,null,"F")):this.Fs(e,u,n,l)}))})))}bs(e,n,r,i){return gU(n)||i.isEqual(Kt.min())?Ne.resolve(null):this.ys.getDocuments(e,r).next(o=>{const s=this.vs(n,o);return this.Cs(n,s,r,i)?Ne.resolve(null):(Nm()<=An.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dm(n)),this.Fs(e,s,n,Vve(i,ew)).next(a=>a))})}vs(e,n){let r=new hi(lZ(e));return n.forEach((i,o)=>{nR(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Nm()<=An.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Dm(n)),this.ys.getDocumentsMatchingQuery(e,n,Mf.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="LocalStore",vbe=3e8;class bbe{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Rr(an),this.Os=new ug(o=>u5(o),c5),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new abe(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function xbe(t,e,n,r){return new bbe(t,e,n,r)}async function MZ(t,e){const n=Xt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=yn();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:s,addedBatchIds:a}))})})}function wbe(t,e){const n=Xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=Ne.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(y=>{const x=u.docVersions.get(m);zn(x!==null,48541),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=yn();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NZ(t){const e=Xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function _be(t,e){const n=Xt(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ti.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ti.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ui.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,x,_){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=vbe?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,c)&&a.push(n.Ti.updateTargetData(o,p))});let l=Yc(),u=yn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Sbe(o,s,e.documentUpdates).next(c=>{l=c.qs,u=c.Qs})),!r.isEqual(Kt.min())){const c=n.Ti.getLastRemoteSnapshotVersion(o).next(d=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.xs=i,o))}function Sbe(t,e,n){let r=yn(),i=yn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yc();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Kt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ot(b5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:s,Qs:i}})}function Ebe(t,e){const n=Xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cbe(t,e){const n=Xt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,Ne.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new Sf(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function KL(t,e,n){const r=Xt(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!a0(s))throw s;ot(b5,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function RU(t,e,n){const r=Xt(t);let i=Kt.min(),o=yn();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Xt(l),h=d.Os.get(c);return h!==void 0?Ne.resolve(d.xs.get(h)):d.Ti.getTargetData(u,c)}(r,s,gu(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:Kt.min(),n?o:yn())).next(a=>(Tbe(r,f0e(e),a),{documents:a,$s:o})))}function Tbe(t,e,n){let r=t.Ns.get(e)||Kt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class PU{constructor(){this.activeTargetIds=v0e()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Abe{constructor(){this.xo=new PU,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new PU,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rbe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="ConnectivityMonitor";class kU{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(IU,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ot(IU,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE=null;function YL(){return vE===null?vE=function(){return 268435456+Math.round(2147483648*Math.random())}():vE++,"0x"+vE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="RestConnection",Pbe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ibe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===wT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const s=YL(),a=this.jo(e,n.toUriEncodedString());ot(xk,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,o);const{host:u}=new URL(a),c=h1(u);return this.Jo(e,a,l,r,c).then(d=>(ot(xk,`Received RPC '${e}' ${s}: `,d),d),d=>{throw Mv(xk,`RPC '${e}' ${s} failed with error: `,d,"url: ",a,"request:",r),d})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+o0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=Pbe[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="WebChannelConnection";class Mbe extends Ibe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=YL();return new Promise((a,l)=>{const u=new LQ;u.setWithCredentials(!0),u.listenOnce(OQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lC.NO_ERROR:const d=u.getResponseJson();ot(Gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case lC.TIMEOUT:ot(Gi,`RPC '${e}' ${s} timed out`),l(new ft(Le.DEADLINE_EXCEEDED,"Request time out"));break;case lC.HTTP_ERROR:const h=u.getStatus();if(ot(Gi,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(E)>=0?E:Le.UNKNOWN}(m.status);l(new ft(y,m.message))}else l(new ft(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ft(Le.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{h_:e,streamId:s,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{ot(Gi,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ot(Gi,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}I_(e,n,r){const i=YL(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=BQ(),a=$Q(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ot(Gi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);this.E_(d);let h=!1,p=!1;const m=new kbe({Zo:x=>{p?ot(Gi,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ot(Gi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ot(Gi,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},Xo:()=>d.close()}),y=(x,_,E)=>{x.listen(_,S=>{try{E(S)}catch(T){setTimeout(()=>{throw T},0)}})};return y(d,zb.EventType.OPEN,()=>{p||(ot(Gi,`RPC '${e}' stream ${i} transport opened.`),m.__())}),y(d,zb.EventType.CLOSE,()=>{p||(p=!0,ot(Gi,`RPC '${e}' stream ${i} transport closed`),m.u_(),this.d_(d))}),y(d,zb.EventType.ERROR,x=>{p||(p=!0,Mv(Gi,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),m.u_(new ft(Le.UNAVAILABLE,"The operation could not be completed")))}),y(d,zb.EventType.MESSAGE,x=>{var _;if(!p){const E=x.data[0];zn(!!E,16349);const S=E,T=(S==null?void 0:S.error)||((_=S[0])===null||_===void 0?void 0:_.error);if(T){ot(Gi,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let N=function(L){const k=Gr[L];if(k!==void 0)return xZ(k)}(I),R=T.message;N===void 0&&(N=Le.INTERNAL,R="Unknown error status: "+I+" with message "+T.message),p=!0,m.u_(new ft(N,R)),d.close()}else ot(Gi,`RPC '${e}' stream ${i} received:`,E),m.c_(E)}}),y(a,FQ.STAT_EVENT,x=>{x.stat===OL.PROXY?ot(Gi,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===OL.NOPROXY&&ot(Gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.a_()},0),m}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function wk(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){return new O0e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="PersistentStream";class LZ{constructor(e,n,r,i,o,s,a,l){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new DZ(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(Kc(n.toString()),Kc("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new ft(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ot(MU,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ot(MU,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nbe extends LZ{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=B0e(this.serializer,e),r=function(o){if(!("targetChange"in o))return Kt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Kt.min():s.readTime?mu(s.readTime):Kt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=GL(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=zL(l)?{documents:U0e(o,l)}:{query:H0e(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SZ(o,s.resumeToken);const u=qL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Kt.min())>0){a.readTime=AT(o,s.snapshotVersion.toTimestamp());const u=qL(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=j0e(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=GL(this.serializer),n.removeTarget=e,this.Q_(n)}}class Dbe extends LZ{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return zn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){zn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=z0e(e.writeResults,e.commitTime),r=mu(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=GL(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>V0e(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{}class Obe extends Lbe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ft(Le.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,jL(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(Le.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,jL(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ft(Le.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Fbe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Kc(n),this.ua=!1):ot("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RemoteStore";class $be{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(async()=>{dg(this)&&(ot(qp,"Restarting streams for network reachability change."),await async function(l){const u=Xt(l);u.da.add(4),await y1(u),u.Va.set("Unknown"),u.da.delete(4),await aR(u)}(this))})}),this.Va=new Fbe(r,i)}}async function aR(t){if(dg(t))for(const e of t.Aa)await e(!0)}async function y1(t){for(const e of t.Aa)await e(!1)}function OZ(t,e){const n=Xt(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),S5(n)?_5(n):l0(n).N_()&&w5(n,e))}function x5(t,e){const n=Xt(t),r=l0(n);n.Ea.delete(e),r.N_()&&FZ(n,e),n.Ea.size===0&&(r.N_()?r.k_():dg(n)&&n.Va.set("Unknown"))}function w5(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}l0(t).Z_(e)}function FZ(t,e){t.ma.Ke(e),l0(t).X_(e)}function _5(t){t.ma=new M0e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),l0(t).start(),t.Va.ca()}function S5(t){return dg(t)&&!l0(t).O_()&&t.Ea.size>0}function dg(t){return Xt(t).da.size===0}function $Z(t){t.ma=void 0}async function Bbe(t){t.Va.set("Online")}async function Vbe(t){t.Ea.forEach((e,n)=>{w5(t,e)})}async function zbe(t,e){$Z(t),S5(t)?(t.Va.Pa(e),_5(t)):t.Va.set("Unknown")}async function Ube(t,e,n){if(t.Va.set("Online"),e instanceof _Z&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ea.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))}(t,e)}catch(r){ot(qp,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await PT(t,r)}else if(e instanceof fC?t.ma.Xe(e):e instanceof wZ?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Kt.min()))try{const r=await NZ(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.ma.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ea.get(u);c&&o.Ea.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ea.get(l);if(!c)return;o.Ea.set(l,c.withResumeToken(Ui.EMPTY_BYTE_STRING,c.snapshotVersion)),FZ(o,l);const d=new Sf(c.target,l,u,c.sequenceNumber);w5(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ot(qp,"Failed to raise snapshot:",r),await PT(t,r)}}async function PT(t,e,n){if(!a0(e))throw e;t.da.add(1),await y1(t),t.Va.set("Offline"),n||(n=()=>NZ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ot(qp,"Retrying IndexedDB access"),await n(),t.da.delete(1),await aR(t)})}function BZ(t,e){return e().catch(n=>PT(t,n,e))}async function lR(t){const e=Xt(t),n=Of(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:s5;for(;Hbe(e);)try{const i=await Ebe(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,qbe(e,i)}catch(i){await PT(e,i)}VZ(e)&&zZ(e)}function Hbe(t){return dg(t)&&t.Ia.length<10}function qbe(t,e){t.Ia.push(e);const n=Of(t);n.N_()&&n.ea&&n.ta(e.mutations)}function VZ(t){return dg(t)&&!Of(t).O_()&&t.Ia.length>0}function zZ(t){Of(t).start()}async function jbe(t){Of(t).ia()}async function Wbe(t){const e=Of(t);for(const n of t.Ia)e.ta(n.mutations)}async function Gbe(t,e,n){const r=t.Ia.shift(),i=h5.from(r,e,n);await BZ(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lR(t)}async function Kbe(t,e){e&&Of(t).ea&&await async function(r,i){if(function(s){return I0e(s)&&s!==Le.ABORTED}(i.code)){const o=r.Ia.shift();Of(r).L_(),await BZ(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await lR(r)}}(t,e),VZ(t)&&zZ(t)}async function NU(t,e){const n=Xt(t);n.asyncQueue.verifyOperationInProgress(),ot(qp,"RemoteStore received new credentials");const r=dg(n);n.da.add(3),await y1(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await aR(n)}async function Ybe(t,e){const n=Xt(t);e?(n.da.delete(2),await aR(n)):e||(n.da.add(2),await y1(n),n.Va.set("Unknown"))}function l0(t){return t.fa||(t.fa=function(n,r,i){const o=Xt(n);return o.oa(),new Nbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:Bbe.bind(null,t),n_:Vbe.bind(null,t),i_:zbe.bind(null,t),Y_:Ube.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),S5(t)?_5(t):t.Va.set("Unknown")):(await t.fa.stop(),$Z(t))})),t.fa}function Of(t){return t.ga||(t.ga=function(n,r,i){const o=Xt(n);return o.oa(),new Dbe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:jbe.bind(null,t),i_:Kbe.bind(null,t),na:Wbe.bind(null,t),ra:Gbe.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await lR(t)):(await t.ga.stop(),t.Ia.length>0&&(ot(qp,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new E5(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C5(t,e){if(Kc("AsyncQueue",`${e}: ${t}`),a0(t))return new ft(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static emptySet(e){return new vy(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Nt.comparator(n.key,r.key):(n,r)=>Nt.comparator(n.key,r.key),this.keyedMap=Ub(),this.sortedSet=new Rr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.pa=new Rr(Nt.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Vt(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fv{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Fv(e,n,vy.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xbe{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Jbe{constructor(){this.queries=LU(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xt(n),o=i.queries;i.queries=LU(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ft(Le.ABORTED,"Firestore shutting down"))}}function LU(){return new ug(t=>aZ(t),tR)}async function UZ(t,e){const n=Xt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new Xbe,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(i,!0);break;case 1:o.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=C5(s,`Initialization of query '${Dm(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&T5(n)}async function HZ(t,e){const n=Xt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qbe(t,e){const n=Xt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&T5(n)}function Zbe(t,e,n){const r=Xt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function T5(t){t.Ca.forEach(e=>{e.next()})}var XL,OU;(OU=XL||(XL={})).xa="default",OU.Cache="cache";class qZ{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Fv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==XL.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e){this.key=e}}class WZ{constructor(e){this.key=e}}class exe{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=yn(),this.mutatedKeys=yn(),this.Za=lZ(e),this.Xa=new vy(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new DU,i=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=nR(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),x=!0):this.ru(h,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.Za(p,l)>0||u&&this.Za(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),x=!0):h&&!p&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(p?(s=s.add(p),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const s=e.nu.wa();s.sort((c,d)=>function(p,m){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Vt:x})}};return y(p)-y(m)}(c.type,d.type)||this.Za(c.doc,d.doc)),this.iu(r),i=i!=null&&i;const a=n&&!i?this.su():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Ja;return this.Ja=l,s.length!==0||u?{snapshot:new Fv(this.query,e.Xa,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new DU,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=yn(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new WZ(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new jZ(r))}),n}au(e){this.Ha=e.$s,this.Ya=yn();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Fv.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const A5="SyncEngine";class txe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nxe{constructor(e){this.key=e,this.cu=!1}}class rxe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new ug(a=>aZ(a),tR),this.Pu=new Map,this.Tu=new Set,this.Iu=new Rr(Nt.comparator),this.Eu=new Map,this.du=new m5,this.Au={},this.Ru=new Map,this.Vu=Ov.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ixe(t,e,n=!0){const r=QZ(t);let i;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await GZ(r,e,n,!0),i}async function oxe(t,e){const n=QZ(t);await GZ(n,e,!0,!1)}async function GZ(t,e,n,r){const i=await Cbe(t.localStore,gu(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await sxe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&OZ(t.remoteStore,i),a}async function sxe(t,e,n,r,i){t.fu=(d,h,p)=>async function(y,x,_,E){let S=x.view.tu(_);S.Cs&&(S=await RU(y.localStore,x.query,!1).then(({documents:R})=>x.view.tu(R,S)));const T=E&&E.targetChanges.get(x.targetId),I=E&&E.targetMismatches.get(x.targetId)!=null,N=x.view.applyChanges(S,y.isPrimaryClient,T,I);return $U(y,x.targetId,N.ou),N.snapshot}(t,d,h,p);const o=await RU(t.localStore,e,!0),s=new exe(e,o.$s),a=s.tu(o.documents),l=m1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);$U(t,n,u.ou);const c=new txe(e,n,s);return t.hu.set(e,c),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function axe(t,e,n){const r=Xt(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!tR(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await KL(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x5(r.remoteStore,i.targetId),JL(r,i.targetId)}).catch(s0)):(JL(r,i.targetId),await KL(r.localStore,i.targetId,!0))}async function lxe(t,e){const n=Xt(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x5(n.remoteStore,r.targetId))}async function uxe(t,e,n){const r=mxe(t);try{const i=await function(s,a){const l=Xt(s),u=fi.now(),c=a.reduce((p,m)=>p.add(m.key),yn());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Yc(),y=yn();return l.Bs.getEntries(p,c).next(x=>{m=x,m.forEach((_,E)=>{E.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(x=>{d=x;const _=[];for(const E of a){const S=C0e(E,d.get(E.key).overlayedDocument);S!=null&&_.push(new cg(E.key,S,ZQ(S.value.mapValue),Bc.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:cZ(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Au[s.currentUser.toKey()];u||(u=new Rr(an)),u=u.insert(a,l),s.Au[s.currentUser.toKey()]=u}(r,i.batchId,n),await v1(r,i.changes),await lR(r.remoteStore)}catch(i){const o=C5(i,"Failed to persist write");n.reject(o)}}async function KZ(t,e){const n=Xt(t);try{const r=await _be(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Eu.get(o);s&&(zn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?zn(s.cu,14607):i.removedDocuments.size>0&&(zn(s.cu,42227),s.cu=!1))}),await v1(n,r,e)}catch(r){await s0(r)}}function FU(t,e,n){const r=Xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((o,s)=>{const a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Xt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Sa)h.Fa(a)&&(u=!0)}),u&&T5(l)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cxe(t,e,n){const r=Xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Rr(Nt.comparator);s=s.insert(o,io.newNoDocument(o,Kt.min()));const a=yn().add(o),l=new oR(Kt.min(),new Map,new Rr(an),s,a);await KZ(r,l),r.Iu=r.Iu.remove(o),r.Eu.delete(e),R5(r)}else await KL(r.localStore,e,!1).then(()=>JL(r,e,n)).catch(s0)}async function dxe(t,e){const n=Xt(t),r=e.batch.batchId;try{const i=await wbe(n.localStore,e);XZ(n,r,null),YZ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await v1(n,i)}catch(i){await s0(i)}}async function fxe(t,e,n){const r=Xt(t);try{const i=await function(s,a){const l=Xt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(zn(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);XZ(r,e,n),YZ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await v1(r,i)}catch(i){await s0(i)}}function YZ(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function XZ(t,e,n){const r=Xt(t);let i=r.Au[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function JL(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||JZ(t,r)})}function JZ(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(x5(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),R5(t))}function $U(t,e,n){for(const r of n)r instanceof jZ?(t.du.addReference(r.key,e),hxe(t,r)):r instanceof WZ?(ot(A5,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||JZ(t,r.key)):Vt(19791,{pu:r})}function hxe(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ot(A5,"New document in limbo: "+n),t.Tu.add(r),R5(t))}function R5(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Nt(hr.fromString(e)),r=t.Vu.next();t.Eu.set(r,new nxe(n)),t.Iu=t.Iu.insert(n,r),OZ(t.remoteStore,new Sf(gu(d5(n.path)),r,"TargetPurposeLimboResolution",QA.le))}}async function v1(t,e,n){const r=Xt(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{s.push(r.fu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=v5.Rs(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.lu.Y_(i),await async function(l,u){const c=Xt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ne.forEach(u,h=>Ne.forEach(h.ds,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>Ne.forEach(h.As,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!a0(d))throw d;ot(b5,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.xs.get(h),m=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(m);c.xs=c.xs.insert(h,y)}}}(r.localStore,o))}async function pxe(t,e){const n=Xt(t);if(!n.currentUser.isEqual(e)){ot(A5,"User change. New user:",e.toKey());const r=await MZ(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(l=>{l.reject(new ft(Le.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await v1(n,r.ks)}}function gxe(t,e){const n=Xt(t),r=n.Eu.get(e);if(r&&r.cu)return yn().add(r.key);{let i=yn();const o=n.Pu.get(e);if(!o)return i;for(const s of o){const a=n.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function QZ(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gxe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cxe.bind(null,e),e.lu.Y_=Qbe.bind(null,e.eventManager),e.lu.gu=Zbe.bind(null,e.eventManager),e}function mxe(t){const e=Xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dxe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fxe.bind(null,e),e}class IT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sR(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return xbe(this.persistence,new ybe,e.initialUser,this.serializer)}Su(e){return new kZ(y5.fi,this.serializer)}bu(e){return new Abe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}IT.provider={build:()=>new IT};class yxe extends IT{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){zn(this.persistence.referenceDelegate instanceof RT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nbe(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Go.withCacheSize(this.cacheSizeBytes):Go.DEFAULT;return new kZ(r=>RT.fi(r,n),this.serializer)}}class QL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FU(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pxe.bind(null,this.syncEngine),await Ybe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jbe}()}createDatastore(e){const n=sR(e.databaseInfo.databaseId),r=function(o){return new Mbe(o)}(e.databaseInfo);return function(o,s,a,l){return new Obe(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new $be(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FU(this.syncEngine,n,0),function(){return kU.C()?new kU:new Rbe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new rxe(i,o,s,a,l,u);return c&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Xt(i);ot(qp,"RemoteStore shutting down."),o.da.add(5),await y1(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}QL.provider={build:()=>new QL};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Kc("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="FirestoreClient";class vxe{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=no.UNAUTHENTICATED,this.clientId=HQ.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ot(Ff,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ot(Ff,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=C5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _k(t,e){t.asyncQueue.verifyOperationInProgress(),ot(Ff,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MZ(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BU(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bxe(t);ot(Ff,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NU(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NU(e.remoteStore,i)),t._onlineComponents=e}async function bxe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(Ff,"Using user provided OfflineComponentProvider");try{await _k(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mv("Error using user provided cache. Falling back to memory cache: "+n),await _k(t,new IT)}}else ot(Ff,"Using default OfflineComponentProvider"),await _k(t,new yxe(void 0));return t._offlineComponents}async function eee(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(Ff,"Using user provided OnlineComponentProvider"),await BU(t,t._uninitializedComponentsProvider._online)):(ot(Ff,"Using default OnlineComponentProvider"),await BU(t,new QL))),t._onlineComponents}function xxe(t){return eee(t).then(e=>e.syncEngine)}async function tee(t){const e=await eee(t),n=e.eventManager;return n.onListen=ixe.bind(null,e.syncEngine),n.onUnlisten=axe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oxe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lxe.bind(null,e.syncEngine),n}function wxe(t,e,n={}){const r=new $c;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new ZZ({next:h=>{c.xu(),s.enqueueAndForget(()=>HZ(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new ft(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new ft(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new qZ(d5(a.path),c,{includeMetadataChanges:!0,Qa:!0});return UZ(o,d)}(await tee(t),t.asyncQueue,e,n,r)),r.promise}function _xe(t,e,n={}){const r=new $c;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new ZZ({next:h=>{c.xu(),s.enqueueAndForget(()=>HZ(o,d)),h.fromCache&&l.source==="server"?u.reject(new ft(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new qZ(a,c,{includeMetadataChanges:!0,Qa:!0});return UZ(o,d)}(await tee(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nee(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(t,e,n){if(!n)throw new ft(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sxe(t,e,n,r){if(e===!0&&r===!0)throw new ft(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zU(t){if(!Nt.isDocumentKey(t))throw new ft(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UU(t){if(Nt.isDocumentKey(t))throw new ft(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vt(12329,{type:typeof t})}function jp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ft(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uR(t);throw new ft(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="firestore.googleapis.com",HU=!0;class qU{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iee,this.ssl=HU}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IZ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ebe)throw new ft(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sxe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nee((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ft(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ft(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ft(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cR{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kve;switch(r.type){case"firstParty":return new Lve(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VU.get(n);r&&(ot("ComponentProvider","Removing Datastore"),VU.delete(n),r.terminate())}(this),Promise.resolve()}}function Exe(t,e,n,r={}){var i;t=jp(t,cR);const o=h1(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;o&&(rQ(`https://${l}`),oQ("Firestore",!0)),s.host!==iee&&s.host!==l&&Mv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!vT(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=no.MOCK_USER;else{c=iQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ft(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new no(h)}t._authCredentials=new Mve(new zQ(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new u0(this.firestore,e,this._query)}}class es{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new If(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new es(this.firestore,e,this._key)}}class If extends u0{constructor(e,n,r){super(e,n,d5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new es(this.firestore,null,new Nt(e))}withConverter(e){return new If(this.firestore,e,this._path)}}function gm(t,e,...n){if(t=Eu(t),ree("collection","path",e),t instanceof cR){const r=hr.fromString(e,...n);return UU(r),new If(t,null,r)}{if(!(t instanceof es||t instanceof If))throw new ft(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hr.fromString(e,...n));return UU(r),new If(t.firestore,null,r)}}function vs(t,e,...n){if(t=Eu(t),arguments.length===1&&(e=HQ.newId()),ree("doc","path",e),t instanceof cR){const r=hr.fromString(e,...n);return zU(r),new es(t,null,new Nt(r))}{if(!(t instanceof es||t instanceof If))throw new ft(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hr.fromString(e,...n));return zU(r),new es(t.firestore,t instanceof If?t.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="AsyncQueue";class WU{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new DZ(this,"async_queue_retry"),this.rc=()=>{const r=wk();r&&ot(jU,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=wk();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=wk();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new $c;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!a0(e))throw e;ot(jU,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Kc("INTERNAL UNHANDLED ERROR: ",GU(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=E5.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&Vt(47125,{cc:GU(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function GU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dR extends cR{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WU(e),this._firestoreClient=void 0,await e}}}function Cxe(t,e){const n=typeof t=="object"?t:pQ(),r=typeof t=="string"?t:wT,i=cQ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=tQ("firestore");o&&Exe(i,...o)}return i}function P5(t){if(t._terminated)throw new ft(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Txe(t),t._firestoreClient}function Txe(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Xve(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nee(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vxe(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $v(Ui.fromBase64String(e))}catch(n){throw new ft(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $v(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ft(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ft(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ft(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return an(this._lat,e._lat)||an(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Axe=/^__.*__$/;class Rxe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cg(e,this.data,this.fieldMask,n,this.fieldTransforms):new g1(e,this.data,n,this.fieldTransforms)}}function see(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ic:t})}}class N5{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new N5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kT(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(see(this.Ic)&&Axe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Pxe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sR(e)}bc(e,n,r,i=!1){return new N5({Ic:e,methodName:n,wc:r,path:Vi.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aee(t){const e=t._freezeSettings(),n=sR(t._databaseId);return new Pxe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ixe(t,e,n,r,i,o={}){const s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);cee("Data must be an object, but it was:",s,r);const a=lee(r,s);let l,u;if(o.merge)l=new nl(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Mxe(e,d,n);if(!s.contains(h))throw new ft(Le.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Dxe(c,h)||c.push(h)}l=new nl(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Rxe(new aa(a),l,u)}function kxe(t,e,n,r=!1){return D5(n,t.bc(r?4:3,e))}function D5(t,e){if(uee(t=Eu(t)))return cee("Unsupported field value:",e,t),lee(t,e);if(t instanceof oee)return function(r,i){if(!see(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=D5(a,i.fc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Eu(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return b0e(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fi.fromDate(r);return{timestampValue:AT(i.serializer,o)}}if(r instanceof fi){const o=new fi(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:AT(i.serializer,o)}}if(r instanceof k5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $v)return{bytesValue:SZ(i.serializer,r._byteString)};if(r instanceof es){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:g5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof M5)return function(s,a){return{mapValue:{fields:{[JQ]:{stringValue:QQ},[_T]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.gc("VectorValues must only contain numeric values.");return f5(a.serializer,u)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${uR(r)}`)}(t,e)}function lee(t,e){const n={};return jQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lg(t,(r,i)=>{const o=D5(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function uee(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fi||t instanceof k5||t instanceof $v||t instanceof es||t instanceof oee||t instanceof M5)}function cee(t,e,n){if(!uee(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uR(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Mxe(t,e,n){if((e=Eu(e))instanceof I5)return e._internalPath;if(typeof e=="string")return dee(t,e);throw kT("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nxe=new RegExp("[~\\*/\\[\\]]");function dee(t,e,n){if(e.search(Nxe)>=0)throw kT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I5(...e.split("."))._internalPath}catch{throw kT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kT(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ft(Le.INVALID_ARGUMENT,a+t+l)}function Dxe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new es(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(L5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lxe extends fee{data(){return super.data()}}function L5(t,e){return typeof e=="string"?dee(t,e):e instanceof I5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oxe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ft(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O5{}class Fxe extends O5{}function Bo(t,e,...n){let r=[];e instanceof O5&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof F5).length,a=o.filter(l=>l instanceof fR).length;if(s>1||s>0&&a>0)throw new ft(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fR extends Fxe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fR(e,n,r)}_apply(e){const n=this._parse(e);return hee(e._query,n),new u0(e.firestore,e.converter,UL(e._query,n))}_parse(e){const n=aee(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ft(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YU(d,c);const m=[];for(const y of d)m.push(KU(l,o,y));h={arrayValue:{values:m}}}else h=KU(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YU(d,c),h=kxe(a,s,d,c==="in"||c==="not-in");return Qr.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jr(t,e,n){const r=e,i=L5("where",t);return fR._create(i,r,n)}class F5 extends O5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new F5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sl.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)hee(s,l),s=UL(s,l)}(e._query,n),new u0(e.firestore,e.converter,UL(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function KU(t,e,n){if(typeof(n=Eu(n))=="string"){if(n==="")throw new ft(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sZ(e)&&n.indexOf("/")!==-1)throw new ft(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hr.fromString(n));if(!Nt.isDocumentKey(r))throw new ft(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uU(t,new Nt(r))}if(n instanceof es)return uU(t,n._key);throw new ft(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uR(n)}.`)}function YU(t,e){if(!Array.isArray(t)||t.length===0)throw new ft(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hee(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ft(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ft(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $xe{convertValue(e,n="none"){switch(Lf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Df(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lg(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[_T].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Vr(s.doubleValue));return new M5(o)}convertGeoPoint(e){return new k5(Vr(e.latitude),Vr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eR(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tw(e));default:return null}}convertTimestamp(e){const n=Nf(e);return new fi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hr.fromString(e);zn(PZ(r),9688,{name:e});const i=new nw(r.get(1),r.get(3)),o=new Nt(r.popFirst(5));return i.isEqual(n)||Kc(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bxe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pee extends fee{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(L5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class hC extends pee{data(e={}){return super.data(e)}}class Vxe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qb(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new hC(this._firestore,this._userDataWriter,r.key,r,new qb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new hC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new hC(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qb(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:zxe(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zxe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){t=jp(t,es);const e=jp(t.firestore,dR);return wxe(P5(e),t._key).then(n=>Hxe(e,t,n))}class gee extends $xe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $v(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new es(this.firestore,null,n)}}function Vo(t){t=jp(t,u0);const e=jp(t.firestore,dR),n=P5(e),r=new gee(e);return Oxe(t._query),_xe(n,t._query).then(i=>new Vxe(e,r,t,i))}function Ml(t,e,n){t=jp(t,es);const r=jp(t.firestore,dR),i=Bxe(t.converter,e);return Uxe(r,[Ixe(aee(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Bc.none())])}function Uxe(t,e){return function(r,i){const o=new $c;return r.asyncQueue.enqueueAndForget(async()=>uxe(await xxe(r),i,o)),o.promise}(P5(t),e)}function Hxe(t,e,n){const r=n.docs.get(e._key),i=new gee(t);return new pee(t,i,e._key,r,new qb(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){o0=i})(fQ),Qx(new kv("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new dR(new Nve(r.getProvider("auth-internal")),new Ove(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ft(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nw(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rf(J6,Q6,e),Rf(J6,Q6,"esm2017")})();var sw=(t=>(t.ADMIN="admin",t.TEACHER="teacher",t.STUDENT="student",t))(sw||{});const qxe={apiKey:"AIzaSyDd6jdeGNhVvB6IZ2M2hDC_Tp66uhC3TUo",authDomain:"read-9fc7d.firebaseapp.com",projectId:"read-9fc7d",storageBucket:"read-9fc7d.firebasestorage.app",messagingSenderId:"794793289582",appId:"1:794793289582:web:6e0afecc5aeeb10bed437f",measurementId:"G-FYESGK4NLB"},mee=F.createContext(void 0),jxe=({children:t})=>{const e=hQ(qxe),n=Cxe(e),r=gm(n,"users"),i=gm(n,"papersData"),o=gm(n,"canvases"),s=gm(n,"highlights"),a=gm(n,"readPurposes"),l=gm(n,"readSessions"),u=Ave(e),[c,d]=F.useState(void 0);F.useEffect(()=>{const Q=localStorage.getItem("userId");Q&&h(Q)},[]);const h=async Q=>{const te=await m(Q);d(te)},p=async Q=>{let te;if(Q){const ue=Bo(r,jr("role","==",Q));te=await Vo(ue)}else te=await Vo(r);return console.log("userDocs",te.docs.map(ue=>ue.data())),te.docs.map(ue=>ue.data())},m=async Q=>(await Sk(vs(r,Q))).data(),y=async Q=>{const te=Bo(r,jr("email","==",Q)),ue=await Vo(te);return ue.empty?null:ue.docs[0].data()},x=async Q=>{try{await Ml(vs(r,Q.id),Q),console.log("User updated with ID:",Q.id)}catch(te){console.error("Error updating user:",te)}},_=async(Q,te)=>{try{const ue=vs(r,Q),se=(await Sk(ue)).data();se.paperIds.includes(te)?console.log("Paper already exists in user with ID:",Q):(se.paperIds.push(te),await Ml(vs(r,Q),se),console.log("Paper added to user with ID:",Q))}catch(ue){console.error("Error adding paper to user:",ue)}},E=async()=>{const Q=await Vo(i);return console.log("paperDocs",Q.docs.map(te=>te.data())),Q.docs.map(te=>te.data())},S=async Q=>{const te=vs(i,Q);return(await Sk(te)).data()},T=async Q=>{try{await Ml(vs(i,Q.id),Q),console.log("Paper added with ID:",Q.id)}catch(te){console.error("Error adding paper:",te)}},I=async(Q,te)=>{try{const ue=Y6(u,Q);await Cve(ue,te),console.log("Paper file uploaded to:",ue.fullPath)}catch(ue){console.error("Error adding paper file:",ue)}},N=async Q=>{const te=Y6(u,Q);return await Tve(te)},R=async(Q,te)=>{const ue=Bo(o,jr("userId","==",Q),jr("paperId","==",te));return(await Vo(ue)).docs.map(se=>se.data())[0]},M=async Q=>{await Ml(vs(o,Q.id),Q)},L=async Q=>{const te=Bo(s,jr("userId","==",Q));return(await Vo(te)).docs.map(de=>de.data())},k=async Q=>{const te=Bo(s,jr("paperId","==",Q));return(await Vo(te)).docs.map(de=>de.data())},D=async(Q,te)=>{const ue=Bo(s,jr("userId","in",Q),jr("paperId","in",te)),se=(await Vo(ue)).docs.map(he=>he.data()),ce={};return se.forEach(he=>{const ve=`${he.userId}_${he.paperId}`;ce[ve]||(ce[ve]=[]),ce[ve].push(he)}),ce},V=async Q=>(await Ml(vs(s,Q.id),Q),Q.id),$=async Q=>{const te=Bo(a,jr("userId","==",Q));return(await Vo(te)).docs.map(de=>de.data())},H=async Q=>{const te=Bo(a,jr("paperId","==",Q));return(await Vo(te)).docs.map(de=>de.data())},G=async(Q,te)=>{const ue=Bo(a,jr("userId","==",Q),jr("paperId","==",te));return(await Vo(ue)).docs.map(se=>se.data())},K=async Q=>(await Ml(vs(a,Q.id),Q),Q.id),J=async(Q,te)=>{let ue;return te&&te.length>0?ue=Bo(l,jr("userId","==",Q),jr("paperId","in",te)):ue=Bo(l,jr("userId","==",Q)),(await Vo(ue)).docs.map(se=>se.data())},ee=async(Q,te)=>{let ue;return te&&te.length>0?ue=Bo(l,jr("paperId","==",Q),jr("userId","in",te)):ue=Bo(l,jr("paperId","==",Q)),(await Vo(ue)).docs.map(se=>se.data())},X=async(Q,te)=>{const ue=Bo(l,jr("userId","in",Q),jr("paperId","in",te)),se=(await Vo(ue)).docs.map(he=>he.data()),ce={};return se.forEach(he=>{const ve=`${he.userId}_${he.paperId}`;ce[ve]||(ce[ve]=[]),ce[ve].push(he)}),ce},j=async Q=>(await Ml(vs(l,Q.id),Q),Q.id),Y=async Q=>{const te=Q.map(ue=>Ml(vs(s,ue.id),ue));return await Promise.all(te),Q.map(ue=>ue.id)},ae=async Q=>{const te=Q.map(ue=>Ml(vs(a,ue.id),ue));return await Promise.all(te),Q.map(ue=>ue.id)},q=async Q=>{const te=Q.map(ue=>Ml(vs(l,ue.id),ue));return await Promise.all(te),Q.map(ue=>ue.id)};return O.jsx(mee.Provider,{value:{userData:c,setUserData:d,loadUserData:h,getAllUsers:p,getUserById:m,getUserByEmail:y,updateUser:x,addPaperToUser:_,getAllPapersData:E,getPaperData:S,addPaperData:T,getPaperFile:N,addPaperFile:I,getCanvasUserAndPaper:R,updateCanvas:M,getHighlightsByUser:L,getHighlightsByPaper:k,getHighlightsByUsersAndPapers:D,addHighlight:V,getPurposesByUser:$,getPurposesByPaper:H,getPurposesByUserAndPaper:G,addPurpose:K,getSessionsByUser:J,getSessionsByPaper:ee,getSessionsByUsersAndPapers:X,addSession:j,batchAddHighlights:Y,batchAddPurposes:ae,batchAddSessions:q},children:t})},c0=()=>{const t=F.useContext(mee);if(t===void 0)throw new Error("useStorageContext must be used within a StorageProvider");return t};var kn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(kn||(kn={}));var XU;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(XU||(XU={}));const gt=kn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gd=t=>{switch(typeof t){case"undefined":return gt.undefined;case"string":return gt.string;case"number":return Number.isNaN(t)?gt.nan:gt.number;case"boolean":return gt.boolean;case"function":return gt.function;case"bigint":return gt.bigint;case"symbol":return gt.symbol;case"object":return Array.isArray(t)?gt.array:t===null?gt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?gt.promise:typeof Map<"u"&&t instanceof Map?gt.map:typeof Set<"u"&&t instanceof Set?gt.set:typeof Date<"u"&&t instanceof Date?gt.date:gt.object;default:return gt.unknown}},Ye=kn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Xc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xc.create=t=>new Xc(t);const ZL=(t,e)=>{let n;switch(t.code){case Ye.invalid_type:t.received===gt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ye.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,kn.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:n=`Unrecognized key(s) in object: ${kn.joinValues(t.keys,", ")}`;break;case Ye.invalid_union:n="Invalid input";break;case Ye.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${kn.joinValues(t.options)}`;break;case Ye.invalid_enum_value:n=`Invalid enum value. Expected ${kn.joinValues(t.options)}, received '${t.received}'`;break;case Ye.invalid_arguments:n="Invalid function arguments";break;case Ye.invalid_return_type:n="Invalid function return type";break;case Ye.invalid_date:n="Invalid date";break;case Ye.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:kn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ye.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ye.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ye.custom:n="Invalid input";break;case Ye.invalid_intersection_types:n="Intersection results could not be merged";break;case Ye.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ye.not_finite:n="Number must be finite";break;default:n=e.defaultError,kn.assertNever(t)}return{message:n}};let Wxe=ZL;function Gxe(){return Wxe}const Kxe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function nt(t,e){const n=Gxe(),r=Kxe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ZL?void 0:ZL].filter(i=>!!i)});t.common.issues.push(r)}class Ao{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Yt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Ao.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Yt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Yt=Object.freeze({status:"aborted"}),jb=t=>({status:"dirty",value:t}),ya=t=>({status:"valid",value:t}),JU=t=>t.status==="aborted",QU=t=>t.status==="dirty",Bv=t=>t.status==="valid",MT=t=>typeof Promise<"u"&&t instanceof Promise;var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_t||(_t={}));class Tu{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ZU=(t,e)=>{if(Bv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xc(t.common.issues);return this._error=n,this._error}}};function rn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class _n{get description(){return this._def.description}_getType(e){return Gd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Gd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ao,ctx:{common:e.parent.common,data:e.data,parsedType:Gd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(MT(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gd(e)},i=this._parseSync({data:e,path:r.path,parent:r});return ZU(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gd(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Bv(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Bv(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Gd(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(MT(i)?i:Promise.resolve(i));return ZU(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Ye.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Uv({schema:this,typeName:jt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return kf.create(this,this._def)}nullable(){return Hv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yu.create(this)}promise(){return FT.create(this,this._def)}or(e){return DT.create([this,e],this._def)}and(e){return LT.create(this,e,this._def)}transform(e){return new Uv({...rn(this._def),schema:this,typeName:jt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new rO({...rn(this._def),innerType:this,defaultValue:n,typeName:jt.ZodDefault})}brand(){return new ywe({typeName:jt.ZodBranded,type:this,...rn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new iO({...rn(this._def),innerType:this,catchValue:n,typeName:jt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return $5.create(this,e)}readonly(){return oO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Yxe=/^c[^\s-]{8,}$/i,Xxe=/^[0-9a-z]+$/,Jxe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Zxe=/^[a-z0-9_-]{21}$/i,ewe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,twe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nwe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ek;const iwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,owe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,swe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,awe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lwe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uwe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cwe=new RegExp(`^${yee}$`);function vee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function dwe(t){return new RegExp(`^${vee(t)}$`)}function fwe(t){let e=`${yee}T${vee(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function hwe(t,e){return!!((e==="v4"||!e)&&iwe.test(t)||(e==="v6"||!e)&&swe.test(t))}function pwe(t,e){if(!ewe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function gwe(t,e){return!!((e==="v4"||!e)&&owe.test(t)||(e==="v6"||!e)&&awe.test(t))}class du extends _n{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==gt.string){const o=this._getOrReturnCtx(e);return nt(o,{code:Ye.invalid_type,expected:gt.string,received:o.parsedType}),Yt}const r=new Ao;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?nt(i,{code:Ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&nt(i,{code:Ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")nwe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"email",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Ek||(Ek=new RegExp(rwe,"u")),Ek.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"emoji",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Qxe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"uuid",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Zxe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"nanoid",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Yxe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cuid",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Xxe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cuid2",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Jxe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"ulid",code:Ye.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),nt(i,{validation:"url",code:Ye.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"regex",code:Ye.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?fwe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?cwe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?dwe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?twe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"duration",code:Ye.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?hwe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"ip",code:Ye.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?pwe(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"jwt",code:Ye.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?gwe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"cidr",code:Ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?lwe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"base64",code:Ye.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?uwe.test(e.data)||(i=this._getOrReturnCtx(e,i),nt(i,{validation:"base64url",code:Ye.invalid_string,message:o.message}),r.dirty()):kn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ye.invalid_string,..._t.errToObj(r)})}_addCheck(e){return new du({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",..._t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",..._t.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,..._t.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._t.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,..._t.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,..._t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,..._t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,..._t.errToObj(n)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new du({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new du({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new du({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}du.create=t=>new du({checks:[],typeName:jt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...rn(t)});function mwe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class Wp extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==gt.number){const o=this._getOrReturnCtx(e);return nt(o,{code:Ye.invalid_type,expected:gt.number,received:o.parsedType}),Yt}let r;const i=new Ao;for(const o of this._def.checks)o.kind==="int"?kn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?mwe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.not_finite,message:o.message}),i.dirty()):kn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new Wp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new Wp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&kn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Wp.create=t=>new Wp({checks:[],typeName:jt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...rn(t)});class Gp extends _n{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==gt.bigint)return this._getInvalidInput(e);let r;const i=new Ao;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),nt(r,{code:Ye.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):kn.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return nt(n,{code:Ye.invalid_type,expected:gt.bigint,received:n.parsedType}),Yt}gte(e,n){return this.setLimit("min",e,!0,_t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,_t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,_t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,_t.toString(n))}setLimit(e,n,r,i){return new Gp({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:_t.toString(i)}]})}_addCheck(e){return new Gp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gp.create=t=>new Gp({checks:[],typeName:jt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...rn(t)});class NT extends _n{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==gt.boolean){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.boolean,received:r.parsedType}),Yt}return ya(e.data)}}NT.create=t=>new NT({typeName:jt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...rn(t)});class Vv extends _n{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==gt.date){const o=this._getOrReturnCtx(e);return nt(o,{code:Ye.invalid_type,expected:gt.date,received:o.parsedType}),Yt}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return nt(o,{code:Ye.invalid_date}),Yt}const r=new Ao;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),nt(i,{code:Ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):kn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vv({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vv.create=t=>new Vv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:jt.ZodDate,...rn(t)});class eH extends _n{_parse(e){if(this._getType(e)!==gt.symbol){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.symbol,received:r.parsedType}),Yt}return ya(e.data)}}eH.create=t=>new eH({typeName:jt.ZodSymbol,...rn(t)});class tH extends _n{_parse(e){if(this._getType(e)!==gt.undefined){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.undefined,received:r.parsedType}),Yt}return ya(e.data)}}tH.create=t=>new tH({typeName:jt.ZodUndefined,...rn(t)});class nH extends _n{_parse(e){if(this._getType(e)!==gt.null){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.null,received:r.parsedType}),Yt}return ya(e.data)}}nH.create=t=>new nH({typeName:jt.ZodNull,...rn(t)});class rH extends _n{constructor(){super(...arguments),this._any=!0}_parse(e){return ya(e.data)}}rH.create=t=>new rH({typeName:jt.ZodAny,...rn(t)});class eO extends _n{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ya(e.data)}}eO.create=t=>new eO({typeName:jt.ZodUnknown,...rn(t)});class $f extends _n{_parse(e){const n=this._getOrReturnCtx(e);return nt(n,{code:Ye.invalid_type,expected:gt.never,received:n.parsedType}),Yt}}$f.create=t=>new $f({typeName:jt.ZodNever,...rn(t)});class iH extends _n{_parse(e){if(this._getType(e)!==gt.undefined){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.void,received:r.parsedType}),Yt}return ya(e.data)}}iH.create=t=>new iH({typeName:jt.ZodVoid,...rn(t)});class yu extends _n{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==gt.array)return nt(n,{code:Ye.invalid_type,expected:gt.array,received:n.parsedType}),Yt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(nt(n,{code:s?Ye.too_big:Ye.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(nt(n,{code:Ye.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(nt(n,{code:Ye.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Tu(n,s,n.path,a)))).then(s=>Ao.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Tu(n,s,n.path,a)));return Ao.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new yu({...this._def,minLength:{value:e,message:_t.toString(n)}})}max(e,n){return new yu({...this._def,maxLength:{value:e,message:_t.toString(n)}})}length(e,n){return new yu({...this._def,exactLength:{value:e,message:_t.toString(n)}})}nonempty(e){return this.min(1,e)}}yu.create=(t,e)=>new yu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:jt.ZodArray,...rn(e)});function Fm(t){if(t instanceof Xr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=kf.create(Fm(r))}return new Xr({...t._def,shape:()=>e})}else return t instanceof yu?new yu({...t._def,type:Fm(t.element)}):t instanceof kf?kf.create(Fm(t.unwrap())):t instanceof Hv?Hv.create(Fm(t.unwrap())):t instanceof Kp?Kp.create(t.items.map(e=>Fm(e))):t}class Xr extends _n{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=kn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==gt.object){const u=this._getOrReturnCtx(e);return nt(u,{code:Ye.invalid_type,expected:gt.object,received:u.parsedType}),Yt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof $f&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const c=o[u],d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Tu(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof $f){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(u==="strict")a.length>0&&(nt(i,{code:Ye.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Tu(i,d,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>Ao.mergeObjectSync(r,u)):Ao.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new Xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:_t.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Xr({...this._def,catchall:e})}pick(e){const n={};for(const r of kn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Xr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of kn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Xr({...this._def,shape:()=>n})}deepPartial(){return Fm(this)}partial(e){const n={};for(const r of kn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Xr({...this._def,shape:()=>n})}required(e){const n={};for(const r of kn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof kf;)o=o._def.innerType;n[r]=o}return new Xr({...this._def,shape:()=>n})}keyof(){return bee(kn.objectKeys(this.shape))}}Xr.create=(t,e)=>new Xr({shape:()=>t,unknownKeys:"strip",catchall:$f.create(),typeName:jt.ZodObject,...rn(e)});Xr.strictCreate=(t,e)=>new Xr({shape:()=>t,unknownKeys:"strict",catchall:$f.create(),typeName:jt.ZodObject,...rn(e)});Xr.lazycreate=(t,e)=>new Xr({shape:t,unknownKeys:"strip",catchall:$f.create(),typeName:jt.ZodObject,...rn(e)});class DT extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Xc(a.ctx.common.issues));return nt(n,{code:Ye.invalid_union,unionErrors:s}),Yt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!o&&(o={result:c,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Xc(l));return nt(n,{code:Ye.invalid_union,unionErrors:a}),Yt}}get options(){return this._def.options}}DT.create=(t,e)=>new DT({options:t,typeName:jt.ZodUnion,...rn(e)});function tO(t,e){const n=Gd(t),r=Gd(e);if(t===e)return{valid:!0,data:t};if(n===gt.object&&r===gt.object){const i=kn.objectKeys(e),o=kn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=tO(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===gt.array&&r===gt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=tO(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===gt.date&&r===gt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class LT extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(JU(o)||JU(s))return Yt;const a=tO(o.value,s.value);return a.valid?((QU(o)||QU(s))&&n.dirty(),{status:n.value,value:a.data}):(nt(r,{code:Ye.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}LT.create=(t,e,n)=>new LT({left:t,right:e,typeName:jt.ZodIntersection,...rn(n)});class Kp extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.array)return nt(r,{code:Ye.invalid_type,expected:gt.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return nt(r,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(nt(r,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Tu(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Ao.mergeArray(n,s)):Ao.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Kp({...this._def,rest:e})}}Kp.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kp({items:t,typeName:jt.ZodTuple,rest:null,...rn(e)})};class OT extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.object)return nt(r,{code:Ye.invalid_type,expected:gt.object,received:r.parsedType}),Yt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Tu(r,a,r.path,a)),value:s._parse(new Tu(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Ao.mergeObjectAsync(n,i):Ao.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof _n?new OT({keyType:e,valueType:n,typeName:jt.ZodRecord,...rn(r)}):new OT({keyType:du.create(),valueType:e,typeName:jt.ZodRecord,...rn(n)})}}class oH extends _n{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.map)return nt(r,{code:Ye.invalid_type,expected:gt.map,received:r.parsedType}),Yt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Tu(r,a,r.path,[u,"key"])),value:o._parse(new Tu(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Yt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Yt;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}oH.create=(t,e,n)=>new oH({valueType:e,keyType:t,typeName:jt.ZodMap,...rn(n)});class aw extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==gt.set)return nt(r,{code:Ye.invalid_type,expected:gt.set,received:r.parsedType}),Yt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(nt(r,{code:Ye.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(nt(r,{code:Ye.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Yt;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Tu(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new aw({...this._def,minSize:{value:e,message:_t.toString(n)}})}max(e,n){return new aw({...this._def,maxSize:{value:e,message:_t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}aw.create=(t,e)=>new aw({valueType:t,minSize:null,maxSize:null,typeName:jt.ZodSet,...rn(e)});class nO extends _n{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}nO.create=(t,e)=>new nO({getter:t,typeName:jt.ZodLazy,...rn(e)});class sH extends _n{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return nt(n,{received:n.data,code:Ye.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}sH.create=(t,e)=>new sH({value:t,typeName:jt.ZodLiteral,...rn(e)});function bee(t,e){return new zv({values:t,typeName:jt.ZodEnum,...rn(e)})}class zv extends _n{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return nt(n,{expected:kn.joinValues(r),received:n.parsedType,code:Ye.invalid_type}),Yt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return nt(n,{received:n.data,code:Ye.invalid_enum_value,options:r}),Yt}return ya(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return zv.create(e,{...this._def,...n})}exclude(e,n=this._def){return zv.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}zv.create=bee;class aH extends _n{_parse(e){const n=kn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==gt.string&&r.parsedType!==gt.number){const i=kn.objectValues(n);return nt(r,{expected:kn.joinValues(i),received:r.parsedType,code:Ye.invalid_type}),Yt}if(this._cache||(this._cache=new Set(kn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=kn.objectValues(n);return nt(r,{received:r.data,code:Ye.invalid_enum_value,options:i}),Yt}return ya(e.data)}get enum(){return this._def.values}}aH.create=(t,e)=>new aH({values:t,typeName:jt.ZodNativeEnum,...rn(e)});class FT extends _n{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==gt.promise&&n.common.async===!1)return nt(n,{code:Ye.invalid_type,expected:gt.promise,received:n.parsedType}),Yt;const r=n.parsedType===gt.promise?n.data:Promise.resolve(n.data);return ya(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}FT.create=(t,e)=>new FT({type:t,typeName:jt.ZodPromise,...rn(e)});class Uv extends _n{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{nt(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Yt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Yt:l.status==="dirty"||n.value==="dirty"?jb(l.value):l});{if(n.value==="aborted")return Yt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Yt:a.status==="dirty"||n.value==="dirty"?jb(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Yt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bv(s))return Yt;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Bv(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):Yt);kn.assertNever(i)}}Uv.create=(t,e,n)=>new Uv({schema:t,typeName:jt.ZodEffects,effect:e,...rn(n)});Uv.createWithPreprocess=(t,e,n)=>new Uv({schema:e,effect:{type:"preprocess",transform:t},typeName:jt.ZodEffects,...rn(n)});class kf extends _n{_parse(e){return this._getType(e)===gt.undefined?ya(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kf.create=(t,e)=>new kf({innerType:t,typeName:jt.ZodOptional,...rn(e)});class Hv extends _n{_parse(e){return this._getType(e)===gt.null?ya(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hv.create=(t,e)=>new Hv({innerType:t,typeName:jt.ZodNullable,...rn(e)});class rO extends _n{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===gt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}rO.create=(t,e)=>new rO({innerType:t,typeName:jt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...rn(e)});class iO extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return MT(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}iO.create=(t,e)=>new iO({innerType:t,typeName:jt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...rn(e)});class lH extends _n{_parse(e){if(this._getType(e)!==gt.nan){const r=this._getOrReturnCtx(e);return nt(r,{code:Ye.invalid_type,expected:gt.nan,received:r.parsedType}),Yt}return{status:"valid",value:e.data}}}lH.create=t=>new lH({typeName:jt.ZodNaN,...rn(t)});class ywe extends _n{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class $5 extends _n{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Yt:o.status==="dirty"?(n.dirty(),jb(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new $5({in:e,out:n,typeName:jt.ZodPipeline})}}class oO extends _n{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Bv(i)&&(i.value=Object.freeze(i.value)),i);return MT(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}oO.create=(t,e)=>new oO({innerType:t,typeName:jt.ZodReadonly,...rn(e)});var jt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(jt||(jt={}));const wh=du.create,uH=Wp.create;Gp.create;const vwe=NT.create;Vv.create;const cH=eO.create;$f.create;const Wb=yu.create,bwe=Xr.create,xwe=DT.create;LT.create;Kp.create;const wwe=OT.create,_we=nO.create,Swe=zv.create;FT.create;kf.create;Hv.create;const mm={string:t=>du.create({...t,coerce:!0}),number:t=>Wp.create({...t,coerce:!0}),boolean:t=>NT.create({...t,coerce:!0}),bigint:t=>Gp.create({...t,coerce:!0}),date:t=>Vv.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ewe,Cwe;function Twe(){return{geminiUrl:Ewe,vertexUrl:Cwe}}function Awe(t,e,n){var r,i,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const s=Twe();return t.vertexai?(i=s.vertexUrl)!==null&&i!==void 0?i:e:(o=s.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fg{}function Tt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];b(c,e.slice(o+1),n[u])}else for(const u of l)b(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];b(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function v(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(s=>v(s,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dH;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dH||(dH={}));var fH;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(fH||(fH={}));var oo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(oo||(oo={}));var hH;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hH||(hH={}));var pH;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pH||(pH={}));var gH;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gH||(gH={}));var mH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mH||(mH={}));var yH;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(yH||(yH={}));var vH;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(vH||(vH={}));var bH;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(bH||(bH={}));var xH;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xH||(xH={}));var wH;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(wH||(wH={}));var _H;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_H||(_H={}));var $T;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($T||($T={}));var SH;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(SH||(SH={}));var sO;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(sO||(sO={}));var EH;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(EH||(EH={}));var CH;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(CH||(CH={}));var TH;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TH||(TH={}));var AH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(AH||(AH={}));var RH;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(RH||(RH={}));var PH;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(PH||(PH={}));var IH;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(IH||(IH={}));var kH;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kH||(kH={}));var MH;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(MH||(MH={}));var NH;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(NH||(NH={}));var DH;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DH||(DH={}));var LH;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LH||(LH={}));var OH;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(OH||(OH={}));var FH;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FH||(FH={}));var $H;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})($H||($H={}));var BH;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(BH||(BH={}));var VH;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(VH||(VH={}));var zH;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zH||(zH={}));var UH;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(UH||(UH={}));var HH;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(HH||(HH={}));var qH;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qH||(qH={}));var jH;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jH||(jH={}));var WH;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(WH||(WH={}));var dy;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(dy||(dy={}));class aO{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class lb{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&(m!==null||m!==void 0)&&d.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,p]of Object.entries(d))h!=="inlineData"&&(p!==null||p!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class GH{}class KH{}class Rwe{}class Pwe{}class YH{}class XH{}class JH{}class Iwe{}class QH{}class ZH{}class e9{}class kwe{}class Mwe{}class Nwe{}class t9{}class Dwe{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Lwe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function xee(t,e){const n=jn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function wee(t){return Array.isArray(t)?t.map(e=>BT(e)):[BT(t)]}function BT(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Owe(t){const e=BT(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fwe(t){const e=BT(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n9(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _ee(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>n9(e)):[n9(t)]}function lO(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function r9(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function i9(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function so(t){if(t==null)throw new Error("ContentUnion is required");return lO(t)?t:{role:"user",parts:_ee(t)}}function See(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=so(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=so(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>so(n)):[so(e)]}function fa(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(r9(t)||i9(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[so(t)]}const e=[],n=[],r=lO(t[0]);for(const i of t){const o=lO(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(r9(i)||i9(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:_ee(n)}),e}const $we=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),o9=Swe(["string","number","integer","object","array","boolean","null"]),Bwe=xwe([o9,Wb(o9)]);function Vwe(t=!0){const e=_we(()=>{const n=bwe({type:Bwe.optional(),format:wh().optional(),title:wh().optional(),description:wh().optional(),default:cH().optional(),items:e.optional(),minItems:mm.string().optional(),maxItems:mm.string().optional(),enum:Wb(cH()).optional(),properties:wwe(wh(),e).optional(),required:Wb(wh()).optional(),minProperties:mm.string().optional(),maxProperties:mm.string().optional(),propertyOrdering:Wb(wh()).optional(),minimum:uH().optional(),maximum:uH().optional(),minLength:mm.string().optional(),maxLength:mm.string().optional(),pattern:wh().optional(),anyOf:Wb(e).optional(),additionalProperties:vwe().optional()});return t?n.strict():n});return e}function zwe(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(oo).includes(n[0].toUpperCase())?n[0].toUpperCase():oo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(oo).includes(r.toUpperCase())?r.toUpperCase():oo.TYPE_UNSPECIFIED})}}function by(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&zwe(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(oo).includes(a.toUpperCase())?a.toUpperCase():oo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=by(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(by(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=by(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function lw(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=Vwe().parse(t);return by(e)}else return by(t)}function B5(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function V5(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function d0(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=lw(e.parameters)),e.response&&(e.response=lw(e.response));return t}function f0(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Uwe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function od(t,e){if(typeof e!="string")throw new Error("name must be a string");return Uwe(t,e,"cachedContents")}function Eee(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Hwe(t){return t!=null&&typeof t=="object"&&"name"in t}function qwe(t){return t!=null&&typeof t=="object"&&"video"in t}function jwe(t){return t!=null&&typeof t=="object"&&"uri"in t}function Cee(t){var e;let n;if(Hwe(t)&&(n=t.name),!(jwe(t)&&(n=t.uri,n===void 0))&&!(qwe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Tee(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Aee(t){for(const e of["models","tunedModels","publisherModels"])if(Wwe(t,e))return t[e];return[]}function Wwe(t,e){return t!==null&&typeof t=="object"&&e in t}function Gwe(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:by(hR(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Kwe(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Gwe(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Ywe(t){const e=[];for(const n of t)e.push(hR(n));return e}function Xwe(t){const e={};for(const[n,r]of Object.entries(t)){const i=r;e[n]=hR(i)}return e}function hR(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,s]of Object.entries(t))if(e.has(o))i[o]=hR(s);else if(n.has(o))i[o]=Ywe(s);else if(r.has(o))i[o]=Xwe(s);else if(o==="type"){const a=s.toUpperCase();i[o]=Object.values(oo).includes(a)?a:oo.TYPE_UNSPECIFIED}else $we.has(o)&&(i[o]=s);return i}function Ree(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Jwe(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function pR(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Pee(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qwe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function Zwe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function e_e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function t_e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],Qwe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],Zwe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],e_e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function Iee(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t_e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function n_e(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function r_e(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function i_e(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function o_e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function s_e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],o_e(n)),e}function a_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function l_e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],a_e(n)),e}function u_e(){return{}}function c_e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>i_e(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],s_e(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],l_e(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],u_e());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function d_e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function f_e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function h_e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],f_e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function p_e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],d_e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],h_e(r)),e}function g_e(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function kee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],g_e(n)),e}function m_e(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],kee(r)),e}function y_e(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>m_e(i))),b(e,["speakerVoiceConfigs"],r)}return e}function v_e(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],kee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],y_e(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function b_e(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function x_e(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Iee(so(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],n_e(lw(_)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(V=>r_e(V))),b(n,["safetySettings"],D)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let D=f0(T);Array.isArray(D)&&(D=D.map(V=>c_e(d0(V)))),b(n,["tools"],D)}const I=v(e,["toolConfig"]);if(n!==void 0&&I!=null&&b(n,["toolConfig"],p_e(I)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],od(t,N));const R=v(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const L=v(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],v_e(B5(L))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&b(r,["thinkingConfig"],b_e(k)),r}function w_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["request","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>Iee(a))),b(n,["request","contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["request","generationConfig"],x_e(t,o,n)),n}function __e(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>w_e(t,s))),b(n,["requests","requests"],o)}return n}function S_e(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function E_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],__e(t,Ree(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],S_e(o,n)),n}function C_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],pR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function T_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],pR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function A_e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function R_e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],A_e(n,e)),e}function P_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function I_e(t){const e={},n=v(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function k_e(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],I_e(Jwe(i))),n}function M_e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],jn(t,r));const i=v(e,["src"]);i!=null&&b(n,["inputConfig"],P_e(Ree(t,i)));const o=v(e,["config"]);return o!=null&&b(n,["config"],k_e(o,n)),n}function N_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],pR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function D_e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],pR(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function L_e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function O_e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],L_e(n,e)),e}function F_e(){return{}}function $_e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function B_e(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function V_e(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function z_e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],$_e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],B_e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],V_e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function U_e(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>z_e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function H_e(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function q_e(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function j_e(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>q_e(i))),b(e,["urlMetadata"],r)}return e}function W_e(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],U_e(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],H_e(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],j_e(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function G_e(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>W_e(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function K_e(t){const e={},n=v(t,["response"]);return n!=null&&b(e,["response"],G_e(n)),v(t,["error"])!=null&&b(e,["error"],F_e()),e}function Y_e(t){const e={},n=v(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>K_e(o))),b(e,["inlinedResponses"],i)}return e}function uO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&b(e,["state"],Pee(i));const o=v(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["metadata","updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["metadata","model"]);l!=null&&b(e,["model"],l);const u=v(t,["metadata","output"]);return u!=null&&b(e,["dest"],Y_e(u)),e}function X_e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uO(o))),b(e,["batchJobs"],i)}return e}function J_e(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["code"]);r!=null&&b(e,["code"],r);const i=v(t,["message"]);return i!=null&&b(e,["message"],i),e}function Q_e(t){const e={},n=v(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function Z_e(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function cO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["state"]);i!=null&&b(e,["state"],Pee(i));const o=v(t,["error"]);o!=null&&b(e,["error"],J_e(o));const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["startTime"]);a!=null&&b(e,["startTime"],a);const l=v(t,["endTime"]);l!=null&&b(e,["endTime"],l);const u=v(t,["updateTime"]);u!=null&&b(e,["updateTime"],u);const c=v(t,["model"]);c!=null&&b(e,["model"],c);const d=v(t,["inputConfig"]);d!=null&&b(e,["src"],Q_e(d));const h=v(t,["outputConfig"]);return h!=null&&b(e,["dest"],Z_e(h)),e}function e1e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>cO(o))),b(e,["batchJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yp;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Yp||(Yp={}));class b1{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};r?typeof r=="object"?s=Object.assign({},r):s=r:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t1e extends fg{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new b1(Yp.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=M_e(this.apiClient,e);return a=Tt("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>cO(c))}else{const u=E_e(this.apiClient,e);return a=Tt("{model}:batchGenerateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>uO(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=N_e(this.apiClient,e);return a=Tt("batchPredictionJobs/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>cO(c))}else{const u=C_e(this.apiClient,e);return a=Tt("batches/{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>uO(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=D_e(this.apiClient,e);s=Tt("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=T_e(this.apiClient,e);s=Tt("batches/{name}:cancel",l._url),a=l._query,delete l.config,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=O_e(e);return a=Tt("batchPredictionJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=e1e(c),h=new t9;return Object.assign(h,d),h})}else{const u=R_e(e);return a=Tt("batches",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=X_e(c),h=new t9;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function r1e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function i1e(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function o1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],n1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],r1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],i1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function s9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function s1e(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function a1e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function l1e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],a1e(n)),e}function u1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function c1e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],u1e(n)),e}function d1e(){return{}}function f1e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>s1e(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],l1e(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],c1e(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],d1e());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function h1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function p1e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function g1e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],p1e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function m1e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],h1e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],g1e(r)),e}function y1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let c=fa(s);Array.isArray(c)&&(c=c.map(d=>s9(d))),b(e,["contents"],c)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],s9(so(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>f1e(d))),b(e,["tools"],c)}const u=v(t,["toolConfig"]);if(e!==void 0&&u!=null&&b(e,["toolConfig"],m1e(u)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function v1e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],xee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],y1e(i,n)),n}function b1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function x1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function w1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function _1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],w1e(i,n)),n}function S1e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function E1e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],S1e(n,e)),e}function C1e(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function T1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function A1e(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function R1e(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],C1e(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],T1e(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],A1e(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function a9(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>R1e(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function P1e(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function I1e(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function k1e(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],I1e(n)),e}function M1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function N1e(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],M1e(n)),e}function D1e(){return{}}function L1e(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function O1e(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],L1e(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function F1e(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],O1e(n)),e}function $1e(){return{}}function B1e(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>P1e(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],k1e(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],N1e(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],D1e());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],F1e(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],$1e());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function V1e(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function z1e(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function U1e(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],z1e(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function H1e(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],V1e(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],U1e(r)),e}function q1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=v(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=v(t,["contents"]);if(e!==void 0&&s!=null){let d=fa(s);Array.isArray(d)&&(d=d.map(h=>a9(h))),b(e,["contents"],d)}const a=v(t,["systemInstruction"]);e!==void 0&&a!=null&&b(e,["systemInstruction"],a9(so(a)));const l=v(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>B1e(h))),b(e,["tools"],d)}const u=v(t,["toolConfig"]);e!==void 0&&u!=null&&b(e,["toolConfig"],H1e(u));const c=v(t,["kmsKeyName"]);return e!==void 0&&c!=null&&b(e,["encryption_spec","kmsKeyName"],c),n}function j1e(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],xee(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],q1e(i,n)),n}function W1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function G1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function K1e(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Y1e(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],od(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],K1e(i,n)),n}function X1e(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function J1e(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],X1e(n,e)),e}function pC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function Q1e(){return{}}function Z1e(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pC(o))),b(e,["cachedContents"],i)}return e}function gC(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["model"]);i!=null&&b(e,["model"],i);const o=v(t,["createTime"]);o!=null&&b(e,["createTime"],o);const s=v(t,["updateTime"]);s!=null&&b(e,["updateTime"],s);const a=v(t,["expireTime"]);a!=null&&b(e,["expireTime"],a);const l=v(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function eSe(){return{}}function tSe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>gC(o))),b(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nSe extends fg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new b1(Yp.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=j1e(this.apiClient,e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=v1e(this.apiClient,e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=W1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=b1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=G1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=eSe(),d=new ZH;return Object.assign(d,c),d})}else{const u=x1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=Q1e(),d=new ZH;return Object.assign(d,c),d})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Y1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>gC(c))}else{const u=_1e(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>pC(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=J1e(e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=tSe(c),h=new e9;return Object.assign(h,d),h})}else{const u=E1e(e);return a=Tt("cachedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=Z1e(c),h=new e9;return Object.assign(h,d),h})}}}function l9(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dr(t){return this instanceof dr?(this.v=t,this):new dr(t)}function xy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(y){return new Promise(function(x,_){o.push([p,y,x,_])>1||l(p,y)})},m&&(i[p]=m(i[p])))}function l(p,m){try{u(r[p](m))}catch(y){h(o[0][3],y)}}function u(p){p.value instanceof dr?Promise.resolve(p.value.v).then(c,d):h(o[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,m){p(m),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Rx(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof l9=="function"?l9(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rSe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Mee(n)}function Mee(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function iSe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function u9(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Mee(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class oSe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new sSe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class sSe{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),iSe(o)}async sendMessage(e){var n;await this.sendPromise;const r=so(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const p=u?[u]:[];this.recordHistory(r,p,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=so(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?u9(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return xy(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var d=!0,h=Rx(e),p;p=yield dr(h.next()),s=p.done,!s;d=!0){u=p.value,d=!1;const m=u;if(rSe(m)){const y=(i=(r=m.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;y!==void 0&&c.push(y)}yield yield dr(m)}}catch(m){a={error:m}}finally{try{!d&&!s&&(l=h.return)&&(yield dr(l.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...u9(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gR extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gR.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aSe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function lSe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],aSe(n,e)),e}function uSe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function cSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],uSe(y)),e}function dSe(t){const e={},n=v(t,["file"]);n!=null&&b(e,["file"],cSe(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function fSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],Cee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function hSe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","file"],Cee(n));const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function pSe(t){const e={},n=v(t,["details"]);n!=null&&b(e,["details"],n);const r=v(t,["message"]);r!=null&&b(e,["message"],r);const i=v(t,["code"]);return i!=null&&b(e,["code"],i),e}function dO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["mimeType"]);i!=null&&b(e,["mimeType"],i);const o=v(t,["sizeBytes"]);o!=null&&b(e,["sizeBytes"],o);const s=v(t,["createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["expirationTime"]);a!=null&&b(e,["expirationTime"],a);const l=v(t,["updateTime"]);l!=null&&b(e,["updateTime"],l);const u=v(t,["sha256Hash"]);u!=null&&b(e,["sha256Hash"],u);const c=v(t,["uri"]);c!=null&&b(e,["uri"],c);const d=v(t,["downloadUri"]);d!=null&&b(e,["downloadUri"],d);const h=v(t,["state"]);h!=null&&b(e,["state"],h);const p=v(t,["source"]);p!=null&&b(e,["source"],p);const m=v(t,["videoMetadata"]);m!=null&&b(e,["videoMetadata"],m);const y=v(t,["error"]);return y!=null&&b(e,["error"],pSe(y)),e}function gSe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>dO(o))),b(e,["files"],i)}return e}function mSe(){return{}}function ySe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vSe extends fg{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new b1(Yp.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>dO(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=lSe(e);return o=Tt("files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=gSe(l),c=new kwe;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dSe(e);return o=Tt("upload/v1beta/files",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=mSe(),u=new Mwe;return Object.assign(u,l),u})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fSe(e);return o=Tt("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>dO(l))}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hSe(e);return o=Tt("files/{file}",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(()=>{const l=ySe(),u=new Nwe;return Object.assign(u,l),u})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bSe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function xSe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function Nee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],bSe(n)),e}function wSe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],xSe(n)),e}function _Se(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],Nee(r)),e}function SSe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_Se(i))),b(e,["speakerVoiceConfigs"],r)}return e}function ESe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],Nee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],SSe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function CSe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],wSe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function TSe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function ASe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function RSe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function PSe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function ISe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function kSe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function MSe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],TSe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],RSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],ISe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function NSe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],ASe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],PSe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],kSe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function DSe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MSe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function LSe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NSe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function OSe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function FSe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function $Se(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function BSe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function VSe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],$Se(n)),e}function zSe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],BSe(n)),e}function USe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function HSe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function qSe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],USe(n)),e}function jSe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],HSe(n)),e}function WSe(){return{}}function GSe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function KSe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],GSe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function YSe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],KSe(n)),e}function XSe(){return{}}function JSe(){return{}}function QSe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>OSe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],VSe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],qSe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],XSe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function ZSe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>FSe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],zSe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],jSe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],WSe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],YSe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],JSe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function eEe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tEe(t){const e={},n=v(t,["handle"]);n!=null&&b(e,["handle"],n);const r=v(t,["transparent"]);return r!=null&&b(e,["transparent"],r),e}function c9(){return{}}function d9(){return{}}function nEe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function rEe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function iEe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],nEe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function oEe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],rEe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function sEe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function aEe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function lEe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],sEe(r)),e}function uEe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],aEe(r)),e}function cEe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function dEe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function fEe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],ESe(V5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],DSe(so(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=f0(m);Array.isArray(I)&&(I=I.map(N=>QSe(d0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],eEe(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],c9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],c9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],iEe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],lEe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],cEe(T)),n}function hEe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],CSe(V5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],LSe(so(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=f0(m);Array.isArray(I)&&(I=I.map(N=>ZSe(d0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],tEe(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],d9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],d9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],oEe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],uEe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],dEe(T)),n}function pEe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],fEe(i,n)),n}function gEe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],hEe(i,n)),n}function mEe(){return{}}function yEe(){return{}}function vEe(){return{}}function bEe(){return{}}function xEe(t){const e={},n=v(t,["media"]);n!=null&&b(e,["mediaChunks"],wee(n));const r=v(t,["audio"]);r!=null&&b(e,["audio"],Fwe(r));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=v(t,["video"]);o!=null&&b(e,["video"],Owe(o));const s=v(t,["text"]);return s!=null&&b(e,["text"],s),v(t,["activityStart"])!=null&&b(e,["activityStart"],mEe()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],vEe()),e}function wEe(t){const e={},n=v(t,["media"]);if(n!=null&&b(e,["mediaChunks"],wee(n)),v(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=v(t,["audioStreamEnd"]);if(r!=null&&b(e,["audioStreamEnd"],r),v(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(v(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return v(t,["activityStart"])!=null&&b(e,["activityStart"],yEe()),v(t,["activityEnd"])!=null&&b(e,["activityEnd"],bEe()),e}function Dee(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function _Ee(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dee(i))),b(e,["weightedPrompts"],r)}return e}function Lee(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function SEe(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],Lee(n)),e}function Oee(t){const e={},n=v(t,["model"]);return n!=null&&b(e,["model"],n),e}function Fee(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Dee(i))),b(e,["weightedPrompts"],r)}return e}function fO(t){const e={},n=v(t,["setup"]);n!=null&&b(e,["setup"],Oee(n));const r=v(t,["clientContent"]);r!=null&&b(e,["clientContent"],Fee(r));const i=v(t,["musicGenerationConfig"]);i!=null&&b(e,["musicGenerationConfig"],Lee(i));const o=v(t,["playbackControl"]);return o!=null&&b(e,["playbackControl"],o),e}function EEe(){return{}}function CEe(){return{}}function TEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function AEe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function REe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function PEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function IEe(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function kEe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function MEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],TEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],REe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],IEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function NEe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],AEe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],PEe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],kEe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function DEe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function LEe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NEe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function f9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function h9(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["finished"]);return r!=null&&b(e,["finished"],r),e}function OEe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function FEe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>OEe(i))),b(e,["urlMetadata"],r)}return e}function $Ee(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],DEe(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],f9(a));const l=v(t,["outputTranscription"]);l!=null&&b(e,["outputTranscription"],f9(l));const u=v(t,["urlContextMetadata"]);return u!=null&&b(e,["urlContextMetadata"],FEe(u)),e}function BEe(t){const e={},n=v(t,["modelTurn"]);n!=null&&b(e,["modelTurn"],LEe(n));const r=v(t,["turnComplete"]);r!=null&&b(e,["turnComplete"],r);const i=v(t,["interrupted"]);i!=null&&b(e,["interrupted"],i);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const s=v(t,["generationComplete"]);s!=null&&b(e,["generationComplete"],s);const a=v(t,["inputTranscription"]);a!=null&&b(e,["inputTranscription"],h9(a));const l=v(t,["outputTranscription"]);return l!=null&&b(e,["outputTranscription"],h9(l)),e}function VEe(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);return i!=null&&b(e,["name"],i),e}function zEe(t){const e={},n=v(t,["args"]);n!=null&&b(e,["args"],n);const r=v(t,["name"]);return r!=null&&b(e,["name"],r),e}function UEe(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>VEe(i))),b(e,["functionCalls"],r)}return e}function HEe(t){const e={},n=v(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zEe(i))),b(e,["functionCalls"],r)}return e}function qEe(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function jEe(t){const e={},n=v(t,["ids"]);return n!=null&&b(e,["ids"],n),e}function bE(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function xE(t){const e={},n=v(t,["modality"]);n!=null&&b(e,["modality"],n);const r=v(t,["tokenCount"]);return r!=null&&b(e,["tokenCount"],r),e}function WEe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["responseTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>bE(p))),b(e,["promptTokensDetails"],h)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>bE(p))),b(e,["cacheTokensDetails"],h)}const c=v(t,["responseTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>bE(p))),b(e,["responseTokensDetails"],h)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(p=>bE(p))),b(e,["toolUsePromptTokensDetails"],h)}return e}function GEe(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=v(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=v(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const a=v(t,["totalTokenCount"]);a!=null&&b(e,["totalTokenCount"],a);const l=v(t,["promptTokensDetails"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>xE(m))),b(e,["promptTokensDetails"],p)}const u=v(t,["cacheTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(m=>xE(m))),b(e,["cacheTokensDetails"],p)}const c=v(t,["candidatesTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>xE(m))),b(e,["responseTokensDetails"],p)}const d=v(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>xE(m))),b(e,["toolUsePromptTokensDetails"],p)}const h=v(t,["trafficType"]);return h!=null&&b(e,["trafficType"],h),e}function KEe(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function YEe(t){const e={},n=v(t,["timeLeft"]);return n!=null&&b(e,["timeLeft"],n),e}function XEe(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function JEe(t){const e={},n=v(t,["newHandle"]);n!=null&&b(e,["newHandle"],n);const r=v(t,["resumable"]);r!=null&&b(e,["resumable"],r);const i=v(t,["lastConsumedClientMessageIndex"]);return i!=null&&b(e,["lastConsumedClientMessageIndex"],i),e}function QEe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],EEe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],$Ee(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],UEe(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],qEe(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],WEe(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],KEe(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],XEe(l)),e}function ZEe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],CEe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],BEe(r));const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],HEe(i));const o=v(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],jEe(o));const s=v(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],GEe(s));const a=v(t,["goAway"]);a!=null&&b(e,["goAway"],YEe(a));const l=v(t,["sessionResumptionUpdate"]);return l!=null&&b(e,["sessionResumptionUpdate"],JEe(l)),e}function eCe(){return{}}function tCe(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["weight"]);return r!=null&&b(e,["weight"],r),e}function nCe(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>tCe(i))),b(e,["weightedPrompts"],r)}return e}function rCe(t){const e={},n=v(t,["temperature"]);n!=null&&b(e,["temperature"],n);const r=v(t,["topK"]);r!=null&&b(e,["topK"],r);const i=v(t,["seed"]);i!=null&&b(e,["seed"],i);const o=v(t,["guidance"]);o!=null&&b(e,["guidance"],o);const s=v(t,["bpm"]);s!=null&&b(e,["bpm"],s);const a=v(t,["density"]);a!=null&&b(e,["density"],a);const l=v(t,["brightness"]);l!=null&&b(e,["brightness"],l);const u=v(t,["scale"]);u!=null&&b(e,["scale"],u);const c=v(t,["muteBass"]);c!=null&&b(e,["muteBass"],c);const d=v(t,["muteDrums"]);d!=null&&b(e,["muteDrums"],d);const h=v(t,["onlyBassAndDrums"]);return h!=null&&b(e,["onlyBassAndDrums"],h),e}function iCe(t){const e={},n=v(t,["clientContent"]);n!=null&&b(e,["clientContent"],nCe(n));const r=v(t,["musicGenerationConfig"]);return r!=null&&b(e,["musicGenerationConfig"],rCe(r)),e}function oCe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);r!=null&&b(e,["mimeType"],r);const i=v(t,["sourceMetadata"]);return i!=null&&b(e,["sourceMetadata"],iCe(i)),e}function sCe(t){const e={},n=v(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>oCe(i))),b(e,["audioChunks"],r)}return e}function aCe(t){const e={},n=v(t,["text"]);n!=null&&b(e,["text"],n);const r=v(t,["filteredReason"]);return r!=null&&b(e,["filteredReason"],r),e}function lCe(t){const e={};v(t,["setupComplete"])!=null&&b(e,["setupComplete"],eCe());const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],sCe(r));const i=v(t,["filteredPrompt"]);return i!=null&&b(e,["filteredPrompt"],aCe(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uCe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function cCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function dCe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function fCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],uCe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],cCe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],dCe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function mR(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function hCe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function pCe(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&b(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function gCe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function mCe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function yCe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],mCe(n)),e}function vCe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function bCe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],vCe(n)),e}function xCe(){return{}}function wCe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>gCe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],yCe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],bCe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],xCe());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function _Ce(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function SCe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function ECe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],SCe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function CCe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],_Ce(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],ECe(r)),e}function TCe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function $ee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],TCe(n)),e}function ACe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],$ee(r)),e}function RCe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ACe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function PCe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],$ee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],RCe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function ICe(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function kCe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],mR(so(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],hCe(lw(_)));const E=v(e,["responseJsonSchema"]);if(E!=null&&b(r,["responseJsonSchema"],E),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=v(e,["safetySettings"]);if(n!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(V=>pCe(V))),b(n,["safetySettings"],D)}const T=v(e,["tools"]);if(n!==void 0&&T!=null){let D=f0(T);Array.isArray(D)&&(D=D.map(V=>wCe(d0(V)))),b(n,["tools"],D)}const I=v(e,["toolConfig"]);if(n!==void 0&&I!=null&&b(n,["toolConfig"],CCe(I)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=v(e,["cachedContent"]);n!==void 0&&N!=null&&b(n,["cachedContent"],od(t,N));const R=v(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const M=v(e,["mediaResolution"]);M!=null&&b(r,["mediaResolution"],M);const L=v(e,["speechConfig"]);if(L!=null&&b(r,["speechConfig"],PCe(B5(L))),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=v(e,["thinkingConfig"]);return k!=null&&b(r,["thinkingConfig"],ICe(k)),r}function p9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>mR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],kCe(t,o,n)),n}function MCe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=v(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function NCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["requests[]","content"],See(t,i));const o=v(e,["config"]);o!=null&&b(n,["config"],MCe(o,n));const s=v(e,["model"]);return s!==void 0&&b(n,["requests[]","model"],jn(t,s)),n}function DCe(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const o=v(t,["guidanceScale"]);if(e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&b(e,["parameters","safetySetting"],s);const a=v(t,["personGeneration"]);e!==void 0&&a!=null&&b(e,["parameters","personGeneration"],a);const l=v(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&b(e,["parameters","includeSafetyAttributes"],l);const u=v(t,["includeRaiReason"]);e!==void 0&&u!=null&&b(e,["parameters","includeRaiReason"],u);const c=v(t,["language"]);e!==void 0&&c!=null&&b(e,["parameters","language"],c);const d=v(t,["outputMimeType"]);e!==void 0&&d!=null&&b(e,["parameters","outputOptions","mimeType"],d);const h=v(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&b(e,["parameters","outputOptions","compressionQuality"],h),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function LCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],DCe(o,n)),n}function OCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function FCe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Tee(t,a)),r}function $Ce(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],FCe(t,r,n)),n}function BCe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function VCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],BCe(i,n)),n}function zCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function UCe(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function HCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>mR(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],UCe(o)),n}function qCe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],sd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function jCe(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["aspectRatio"]);if(e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o),v(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const s=v(t,["personGeneration"]);if(e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&b(e,["parameters","negativePrompt"],a);const l=v(t,["enhancePrompt"]);if(e!==void 0&&l!=null&&b(e,["parameters","enhancePrompt"],l),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(v(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function WCe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);if(o!=null&&b(n,["instances[0]","image"],qCe(o)),v(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const s=v(e,["config"]);return s!=null&&b(n,["config"],jCe(s,n)),n}function GCe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function KCe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function YCe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function XCe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],GCe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],KCe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],YCe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function h0(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>XCe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function JCe(t){const e={},n=v(t,["anyOf"]);n!=null&&b(e,["anyOf"],n);const r=v(t,["default"]);r!=null&&b(e,["default"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["enum"]);o!=null&&b(e,["enum"],o);const s=v(t,["example"]);s!=null&&b(e,["example"],s);const a=v(t,["format"]);a!=null&&b(e,["format"],a);const l=v(t,["items"]);l!=null&&b(e,["items"],l);const u=v(t,["maxItems"]);u!=null&&b(e,["maxItems"],u);const c=v(t,["maxLength"]);c!=null&&b(e,["maxLength"],c);const d=v(t,["maxProperties"]);d!=null&&b(e,["maxProperties"],d);const h=v(t,["maximum"]);h!=null&&b(e,["maximum"],h);const p=v(t,["minItems"]);p!=null&&b(e,["minItems"],p);const m=v(t,["minLength"]);m!=null&&b(e,["minLength"],m);const y=v(t,["minProperties"]);y!=null&&b(e,["minProperties"],y);const x=v(t,["minimum"]);x!=null&&b(e,["minimum"],x);const _=v(t,["nullable"]);_!=null&&b(e,["nullable"],_);const E=v(t,["pattern"]);E!=null&&b(e,["pattern"],E);const S=v(t,["properties"]);S!=null&&b(e,["properties"],S);const T=v(t,["propertyOrdering"]);T!=null&&b(e,["propertyOrdering"],T);const I=v(t,["required"]);I!=null&&b(e,["required"],I);const N=v(t,["title"]);N!=null&&b(e,["title"],N);const R=v(t,["type"]);return R!=null&&b(e,["type"],R),e}function QCe(t){const e={},n=v(t,["featureSelectionPreference"]);return n!=null&&b(e,["featureSelectionPreference"],n),e}function ZCe(t){const e={},n=v(t,["method"]);n!=null&&b(e,["method"],n);const r=v(t,["category"]);r!=null&&b(e,["category"],r);const i=v(t,["threshold"]);return i!=null&&b(e,["threshold"],i),e}function eTe(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=v(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=v(t,["response"]);s!=null&&b(e,["response"],s);const a=v(t,["responseJsonSchema"]);return a!=null&&b(e,["responseJsonSchema"],a),e}function tTe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function nTe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],tTe(n)),e}function rTe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function iTe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],rTe(n)),e}function oTe(){return{}}function sTe(t){const e={},n=v(t,["apiKeyString"]);return n!=null&&b(e,["apiKeyString"],n),e}function aTe(t){const e={},n=v(t,["apiKeyConfig"]);n!=null&&b(e,["apiKeyConfig"],sTe(n));const r=v(t,["authType"]);r!=null&&b(e,["authType"],r);const i=v(t,["googleServiceAccountConfig"]);i!=null&&b(e,["googleServiceAccountConfig"],i);const o=v(t,["httpBasicAuthConfig"]);o!=null&&b(e,["httpBasicAuthConfig"],o);const s=v(t,["oauthConfig"]);s!=null&&b(e,["oauthConfig"],s);const a=v(t,["oidcConfig"]);return a!=null&&b(e,["oidcConfig"],a),e}function lTe(t){const e={},n=v(t,["authConfig"]);return n!=null&&b(e,["authConfig"],aTe(n)),e}function uTe(){return{}}function Bee(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>eTe(d))),b(e,["functionDeclarations"],c)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearch"]);i!=null&&b(e,["googleSearch"],nTe(i));const o=v(t,["googleSearchRetrieval"]);o!=null&&b(e,["googleSearchRetrieval"],iTe(o)),v(t,["enterpriseWebSearch"])!=null&&b(e,["enterpriseWebSearch"],oTe());const a=v(t,["googleMaps"]);a!=null&&b(e,["googleMaps"],lTe(a)),v(t,["urlContext"])!=null&&b(e,["urlContext"],uTe());const u=v(t,["codeExecution"]);return u!=null&&b(e,["codeExecution"],u),e}function cTe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);return r!=null&&b(e,["allowedFunctionNames"],r),e}function dTe(t){const e={},n=v(t,["latitude"]);n!=null&&b(e,["latitude"],n);const r=v(t,["longitude"]);return r!=null&&b(e,["longitude"],r),e}function fTe(t){const e={},n=v(t,["latLng"]);n!=null&&b(e,["latLng"],dTe(n));const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function hTe(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],cTe(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],fTe(r)),e}function pTe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function gTe(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],pTe(n)),e}function mTe(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&b(e,["voiceConfig"],gTe(n)),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&b(e,["languageCode"],r),e}function yTe(t){const e={},n=v(t,["includeThoughts"]);n!=null&&b(e,["includeThoughts"],n);const r=v(t,["thinkingBudget"]);return r!=null&&b(e,["thinkingBudget"],r),e}function vTe(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],h0(so(i)));const o=v(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=v(e,["topP"]);s!=null&&b(r,["topP"],s);const a=v(e,["topK"]);a!=null&&b(r,["topK"],a);const l=v(e,["candidateCount"]);l!=null&&b(r,["candidateCount"],l);const u=v(e,["maxOutputTokens"]);u!=null&&b(r,["maxOutputTokens"],u);const c=v(e,["stopSequences"]);c!=null&&b(r,["stopSequences"],c);const d=v(e,["responseLogprobs"]);d!=null&&b(r,["responseLogprobs"],d);const h=v(e,["logprobs"]);h!=null&&b(r,["logprobs"],h);const p=v(e,["presencePenalty"]);p!=null&&b(r,["presencePenalty"],p);const m=v(e,["frequencyPenalty"]);m!=null&&b(r,["frequencyPenalty"],m);const y=v(e,["seed"]);y!=null&&b(r,["seed"],y);const x=v(e,["responseMimeType"]);x!=null&&b(r,["responseMimeType"],x);const _=v(e,["responseSchema"]);_!=null&&b(r,["responseSchema"],JCe(lw(_)));const E=v(e,["responseJsonSchema"]);E!=null&&b(r,["responseJsonSchema"],E);const S=v(e,["routingConfig"]);S!=null&&b(r,["routingConfig"],S);const T=v(e,["modelSelectionConfig"]);T!=null&&b(r,["modelConfig"],QCe(T));const I=v(e,["safetySettings"]);if(n!==void 0&&I!=null){let G=I;Array.isArray(G)&&(G=G.map(K=>ZCe(K))),b(n,["safetySettings"],G)}const N=v(e,["tools"]);if(n!==void 0&&N!=null){let G=f0(N);Array.isArray(G)&&(G=G.map(K=>Bee(d0(K)))),b(n,["tools"],G)}const R=v(e,["toolConfig"]);n!==void 0&&R!=null&&b(n,["toolConfig"],hTe(R));const M=v(e,["labels"]);n!==void 0&&M!=null&&b(n,["labels"],M);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&b(n,["cachedContent"],od(t,L));const k=v(e,["responseModalities"]);k!=null&&b(r,["responseModalities"],k);const D=v(e,["mediaResolution"]);D!=null&&b(r,["mediaResolution"],D);const V=v(e,["speechConfig"]);V!=null&&b(r,["speechConfig"],mTe(B5(V)));const $=v(e,["audioTimestamp"]);$!=null&&b(r,["audioTimestamp"],$);const H=v(e,["thinkingConfig"]);return H!=null&&b(r,["thinkingConfig"],yTe(H)),r}function g9(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>h0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["generationConfig"],vTe(t,o,n)),n}function bTe(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const o=v(t,["outputDimensionality"]);e!==void 0&&o!=null&&b(e,["parameters","outputDimensionality"],o);const s=v(t,["mimeType"]);e!==void 0&&s!=null&&b(e,["instances[]","mimeType"],s);const a=v(t,["autoTruncate"]);return e!==void 0&&a!=null&&b(e,["parameters","autoTruncate"],a),n}function xTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);i!=null&&b(n,["instances[]","content"],See(t,i));const o=v(e,["config"]);return o!=null&&b(n,["config"],bTe(o,n)),n}function wTe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const x=v(t,["addWatermark"]);e!==void 0&&x!=null&&b(e,["parameters","addWatermark"],x);const _=v(t,["enhancePrompt"]);return e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_),n}function _Te(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["config"]);return o!=null&&b(n,["config"],wTe(o,n)),n}function yR(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function STe(t){const e={},n=v(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function ETe(t){const e={},n=v(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function CTe(t){const e={},n=v(t,["styleDescription"]);return n!=null&&b(e,["styleDescription"],n),e}function TTe(t){const e={},n=v(t,["subjectType"]);n!=null&&b(e,["subjectType"],n);const r=v(t,["subjectDescription"]);return r!=null&&b(e,["subjectDescription"],r),e}function ATe(t){const e={},n=v(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],yR(n));const r=v(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const o=v(t,["maskImageConfig"]);o!=null&&b(e,["maskImageConfig"],STe(o));const s=v(t,["controlImageConfig"]);s!=null&&b(e,["controlImageConfig"],ETe(s));const a=v(t,["styleImageConfig"]);a!=null&&b(e,["styleImageConfig"],CTe(a));const l=v(t,["subjectImageConfig"]);return l!=null&&b(e,["subjectImageConfig"],TTe(l)),e}function RTe(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const o=v(t,["numberOfImages"]);e!==void 0&&o!=null&&b(e,["parameters","sampleCount"],o);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["guidanceScale"]);e!==void 0&&a!=null&&b(e,["parameters","guidanceScale"],a);const l=v(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&b(e,["parameters","safetySetting"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&b(e,["parameters","includeSafetyAttributes"],d);const h=v(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=v(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&b(e,["parameters","outputOptions","mimeType"],m);const y=v(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&b(e,["parameters","outputOptions","compressionQuality"],y);const x=v(t,["editMode"]);e!==void 0&&x!=null&&b(e,["parameters","editMode"],x);const _=v(t,["baseSteps"]);return e!==void 0&&_!=null&&b(e,["parameters","editConfig","baseSteps"],_),n}function PTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>ATe(l))),b(n,["instances[0]","referenceImages"],a)}const s=v(e,["config"]);return s!=null&&b(n,["config"],RTe(s,n)),n}function ITe(t,e){const n={},r=v(t,["includeRaiReason"]);e!==void 0&&r!=null&&b(e,["parameters","includeRaiReason"],r);const i=v(t,["outputMimeType"]);e!==void 0&&i!=null&&b(e,["parameters","outputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&b(e,["parameters","outputOptions","compressionQuality"],o);const s=v(t,["enhanceInputImage"]);e!==void 0&&s!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],s);const a=v(t,["imagePreservationFactor"]);e!==void 0&&a!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],a);const l=v(t,["numberOfImages"]);e!==void 0&&l!=null&&b(e,["parameters","sampleCount"],l);const u=v(t,["mode"]);return e!==void 0&&u!=null&&b(e,["parameters","mode"],u),n}function kTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["image"]);i!=null&&b(n,["instances[0]","image"],yR(i));const o=v(e,["upscaleFactor"]);o!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=v(e,["config"]);return s!=null&&b(n,["config"],ITe(s,n)),n}function MTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function NTe(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const o=v(e,["pageToken"]);n!==void 0&&o!=null&&b(n,["_query","pageToken"],o);const s=v(e,["filter"]);n!==void 0&&s!=null&&b(n,["_query","filter"],s);const a=v(e,["queryBase"]);return n!==void 0&&a!=null&&b(n,["_url","models_url"],Tee(t,a)),r}function DTe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],NTe(t,r,n)),n}function LTe(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const o=v(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&b(e,["defaultCheckpointId"],o),n}function OTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],LTe(i,n)),n}function FTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],i),n}function $Te(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],h0(so(r)));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Bee(a))),b(e,["tools"],s)}const o=v(t,["generationConfig"]);return e!==void 0&&o!=null&&b(e,["generationConfig"],o),n}function BTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>h0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],$Te(o,n)),n}function VTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["contents"]);if(i!=null){let s=fa(i);Array.isArray(s)&&(s=s.map(a=>h0(a))),b(n,["contents"],s)}const o=v(e,["config"]);return o!=null&&b(n,["config"],o),n}function zTe(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function UTe(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=v(t,["fps"]);e!==void 0&&o!=null&&b(e,["parameters","fps"],o);const s=v(t,["durationSeconds"]);e!==void 0&&s!=null&&b(e,["parameters","durationSeconds"],s);const a=v(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const l=v(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const u=v(t,["resolution"]);e!==void 0&&u!=null&&b(e,["parameters","resolution"],u);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const d=v(t,["pubsubTopic"]);e!==void 0&&d!=null&&b(e,["parameters","pubsubTopic"],d);const h=v(t,["negativePrompt"]);e!==void 0&&h!=null&&b(e,["parameters","negativePrompt"],h);const p=v(t,["enhancePrompt"]);e!==void 0&&p!=null&&b(e,["parameters","enhancePrompt"],p);const m=v(t,["generateAudio"]);e!==void 0&&m!=null&&b(e,["parameters","generateAudio"],m);const y=v(t,["lastFrame"]);e!==void 0&&y!=null&&b(e,["instances[0]","lastFrame"],yR(y));const x=v(t,["compressionQuality"]);return e!==void 0&&x!=null&&b(e,["parameters","compressionQuality"],x),n}function HTe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],jn(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const o=v(e,["image"]);o!=null&&b(n,["instances[0]","image"],yR(o));const s=v(e,["video"]);s!=null&&b(n,["instances[0]","video"],zTe(s));const a=v(e,["config"]);return a!=null&&b(n,["config"],UTe(a,n)),n}function qTe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function jTe(t){const e={},n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function WTe(t){const e={},n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function GTe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],qTe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],jTe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],WTe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function KTe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>GTe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function YTe(t){const e={},n=v(t,["citationSources"]);return n!=null&&b(e,["citations"],n),e}function XTe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function JTe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>XTe(i))),b(e,["urlMetadata"],r)}return e}function QTe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],KTe(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],YTe(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],JTe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function m9(t){const e={},n=v(t,["candidates"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>QTe(a))),b(e,["candidates"],s)}const r=v(t,["modelVersion"]);r!=null&&b(e,["modelVersion"],r);const i=v(t,["promptFeedback"]);i!=null&&b(e,["promptFeedback"],i);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function ZTe(t){const e={},n=v(t,["values"]);return n!=null&&b(e,["values"],n),e}function eAe(){return{}}function tAe(t){const e={},n=v(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZTe(o))),b(e,["embeddings"],i)}return v(t,["metadata"])!=null&&b(e,["metadata"],eAe()),e}function nAe(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],sd(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Vee(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function rAe(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],nAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],Vee(i)),e}function iAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rAe(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],Vee(r)),e}function oAe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function hO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["version"]);o!=null&&b(e,["version"],o);const s=v(t,["_self"]);s!=null&&b(e,["tunedModelInfo"],oAe(s));const a=v(t,["inputTokenLimit"]);a!=null&&b(e,["inputTokenLimit"],a);const l=v(t,["outputTokenLimit"]);l!=null&&b(e,["outputTokenLimit"],l);const u=v(t,["supportedGenerationMethods"]);return u!=null&&b(e,["supportedActions"],u),e}function sAe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Aee(i);Array.isArray(o)&&(o=o.map(s=>hO(s))),b(n,["models"],o)}return n}function aAe(){return{}}function lAe(t){const e={},n=v(t,["totalTokens"]);n!=null&&b(e,["totalTokens"],n);const r=v(t,["cachedContentTokenCount"]);return r!=null&&b(e,["cachedContentTokenCount"],r),e}function uAe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function cAe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],uAe(n)),e}function dAe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>cAe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function fAe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],dAe(s)),e}function hAe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function pAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["data"]);r!=null&&b(e,["data"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function gAe(t){const e={},n=v(t,["displayName"]);n!=null&&b(e,["displayName"],n);const r=v(t,["fileUri"]);r!=null&&b(e,["fileUri"],r);const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function mAe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],hAe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],pAe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],gAe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function yAe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>mAe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function vAe(t){const e={},n=v(t,["citations"]);return n!=null&&b(e,["citations"],n),e}function bAe(t){const e={},n=v(t,["retrievedUrl"]);n!=null&&b(e,["retrievedUrl"],n);const r=v(t,["urlRetrievalStatus"]);return r!=null&&b(e,["urlRetrievalStatus"],r),e}function xAe(t){const e={},n=v(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bAe(i))),b(e,["urlMetadata"],r)}return e}function wAe(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],yAe(n));const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],vAe(r));const i=v(t,["finishMessage"]);i!=null&&b(e,["finishMessage"],i);const o=v(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=v(t,["urlContextMetadata"]);s!=null&&b(e,["urlContextMetadata"],xAe(s));const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const l=v(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const u=v(t,["index"]);u!=null&&b(e,["index"],u);const c=v(t,["logprobsResult"]);c!=null&&b(e,["logprobsResult"],c);const d=v(t,["safetyRatings"]);return d!=null&&b(e,["safetyRatings"],d),e}function y9(t){const e={},n=v(t,["candidates"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>wAe(u))),b(e,["candidates"],l)}const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["responseId"]);i!=null&&b(e,["responseId"],i);const o=v(t,["modelVersion"]);o!=null&&b(e,["modelVersion"],o);const s=v(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=v(t,["usageMetadata"]);return a!=null&&b(e,["usageMetadata"],a),e}function _Ae(t){const e={},n=v(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function SAe(t){const e={},n=v(t,["values"]);n!=null&&b(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&b(e,["statistics"],_Ae(r)),e}function EAe(t){const e={},n=v(t,["billableCharacterCount"]);return n!=null&&b(e,["billableCharacterCount"],n),e}function CAe(t){const e={},n=v(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SAe(o))),b(e,["embeddings"],i)}const r=v(t,["metadata"]);return r!=null&&b(e,["metadata"],EAe(r)),e}function TAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function zee(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function z5(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],TAe(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&b(e,["safetyAttributes"],zee(i));const o=v(t,["prompt"]);return o!=null&&b(e,["enhancedPrompt"],o),e}function AAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>z5(o))),b(e,["generatedImages"],i)}const r=v(t,["positivePromptSafetyAttributes"]);return r!=null&&b(e,["positivePromptSafetyAttributes"],zee(r)),e}function RAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z5(i))),b(e,["generatedImages"],r)}return e}function PAe(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z5(i))),b(e,["generatedImages"],r)}return e}function IAe(t){const e={},n=v(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function kAe(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function MAe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);return i!=null&&b(e,["step"],i),e}function pO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const o=v(t,["versionId"]);o!=null&&b(e,["version"],o);const s=v(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>IAe(h))),b(e,["endpoints"],d)}const a=v(t,["labels"]);a!=null&&b(e,["labels"],a);const l=v(t,["_self"]);l!=null&&b(e,["tunedModelInfo"],kAe(l));const u=v(t,["defaultCheckpointId"]);u!=null&&b(e,["defaultCheckpointId"],u);const c=v(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>MAe(h))),b(e,["checkpoints"],d)}return e}function NAe(t,e){const n={},r=v(e,["nextPageToken"]);r!=null&&b(n,["nextPageToken"],r);const i=v(e,["_self"]);if(i!=null){let o=Aee(i);Array.isArray(o)&&(o=o.map(s=>pO(s))),b(n,["models"],o)}return n}function DAe(){return{}}function LAe(t){const e={},n=v(t,["totalTokens"]);return n!=null&&b(e,["totalTokens"],n),e}function OAe(t){const e={},n=v(t,["tokensInfo"]);return n!=null&&b(e,["tokensInfo"],n),e}function FAe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function $Ae(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],FAe(n)),e}function BAe(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$Ae(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function VAe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],BAe(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zAe="Content-Type",UAe="X-Server-Timeout",HAe="User-Agent",gO="x-goog-api-client",qAe="1.7.0",jAe=`google-genai-sdk/${qAe}`,WAe="v1beta1",GAe="v1beta",v9=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class KAe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:WAe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:GAe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,o=i.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>i.abort(),n.timeout),r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&YAe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await b9(i),new aO(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await b9(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return xy(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield dr(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l);try{const d=JSON.parse(u);if("error"in d){const h=JSON.parse(JSON.stringify(d.error)),p=h.status,m=h.code,y=`got status: ${p}. ${JSON.stringify(d)}`;if(m>=400&&m<600)throw new gR({message:y,status:m})}}catch(d){if(d.name==="ApiError")throw d}s+=u;let c=s.match(v9);for(;c;){const d=c[1];try{const h=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dr(new aO(h)),s=s.slice(c[0].length),c=s.match(v9)}catch(h){throw new Error(`exception parsing stream chunk ${d}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=jAe+" "+this.clientOptions.userAgentExtra;return e[HAe]=n,e[gO]=n,e[zAe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(UAe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l=await this.fetchUploadUrl(i,n);return o.upload(e,l,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},s=await this.request({path:Tt("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=(r=s==null?void 0:s.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(a===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function b9(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gR({message:i,status:n}):new Error(i)}}function YAe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XAe="mcp_used/unknown";function Uee(t){for(const e of t)if(U5(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Hee(t){var e;const n=(e=t[gO])!==null&&e!==void 0?e:"";t[gO]=(n+` ${XAe}`).trimStart()}function JAe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>U5(i)))!==null&&r!==void 0?r:!1}function QAe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!U5(i)))!==null&&r!==void 0?r:!1}function U5(t){return t!==null&&typeof t=="object"&&t instanceof H5}function ZAe(t,e=100){return xy(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield dr(t.listTools({cursor:r}));for(const s of o.tools)yield yield dr(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class H5{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new H5(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Rx(ZAe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Kwe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function eRe(t,e,n){const r=new Lwe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const o=lCe(i);Object.assign(r,o),e(r)}class tRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=iRe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(S=>{u=S}),d=e.callbacks,h=function(){u({})},p=this.apiClient,m={onopen:h,onmessage:S=>{eRe(p,d.onmessage,S)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(S){}},y=this.webSocketFactory.create(l,rRe(s),m);y.connect(),await c;const x=jn(this.apiClient,e.model),_=Oee({model:x}),E=fO({setup:_});return y.send(JSON.stringify(E)),new nRe(y,this.apiClient)}}class nRe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=_Ee(e),r=Fee(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=SEe(e),r=fO(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=fO({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(dy.PLAY)}pause(){this.sendPlaybackControl(dy.PAUSE)}stop(){this.sendPlaybackControl(dy.STOP)}resetContext(){this.sendPlaybackControl(dy.RESET_CONTEXT)}close(){this.conn.close()}}function rRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oRe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sRe(t,e,n){const r=new Dwe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=ZEe(o);Object.assign(r,s)}else{const s=QEe(o);Object.assign(r,s)}e(r)}class aRe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new tRe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Uee(e.config.tools)&&Hee(d);const h=dRe(d);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const L=this.apiClient.getApiKey();let k="BidiGenerateContent",D="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),k="BidiGenerateContentConstrained",D="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${k}?${D}=${L}`}let p=()=>{};const m=new Promise(L=>{p=L}),y=e.callbacks,x=function(){var L;(L=y==null?void 0:y.onopen)===null||L===void 0||L.call(y),p({})},_=this.apiClient,E={onopen:x,onmessage:L=>{sRe(_,y.onmessage,L)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(L){}},S=this.webSocketFactory.create(c,cRe(h),E);S.connect(),await m;let T=jn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const L=this.apiClient.getProject(),k=this.apiClient.getLocation();T=`projects/${L}/locations/${k}/`+T}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$T.AUDIO]}:e.config.responseModalities=[$T.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],R=[];for(const L of N)if(this.isCallableTool(L)){const k=L;R.push(await k.tool())}else R.push(L);R.length>0&&(e.config.tools=R);const M={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=gEe(this.apiClient,M):I=pEe(this.apiClient,M),delete I.config,S.send(JSON.stringify(I)),new uRe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const lRe={turnComplete:!0};class uRe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fa(n.turns),e.isVertexAI()?r=r.map(i=>h0(i)):r=r.map(i=>mR(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(oRe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},lRe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:wEe(e)}:n={realtimeInput:xEe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cRe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dRe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x9=10;function w9(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(mC(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function mC(t){return"callTool"in t&&typeof t.callTool=="function"}function _9(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fRe extends fg{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsForMcpUsage(n);if(!JAe(n)||w9(n.config))return await this.generateContentInternal(l);if(QAe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let u,c;const d=fa(l.contents),h=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:x9;let p=0;for(;p<h&&(u=await this.generateContentInternal(l),!(!u.functionCalls||u.functionCalls.length===0));){const m=u.candidates[0].content,y=[];for(const x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(mC(x)){const E=await x.callTool(u.functionCalls);y.push(...E)}p++,c={role:"user",parts:y},l.contents=fa(l.contents),l.contents.push(m),l.contents.push(c),_9(l.config)&&(d.push(m),d.push(c))}return _9(l.config)&&(u.automaticFunctionCallingHistory=d),u},this.generateContentStream=async n=>{if(w9(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o}:a={generatedImages:s},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new b1(Yp.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}async processParamsForMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>mC(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&Uee(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),Hee(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(mC(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:x9;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){var h,p;return xy(this,arguments,function*(){for(var m,y,x,_;a<o;){s&&(a++,s=!1);const I=yield dr(u.processParamsForMcpUsage(d)),N=yield dr(u.generateContentStreamInternal(I)),R=[],M=[];try{for(var E=!0,S=(y=void 0,Rx(N)),T;T=yield dr(S.next()),m=T.done,!m;E=!0){_=T.value,E=!1;const L=_;if(yield yield dr(L),L.candidates&&(!((h=L.candidates[0])===null||h===void 0)&&h.content)){M.push(L.candidates[0].content);for(const k of(p=L.candidates[0].content.parts)!==null&&p!==void 0?p:[])if(a<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(k.functionCall.name)){const D=yield dr(c.get(k.functionCall.name).callTool([k.functionCall]));R.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(L){y={error:L}}finally{try{!E&&!m&&(x=S.return)&&(yield dr(x.call(S)))}finally{if(y)throw y.error}}if(R.length>0){s=!0;const L=new lb;L.candidates=[{content:{role:"user",parts:R}}],yield yield dr(L);const k=[];k.push(...M),k.push({role:"user",parts:R});const D=fa(d.contents).concat(k);d.contents=D}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g9(this.apiClient,e);return a=Tt("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=y9(c),h=new lb;return Object.assign(h,d),h})}else{const u=p9(this.apiClient,e);return a=Tt("{model}:generateContent",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=m9(c),h=new lb;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=g9(this.apiClient,e);return a=Tt("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return xy(this,arguments,function*(){var h,p,m,y;try{for(var x=!0,_=Rx(d),E;E=yield dr(_.next()),h=E.done,!h;x=!0){y=E.value,x=!1;const T=y9(yield dr(y.json())),I=new lb;Object.assign(I,T),yield yield dr(I)}}catch(S){p={error:S}}finally{try{!x&&!h&&(m=_.return)&&(yield dr(m.call(_)))}finally{if(p)throw p.error}}})})}else{const u=p9(this.apiClient,e);return a=Tt("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return xy(this,arguments,function*(){var h,p,m,y;try{for(var x=!0,_=Rx(d),E;E=yield dr(_.next()),h=E.done,!h;x=!0){y=E.value,x=!1;const T=m9(yield dr(y.json())),I=new lb;Object.assign(I,T),yield yield dr(I)}}catch(S){p={error:S}}finally{try{!x&&!h&&(m=_.return)&&(yield dr(m.call(_)))}finally{if(p)throw p.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xTe(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=CAe(c),h=new GH;return Object.assign(h,d),h})}else{const u=NCe(this.apiClient,e);return a=Tt("{model}:batchEmbedContents",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=tAe(c),h=new GH;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_Te(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=AAe(c),h=new KH;return Object.assign(h,d),h})}else{const u=LCe(this.apiClient,e);return a=Tt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=iAe(c),h=new KH;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=PTe(this.apiClient,e);return o=Tt("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=RAe(l),c=new Rwe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=kTe(this.apiClient,e);return o=Tt("{model}:predict",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=PAe(l),c=new Pwe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MTe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>pO(c))}else{const u=OCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>hO(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DTe(this.apiClient,e);return a=Tt("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=NAe(this.apiClient,c),h=new YH;return Object.assign(h,d),h})}else{const u=$Ce(this.apiClient,e);return a=Tt("{models_url}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=sAe(this.apiClient,c),h=new YH;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OTe(this.apiClient,e);return a=Tt("{model}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>pO(c))}else{const u=VCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>hO(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FTe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(()=>{const c=DAe(),d=new XH;return Object.assign(d,c),d})}else{const u=zCe(this.apiClient,e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(()=>{const c=aAe(),d=new XH;return Object.assign(d,c),d})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BTe(this.apiClient,e);return a=Tt("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=LAe(c),h=new JH;return Object.assign(h,d),h})}else{const u=HCe(this.apiClient,e);return a=Tt("{model}:countTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=lAe(c),h=new JH;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=VTe(this.apiClient,e);return o=Tt("{model}:computeTokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=OAe(l),c=new Iwe;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HTe(this.apiClient,e);return a=Tt("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>VAe(c))}else{const u=WCe(this.apiClient,e);return a=Tt("{model}:predictLongRunning",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>fAe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function pRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["_url","operationName"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function gRe(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=v(t,["resourceName"]);r!=null&&b(e,["_url","resourceName"],r);const i=v(t,["config"]);return i!=null&&b(e,["config"],i),e}function mRe(t){const e={},n=v(t,["video","uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function yRe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],mRe(n)),e}function vRe(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>yRe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function bRe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],vRe(s)),e}function xRe(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],sd(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function wRe(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],xRe(n)),e}function _Re(t){const e={},n=v(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wRe(s))),b(e,["generatedVideos"],o)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function S9(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);o!=null&&b(e,["error"],o);const s=v(t,["response"]);return s!=null&&b(e,["response"],_Re(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SRe extends fg{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pRe(e);return a=Tt("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>S9(c))}else{const u=hRe(e);return a=Tt("{operationName}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>bRe(c))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=gRe(e);return o=Tt("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>S9(l))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ERe(t){const e={},n=v(t,["voiceName"]);return n!=null&&b(e,["voiceName"],n),e}function qee(t){const e={},n=v(t,["prebuiltVoiceConfig"]);return n!=null&&b(e,["prebuiltVoiceConfig"],ERe(n)),e}function CRe(t){const e={},n=v(t,["speaker"]);n!=null&&b(e,["speaker"],n);const r=v(t,["voiceConfig"]);return r!=null&&b(e,["voiceConfig"],qee(r)),e}function TRe(t){const e={},n=v(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CRe(i))),b(e,["speakerVoiceConfigs"],r)}return e}function ARe(t){const e={},n=v(t,["voiceConfig"]);n!=null&&b(e,["voiceConfig"],qee(n));const r=v(t,["multiSpeakerVoiceConfig"]);r!=null&&b(e,["multiSpeakerVoiceConfig"],TRe(r));const i=v(t,["languageCode"]);return i!=null&&b(e,["languageCode"],i),e}function RRe(t){const e={},n=v(t,["fps"]);n!=null&&b(e,["fps"],n);const r=v(t,["endOffset"]);r!=null&&b(e,["endOffset"],r);const i=v(t,["startOffset"]);return i!=null&&b(e,["startOffset"],i),e}function PRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&b(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function IRe(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function kRe(t){const e={},n=v(t,["videoMetadata"]);n!=null&&b(e,["videoMetadata"],RRe(n));const r=v(t,["thought"]);r!=null&&b(e,["thought"],r);const i=v(t,["inlineData"]);i!=null&&b(e,["inlineData"],PRe(i));const o=v(t,["fileData"]);o!=null&&b(e,["fileData"],IRe(o));const s=v(t,["thoughtSignature"]);s!=null&&b(e,["thoughtSignature"],s);const a=v(t,["codeExecutionResult"]);a!=null&&b(e,["codeExecutionResult"],a);const l=v(t,["executableCode"]);l!=null&&b(e,["executableCode"],l);const u=v(t,["functionCall"]);u!=null&&b(e,["functionCall"],u);const c=v(t,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const d=v(t,["text"]);return d!=null&&b(e,["text"],d),e}function MRe(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kRe(o))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function NRe(t){const e={},n=v(t,["behavior"]);n!=null&&b(e,["behavior"],n);const r=v(t,["description"]);r!=null&&b(e,["description"],r);const i=v(t,["name"]);i!=null&&b(e,["name"],i);const o=v(t,["parameters"]);o!=null&&b(e,["parameters"],o);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const l=v(t,["responseJsonSchema"]);return l!=null&&b(e,["responseJsonSchema"],l),e}function DRe(t){const e={},n=v(t,["startTime"]);n!=null&&b(e,["startTime"],n);const r=v(t,["endTime"]);return r!=null&&b(e,["endTime"],r),e}function LRe(t){const e={},n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],DRe(n)),e}function ORe(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["dynamicThreshold"]);return r!=null&&b(e,["dynamicThreshold"],r),e}function FRe(t){const e={},n=v(t,["dynamicRetrievalConfig"]);return n!=null&&b(e,["dynamicRetrievalConfig"],ORe(n)),e}function $Re(){return{}}function BRe(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>NRe(l))),b(e,["functionDeclarations"],a)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&b(e,["googleSearch"],LRe(r));const i=v(t,["googleSearchRetrieval"]);if(i!=null&&b(e,["googleSearchRetrieval"],FRe(i)),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");v(t,["urlContext"])!=null&&b(e,["urlContext"],$Re());const s=v(t,["codeExecution"]);return s!=null&&b(e,["codeExecution"],s),e}function VRe(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E9(){return{}}function zRe(t){const e={},n=v(t,["disabled"]);n!=null&&b(e,["disabled"],n);const r=v(t,["startOfSpeechSensitivity"]);r!=null&&b(e,["startOfSpeechSensitivity"],r);const i=v(t,["endOfSpeechSensitivity"]);i!=null&&b(e,["endOfSpeechSensitivity"],i);const o=v(t,["prefixPaddingMs"]);o!=null&&b(e,["prefixPaddingMs"],o);const s=v(t,["silenceDurationMs"]);return s!=null&&b(e,["silenceDurationMs"],s),e}function URe(t){const e={},n=v(t,["automaticActivityDetection"]);n!=null&&b(e,["automaticActivityDetection"],zRe(n));const r=v(t,["activityHandling"]);r!=null&&b(e,["activityHandling"],r);const i=v(t,["turnCoverage"]);return i!=null&&b(e,["turnCoverage"],i),e}function HRe(t){const e={},n=v(t,["targetTokens"]);return n!=null&&b(e,["targetTokens"],n),e}function qRe(t){const e={},n=v(t,["triggerTokens"]);n!=null&&b(e,["triggerTokens"],n);const r=v(t,["slidingWindow"]);return r!=null&&b(e,["slidingWindow"],HRe(r)),e}function jRe(t){const e={},n=v(t,["proactiveAudio"]);return n!=null&&b(e,["proactiveAudio"],n),e}function WRe(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=v(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=v(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const a=v(t,["topK"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topK"],a);const l=v(t,["maxOutputTokens"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","maxOutputTokens"],l);const u=v(t,["mediaResolution"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","mediaResolution"],u);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","seed"],c);const d=v(t,["speechConfig"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","speechConfig"],ARe(V5(d)));const h=v(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],h);const p=v(t,["systemInstruction"]);e!==void 0&&p!=null&&b(e,["setup","systemInstruction"],MRe(so(p)));const m=v(t,["tools"]);if(e!==void 0&&m!=null){let I=f0(m);Array.isArray(I)&&(I=I.map(N=>BRe(d0(N)))),b(e,["setup","tools"],I)}const y=v(t,["sessionResumption"]);e!==void 0&&y!=null&&b(e,["setup","sessionResumption"],VRe(y));const x=v(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&b(e,["setup","inputAudioTranscription"],E9());const _=v(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&b(e,["setup","outputAudioTranscription"],E9());const E=v(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&b(e,["setup","realtimeInputConfig"],URe(E));const S=v(t,["contextWindowCompression"]);e!==void 0&&S!=null&&b(e,["setup","contextWindowCompression"],qRe(S));const T=v(t,["proactivity"]);return e!==void 0&&T!=null&&b(e,["setup","proactivity"],jRe(T)),n}function GRe(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],jn(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],WRe(i,n)),n}function KRe(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=v(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const s=v(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const a=v(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&b(n,["bidiGenerateContentSetup"],GRe(t,a));const l=v(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&b(n,["fieldMask"],l),r}function YRe(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],KRe(t,r,n)),n}function XRe(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JRe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function QRe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=JRe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class ZRe extends fg{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=YRe(this.apiClient,e);o=Tt("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=QRe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>XRe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ePe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function tPe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function nPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],tPe(n,e)),e}function rPe(t){const e={},n=v(t,["textInput"]);n!=null&&b(e,["textInput"],n);const r=v(t,["output"]);return r!=null&&b(e,["output"],r),e}function iPe(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rPe(i))),b(e,["examples","examples"],r)}return e}function oPe(t,e){const n={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=v(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&b(e,["displayName"],r),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=v(t,["epochCount"]);e!==void 0&&i!=null&&b(e,["tuningTask","hyperparameters","epochCount"],i);const o=v(t,["learningRateMultiplier"]);if(o!=null&&b(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const s=v(t,["batchSize"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","batchSize"],s);const a=v(t,["learningRate"]);return e!==void 0&&a!=null&&b(e,["tuningTask","hyperparameters","learningRate"],a),n}function sPe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["tuningTask","trainingData"],iPe(r));const i=v(t,["config"]);return i!=null&&b(e,["config"],oPe(i,e)),e}function aPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&b(e,["config"],r),e}function lPe(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=v(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function uPe(t){const e={},n=v(t,["config"]);return n!=null&&b(e,["config"],lPe(n,e)),e}function cPe(t,e){const n={},r=v(t,["gcsUri"]);if(e!==void 0&&r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],r),v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function dPe(t){const e={},n=v(t,["gcsUri"]);return n!=null&&b(e,["validationDatasetUri"],n),e}function fPe(t,e){const n={},r=v(t,["validationDataset"]);e!==void 0&&r!=null&&b(e,["supervisedTuningSpec"],dPe(r));const i=v(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&b(e,["tunedModelDisplayName"],i);const o=v(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=v(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=v(t,["learningRateMultiplier"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=v(t,["exportLastCheckpointOnly"]);e!==void 0&&l!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=v(t,["adapterSize"]);if(e!==void 0&&u!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],u),v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function hPe(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["trainingDataset"]);r!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],cPe(r,e));const i=v(t,["config"]);return i!=null&&b(e,["config"],fPe(i,e)),e}function pPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["model"],n);const r=v(t,["name"]);return r!=null&&b(e,["endpoint"],r),e}function jee(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Eee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["tuningTask","startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["tuningTask","completeTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["description"]);l!=null&&b(e,["description"],l);const u=v(t,["baseModel"]);u!=null&&b(e,["baseModel"],u);const c=v(t,["_self"]);c!=null&&b(e,["tunedModel"],pPe(c));const d=v(t,["distillationSpec"]);d!=null&&b(e,["distillationSpec"],d);const h=v(t,["experiment"]);h!=null&&b(e,["experiment"],h);const p=v(t,["labels"]);p!=null&&b(e,["labels"],p);const m=v(t,["pipelineJob"]);m!=null&&b(e,["pipelineJob"],m);const y=v(t,["serviceAccount"]);y!=null&&b(e,["serviceAccount"],y);const x=v(t,["tunedModelDisplayName"]);return x!=null&&b(e,["tunedModelDisplayName"],x),e}function gPe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>jee(o))),b(e,["tuningJobs"],i)}return e}function mPe(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const o=v(t,["error"]);return o!=null&&b(e,["error"],o),e}function yPe(t){const e={},n=v(t,["checkpointId"]);n!=null&&b(e,["checkpointId"],n);const r=v(t,["epoch"]);r!=null&&b(e,["epoch"],r);const i=v(t,["step"]);i!=null&&b(e,["step"],i);const o=v(t,["endpoint"]);return o!=null&&b(e,["endpoint"],o),e}function vPe(t){const e={},n=v(t,["model"]);n!=null&&b(e,["model"],n);const r=v(t,["endpoint"]);r!=null&&b(e,["endpoint"],r);const i=v(t,["checkpoints"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>yPe(s))),b(e,["checkpoints"],o)}return e}function mO(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["state"]);r!=null&&b(e,["state"],Eee(r));const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const o=v(t,["startTime"]);o!=null&&b(e,["startTime"],o);const s=v(t,["endTime"]);s!=null&&b(e,["endTime"],s);const a=v(t,["updateTime"]);a!=null&&b(e,["updateTime"],a);const l=v(t,["error"]);l!=null&&b(e,["error"],l);const u=v(t,["description"]);u!=null&&b(e,["description"],u);const c=v(t,["baseModel"]);c!=null&&b(e,["baseModel"],c);const d=v(t,["tunedModel"]);d!=null&&b(e,["tunedModel"],vPe(d));const h=v(t,["supervisedTuningSpec"]);h!=null&&b(e,["supervisedTuningSpec"],h);const p=v(t,["tuningDataStats"]);p!=null&&b(e,["tuningDataStats"],p);const m=v(t,["encryptionSpec"]);m!=null&&b(e,["encryptionSpec"],m);const y=v(t,["partnerModelTuningSpec"]);y!=null&&b(e,["partnerModelTuningSpec"],y);const x=v(t,["distillationSpec"]);x!=null&&b(e,["distillationSpec"],x);const _=v(t,["experiment"]);_!=null&&b(e,["experiment"],_);const E=v(t,["labels"]);E!=null&&b(e,["labels"],E);const S=v(t,["pipelineJob"]);S!=null&&b(e,["pipelineJob"],S);const T=v(t,["serviceAccount"]);T!=null&&b(e,["serviceAccount"],T);const I=v(t,["tunedModelDisplayName"]);return I!=null&&b(e,["tunedModelDisplayName"],I),e}function bPe(t){const e={},n=v(t,["nextPageToken"]);n!=null&&b(e,["nextPageToken"],n);const r=v(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>mO(o))),b(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xPe extends fg{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new b1(Yp.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:sO.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=aPe(e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>mO(c))}else{const u=ePe(e);return a=Tt("{name}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>jee(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uPe(e);return a=Tt("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=bPe(c),h=new QH;return Object.assign(h,d),h})}else{const u=nPe(e);return a=Tt("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=gPe(c),h=new QH;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=hPe(e);return o=Tt("tuningJobs",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>mO(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=sPe(e);return o=Tt("tunedModels",a._url),s=a._query,delete a.config,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>mPe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wPe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _Pe=1024*1024*8,SPe=3,EPe=1e3,CPe=2,Ck="x-goog-upload-status";async function TPe(t,e,n){var r,i,o;let s=0,a=0,l=new aO(new Response),u="upload";for(s=t.size;a<s;){const d=Math.min(_Pe,s-a),h=t.slice(a,a+d);a+d>=s&&(u+=", finalize");let p=0,m=EPe;for(;p<SPe&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(d)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Ck]));)p++,await RPe(m),m=m*CPe;if(a+=d,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Ck])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[Ck])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function APe(t){return{size:t.size,type:t.type}}function RPe(t){return new Promise(e=>setTimeout(e,t))}class PPe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await TPe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await APe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IPe{create(e,n,r){return new kPe(e,n,r)}}class kPe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C9="x-goog-api-key";class MPe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(C9)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(C9,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NPe="gl-node/";class DPe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Awe(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new MPe(this.apiKey);this.apiClient=new KAe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:NPe+"web",uploader:new PPe,downloader:new wPe}),this.models=new fRe(this.apiClient),this.live=new aRe(this.apiClient,i,new IPe),this.batches=new t1e(this.apiClient),this.chats=new oSe(this.models,this.apiClient),this.caches=new nSe(this.apiClient),this.files=new vSe(this.apiClient),this.operations=new SRe(this.apiClient),this.authTokens=new ZRe(this.apiClient),this.tunings=new xPe(this.apiClient)}}const LPe=`
You are an expert research methodology advisor and academic mentor. 
Your purpose is to help researchers read an academic paper more effectively by assessing their current reading progress and providing a set of specific, actionable reading goals to guide their next steps in reading.
`,OPe=3,FPe=`
Keshav's "three-pass approach":
- a quick first pass (i.e. skimming) to get a bird's-eye view, 
- a second pass to grasp content, and 
- a third pass for in-depth understanding.
`,$Pe=`
- Level 0: Skimming (What is the paper about?)
-- To Skim: get a bird's-eye view of the paper.

- Level 1: Foundational Understanding (What does the paper say?)
-- To Learn / Self-Inform: learning its core concepts and background.
-- To Search / Answer Questions: questions a reader might want to find the answer to in this paper.
-- To Summarize: summarizing the paper's central argument and conclusion.

- Level 2: Critical Evaluation (How good is the paper's argument?)
-- For Critical Review: critically evaluate this paper's specific methodology, evidence, or logical structure.
-- For Discussion: form a critical opinion or a key question for discussing this paper with peers.

- Level 3: Connection & Application (How can I use this paper?)
-- To Apply: extract a specific method, theory, or finding from this paper for practical application.
-- To Write and Revise: use this paper to support your own writing or literature review.
-- For Decision Making: use the paper's findings to inform a specific research or practical decision.
`,BPe=`
You will be provided with (1) the full text of an academic paper and (2) a list of reading goals that the user has already completed.

Your task is to: 
(1) first understand the paper, 
(2) then provide a brief assessment of the user's current reading progress using the provided reading framework,
(3) finally generate ${OPe} potential reading goals and their descriptions according to the provided intention framework.

${FPe}

${$Pe}

Ensure all generated goals are phrased as actionable tasks and are tailored directly to the content of the paper content and should aimed for the user's current reading progress. 

The user has already completed the following reading goals:
`,So={READING:"reading",ANALYZING:"analyzing"},Wee=F.createContext(void 0),VPe=({children:t})=>{const{userData:e,getAllUsers:n,getAllPapersData:r}=c0(),[i,o]=F.useState({}),[s,a]=F.useState({}),[l,u]=F.useState(So.READING),[c,d]=F.useState(null);F.useEffect(()=>{u(So.READING),d(null),h()},[e]);const h=async()=>{if(!e)return;if(e.role===sw.STUDENT)o({[e.id]:e});else{const m=await n();o(m.reduce((y,x)=>(y[x.id]=x,y),{}))}const p=await r();a(p.reduce((m,y)=>(m[y.id]=y,m),{}))};return O.jsx(Wee.Provider,{value:{usersDict:i,papersDict:s,setUsersDict:o,setPapersDict:a,mode:l,setMode:u,viewingPaperId:c,setViewingPaperId:d},children:t})},Wf=()=>{const t=F.useContext(Wee);if(t===void 0)throw new Error("useWorkspaceContext must be used within a WorkspaceProvider");return t},sr={PAPERS:"papers",USERS:"users",PURPOSES:"purposes"},Gee=F.createContext(void 0),zPe=({children:t})=>{const{userData:e,getSessionsByUsersAndPapers:n,getHighlightsByUsersAndPapers:r,getPurposesByUserAndPaper:i}=c0(),{usersDict:o,papersDict:s}=Wf(),[a,l]=F.useState([]),[u,c]=F.useState([]),[d,h]=F.useState({}),[p,m]=F.useState({}),[y,x]=F.useState({}),[_,E]=F.useState(0),[S,T]=F.useState(!1),[I,N]=F.useState(sr.PAPERS),[R,M]=F.useState(null),[L,k]=F.useState(null),[D,V]=F.useState(0),[$,H]=F.useState([]),[G,K]=F.useState([]),[J,ee]=F.useState([]),[X,j]=F.useState({}),[Y,ae]=F.useState({}),[q,Q]=F.useState({});F.useEffect(()=>{te()},[e]),F.useEffect(()=>{u.length>0&&a.length>0&&se(),R&&!a.includes(R)?(M(null),N("papers")):L&&!u.includes(L)&&(k(null),N("users"))},[u,a]),F.useEffect(()=>{ce()},[d,p,y,u,a,I,R,L]);const te=()=>{l([]),c([]),h({}),m({}),x({}),E(0),N("papers"),M(null),k(null),V(0),H([]),K([]),ee([]),j({}),ae({}),Q({})},ue=$e=>{l(De=>De.includes($e)?De.filter(ke=>ke!==$e):[...De,$e])},de=$e=>{c(De=>De.includes($e)?De.filter(ke=>ke!==$e):[...De,$e])},se=async()=>{if(!(u.length===0||a.length===0)){T(!0);try{const $e=await n(u,a),De=await r(u,a),ke={};for(const Fe of u)for(const Qe of a){const ze=`${Fe}_${Qe}`;try{const lt=await i(Fe,Qe);ke[ze]=lt}catch(lt){console.error(`Error fetching purposes for user ${Fe} and paper ${Qe}:`,lt),ke[ze]=[]}}let qe=0;Object.values($e).forEach(Fe=>{const Qe=Fe.reduce((ze,lt)=>ze+lt.duration,0);qe=Math.max(qe,Qe)}),E(qe),h($e),m(De),x(ke)}catch($e){console.error("Error fetching analysis data:",$e)}finally{T(!1)}}},ce=()=>{let $e=0;const De=Object.keys(d).filter(ke=>{const[qe,Fe]=ke.split("_");return u.includes(qe)&&a.includes(Fe)});De.forEach(ke=>{const qe=d[ke]||[];$e+=qe.reduce((Fe,Qe)=>Fe+Qe.duration,0)}),V($e),I===sr.PAPERS?he(De):I===sr.USERS&&R?ve(R):I===sr.PURPOSES&&R&&L&&be(L,R)},he=$e=>{const De=new Map;$e.forEach(qe=>{const[Fe,Qe]=qe.split("_"),ze=d[qe]||[],lt=p[qe]||[];De.has(Qe)||De.set(Qe,{totalDuration:0,userCount:0,totalHighlights:0,users:new Set});const It=De.get(Qe);It.totalDuration+=ze.reduce((on,we)=>on+we.duration,0),It.totalHighlights+=lt.length,It.users.add(Fe)});const ke=Array.from(De.entries()).map(([qe,Fe])=>{var Qe;return{paperId:qe,paperTitle:((Qe=s[qe])==null?void 0:Qe.title)||"Unknown Paper",totalDuration:Fe.totalDuration,averageDuration:Fe.users.size>0?Fe.totalDuration/Fe.users.size:0,userCount:Fe.users.size,totalHighlights:Fe.totalHighlights,averageHighlights:Fe.users.size>0?Fe.totalHighlights/Fe.users.size:0}}).sort((qe,Fe)=>Fe.totalDuration-qe.totalDuration);H(ke)},ve=$e=>{const De=[];let ke={};u.forEach(qe=>{var It;const Fe=`${qe}_${$e}`,Qe=d[Fe]||[],ze=p[Fe]||[],lt=y[Fe]||[];if(Qe.length>0||ze.length>0){const on=Qe.reduce((Ae,We)=>Ae+We.duration,0),we=Math.max(...Qe.map(Ae=>Ae.startTime+Ae.duration),0);De.push({userId:qe,userName:((It=o[qe])==null?void 0:It.name)||"Unknown User",duration:on,highlightCount:ze.length,textHighlightCount:ze.filter(Ae=>Ae.type==="text").length,imageHighlightCount:ze.filter(Ae=>Ae.type==="area").length,purposeCount:lt.length,lastReadTime:we}),ke[qe]||(ke[qe]=[]),ke[qe].push(...ze)}}),K(De.sort((qe,Fe)=>Fe.duration-qe.duration)),j(ke)},be=($e,De)=>{const ke=`${$e}_${De}`,qe=d[ke]||[],Fe=p[ke]||[],Qe=y[ke]||[],ze=Qe.map(lt=>{const It=qe.filter(We=>We.readPurposeId===lt.id),on=Fe.filter(We=>We.readPurposeId===lt.id),we=It.reduce((We,yt)=>We+yt.duration,0),Ae=Math.max(...It.map(We=>We.startTime+We.duration),0);return{purposeId:lt.id,purposeTitle:lt.title,purposeColor:lt.color,duration:we,highlightCount:on.length,textHighlightCount:on.filter(We=>We.type==="text").length,imageHighlightCount:on.filter(We=>We.type==="area").length,lastReadTime:Ae}}).sort((lt,It)=>It.duration-lt.duration);ee(ze),j({[$e]:Fe}),ae({[$e]:Qe}),Q({[$e]:qe})},Re=$e=>{M($e),N(sr.USERS)},pe=$e=>{k($e),N(sr.PURPOSES)},Ce=$e=>{N($e),$e===sr.PAPERS?(M(null),k(null)):$e===sr.USERS&&k(null)};return O.jsx(Gee.Provider,{value:{selectedAnalyticsPapersId:a,selectedAnalyticsUsersId:u,togglePaperForAnalytics:ue,toggleUserForAnalytics:de,userPaperReadSessions:d,userPaperHighlights:p,userPaperPurposes:y,maxDuration:_,isLoadingData:S,analyticsLevel:I,selectedPaper:R,selectedUser:L,handlePaperClick:Re,handleUserClick:pe,handleBreadcrumbClick:Ce,totalTime:D,paperStats:$,userPaperStats:G,userPurposeStats:J,fetchData:se,analyticsHighlights:X,analyticsPurposes:Y,analyticsSessions:q},children:t})},x1=()=>{const t=F.useContext(Gee);if(!t)throw new Error("useAnalysisContext must be used within an AnalysisProvider");return t},Kee=F.createContext(void 0),T9={HIGHLIGHT:"highlight",THEME:"theme"},to={CHRONOLOGICAL:"chronological",RELATIONAL:"relational"},Yee=500,UPe="AIzaSyCI7AHHYDkgnfUco9GoTiYtX6-jrV3Nh8w",HPe=({children:t})=>{const{userData:e,getHighlightsByUsersAndPapers:n,getPurposesByUserAndPaper:r,getCanvasUserAndPaper:i,getSessionsByUsersAndPapers:o,batchAddPurposes:s,batchAddHighlights:a,batchAddSessions:l,updateCanvas:u,getPaperFile:c}=c0(),{mode:d,viewingPaperId:h}=Wf(),{analyticsHighlights:p,analyticsPurposes:m,analyticsSessions:y,analyticsLevel:x}=x1(),[_,E]=F.useState(!1),[S,T]=F.useState(null),[I,N]=F.useState([]),[R,M]=F.useState(0),L=F.useRef(null),[k,D]=F.useState({}),[V,$]=F.useState(""),[H,G]=F.useState(""),[K,J]=F.useState([]),[ee,X]=F.useState([]),[j,Y,ae]=age([]),[q,Q,te]=lge([]),[ue,de]=F.useState(!1),[se,ce]=F.useState([to.CHRONOLOGICAL,to.RELATIONAL]),he=150,ve=150,[be,Re]=F.useState({}),pe=F.useRef(null),Ce=F.useRef(null),$e=new DPe({apiKey:UPe});F.useEffect(()=>{console.log("load Paper Context",h),qe(),Fe()},[h]);const De=()=>{$(""),G(""),X([]),Ce.current=null,J([]),ce([to.CHRONOLOGICAL,to.RELATIONAL])},ke=()=>{N([]),D({}),Y([]),Q([]),Re({}),De()},qe=async()=>{if(!h){T(null);return}try{const Be=await c(h);T(Be)}catch(Be){console.error("Error fetching paper file:",Be)}},Fe=async()=>{if(!h||!e){ke();return}const dt=(await n([e.id],[h]))[`${e.id}_${h}`]||[],$t=await r(e.id,h),Bt=await i(e.id,h),nr=(await o([e.id],[h]))[`${e.id}_${h}`]||[];De(),Qe(dt,$t,nr,(Bt==null?void 0:Bt.reactFlowJson)||"")};F.useEffect(()=>{d===So.ANALYZING&&(x===sr.PAPERS?Qe(void 0,void 0,void 0,void 0):x===sr.USERS?Qe(Object.values(p).flat(),void 0,void 0,void 0):x===sr.PURPOSES&&Qe(Object.values(p).flat(),Object.values(m).flat(),Object.values(y).flat(),""))},[p,m,y]);const Qe=(Be,dt,$t,Bt)=>{N(Be||[]),D((dt==null?void 0:dt.reduce((nr,Nn)=>(nr[Nn.id]=Nn,nr),{}))||{}),Re(($t==null?void 0:$t.reduce((nr,Nn)=>(nr[Nn.id]=Nn,nr),{}))||{}),X((dt==null?void 0:dt.map(nr=>nr.id))||[]);const hn=JSON.parse(Bt||"{}");Y(hn.nodes||[]),Q(hn.edges||[])};F.useEffect(()=>{M(I.filter(Be=>Be.id.startsWith(V.toString())).length)},[V]),F.useEffect(()=>{Q(q==null?void 0:q.map(Be=>({...Be,hidden:!se.includes(Be.type??"")})))},[se]);const ze=async()=>{if(!L.current)return{};const Be=await L.current.getAllText(),dt=Object.values(k).map(hn=>hn.title+": "+hn.description).join(`
`),$t=BPe+`

`+dt+`

Below is the full text of the paper:
`+Be,Bt=await fn($t);return Bt?JSON.parse(Bt):{}},lt=Be=>{var dt;if(Be.type==="text"){const $t=((dt=Be.content.text)==null?void 0:dt.trim())??"",Bt=$t.split(/\s+/),hn=Bt.length>10?Bt.slice(0,10).join(" ")+"...":$t;return{type:Be.type,label:hn,content:Be.content.text}}else if(Be.type==="area")return{type:Be.type,label:"Image",content:Be.content.image}},It=Be=>{const dt=`${V}-${R}`;if(!L.current)return;const $t=L.current.getPageView(0).height,hn=(Be.position.boundingRect.y1+(Be.position.boundingRect.pageNumber-1)*$t)/(L.current.pagesCount*$t);N(Nn=>[...Nn,{...Be,id:dt,userId:e.id,paperId:h,readPurposeId:V,sessionId:H,timestamp:Date.now(),posPercentage:hn}]);const nr=R===0;if(Y(Nn=>[...Nn,{id:dt,type:T9.HIGHLIGHT,data:{id:dt,readPurposeId:V,...lt(Be),notes:""},position:{x:nr?Object.keys(k).findIndex(Dn=>Dn===V)*he:j[j.length-1].position.x,y:nr?ve:j[j.length-1].position.y+ve},style:{backgroundColor:k[V].color}}]),!nr){const Nn=j[j.length-1].id;Q(Dn=>[...Dn,{id:dt,source:Nn,sourceHandle:`chronological-handle-${Nn}-source`,target:dt,targetHandle:`chronological-handle-${dt}-target`,type:to.CHRONOLOGICAL,markerEnd:{type:Op.Arrow},hidden:!se.includes(to.CHRONOLOGICAL)}])}M(Nn=>Nn+1)},on=(Be,dt)=>{let $t=[...j];$t=$t.map(Bt=>Bt.id===Be?{...Bt,data:{...Bt.data,...dt}}:Bt),Y($t)},we=Be=>{K.forEach(dt=>{if(K.includes(Be.target))return;const $t={source:dt,target:Be.target,sourceHandle:`relational-handle-${dt}-source`,targetHandle:`relational-handle-${Be.target}-target`,id:`relational-${dt}-${Be.target}`,type:to.RELATIONAL,markerEnd:{type:Op.Arrow},hidden:!se.includes(to.RELATIONAL)};Q(Bt=>oJ($t,Bt))}),J([])},Ae=(Be,dt)=>{if(Be.length<2)return;let $t=[...j];const Bt=wx(),hn=j.filter(Dn=>Be.includes(Dn.id)),nr={id:Bt,type:T9.THEME,data:{id:Bt,readPurposeId:V,label:dt||`Group (${Be.length} nodes)`,notes:""},position:{x:hn.reduce((Dn,Si)=>Dn+Si.position.x,0)/hn.length+he,y:hn.reduce((Dn,Si)=>Dn+Si.position.y,0)/hn.length},style:{backgroundColor:k[V].color}};if($t.length>0){const Dn=$t[$t.length-1].id;Q(Si=>[...Si,{id:`chronological-${Bt}`,source:Dn,sourceHandle:`chronological-handle-${Dn}-source`,target:Bt,targetHandle:`chronological-handle-${Bt}-target`,type:to.CHRONOLOGICAL,markerEnd:{type:Op.Arrow},hidden:!se.includes(to.CHRONOLOGICAL)}])}const Nn=Be.map(Dn=>({id:`group-${Bt}-${Dn}`,source:Bt,sourceHandle:`relational-handle-${Bt}-source`,target:Dn,targetHandle:`relational-handle-${Dn}-target`,type:to.RELATIONAL,hidden:!se.includes(to.RELATIONAL)}));$t=[...$t,nr],Y($t),Q(Dn=>[...Dn,...Nn]),M(Dn=>Dn+1)},We=Be=>{console.log("Delete highlight",Be),N(I.filter(dt=>dt.id!==Be)),Y(j.filter(dt=>dt.id!==Be)),Q(q.filter(dt=>dt.id!==Be&&dt.source!==Be&&dt.target!==Be)),J([])},yt=()=>{console.log("Reset highlights"),N([]),Y([]),Q([]),J([]),M(0)},Ct=(Be,dt)=>{if(!e||!h)return;const $t=wx();D(Bt=>({...Bt,[$t]:{id:$t,paperId:h,userId:e.id,title:Be,color:dt}})),$($t),ht($t,!0)},ht=(Be,dt=!1)=>{ee.includes(Be)&&!dt?X(ee.filter($t=>$t!==Be)):X([...ee,Be])},vn=Be=>{console.log("Creating new reading session",Be);const dt=wx();G(dt);const $t=Date.now(),Bt=L.current.scroll.lastY/(L.current.pagesCount*L.current.getPageView(0).height);return Re(hn=>({...hn,[dt]:{id:dt,userId:e.id,paperId:h,readPurposeId:Be,startTime:$t,duration:0,scrollSequence:[Bt]}})),dt},en=()=>{if(!Ce.current||!L.current)return;const Be=Ce.current;if(!Be)return;const dt=Date.now(),$t=L.current.container.clientHeight/2,Bt=(L.current.scroll.lastY+$t)/(L.current.pagesCount*L.current.getPageView(0).height);Re(hn=>({...hn,[Be]:{...hn[Be],duration:dt-hn[Be].startTime,scrollSequence:[...hn[Be].scrollSequence,Bt]}}))},sn=()=>{pe.current=setInterval(()=>{en()},Yee)},it=()=>{console.log("Stopping current update interval"),pe.current&&(clearInterval(pe.current),pe.current=null)};F.useEffect(()=>{if(it(),V!==""){const Be=vn(V);Ce.current=Be,ht(V,!0),sn()}return()=>{it()}},[V]),F.useEffect(()=>{const Be=()=>{document.hidden&&Ce.current?(it(),console.log("Visibility change: Hidden",Ce.current)):!document.hidden&&Ce.current&&(sn(),console.log("Visibility change: Visible",Ce.current))};return document.addEventListener("visibilitychange",Be),()=>{document.removeEventListener("visibilitychange",Be)}},[Ce.current]);const Lt=async()=>{if(!e){alert("Please login to save your work");return}if(!_){E(!0);try{const Be=Object.values(k);await s(Be),await a(I),await l(Object.values(be));const $t={id:`${e.id}_${h}`,userId:e.id,paperId:h,reactFlowJson:JSON.stringify({nodes:j,edges:q})};await u($t)}catch(Be){console.error("Error saving data:",Be),alert("Failed to save data. Please try again.")}finally{E(!1)}}},fn=async(Be,dt)=>(await $e.models.generateContent({model:"gemini-2.5-flash",contents:Be+(dt?`
`+dt:""),config:{systemInstruction:LPe,responseMimeType:"application/json",responseSchema:{type:oo.OBJECT,properties:{readingProgress:{type:oo.STRING},readingGoals:{type:oo.ARRAY,items:{type:oo.OBJECT,properties:{goalName:{type:oo.STRING},goalDescription:{type:oo.STRING}}}}}}}})).text??"";return O.jsx(Kee.Provider,{value:{paperUrl:S,setPaperUrl:T,generateReadingGoals:ze,highlights:I,setHighlights:N,addHighlight:It,updateNodeData:on,deleteHighlight:We,resetHighlights:yt,pdfViewerRef:L,nodes:j,setNodes:Y,onNodesChange:ae,edges:q,setEdges:Q,onEdgesChange:te,onConnect:we,onSelectNode:ue,setOnSelectNode:de,createGroupNode:Ae,displayEdgeTypes:se,setDisplayEdgeTypes:ce,readPurposes:k,createRead:Ct,currentReadId:V,setCurrentReadId:$,currentSessionId:H,setCurrentSessionId:G,displayedReads:ee,setReadPurposes:D,toggleRead:ht,selectedHighlightIds:K,setSelectedHighlightIds:J,readSessions:be,setReadSessions:Re,stopUpdateReadingSession:it,query_gemini:fn,saving:_,saveReadingData:Lt,resetPaperContext:ke},children:t})},Gf=()=>{const t=F.useContext(Kee);if(t===void 0)throw new Error("usePaperContext must be used within a PaperContextProvider");return t},qPe=[{target:".upload-pdf",content:"Get started by uploading your first PDF!",placement:"bottom",data:{pause:!0}},{target:".add-new-read-btn",content:"Get started with setting up your first read here! Different reads should be mapped to different intentions.",placement:"bottom",data:{pause:!0}},{target:".active-read",content:"You can see what read you are currently on. Any highlight will be associated with the selected read. Use this to also toggle between your reads.",placement:"left-end"},{target:".pdf-container",content:"Get started by highlighting your first highlight! You can also hold option and take a screenshot as a highlight",placement:"right"},{target:".pdf-container",content:"Each highlight you make will create a node corresponding to that node and the current read you are on. With this node, you are able to link them to other nodes, generate summaries & definitions, as well as take your own notes.",placement:"right"}],vR=F.createContext(void 0),jPe=({children:t})=>{const[e,n]=F.useState(!1),[r,i]=F.useState(qPe),[o,s]=F.useState(0);return O.jsx(vR.Provider,{value:{runTour:e,setRunTour:n,steps:r,setSteps:i,stepIndex:o,setStepIndex:s},children:t})},WPe=()=>{const t=F.useContext(vR);if(t===void 0)throw new Error("useTourContext must be used within a TourContextProvider");return t},uw={black:"#000",white:"#fff"},ym={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},vm={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},bm={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},xm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ub={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},GPe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Jc(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const bR="$$material";function VT(){return VT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VT.apply(null,arguments)}function KPe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function YPe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var XPe=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(YPe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=KPe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Yi="-ms-",zT="-moz-",Ln="-webkit-",Xee="comm",q5="rule",j5="decl",JPe="@import",Jee="@keyframes",QPe="@layer",ZPe=Math.abs,xR=String.fromCharCode,eIe=Object.assign;function tIe(t,e){return $i(t,0)^45?(((e<<2^$i(t,0))<<2^$i(t,1))<<2^$i(t,2))<<2^$i(t,3):0}function Qee(t){return t.trim()}function nIe(t,e){return(t=e.exec(t))?t[0]:t}function Fn(t,e,n){return t.replace(e,n)}function yO(t,e){return t.indexOf(e)}function $i(t,e){return t.charCodeAt(e)|0}function cw(t,e,n){return t.slice(e,n)}function nu(t){return t.length}function W5(t){return t.length}function wE(t,e){return e.push(t),t}function rIe(t,e){return t.map(e).join("")}var wR=1,qv=1,Zee=0,os=0,Jr=0,p0="";function _R(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:wR,column:qv,length:s,return:""}}function cb(t,e){return eIe(_R("",null,null,"",null,null,0),t,{length:-t.length},e)}function iIe(){return Jr}function oIe(){return Jr=os>0?$i(p0,--os):0,qv--,Jr===10&&(qv=1,wR--),Jr}function $s(){return Jr=os<Zee?$i(p0,os++):0,qv++,Jr===10&&(qv=1,wR++),Jr}function vu(){return $i(p0,os)}function yC(){return os}function w1(t,e){return cw(p0,t,e)}function dw(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ete(t){return wR=qv=1,Zee=nu(p0=t),os=0,[]}function tte(t){return p0="",t}function vC(t){return Qee(w1(os-1,vO(t===91?t+2:t===40?t+1:t)))}function sIe(t){for(;(Jr=vu())&&Jr<33;)$s();return dw(t)>2||dw(Jr)>3?"":" "}function aIe(t,e){for(;--e&&$s()&&!(Jr<48||Jr>102||Jr>57&&Jr<65||Jr>70&&Jr<97););return w1(t,yC()+(e<6&&vu()==32&&$s()==32))}function vO(t){for(;$s();)switch(Jr){case t:return os;case 34:case 39:t!==34&&t!==39&&vO(Jr);break;case 40:t===41&&vO(t);break;case 92:$s();break}return os}function lIe(t,e){for(;$s()&&t+Jr!==57;)if(t+Jr===84&&vu()===47)break;return"/*"+w1(e,os-1)+"*"+xR(t===47?t:$s())}function uIe(t){for(;!dw(vu());)$s();return w1(t,os)}function cIe(t){return tte(bC("",null,null,null,[""],t=ete(t),0,[0],t))}function bC(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,p=0,m=0,y=1,x=1,_=1,E=0,S="",T=i,I=o,N=r,R=S;x;)switch(m=E,E=$s()){case 40:if(m!=108&&$i(R,d-1)==58){yO(R+=Fn(vC(E),"&","&\f"),"&\f")!=-1&&(_=-1);break}case 34:case 39:case 91:R+=vC(E);break;case 9:case 10:case 13:case 32:R+=sIe(m);break;case 92:R+=aIe(yC()-1,7);continue;case 47:switch(vu()){case 42:case 47:wE(dIe(lIe($s(),yC()),e,n),l);break;default:R+="/"}break;case 123*y:a[u++]=nu(R)*_;case 125*y:case 59:case 0:switch(E){case 0:case 125:x=0;case 59+c:_==-1&&(R=Fn(R,/\f/g,"")),p>0&&nu(R)-d&&wE(p>32?R9(R+";",r,n,d-1):R9(Fn(R," ","")+";",r,n,d-2),l);break;case 59:R+=";";default:if(wE(N=A9(R,e,n,u,c,i,a,S,T=[],I=[],d),o),E===123)if(c===0)bC(R,e,N,N,T,o,d,a,I);else switch(h===99&&$i(R,3)===110?100:h){case 100:case 108:case 109:case 115:bC(t,N,N,r&&wE(A9(t,N,N,0,0,i,a,S,i,T=[],d),I),i,I,d,a,r?T:I);break;default:bC(R,N,N,N,[""],I,0,a,I)}}u=c=p=0,y=_=1,S=R="",d=s;break;case 58:d=1+nu(R),p=m;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&oIe()==125)continue}switch(R+=xR(E),E*y){case 38:_=c>0?1:(R+="\f",-1);break;case 44:a[u++]=(nu(R)-1)*_,_=1;break;case 64:vu()===45&&(R+=vC($s())),h=vu(),c=d=nu(S=R+=uIe(yC())),E++;break;case 45:m===45&&nu(R)==2&&(y=0)}}return o}function A9(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],p=W5(h),m=0,y=0,x=0;m<r;++m)for(var _=0,E=cw(t,d+1,d=ZPe(y=s[m])),S=t;_<p;++_)(S=Qee(y>0?h[_]+" "+E:Fn(E,/&\f/g,h[_])))&&(l[x++]=S);return _R(t,e,n,i===0?q5:a,l,u,c)}function dIe(t,e,n){return _R(t,e,n,Xee,xR(iIe()),cw(t,2,-2),0)}function R9(t,e,n,r){return _R(t,e,n,j5,cw(t,0,r),cw(t,r+1,-1),r)}function wy(t,e){for(var n="",r=W5(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function fIe(t,e,n,r){switch(t.type){case QPe:if(t.children.length)break;case JPe:case j5:return t.return=t.return||t.value;case Xee:return"";case Jee:return t.return=t.value+"{"+wy(t.children,r)+"}";case q5:t.value=t.props.join(",")}return nu(n=wy(t.children,r))?t.return=t.value+"{"+n+"}":""}function hIe(t){var e=W5(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function pIe(t){return function(e){e.root||(e=e.return)&&t(e)}}function nte(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var gIe=function(e,n,r){for(var i=0,o=0;i=o,o=vu(),i===38&&o===12&&(n[r]=1),!dw(o);)$s();return w1(e,os)},mIe=function(e,n){var r=-1,i=44;do switch(dw(i)){case 0:i===38&&vu()===12&&(n[r]=1),e[r]+=gIe(os-1,n,r);break;case 2:e[r]+=vC(i);break;case 4:if(i===44){e[++r]=vu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xR(i)}while(i=$s());return e},yIe=function(e,n){return tte(mIe(ete(e),n))},P9=new WeakMap,vIe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!P9.get(r))&&!i){P9.set(e,!0);for(var o=[],s=yIe(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},bIe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function rte(t,e){switch(tIe(t,e)){case 5103:return Ln+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ln+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ln+t+zT+t+Yi+t+t;case 6828:case 4268:return Ln+t+Yi+t+t;case 6165:return Ln+t+Yi+"flex-"+t+t;case 5187:return Ln+t+Fn(t,/(\w+).+(:[^]+)/,Ln+"box-$1$2"+Yi+"flex-$1$2")+t;case 5443:return Ln+t+Yi+"flex-item-"+Fn(t,/flex-|-self/,"")+t;case 4675:return Ln+t+Yi+"flex-line-pack"+Fn(t,/align-content|flex-|-self/,"")+t;case 5548:return Ln+t+Yi+Fn(t,"shrink","negative")+t;case 5292:return Ln+t+Yi+Fn(t,"basis","preferred-size")+t;case 6060:return Ln+"box-"+Fn(t,"-grow","")+Ln+t+Yi+Fn(t,"grow","positive")+t;case 4554:return Ln+Fn(t,/([^-])(transform)/g,"$1"+Ln+"$2")+t;case 6187:return Fn(Fn(Fn(t,/(zoom-|grab)/,Ln+"$1"),/(image-set)/,Ln+"$1"),t,"")+t;case 5495:case 3959:return Fn(t,/(image-set\([^]*)/,Ln+"$1$`$1");case 4968:return Fn(Fn(t,/(.+:)(flex-)?(.*)/,Ln+"box-pack:$3"+Yi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ln+t+t;case 4095:case 3583:case 4068:case 2532:return Fn(t,/(.+)-inline(.+)/,Ln+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nu(t)-1-e>6)switch($i(t,e+1)){case 109:if($i(t,e+4)!==45)break;case 102:return Fn(t,/(.+:)(.+)-([^]+)/,"$1"+Ln+"$2-$3$1"+zT+($i(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yO(t,"stretch")?rte(Fn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($i(t,e+1)!==115)break;case 6444:switch($i(t,nu(t)-3-(~yO(t,"!important")&&10))){case 107:return Fn(t,":",":"+Ln)+t;case 101:return Fn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ln+($i(t,14)===45?"inline-":"")+"box$3$1"+Ln+"$2$3$1"+Yi+"$2box$3")+t}break;case 5936:switch($i(t,e+11)){case 114:return Ln+t+Yi+Fn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ln+t+Yi+Fn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ln+t+Yi+Fn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ln+t+Yi+t+t}return t}var xIe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case j5:e.return=rte(e.value,e.length);break;case Jee:return wy([cb(e,{value:Fn(e.value,"@","@"+Ln)})],i);case q5:if(e.length)return rIe(e.props,function(o){switch(nIe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wy([cb(e,{props:[Fn(o,/:(read-\w+)/,":"+zT+"$1")]})],i);case"::placeholder":return wy([cb(e,{props:[Fn(o,/:(plac\w+)/,":"+Ln+"input-$1")]}),cb(e,{props:[Fn(o,/:(plac\w+)/,":"+zT+"$1")]}),cb(e,{props:[Fn(o,/:(plac\w+)/,Yi+"input-$1")]})],i)}return""})}},wIe=[xIe],_Ie=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||wIe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),_=1;_<x.length;_++)o[x[_]]=!0;a.push(y)});var l,u=[vIe,bIe];{var c,d=[fIe,pIe(function(y){c.insert(y)})],h=hIe(u.concat(i,d)),p=function(x){return wy(cIe(x),h)};l=function(x,_,E,S){c=E,p(x?x+"{"+_.styles+"}":_.styles),S&&(m.inserted[_.name]=!0)}}var m={key:n,sheet:new XPe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},Tk={exports:{}},Vn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I9;function SIe(){if(I9)return Vn;I9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,_=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function S(I){if(typeof I=="object"&&I!==null){var N=I.$$typeof;switch(N){case e:switch(I=I.type,I){case l:case u:case r:case o:case i:case d:return I;default:switch(I=I&&I.$$typeof,I){case a:case c:case m:case p:case s:return I;default:return N}}case n:return N}}}function T(I){return S(I)===u}return Vn.AsyncMode=l,Vn.ConcurrentMode=u,Vn.ContextConsumer=a,Vn.ContextProvider=s,Vn.Element=e,Vn.ForwardRef=c,Vn.Fragment=r,Vn.Lazy=m,Vn.Memo=p,Vn.Portal=n,Vn.Profiler=o,Vn.StrictMode=i,Vn.Suspense=d,Vn.isAsyncMode=function(I){return T(I)||S(I)===l},Vn.isConcurrentMode=T,Vn.isContextConsumer=function(I){return S(I)===a},Vn.isContextProvider=function(I){return S(I)===s},Vn.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Vn.isForwardRef=function(I){return S(I)===c},Vn.isFragment=function(I){return S(I)===r},Vn.isLazy=function(I){return S(I)===m},Vn.isMemo=function(I){return S(I)===p},Vn.isPortal=function(I){return S(I)===n},Vn.isProfiler=function(I){return S(I)===o},Vn.isStrictMode=function(I){return S(I)===i},Vn.isSuspense=function(I){return S(I)===d},Vn.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===o||I===i||I===d||I===h||typeof I=="object"&&I!==null&&(I.$$typeof===m||I.$$typeof===p||I.$$typeof===s||I.$$typeof===a||I.$$typeof===c||I.$$typeof===x||I.$$typeof===_||I.$$typeof===E||I.$$typeof===y)},Vn.typeOf=S,Vn}var k9;function EIe(){return k9||(k9=1,Tk.exports=SIe()),Tk.exports}var Ak,M9;function CIe(){if(M9)return Ak;M9=1;var t=EIe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(m){return t.isMemo(m)?i:o[m.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;function p(m,y,x){if(typeof y!="string"){if(h){var _=d(y);_&&_!==h&&p(m,_,x)}var E=l(y);u&&(E=E.concat(u(y)));for(var S=s(m),T=s(y),I=0;I<E.length;++I){var N=E[I];if(!n[N]&&!(x&&x[N])&&!(T&&T[N])&&!(S&&S[N])){var R=c(y,N);try{a(m,N,R)}catch{}}}}return m}return Ak=p,Ak}CIe();var TIe=!0;function ite(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var G5=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||TIe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},K5=function(e,n,r){G5(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function AIe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var RIe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},PIe=/[A-Z]|^ms/g,IIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ote=function(e){return e.charCodeAt(1)===45},N9=function(e){return e!=null&&typeof e!="boolean"},Rk=nte(function(t){return ote(t)?t:t.replace(PIe,"-$&").toLowerCase()}),D9=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(IIe,function(r,i,o){return ru={name:i,styles:o,next:ru},i})}return RIe[e]!==1&&!ote(e)&&typeof n=="number"&&n!==0?n+"px":n};function fw(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ru={name:i.name,styles:i.styles,next:ru},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)ru={name:s.name,styles:s.styles,next:ru},s=s.next;var a=o.styles+";";return a}return kIe(t,e,n)}case"function":{if(t!==void 0){var l=ru,u=n(t);return ru=l,fw(t,e,u)}break}}var c=n;if(e==null)return c;var d=e[c];return d!==void 0?d:c}function kIe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fw(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":N9(a)&&(r+=Rk(o)+":"+D9(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)N9(s[l])&&(r+=Rk(o)+":"+D9(o,s[l])+";");else{var u=fw(t,e,s);switch(o){case"animation":case"animationName":{r+=Rk(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}return r}var L9=/label:\s*([^\s;{]+)\s*(;|$)/g,ru;function _1(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ru=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=fw(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=fw(n,e,t[a]),r){var l=o;i+=l[a]}L9.lastIndex=0;for(var u="",c;(c=L9.exec(i))!==null;)u+="-"+c[1];var d=AIe(i)+u;return{name:d,styles:i,next:ru}}var MIe=function(e){return e()},ste=gL.useInsertionEffect?gL.useInsertionEffect:!1,ate=ste||MIe,O9=ste||F.useLayoutEffect,lte=F.createContext(typeof HTMLElement<"u"?_Ie({key:"css"}):null);lte.Provider;var Y5=function(e){return F.forwardRef(function(n,r){var i=F.useContext(lte);return e(n,i,r)})},SR=F.createContext({}),X5={}.hasOwnProperty,bO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",NIe=function(e,n){var r={};for(var i in n)X5.call(n,i)&&(r[i]=n[i]);return r[bO]=e,r},DIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return G5(n,r,i),ate(function(){return K5(n,r,i)}),null},LIe=Y5(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[bO],o=[r],s="";typeof t.className=="string"?s=ite(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=_1(o,void 0,F.useContext(SR));s+=e.key+"-"+a.name;var l={};for(var u in t)X5.call(t,u)&&u!=="css"&&u!==bO&&(l[u]=t[u]);return l.className=s,n&&(l.ref=n),F.createElement(F.Fragment,null,F.createElement(DIe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),F.createElement(i,l))}),OIe=LIe,F9=function(e,n){var r=arguments;if(n==null||!X5.call(n,"css"))return F.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=OIe,o[1]=NIe(e,n);for(var s=2;s<i;s++)o[s]=r[s];return F.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(F9||(F9={}));var FIe=Y5(function(t,e){var n=t.styles,r=_1([n],void 0,F.useContext(SR)),i=F.useRef();return O9(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),O9(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&K5(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function J5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return _1(e)}function S1(){var t=J5.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var $Ie=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BIe=nte(function(t){return $Ie.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),VIe=BIe,zIe=function(e){return e!=="theme"},$9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?VIe:zIe},B9=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},UIe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return G5(n,r,i),ate(function(){return K5(n,r,i)}),null},HIe=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=B9(e,n,r),l=a||$9(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{var h=c[0];d.push(h[0]);for(var p=c.length,m=1;m<p;m++)d.push(c[m],h[m])}var y=Y5(function(x,_,E){var S=u&&x.as||i,T="",I=[],N=x;if(x.theme==null){N={};for(var R in x)N[R]=x[R];N.theme=F.useContext(SR)}typeof x.className=="string"?T=ite(_.registered,I,x.className):x.className!=null&&(T=x.className+" ");var M=_1(d.concat(I),_.registered,N);T+=_.key+"-"+M.name,s!==void 0&&(T+=" "+s);var L=u&&a===void 0?$9(S):l,k={};for(var D in x)u&&D==="as"||L(D)&&(k[D]=x[D]);return k.className=T,E&&(k.ref=E),F.createElement(F.Fragment,null,F.createElement(UIe,{cache:_,serialized:M,isStringTag:typeof S=="string"}),F.createElement(S,k))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=d,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(x,_){var E=t(x,VT({},n,_,{shouldForwardProp:B9(y,_,!0)}));return E.apply(void 0,d)},y}},qIe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xO=HIe.bind(null);qIe.forEach(function(t){xO[t]=xO(t)});var Pk={exports:{}},Ik,V9;function jIe(){if(V9)return Ik;V9=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ik=t,Ik}var kk,z9;function WIe(){if(z9)return kk;z9=1;var t=jIe();function e(){}function n(){}return n.resetWarningCache=e,kk=function(){function r(s,a,l,u,c,d){if(d!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},kk}var U9;function Q5(){return U9||(U9=1,Pk.exports=WIe()()),Pk.exports}var GIe=Q5();const me=lo(GIe);function KIe(t){return t==null||Object.keys(t).length===0}function YIe(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(KIe(i)?n:i):e;return O.jsx(FIe,{styles:r})}/**
 * @mui/styled-engine v6.4.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ute(t,e){return xO(t,e)}function XIe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const H9=[];function q9(t){return H9[0]=t,_1(H9)}var Mk={exports:{}},Gn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j9;function JIe(){if(j9)return Gn;j9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function m(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case t:switch(y=y.type,y){case n:case i:case r:case l:case u:case h:return y;default:switch(y=y&&y.$$typeof,y){case s:case a:case d:case c:return y;case o:return y;default:return x}}case e:return x}}}return Gn.ContextConsumer=o,Gn.ContextProvider=s,Gn.Element=t,Gn.ForwardRef=a,Gn.Fragment=n,Gn.Lazy=d,Gn.Memo=c,Gn.Portal=e,Gn.Profiler=i,Gn.StrictMode=r,Gn.Suspense=l,Gn.SuspenseList=u,Gn.isContextConsumer=function(y){return m(y)===o},Gn.isContextProvider=function(y){return m(y)===s},Gn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},Gn.isForwardRef=function(y){return m(y)===a},Gn.isFragment=function(y){return m(y)===n},Gn.isLazy=function(y){return m(y)===d},Gn.isMemo=function(y){return m(y)===c},Gn.isPortal=function(y){return m(y)===e},Gn.isProfiler=function(y){return m(y)===i},Gn.isStrictMode=function(y){return m(y)===r},Gn.isSuspense=function(y){return m(y)===l},Gn.isSuspenseList=function(y){return m(y)===u},Gn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===i||y===r||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===d||y.$$typeof===c||y.$$typeof===s||y.$$typeof===o||y.$$typeof===a||y.$$typeof===p||y.getModuleId!==void 0)},Gn.typeOf=m,Gn}var W9;function QIe(){return W9||(W9=1,Mk.exports=JIe()),Mk.exports}var cte=QIe();function su(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function dte(t){if(F.isValidElement(t)||cte.isValidElementType(t)||!su(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=dte(t[n])}),e}function _i(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return su(t)&&su(e)&&Object.keys(e).forEach(i=>{F.isValidElement(e[i])||cte.isValidElementType(e[i])?r[i]=e[i]:su(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&su(t[i])?r[i]=_i(t[i],e[i],n):n.clone?r[i]=su(e[i])?dte(e[i]):e[i]:r[i]=e[i]}),r}const ZIe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function eke(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=ZIe(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n,...i}}function tke(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function nke(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function rke(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function ike(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function n(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const oke={borderRadius:4};function Px(t,e){return e?_i(t,e,{clone:!1}):t}const ER={xs:0,sm:600,md:900,lg:1200,xl:1536},G9={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${ER[t]}px)`},ske={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:ER[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function al(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||G9;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||G9;return Object.keys(e).reduce((s,a)=>{if(nke(o.keys,a)){const l=rke(r.containerQueries?r:ske,a);l&&(s[l]=n(e[a],a))}else if(Object.keys(o.values||ER).includes(a)){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function fte(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function hte(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function ake(t,...e){const n=fte(t),r=[n,...e].reduce((i,o)=>_i(i,o),{});return hte(Object.keys(n),r)}function lke(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Nk({values:t,breakpoints:e,base:n}){const r=n||lke(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function Me(t){if(typeof t!="string")throw new Error(Jc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Ef(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function UT(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ef(t,n)||r,e&&(i=e(i,r,t)),i}function Ur(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=Ef(l,r)||{};return al(s,a,d=>{let h=UT(u,i,d);return d===h&&typeof d=="string"&&(h=UT(u,i,`${e}${d==="default"?"":Me(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function uke(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const cke={m:"margin",p:"padding"},dke={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},K9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fke=uke(t=>{if(t.length>2)if(K9[t])t=K9[t];else return[t];const[e,n]=t.split(""),r=cke[e],i=dke[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Z5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],e4=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Z5,...e4];function E1(t,e,n,r){const i=Ef(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function CR(t){return E1(t,"spacing",8)}function Xp(t,e){return typeof e=="string"||e==null?e:t(e)}function hke(t,e){return n=>t.reduce((r,i)=>(r[i]=Xp(e,n),r),{})}function pke(t,e,n,r){if(!e.includes(n))return null;const i=fke(n),o=hke(i,r),s=t[n];return al(t,s,o)}function pte(t,e){const n=CR(t.theme);return Object.keys(t).map(r=>pke(t,e,r,n)).reduce(Px,{})}function kr(t){return pte(t,Z5)}kr.propTypes={};kr.filterProps=Z5;function Mr(t){return pte(t,e4)}Mr.propTypes={};Mr.filterProps=e4;function gte(t=8,e=CR({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function TR(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Px(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function oa(t){return typeof t!="number"?t:`${t}px solid`}function va(t,e){return Ur({prop:t,themeKey:"borders",transform:e})}const gke=va("border",oa),mke=va("borderTop",oa),yke=va("borderRight",oa),vke=va("borderBottom",oa),bke=va("borderLeft",oa),xke=va("borderColor"),wke=va("borderTopColor"),_ke=va("borderRightColor"),Ske=va("borderBottomColor"),Eke=va("borderLeftColor"),Cke=va("outline",oa),Tke=va("outlineColor"),AR=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=E1(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Xp(e,r)});return al(t,t.borderRadius,n)}return null};AR.propTypes={};AR.filterProps=["borderRadius"];TR(gke,mke,yke,vke,bke,xke,wke,_ke,Ske,Eke,AR,Cke,Tke);const RR=t=>{if(t.gap!==void 0&&t.gap!==null){const e=E1(t.theme,"spacing",8),n=r=>({gap:Xp(e,r)});return al(t,t.gap,n)}return null};RR.propTypes={};RR.filterProps=["gap"];const PR=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=E1(t.theme,"spacing",8),n=r=>({columnGap:Xp(e,r)});return al(t,t.columnGap,n)}return null};PR.propTypes={};PR.filterProps=["columnGap"];const IR=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=E1(t.theme,"spacing",8),n=r=>({rowGap:Xp(e,r)});return al(t,t.rowGap,n)}return null};IR.propTypes={};IR.filterProps=["rowGap"];const Ake=Ur({prop:"gridColumn"}),Rke=Ur({prop:"gridRow"}),Pke=Ur({prop:"gridAutoFlow"}),Ike=Ur({prop:"gridAutoColumns"}),kke=Ur({prop:"gridAutoRows"}),Mke=Ur({prop:"gridTemplateColumns"}),Nke=Ur({prop:"gridTemplateRows"}),Dke=Ur({prop:"gridTemplateAreas"}),Lke=Ur({prop:"gridArea"});TR(RR,PR,IR,Ake,Rke,Pke,Ike,kke,Mke,Nke,Dke,Lke);function _y(t,e){return e==="grey"?e:t}const Oke=Ur({prop:"color",themeKey:"palette",transform:_y}),Fke=Ur({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_y}),$ke=Ur({prop:"backgroundColor",themeKey:"palette",transform:_y});TR(Oke,Fke,$ke);function Ns(t){return t<=1&&t!==0?`${t*100}%`:t}const Bke=Ur({prop:"width",transform:Ns}),t4=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,s,a,l;const r=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[n])||ER[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ns(n)}};return al(t,t.maxWidth,e)}return null};t4.filterProps=["maxWidth"];const Vke=Ur({prop:"minWidth",transform:Ns}),zke=Ur({prop:"height",transform:Ns}),Uke=Ur({prop:"maxHeight",transform:Ns}),Hke=Ur({prop:"minHeight",transform:Ns});Ur({prop:"size",cssProperty:"width",transform:Ns});Ur({prop:"size",cssProperty:"height",transform:Ns});const qke=Ur({prop:"boxSizing"});TR(Bke,t4,Vke,zke,Uke,Hke,qke);const C1={border:{themeKey:"borders",transform:oa},borderTop:{themeKey:"borders",transform:oa},borderRight:{themeKey:"borders",transform:oa},borderBottom:{themeKey:"borders",transform:oa},borderLeft:{themeKey:"borders",transform:oa},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:oa},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:AR},color:{themeKey:"palette",transform:_y},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_y},backgroundColor:{themeKey:"palette",transform:_y},p:{style:Mr},pt:{style:Mr},pr:{style:Mr},pb:{style:Mr},pl:{style:Mr},px:{style:Mr},py:{style:Mr},padding:{style:Mr},paddingTop:{style:Mr},paddingRight:{style:Mr},paddingBottom:{style:Mr},paddingLeft:{style:Mr},paddingX:{style:Mr},paddingY:{style:Mr},paddingInline:{style:Mr},paddingInlineStart:{style:Mr},paddingInlineEnd:{style:Mr},paddingBlock:{style:Mr},paddingBlockStart:{style:Mr},paddingBlockEnd:{style:Mr},m:{style:kr},mt:{style:kr},mr:{style:kr},mb:{style:kr},ml:{style:kr},mx:{style:kr},my:{style:kr},margin:{style:kr},marginTop:{style:kr},marginRight:{style:kr},marginBottom:{style:kr},marginLeft:{style:kr},marginX:{style:kr},marginY:{style:kr},marginInline:{style:kr},marginInlineStart:{style:kr},marginInlineEnd:{style:kr},marginBlock:{style:kr},marginBlockStart:{style:kr},marginBlockEnd:{style:kr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:RR},rowGap:{style:IR},columnGap:{style:PR},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ns},maxWidth:{style:t4},minWidth:{transform:Ns},height:{transform:Ns},maxHeight:{transform:Ns},minHeight:{transform:Ns},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jke(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function Wke(t,e){return typeof t=="function"?t(e):t}function Gke(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Ef(i,u)||{};return d?d(s):al(s,r,m=>{let y=UT(h,c,m);return m===y&&typeof m=="string"&&(y=UT(h,c,`${n}${m==="default"?"":Me(m)}`,m)),l===!1?y:{[l]:y}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const o=i.unstable_sxConfig??C1;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=fte(i.breakpoints),c=Object.keys(u);let d=u;return Object.keys(l).forEach(h=>{const p=Wke(l[h],i);if(p!=null)if(typeof p=="object")if(o[h])d=Px(d,t(h,p,i,o));else{const m=al({theme:i},p,y=>({[h]:y}));jke(m,p)?d[h]=e({sx:p,theme:i}):d=Px(d,m)}else d=Px(d,t(h,p,i,o))}),tke(i,hte(c,d))}return Array.isArray(r)?r.map(s):s(r)}return e}const Jp=Gke();Jp.filterProps=["sx"];function Kke(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function kR(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...s}=t,a=eke(n),l=gte(i);let u=_i({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...oke,...o}},s);return u=ike(u),u.applyStyles=Kke,u=e.reduce((c,d)=>_i(c,d),u),u.unstable_sxConfig={...C1,...s==null?void 0:s.unstable_sxConfig},u.unstable_sx=function(d){return Jp({sx:d,theme:this})},u}function Yke(t){return Object.keys(t).length===0}function Xke(t=null){const e=F.useContext(SR);return!e||Yke(e)?t:e}const Jke=kR();function MR(t=Jke){return Xke(t)}function Qke({styles:t,themeId:e,defaultTheme:n={}}){const r=MR(n),i=typeof t=="function"?t(e&&r[e]||r):t;return O.jsx(YIe,{styles:i})}const Zke=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??C1;return Object.keys(t).forEach(i=>{n[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function n4(t){const{sx:e,...n}=t,{systemProps:r,otherProps:i}=Zke(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return su(a)?{...r,...a}:r}:o={...r,...e},{...i,sx:o}}const Y9=t=>t,eMe=()=>{let t=Y9;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Y9}}},mte=eMe();function yte(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yte(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yte(t))&&(r&&(r+=" "),r+=e);return r}function tMe(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=ute("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Jp);return F.forwardRef(function(l,u){const c=MR(n),{className:d,component:h="div",...p}=n4(l);return O.jsx(o,{as:h,ref:u,className:Je(d,i?i(r):r),theme:e&&c[e]||c,...p})})}const nMe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function At(t,e,n="Mui"){const r=nMe[e];return r?`${n}-${r}`:`${mte.generate(t)}-${e}`}function Rt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=At(t,i,n)}),r}function vte(t){const{variants:e,...n}=t,r={variants:e,style:q9(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=q9(i.style))}),r}const rMe=kR();function Dk(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function iMe(t){return t?(e,n)=>n[t]:null}function oMe(t,e,n){t.theme=aMe(t.theme)?n:t.theme[e]||t.theme}function xC(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>xC(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...o}=n;r=o}return bte(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function bte(t,e,n=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(r))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(s.style(r))):n.push(s.style)}return n}function xte(t={}){const{themeId:e,defaultTheme:n=rMe,rootShouldForwardProp:r=Dk,slotShouldForwardProp:i=Dk}=t;function o(a){oMe(a,e,n)}return(a,l={})=>{XIe(a,I=>I.filter(N=>N!==Jp));const{name:u,slot:c,skipVariantsResolver:d,skipSx:h,overridesResolver:p=iMe(uMe(c)),...m}=l,y=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,x=h||!1;let _=Dk;c==="Root"||c==="root"?_=r:c?_=i:lMe(a)&&(_=void 0);const E=ute(a,{shouldForwardProp:_,label:sMe(),...m}),S=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(R){return xC(R,I)};if(su(I)){const N=vte(I);return N.variants?function(M){return xC(M,N)}:N.style}return I},T=(...I)=>{const N=[],R=I.map(S),M=[];if(N.push(o),u&&p&&M.push(function(V){var K,J;const H=(J=(K=V.theme.components)==null?void 0:K[u])==null?void 0:J.styleOverrides;if(!H)return null;const G={};for(const ee in H)G[ee]=xC(V,H[ee]);return p(V,G)}),u&&!y&&M.push(function(V){var G,K;const $=V.theme,H=(K=(G=$==null?void 0:$.components)==null?void 0:G[u])==null?void 0:K.variants;return H?bte(V,H):null}),x||M.push(Jp),Array.isArray(R[0])){const D=R.shift(),V=new Array(N.length).fill(""),$=new Array(M.length).fill("");let H;H=[...V,...D,...$],H.raw=[...V,...D.raw,...$],N.unshift(H)}const L=[...N,...R,...M],k=E(...L);return a.muiName&&(k.muiName=a.muiName),k};return E.withConfig&&(T.withConfig=E.withConfig),T}}function sMe(t,e){return void 0}function aMe(t){for(const e in t)return!1;return!0}function lMe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function uMe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const cMe=xte();function hw(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)n[i]=o||{};else if(!o)n[i]=s;else{n[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;n[i][l]=hw(o[l],s[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function dMe(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:hw(e.components[n].defaultProps,r)}function fMe({props:t,name:e,defaultTheme:n,themeId:r}){let i=MR(n);return r&&(i=i[r]||i),dMe({theme:i,name:e,props:t})}const ll=typeof window<"u"?F.useLayoutEffect:F.useEffect;function wte(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function r4(t,e=0,n=1){return wte(t,e,n)}function hMe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bf(t){if(t.type)return t;if(t.charAt(0)==="#")return Bf(hMe(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Jc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Jc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const pMe=t=>{const e=Bf(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},Gb=(t,e)=>{try{return pMe(t)}catch{return t}};function NR(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function _te(t){t=Bf(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),NR({type:a,values:l})}function wO(t){t=Bf(t);let e=t.type==="hsl"||t.type==="hsla"?Bf(_te(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function gMe(t,e){const n=wO(t),r=wO(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Qt(t,e){return t=Bf(t),e=r4(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,NR(t)}function _E(t,e,n){try{return Qt(t,e)}catch{return t}}function T1(t,e){if(t=Bf(t),e=r4(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return NR(t)}function Qn(t,e,n){try{return T1(t,e)}catch{return t}}function A1(t,e){if(t=Bf(t),e=r4(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return NR(t)}function Zn(t,e,n){try{return A1(t,e)}catch{return t}}function HT(t,e=.15){return wO(t)>.5?T1(t,e):A1(t,e)}function SE(t,e,n){try{return HT(t,e)}catch{return t}}function X9(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Ste(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Ix(t,e){var n,r,i;return F.isValidElement(t)&&e.indexOf(t.type.muiName??((i=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Vs(t){return t&&t.ownerDocument||document}function Qc(t){return Vs(t).defaultView||window}function J9(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Q9=0;function mMe(t){const[e,n]=F.useState(t),r=t||e;return F.useEffect(()=>{e==null&&(Q9+=1,n(`mui-${Q9}`))},[e]),r}const yMe={...gL},Z9=yMe.useId;function g0(t){if(Z9!==void 0){const e=Z9();return t??e}return mMe(t)}function pw({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=F.useRef(t!==void 0),[o,s]=F.useState(e),a=i?t:o,l=F.useCallback(u=>{i||s(u)},[]);return[a,l]}function Vc(t){const e=F.useRef(t);return ll(()=>{e.current=t}),F.useRef((...n)=>(0,e.current)(...n)).current}function Pr(...t){const e=F.useRef(void 0),n=F.useCallback(r=>{const i=t.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,a=s(r);return typeof a=="function"?a:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},t);return F.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const eq={};function Ete(t,e){const n=F.useRef(eq);return n.current===eq&&(n.current=t(e)),n}const vMe=[];function bMe(t){F.useEffect(t,vMe)}class DR{constructor(){ct(this,"currentId",null);ct(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ct(this,"disposeEffect",()=>this.clear)}static create(){return new DR}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Oh(){const t=Ete(DR.create).current;return bMe(t.disposeEffect),t}function jv(t){try{return t.matches(":focus-visible")}catch{}return!1}function Cte(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Pt(t,e,n=void 0){const r={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const u=o[l];u&&(s+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(s+=" "+n[u]))}r[i]=s}return r}function xMe(t){return typeof t=="string"}function Tte(t,e,n){return t===void 0||xMe(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Ate(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function tq(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function Rte(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Je(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...n,...i,...r};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:void 0}}const s=Ate({...i,...r}),a=tq(r),l=tq(i),u=e(s),c=Je(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d={...u==null?void 0:u.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},h={...u,...n,...l,...a};return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}function Pte(t,e,n){return typeof t=="function"?t(e,n):t}function i4(t){var d;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...o}=t,s=i?{}:Pte(n,r),{props:a,internalRef:l}=Rte({...o,externalSlotProps:s}),u=Pr(l,s==null?void 0:s.ref,(d=t.additionalProps)==null?void 0:d.ref);return Tte(e,{...a,ref:u},r)}function hg(t){var e;return parseInt(F.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}const wMe=F.createContext(),o4=()=>F.useContext(wMe)??!1,_Me=F.createContext(void 0);function SMe(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?hw(i.defaultProps,r):!i.styleOverrides&&!i.variants?hw(i,r):r}function EMe({props:t,name:e}){const n=F.useContext(_Me);return SMe({props:t,name:e,theme:{components:n}})}const nq={theme:void 0};function CMe(t){let e,n;return function(i){let o=e;return(o===void 0||i.theme!==n)&&(nq.theme=i.theme,o=vte(t(nq)),e=o,n=i.theme),o}}function TMe(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const rq=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},AMe=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},RMe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Lk(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return AMe(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`,d=RMe(a,l);Object.assign(i,{[c]:d}),rq(o,a,`var(${c})`,u),rq(s,a,`var(${c}, ${d})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function PMe(t,e={}){const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:u,css:c,varsWithDefaults:d}=Lk(l,e);let h=d;const p={},{[a]:m,...y}=o;if(Object.entries(y||{}).forEach(([S,T])=>{const{vars:I,css:N,varsWithDefaults:R}=Lk(T,e);h=_i(h,R),p[S]={css:N,vars:I}}),m){const{css:S,vars:T,varsWithDefaults:I}=Lk(m,e);h=_i(h,I),p[a]={css:S,vars:T}}function x(S,T){var N,R;let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),S){if(I==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((R=(N=o[S])==null?void 0:N.palette)==null?void 0:R.mode)||S})`]:{":root":T}};if(I)return t.defaultColorScheme===S?`:root, ${I.replace("%s",String(S))}`:I.replace("%s",String(S))}return":root"}return{vars:h,generateThemeVars:()=>{let S={...u};return Object.entries(p).forEach(([,{vars:T}])=>{S=_i(S,T)}),S},generateStyleSheets:()=>{var M,L;const S=[],T=t.defaultColorScheme||"light";function I(k,D){Object.keys(D).length&&S.push(typeof k=="string"?{[k]:{...D}}:k)}I(n(void 0,{...c}),c);const{[T]:N,...R}=p;if(N){const{css:k}=N,D=(L=(M=o[T])==null?void 0:M.palette)==null?void 0:L.mode,V=!r&&D?{colorScheme:D,...k}:{...k};I(n(T,{...V}),V)}return Object.entries(R).forEach(([k,{css:D}])=>{var H,G;const V=(G=(H=o[k])==null?void 0:H.palette)==null?void 0:G.mode,$=!r&&V?{colorScheme:V,...D}:{...D};I(n(k,{...$}),$)}),S}}}function IMe(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const kMe=kR(),MMe=cMe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function NMe(t){return fMe({props:t,name:"MuiStack",defaultTheme:kMe})}function DMe(t,e){const n=F.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(F.cloneElement(e,{key:`separator-${o}`})),r),[])}const LMe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],OMe=({ownerState:t,theme:e})=>{let n={display:"flex",flexDirection:"column",...al({theme:e},Nk({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(t.spacing){const r=CR(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),o=Nk({values:t.direction,base:i}),s=Nk({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const h=u>0?o[c[u-1]]:"column";o[l]=h}}),n=_i(n,al({theme:e},s,(l,u)=>t.useFlexGap?{gap:Xp(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${LMe(u?o[u]:t.direction)}`]:Xp(r,l)}}))}return n=ake(e.breakpoints,n),n};function FMe(t={}){const{createStyledComponent:e=MMe,useThemeProps:n=NMe,componentName:r="MuiStack"}=t,i=()=>Pt({root:["root"]},l=>At(r,l),{}),o=e(OMe);return F.forwardRef(function(l,u){const c=n(l),d=n4(c),{component:h="div",direction:p="column",spacing:m=0,divider:y,children:x,className:_,useFlexGap:E=!1,...S}=d,T={direction:p,spacing:m,useFlexGap:E},I=i();return O.jsx(o,{as:h,ownerState:T,ref:u,className:Je(I.root,_),...S,children:y?DMe(x,y):x})})}function Ite(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:uw.white,default:uw.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const $Me=Ite();function kte(){return{text:{primary:uw.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:uw.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const iq=kte();function oq(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=A1(t.main,i):e==="dark"&&(t.dark=T1(t.main,o)))}function BMe(t="light"){return t==="dark"?{main:bm[200],light:bm[50],dark:bm[400]}:{main:bm[700],light:bm[400],dark:bm[800]}}function VMe(t="light"){return t==="dark"?{main:vm[200],light:vm[50],dark:vm[400]}:{main:vm[500],light:vm[300],dark:vm[700]}}function zMe(t="light"){return t==="dark"?{main:ym[500],light:ym[300],dark:ym[700]}:{main:ym[700],light:ym[400],dark:ym[800]}}function UMe(t="light"){return t==="dark"?{main:xm[400],light:xm[300],dark:xm[700]}:{main:xm[700],light:xm[500],dark:xm[900]}}function HMe(t="light"){return t==="dark"?{main:wm[400],light:wm[300],dark:wm[700]}:{main:wm[800],light:wm[500],dark:wm[900]}}function qMe(t="light"){return t==="dark"?{main:ub[400],light:ub[300],dark:ub[700]}:{main:"#ed6c02",light:ub[500],dark:ub[900]}}function s4(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||BMe(e),s=t.secondary||VMe(e),a=t.error||zMe(e),l=t.info||UMe(e),u=t.success||HMe(e),c=t.warning||qMe(e);function d(y){return gMe(y,iq.text.primary)>=n?iq.text.primary:$Me.text.primary}const h=({color:y,name:x,mainShade:_=500,lightShade:E=300,darkShade:S=700})=>{if(y={...y},!y.main&&y[_]&&(y.main=y[_]),!y.hasOwnProperty("main"))throw new Error(Jc(11,x?` (${x})`:"",_));if(typeof y.main!="string")throw new Error(Jc(12,x?` (${x})`:"",JSON.stringify(y.main)));return oq(y,"light",E,r),oq(y,"dark",S,r),y.contrastText||(y.contrastText=d(y.main)),y};let p;return e==="light"?p=Ite():e==="dark"&&(p=kte()),_i({common:{...uw},mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:GPe,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r,...p},i)}function jMe(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function WMe(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function GMe(t){return Math.round(t*1e5)/1e5}const sq={textTransform:"uppercase"},aq='"Roboto", "Helvetica", "Arial", sans-serif';function KMe(t,e){const{fontFamily:n=aq,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...d}=typeof e=="function"?e(t):e,h=r/14,p=c||(x=>`${x/l*h}rem`),m=(x,_,E,S,T)=>({fontFamily:n,fontWeight:x,fontSize:p(_),lineHeight:E,...n===aq?{letterSpacing:`${GMe(S/_)}em`}:{},...T,...u}),y={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(s,14,1.75,.4,sq),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,sq),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _i({htmlFontSize:l,pxToRem:p,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...y},d,{clone:!1})}const YMe=.2,XMe=.14,JMe=.12;function yr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${YMe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${XMe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${JMe})`].join(",")}const QMe=["none",yr(0,2,1,-1,0,1,1,0,0,1,3,0),yr(0,3,1,-2,0,2,2,0,0,1,5,0),yr(0,3,3,-2,0,3,4,0,0,1,8,0),yr(0,2,4,-1,0,4,5,0,0,1,10,0),yr(0,3,5,-1,0,5,8,0,0,1,14,0),yr(0,3,5,-1,0,6,10,0,0,1,18,0),yr(0,4,5,-2,0,7,10,1,0,2,16,1),yr(0,5,5,-3,0,8,10,1,0,3,14,2),yr(0,5,6,-3,0,9,12,1,0,3,16,2),yr(0,6,6,-3,0,10,14,1,0,4,18,3),yr(0,6,7,-4,0,11,15,1,0,4,20,3),yr(0,7,8,-4,0,12,17,2,0,5,22,4),yr(0,7,8,-4,0,13,19,2,0,5,24,4),yr(0,7,9,-4,0,14,21,2,0,5,26,4),yr(0,8,9,-5,0,15,22,2,0,6,28,5),yr(0,8,10,-5,0,16,24,2,0,6,30,5),yr(0,8,11,-5,0,17,26,2,0,6,32,5),yr(0,9,11,-5,0,18,28,2,0,7,34,6),yr(0,9,12,-6,0,19,29,2,0,7,36,6),yr(0,10,13,-6,0,20,31,3,0,8,38,7),yr(0,10,13,-6,0,21,33,3,0,8,40,7),yr(0,10,14,-6,0,22,35,3,0,8,42,7),yr(0,11,14,-7,0,23,36,3,0,9,44,8),yr(0,11,15,-7,0,24,38,3,0,9,46,8)],ZMe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},e2e={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lq(t){return`${Math.round(t)}ms`}function t2e(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function n2e(t){const e={...ZMe,...t.easing},n={...e2e,...t.duration};return{getAutoHeightDuration:t2e,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=o;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:lq(s)} ${a} ${typeof l=="string"?l:lq(l)}`).join(",")},...t,easing:e,duration:n}}const r2e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function i2e(t){return su(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function Mte(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,a]=i[o];!i2e(a)||s.startsWith("unstable_")?delete r[s]:su(a)&&(r[s]={...a},n(r[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _O(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...u}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Jc(20));const c=s4(o),d=kR(t);let h=_i(d,{mixins:WMe(d.breakpoints,r),palette:c,shadows:QMe.slice(),typography:KMe(c,a),transitions:n2e(s),zIndex:{...r2e}});return h=_i(h,u),h=e.reduce((p,m)=>_i(p,m),h),h.unstable_sxConfig={...C1,...u==null?void 0:u.unstable_sxConfig},h.unstable_sx=function(m){return Jp({sx:m,theme:this})},h.toRuntimeSource=Mte,h}function SO(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const o2e=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=SO(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Nte(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function Dte(t){return t==="dark"?o2e:[]}function s2e(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=s4(e);return{palette:o,opacity:{...Nte(o.mode),...n},overlays:r||Dte(o.mode),...i}}function a2e(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const l2e=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],u2e=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return l2e(t.cssVarPrefix).forEach(a=>{s[a]=n[a],delete n[a]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function c2e(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function Pe(t,e,n){!t[e]&&n&&(t[e]=n)}function Kb(t){return typeof t!="string"||!t.startsWith("hsl")?t:_te(t)}function Qu(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Gb(Kb(t[e])))}function d2e(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Nl=t=>{try{return t()}catch{}},f2e=(t="mui")=>TMe(t);function Ok(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=s2e({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=_O({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...Nte(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Dte(i)},s}function h2e(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=a2e,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,c=Object.keys(n)[0],d=r||(n.light&&c!=="light"?"light":c),h=f2e(o),{[d]:p,light:m,dark:y,...x}=n,_={...x};let E=p;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(E=!0),!E)throw new Error(Jc(21,d));const S=Ok(_,E,u,d);m&&!_.light&&Ok(_,m,void 0,"light"),y&&!_.dark&&Ok(_,y,void 0,"dark");let T={defaultColorScheme:d,...S,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:h,colorSchemes:_,font:{...jMe(S.typography),...S.font},spacing:d2e(u.spacing)};Object.keys(T.colorSchemes).forEach(L=>{const k=T.colorSchemes[L].palette,D=V=>{const $=V.split("-"),H=$[1],G=$[2];return h(V,k[H][G])};if(k.mode==="light"&&(Pe(k.common,"background","#fff"),Pe(k.common,"onBackground","#000")),k.mode==="dark"&&(Pe(k.common,"background","#000"),Pe(k.common,"onBackground","#fff")),c2e(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){Pe(k.Alert,"errorColor",Qn(k.error.light,.6)),Pe(k.Alert,"infoColor",Qn(k.info.light,.6)),Pe(k.Alert,"successColor",Qn(k.success.light,.6)),Pe(k.Alert,"warningColor",Qn(k.warning.light,.6)),Pe(k.Alert,"errorFilledBg",D("palette-error-main")),Pe(k.Alert,"infoFilledBg",D("palette-info-main")),Pe(k.Alert,"successFilledBg",D("palette-success-main")),Pe(k.Alert,"warningFilledBg",D("palette-warning-main")),Pe(k.Alert,"errorFilledColor",Nl(()=>k.getContrastText(k.error.main))),Pe(k.Alert,"infoFilledColor",Nl(()=>k.getContrastText(k.info.main))),Pe(k.Alert,"successFilledColor",Nl(()=>k.getContrastText(k.success.main))),Pe(k.Alert,"warningFilledColor",Nl(()=>k.getContrastText(k.warning.main))),Pe(k.Alert,"errorStandardBg",Zn(k.error.light,.9)),Pe(k.Alert,"infoStandardBg",Zn(k.info.light,.9)),Pe(k.Alert,"successStandardBg",Zn(k.success.light,.9)),Pe(k.Alert,"warningStandardBg",Zn(k.warning.light,.9)),Pe(k.Alert,"errorIconColor",D("palette-error-main")),Pe(k.Alert,"infoIconColor",D("palette-info-main")),Pe(k.Alert,"successIconColor",D("palette-success-main")),Pe(k.Alert,"warningIconColor",D("palette-warning-main")),Pe(k.AppBar,"defaultBg",D("palette-grey-100")),Pe(k.Avatar,"defaultBg",D("palette-grey-400")),Pe(k.Button,"inheritContainedBg",D("palette-grey-300")),Pe(k.Button,"inheritContainedHoverBg",D("palette-grey-A100")),Pe(k.Chip,"defaultBorder",D("palette-grey-400")),Pe(k.Chip,"defaultAvatarColor",D("palette-grey-700")),Pe(k.Chip,"defaultIconColor",D("palette-grey-700")),Pe(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Pe(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Pe(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Pe(k.LinearProgress,"primaryBg",Zn(k.primary.main,.62)),Pe(k.LinearProgress,"secondaryBg",Zn(k.secondary.main,.62)),Pe(k.LinearProgress,"errorBg",Zn(k.error.main,.62)),Pe(k.LinearProgress,"infoBg",Zn(k.info.main,.62)),Pe(k.LinearProgress,"successBg",Zn(k.success.main,.62)),Pe(k.LinearProgress,"warningBg",Zn(k.warning.main,.62)),Pe(k.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.11)`),Pe(k.Slider,"primaryTrack",Zn(k.primary.main,.62)),Pe(k.Slider,"secondaryTrack",Zn(k.secondary.main,.62)),Pe(k.Slider,"errorTrack",Zn(k.error.main,.62)),Pe(k.Slider,"infoTrack",Zn(k.info.main,.62)),Pe(k.Slider,"successTrack",Zn(k.success.main,.62)),Pe(k.Slider,"warningTrack",Zn(k.warning.main,.62));const V=SE(k.background.default,.8);Pe(k.SnackbarContent,"bg",V),Pe(k.SnackbarContent,"color",Nl(()=>k.getContrastText(V))),Pe(k.SpeedDialAction,"fabHoverBg",SE(k.background.paper,.15)),Pe(k.StepConnector,"border",D("palette-grey-400")),Pe(k.StepContent,"border",D("palette-grey-400")),Pe(k.Switch,"defaultColor",D("palette-common-white")),Pe(k.Switch,"defaultDisabledColor",D("palette-grey-100")),Pe(k.Switch,"primaryDisabledColor",Zn(k.primary.main,.62)),Pe(k.Switch,"secondaryDisabledColor",Zn(k.secondary.main,.62)),Pe(k.Switch,"errorDisabledColor",Zn(k.error.main,.62)),Pe(k.Switch,"infoDisabledColor",Zn(k.info.main,.62)),Pe(k.Switch,"successDisabledColor",Zn(k.success.main,.62)),Pe(k.Switch,"warningDisabledColor",Zn(k.warning.main,.62)),Pe(k.TableCell,"border",Zn(_E(k.divider,1),.88)),Pe(k.Tooltip,"bg",_E(k.grey[700],.92))}if(k.mode==="dark"){Pe(k.Alert,"errorColor",Zn(k.error.light,.6)),Pe(k.Alert,"infoColor",Zn(k.info.light,.6)),Pe(k.Alert,"successColor",Zn(k.success.light,.6)),Pe(k.Alert,"warningColor",Zn(k.warning.light,.6)),Pe(k.Alert,"errorFilledBg",D("palette-error-dark")),Pe(k.Alert,"infoFilledBg",D("palette-info-dark")),Pe(k.Alert,"successFilledBg",D("palette-success-dark")),Pe(k.Alert,"warningFilledBg",D("palette-warning-dark")),Pe(k.Alert,"errorFilledColor",Nl(()=>k.getContrastText(k.error.dark))),Pe(k.Alert,"infoFilledColor",Nl(()=>k.getContrastText(k.info.dark))),Pe(k.Alert,"successFilledColor",Nl(()=>k.getContrastText(k.success.dark))),Pe(k.Alert,"warningFilledColor",Nl(()=>k.getContrastText(k.warning.dark))),Pe(k.Alert,"errorStandardBg",Qn(k.error.light,.9)),Pe(k.Alert,"infoStandardBg",Qn(k.info.light,.9)),Pe(k.Alert,"successStandardBg",Qn(k.success.light,.9)),Pe(k.Alert,"warningStandardBg",Qn(k.warning.light,.9)),Pe(k.Alert,"errorIconColor",D("palette-error-main")),Pe(k.Alert,"infoIconColor",D("palette-info-main")),Pe(k.Alert,"successIconColor",D("palette-success-main")),Pe(k.Alert,"warningIconColor",D("palette-warning-main")),Pe(k.AppBar,"defaultBg",D("palette-grey-900")),Pe(k.AppBar,"darkBg",D("palette-background-paper")),Pe(k.AppBar,"darkColor",D("palette-text-primary")),Pe(k.Avatar,"defaultBg",D("palette-grey-600")),Pe(k.Button,"inheritContainedBg",D("palette-grey-800")),Pe(k.Button,"inheritContainedHoverBg",D("palette-grey-700")),Pe(k.Chip,"defaultBorder",D("palette-grey-700")),Pe(k.Chip,"defaultAvatarColor",D("palette-grey-300")),Pe(k.Chip,"defaultIconColor",D("palette-grey-300")),Pe(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Pe(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Pe(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Pe(k.LinearProgress,"primaryBg",Qn(k.primary.main,.5)),Pe(k.LinearProgress,"secondaryBg",Qn(k.secondary.main,.5)),Pe(k.LinearProgress,"errorBg",Qn(k.error.main,.5)),Pe(k.LinearProgress,"infoBg",Qn(k.info.main,.5)),Pe(k.LinearProgress,"successBg",Qn(k.success.main,.5)),Pe(k.LinearProgress,"warningBg",Qn(k.warning.main,.5)),Pe(k.Skeleton,"bg",`rgba(${D("palette-text-primaryChannel")} / 0.13)`),Pe(k.Slider,"primaryTrack",Qn(k.primary.main,.5)),Pe(k.Slider,"secondaryTrack",Qn(k.secondary.main,.5)),Pe(k.Slider,"errorTrack",Qn(k.error.main,.5)),Pe(k.Slider,"infoTrack",Qn(k.info.main,.5)),Pe(k.Slider,"successTrack",Qn(k.success.main,.5)),Pe(k.Slider,"warningTrack",Qn(k.warning.main,.5));const V=SE(k.background.default,.98);Pe(k.SnackbarContent,"bg",V),Pe(k.SnackbarContent,"color",Nl(()=>k.getContrastText(V))),Pe(k.SpeedDialAction,"fabHoverBg",SE(k.background.paper,.15)),Pe(k.StepConnector,"border",D("palette-grey-600")),Pe(k.StepContent,"border",D("palette-grey-600")),Pe(k.Switch,"defaultColor",D("palette-grey-300")),Pe(k.Switch,"defaultDisabledColor",D("palette-grey-600")),Pe(k.Switch,"primaryDisabledColor",Qn(k.primary.main,.55)),Pe(k.Switch,"secondaryDisabledColor",Qn(k.secondary.main,.55)),Pe(k.Switch,"errorDisabledColor",Qn(k.error.main,.55)),Pe(k.Switch,"infoDisabledColor",Qn(k.info.main,.55)),Pe(k.Switch,"successDisabledColor",Qn(k.success.main,.55)),Pe(k.Switch,"warningDisabledColor",Qn(k.warning.main,.55)),Pe(k.TableCell,"border",Qn(_E(k.divider,1),.68)),Pe(k.Tooltip,"bg",_E(k.grey[700],.92))}Qu(k.background,"default"),Qu(k.background,"paper"),Qu(k.common,"background"),Qu(k.common,"onBackground"),Qu(k,"divider"),Object.keys(k).forEach(V=>{const $=k[V];V!=="tonalOffset"&&$&&typeof $=="object"&&($.main&&Pe(k[V],"mainChannel",Gb(Kb($.main))),$.light&&Pe(k[V],"lightChannel",Gb(Kb($.light))),$.dark&&Pe(k[V],"darkChannel",Gb(Kb($.dark))),$.contrastText&&Pe(k[V],"contrastTextChannel",Gb(Kb($.contrastText))),V==="text"&&(Qu(k[V],"primary"),Qu(k[V],"secondary")),V==="action"&&($.active&&Qu(k[V],"active"),$.selected&&Qu(k[V],"selected")))})}),T=e.reduce((L,k)=>_i(L,k),T);const I={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:u2e(T)},{vars:N,generateThemeVars:R,generateStyleSheets:M}=PMe(T,I);return T.vars=N,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([L,k])=>{T[L]=k}),T.generateThemeVars=R,T.generateStyleSheets=M,T.generateSpacing=function(){return gte(u.spacing,CR(this))},T.getColorSchemeSelector=IMe(a),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=s,T.unstable_sxConfig={...C1,...u==null?void 0:u.unstable_sxConfig},T.unstable_sx=function(k){return Jp({sx:k,theme:this})},T.toRuntimeSource=Mte,T}function uq(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:s4({...n===!0?{}:n.palette,mode:e})})}function Lte(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return _O(t,...e);let c=n;"palette"in t||u[a]&&(u[a]!==!0?c=u[a].palette:a==="dark"&&(c={mode:"dark"}));const d=_O({...t,palette:c},...e);return d.defaultColorScheme=a,d.colorSchemes=u,d.palette.mode==="light"&&(d.colorSchemes.light={...u.light!==!0&&u.light,palette:d.palette},uq(d,"dark",u.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:d.palette},uq(d,"light",u.light)),d}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),h2e({...s,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const a4=Lte();function Kf(){const t=MR(a4);return t[bR]||t}function Ote(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const uo=t=>Ote(t)&&t!=="classes",Oe=xte({themeId:bR,defaultTheme:a4,rootShouldForwardProp:uo});function p2e(t){return O.jsx(Qke,{...t,defaultTheme:a4,themeId:bR})}function g2e(t){return function(n){return O.jsx(p2e,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function m2e(){return n4}const Mt=CMe;function Dt(t){return EMe(t)}function y2e(t){return At("MuiSvgIcon",t)}Rt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const v2e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Me(e)}`,`fontSize${Me(n)}`]};return Pt(i,y2e,r)},b2e=Oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Me(n.color)}`],e[`fontSize${Me(n.fontSize)}`]]}})(Mt(({theme:t})=>{var e,n,r,i,o,s,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,y])=>y&&y.main).map(([y])=>{var x,_;return{props:{color:y},style:{color:(_=(x=(t.vars??t).palette)==null?void 0:x[y])==null?void 0:_.main}}}),{props:{color:"action"},style:{color:(h=(d=(t.vars??t).palette)==null?void 0:d.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(m=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:m.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),EO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=r,m=F.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m},x={};c||(x.viewBox=h);const _=v2e(y);return O.jsxs(b2e,{as:a,className:Je(_.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n,...x,...p,...m&&i.props,ownerState:y,children:[m?i.props.children:i,d?O.jsx("title",{children:d}):null]})});EO.muiName="SvgIcon";function Zt(t,e){function n(r,i){return O.jsx(EO,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=EO.muiName,F.memo(F.forwardRef(n))}function l4(t,e){if(!t)return e;if(typeof t=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,s=typeof t=="function"?t({...i,...o}):t,a=Je(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!a&&{className:a},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const n=e,r=Je(n==null?void 0:n.className,t==null?void 0:t.className);return{...e,...t,...!!r&&{className:r},...(n==null?void 0:n.style)&&(t==null?void 0:t.style)&&{style:{...n.style,...t.style}},...(n==null?void 0:n.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function Fte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CO(t,e){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},CO(t,e)}function $te(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,CO(t,e)}const cq={disabled:!1},qT=oe.createContext(null);var x2e=function(e){return e.scrollTop},Yb="unmounted",Th="exited",Ah="entering",$m="entered",TO="exiting",hl=function(t){$te(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Th,o.appearStatus=Ah):l=$m:r.unmountOnExit||r.mountOnEnter?l=Yb:l=Th,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Yb?{status:Th}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ah&&s!==$m&&(o=Ah):(s===Ah||s===$m)&&(o=TO)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ah){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:_f.findDOMNode(this);s&&x2e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Th&&this.setState({status:Yb})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[_f.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||cq.disabled){this.safeSetState({status:$m},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Ah},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:$m},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:_f.findDOMNode(this);if(!o||cq.disabled){this.safeSetState({status:Th},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:TO},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Th},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:_f.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Yb)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Fte(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return oe.createElement(qT.Provider,{value:null},typeof s=="function"?s(i,a):oe.cloneElement(oe.Children.only(s),a))},e}(oe.Component);hl.contextType=qT;hl.propTypes={};function _m(){}hl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_m,onEntering:_m,onEntered:_m,onExit:_m,onExiting:_m,onExited:_m};hl.UNMOUNTED=Yb;hl.EXITED=Th;hl.ENTERING=Ah;hl.ENTERED=$m;hl.EXITING=TO;function w2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(t,e){var n=function(o){return e&&F.isValidElement(o)?e(o):o},r=Object.create(null);return t&&F.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function _2e(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Fh(t,e,n){return n[e]!=null?n[e]:t.props[e]}function S2e(t,e){return u4(t.children,function(n){return F.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fh(n,"appear",t),enter:Fh(n,"enter",t),exit:Fh(n,"exit",t)})})}function E2e(t,e,n){var r=u4(t.children),i=_2e(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(F.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=F.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Fh(s,"exit",t),enter:Fh(s,"enter",t)}):!l&&a&&!c?i[o]=F.cloneElement(s,{in:!1}):l&&a&&F.isValidElement(u)&&(i[o]=F.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Fh(s,"exit",t),enter:Fh(s,"enter",t)}))}}),i}var C2e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},T2e={component:"div",childFactory:function(e){return e}},c4=function(t){$te(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(w2e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?S2e(i,a):E2e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=u4(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=VT({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Fte(i,["component","childFactory"]),l=this.state.contextValue,u=C2e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?oe.createElement(qT.Provider,{value:l},u):oe.createElement(qT.Provider,{value:l},oe.createElement(o,a,u))},e}(oe.Component);c4.propTypes={};c4.defaultProps=T2e;const d4=t=>t.scrollTop;function Wv(t,e){const{timeout:n,easing:r,style:i={}}=t;return{duration:i.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function A2e(t){return At("MuiPaper",t)}Rt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const R2e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Pt(o,A2e,i)},P2e=Oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(Mt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),au=F.forwardRef(function(e,n){var p;const r=Dt({props:e,name:"MuiPaper"}),i=Kf(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:u="elevation",...c}=r,d={...r,component:s,elevation:a,square:l,variant:u},h=R2e(d);return O.jsx(P2e,{as:s,ownerState:d,className:Je(h.root,o),ref:n,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(p=i.vars.overlays)==null?void 0:p[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Qt("#fff",SO(a))}, ${Qt("#fff",SO(a))})`}},...c.style}})});function tn(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:u,slots:c={[t]:void 0},slotProps:d={[t]:void 0},...h}=o,p=c[t]||r,m=Pte(d[t],i),{props:{component:y,...x},internalRef:_}=Rte({className:n,...l,externalForwardedProps:t==="root"?h:void 0,externalSlotProps:m}),E=Pr(_,m==null?void 0:m.ref,e.ref),S=t==="root"?y||u:y,T=Tte(p,{...t==="root"&&!u&&!c[t]&&s,...t!=="root"&&!c[t]&&s,...x,...S&&!a&&{as:S},...S&&a&&{component:S},ref:E},i);return[p,T]}class jT{constructor(){ct(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new jT}static use(){const e=Ete(jT.create).current,[n,r]=F.useState(!1);return e.shouldMount=n,e.setShouldMount=r,F.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=k2e(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function I2e(){return jT.use()}function k2e(){let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n}function M2e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=F.useState(!1),h=Je(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Je(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),F.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),O.jsx("span",{className:h,style:p,children:O.jsx("span",{className:m})})}const ia=Rt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),AO=550,N2e=80,D2e=S1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,L2e=S1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,O2e=S1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,F2e=Oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),$2e=Oe(M2e,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ia.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${D2e};
    animation-duration: ${AO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${ia.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${ia.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ia.childLeaving} {
    opacity: 0;
    animation-name: ${L2e};
    animation-duration: ${AO}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${ia.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${O2e};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,B2e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...a}=r,[l,u]=F.useState([]),c=F.useRef(0),d=F.useRef(null);F.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=F.useRef(!1),p=Oh(),m=F.useRef(null),y=F.useRef(null),x=F.useCallback(T=>{const{pulsate:I,rippleX:N,rippleY:R,rippleSize:M,cb:L}=T;u(k=>[...k,O.jsx($2e,{classes:{ripple:Je(o.ripple,ia.ripple),rippleVisible:Je(o.rippleVisible,ia.rippleVisible),ripplePulsate:Je(o.ripplePulsate,ia.ripplePulsate),child:Je(o.child,ia.child),childLeaving:Je(o.childLeaving,ia.childLeaving),childPulsate:Je(o.childPulsate,ia.childPulsate)},timeout:AO,pulsate:I,rippleX:N,rippleY:R,rippleSize:M},c.current)]),c.current+=1,d.current=L},[o]),_=F.useCallback((T={},I={},N=()=>{})=>{const{pulsate:R=!1,center:M=i||I.pulsate,fakeElement:L=!1}=I;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const k=L?null:y.current,D=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let V,$,H;if(M||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)V=Math.round(D.width/2),$=Math.round(D.height/2);else{const{clientX:G,clientY:K}=T.touches&&T.touches.length>0?T.touches[0]:T;V=Math.round(G-D.left),$=Math.round(K-D.top)}if(M)H=Math.sqrt((2*D.width**2+D.height**2)/3),H%2===0&&(H+=1);else{const G=Math.max(Math.abs((k?k.clientWidth:0)-V),V)*2+2,K=Math.max(Math.abs((k?k.clientHeight:0)-$),$)*2+2;H=Math.sqrt(G**2+K**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{x({pulsate:R,rippleX:V,rippleY:$,rippleSize:H,cb:N})},p.start(N2e,()=>{m.current&&(m.current(),m.current=null)})):x({pulsate:R,rippleX:V,rippleY:$,rippleSize:H,cb:N})},[i,x,p]),E=F.useCallback(()=>{_({},{pulsate:!0})},[_]),S=F.useCallback((T,I)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{S(T,I)});return}m.current=null,u(N=>N.length>0?N.slice(1):N),d.current=I},[p]);return F.useImperativeHandle(n,()=>({pulsate:E,start:_,stop:S}),[E,_,S]),O.jsx(F2e,{className:Je(ia.root,o.root,s),ref:y,...a,children:O.jsx(c4,{component:null,exit:!0,children:l})})});function V2e(t){return At("MuiButtonBase",t)}const z2e=Rt("MuiButtonBase",["root","disabled","focusVisible"]),U2e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=Pt({root:["root",e&&"disabled",n&&"focusVisible"]},V2e,i);return n&&r&&(s.root+=` ${r}`),s},H2e=Oe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${z2e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Zc=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:m="a",onBlur:y,onClick:x,onContextMenu:_,onDragLeave:E,onFocus:S,onFocusVisible:T,onKeyDown:I,onKeyUp:N,onMouseDown:R,onMouseLeave:M,onMouseUp:L,onTouchEnd:k,onTouchMove:D,onTouchStart:V,tabIndex:$=0,TouchRippleProps:H,touchRippleRef:G,type:K,...J}=r,ee=F.useRef(null),X=I2e(),j=Pr(X.ref,G),[Y,ae]=F.useState(!1);u&&Y&&ae(!1),F.useImperativeHandle(i,()=>({focusVisible:()=>{ae(!0),ee.current.focus()}}),[]);const q=X.shouldMount&&!c&&!u;F.useEffect(()=>{Y&&h&&!c&&X.pulsate()},[c,h,Y,X]);const Q=Zu(X,"start",R,d),te=Zu(X,"stop",_,d),ue=Zu(X,"stop",E,d),de=Zu(X,"stop",L,d),se=Zu(X,"stop",ze=>{Y&&ze.preventDefault(),M&&M(ze)},d),ce=Zu(X,"start",V,d),he=Zu(X,"stop",k,d),ve=Zu(X,"stop",D,d),be=Zu(X,"stop",ze=>{jv(ze.target)||ae(!1),y&&y(ze)},!1),Re=Vc(ze=>{ee.current||(ee.current=ze.currentTarget),jv(ze.target)&&(ae(!0),T&&T(ze)),S&&S(ze)}),pe=()=>{const ze=ee.current;return l&&l!=="button"&&!(ze.tagName==="A"&&ze.href)},Ce=Vc(ze=>{h&&!ze.repeat&&Y&&ze.key===" "&&X.stop(ze,()=>{X.start(ze)}),ze.target===ze.currentTarget&&pe()&&ze.key===" "&&ze.preventDefault(),I&&I(ze),ze.target===ze.currentTarget&&pe()&&ze.key==="Enter"&&!u&&(ze.preventDefault(),x&&x(ze))}),$e=Vc(ze=>{h&&ze.key===" "&&Y&&!ze.defaultPrevented&&X.stop(ze,()=>{X.pulsate(ze)}),N&&N(ze),x&&ze.target===ze.currentTarget&&pe()&&ze.key===" "&&!ze.defaultPrevented&&x(ze)});let De=l;De==="button"&&(J.href||J.to)&&(De=m);const ke={};De==="button"?(ke.type=K===void 0?"button":K,ke.disabled=u):(!J.href&&!J.to&&(ke.role="button"),u&&(ke["aria-disabled"]=u));const qe=Pr(n,ee),Fe={...r,centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:$,focusVisible:Y},Qe=U2e(Fe);return O.jsxs(H2e,{as:De,className:Je(Qe.root,a),ownerState:Fe,onBlur:be,onClick:x,onContextMenu:te,onFocus:Re,onKeyDown:Ce,onKeyUp:$e,onMouseDown:Q,onMouseLeave:se,onMouseUp:de,onDragLeave:ue,onTouchEnd:he,onTouchMove:ve,onTouchStart:ce,ref:qe,tabIndex:u?-1:$,type:K,...ke,...J,children:[s,q?O.jsx(B2e,{ref:j,center:o,...H}):null]})});function Zu(t,e,n,r=!1){return Vc(i=>(n&&n(i),r||t[e](i),!0))}function q2e(t){return typeof t.main=="string"}function j2e(t,e=[]){if(!q2e(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function wi(t=[]){return([,e])=>e&&j2e(e,t)}function W2e(t){return At("MuiCircularProgress",t)}Rt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Bd=44,RO=S1`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,PO=S1`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,G2e=typeof RO!="string"?J5`
        animation: ${RO} 1.4s linear infinite;
      `:null,K2e=typeof PO!="string"?J5`
        animation: ${PO} 1.4s ease-in-out infinite;
      `:null,Y2e=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${Me(r)}`],svg:["svg"],circle:["circle",`circle${Me(n)}`,i&&"circleDisableShrink"]};return Pt(o,W2e,e)},X2e=Oe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${Me(n.color)}`]]}})(Mt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:G2e||{animation:`${RO} 1.4s linear infinite`}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),J2e=Oe("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Q2e=Oe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${Me(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(Mt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:K2e||{animation:`${PO} 1.4s ease-in-out infinite`}}]}))),f4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate",...h}=r,p={...r,color:o,disableShrink:s,size:a,thickness:u,value:c,variant:d},m=Y2e(p),y={},x={},_={};if(d==="determinate"){const E=2*Math.PI*((Bd-u)/2);y.strokeDasharray=E.toFixed(3),_["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*E).toFixed(3)}px`,x.transform="rotate(-90deg)"}return O.jsx(X2e,{className:Je(m.root,i),style:{width:a,height:a,...x,...l},ownerState:p,ref:n,role:"progressbar",..._,...h,children:O.jsx(J2e,{className:m.svg,ownerState:p,viewBox:`${Bd/2} ${Bd/2} ${Bd} ${Bd}`,children:O.jsx(Q2e,{className:m.circle,style:y,ownerState:p,cx:Bd,cy:Bd,r:(Bd-u)/2,fill:"none",strokeWidth:u})})})});function Z2e(t){return At("MuiIconButton",t)}const dq=Rt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),eNe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o,loading:s}=t,a={root:["root",s&&"loading",n&&"disabled",r!=="default"&&`color${Me(r)}`,i&&`edge${Me(i)}`,`size${Me(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Pt(a,Z2e,e)},tNe=Oe(Zc,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${Me(n.color)}`],n.edge&&e[`edge${Me(n.edge)}`],e[`size${Me(n.size)}`]]}})(Mt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Mt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${dq.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${dq.loading}`]:{color:"transparent"}}))),nNe=Oe("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),la=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:d,loading:h=null,loadingIndicator:p,...m}=r,y=g0(d),x=p??O.jsx(f4,{"aria-labelledby":y,color:"inherit",size:16}),_={...r,edge:i,color:a,disabled:l,disableFocusRipple:u,loading:h,loadingIndicator:x,size:c},E=eNe(_);return O.jsxs(tNe,{id:h?y:d,className:Je(E.root,s),centerRipple:!0,focusRipple:!u,disabled:l||h,ref:n,...m,ownerState:_,children:[typeof h=="boolean"&&O.jsx("span",{className:E.loadingWrapper,style:{display:"contents"},children:O.jsx(nNe,{className:E.loadingIndicator,ownerState:_,children:h&&x})}),o]})});function rNe(t){return At("MuiTypography",t)}const fq=Rt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),iNe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},oNe=m2e(),sNe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${Me(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Pt(a,rNe,s)},aNe=Oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Me(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(Mt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${Me(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),hq={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ze=F.forwardRef(function(e,n){const{color:r,...i}=Dt({props:e,name:"MuiTypography"}),o=!iNe[r],s=oNe({...i,...o&&{color:r}}),{align:a="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:d=!1,paragraph:h=!1,variant:p="body1",variantMapping:m=hq,...y}=s,x={...s,align:a,color:r,className:l,component:u,gutterBottom:c,noWrap:d,paragraph:h,variant:p,variantMapping:m},_=u||(h?"p":m[p]||hq[p])||"span",E=sNe(x);return O.jsx(aNe,{as:_,ref:n,className:Je(E.root,l),...y,ownerState:x,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...y.style}})});var ts="top",pa="bottom",ga="right",ns="left",h4="auto",R1=[ts,pa,ga,ns],Gv="start",gw="end",lNe="clippingParents",Bte="viewport",db="popper",uNe="reference",pq=R1.reduce(function(t,e){return t.concat([e+"-"+Gv,e+"-"+gw])},[]),Vte=[].concat(R1,[h4]).reduce(function(t,e){return t.concat([e,e+"-"+Gv,e+"-"+gw])},[]),cNe="beforeRead",dNe="read",fNe="afterRead",hNe="beforeMain",pNe="main",gNe="afterMain",mNe="beforeWrite",yNe="write",vNe="afterWrite",bNe=[cNe,dNe,fNe,hNe,pNe,gNe,mNe,yNe,vNe];function Au(t){return t?(t.nodeName||"").toLowerCase():null}function zs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qp(t){var e=zs(t).Element;return t instanceof e||t instanceof Element}function ha(t){var e=zs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function p4(t){if(typeof ShadowRoot>"u")return!1;var e=zs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function xNe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!ha(o)||!Au(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function wNe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!ha(i)||!Au(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const _Ne={name:"applyStyles",enabled:!0,phase:"write",fn:xNe,effect:wNe,requires:["computeStyles"]};function bu(t){return t.split("-")[0]}var $p=Math.max,WT=Math.min,Kv=Math.round;function IO(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zte(){return!/^((?!chrome|android).)*safari/i.test(IO())}function Yv(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&ha(t)&&(i=t.offsetWidth>0&&Kv(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Kv(r.height)/t.offsetHeight||1);var s=Qp(t)?zs(t):window,a=s.visualViewport,l=!zte()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function g4(t){var e=Yv(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ute(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&p4(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ed(t){return zs(t).getComputedStyle(t)}function SNe(t){return["table","td","th"].indexOf(Au(t))>=0}function Yf(t){return((Qp(t)?t.ownerDocument:t.document)||window.document).documentElement}function LR(t){return Au(t)==="html"?t:t.assignedSlot||t.parentNode||(p4(t)?t.host:null)||Yf(t)}function gq(t){return!ha(t)||ed(t).position==="fixed"?null:t.offsetParent}function ENe(t){var e=/firefox/i.test(IO()),n=/Trident/i.test(IO());if(n&&ha(t)){var r=ed(t);if(r.position==="fixed")return null}var i=LR(t);for(p4(i)&&(i=i.host);ha(i)&&["html","body"].indexOf(Au(i))<0;){var o=ed(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function P1(t){for(var e=zs(t),n=gq(t);n&&SNe(n)&&ed(n).position==="static";)n=gq(n);return n&&(Au(n)==="html"||Au(n)==="body"&&ed(n).position==="static")?e:n||ENe(t)||e}function m4(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function kx(t,e,n){return $p(t,WT(e,n))}function CNe(t,e,n){var r=kx(t,e,n);return r>n?n:r}function Hte(){return{top:0,right:0,bottom:0,left:0}}function qte(t){return Object.assign({},Hte(),t)}function jte(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var TNe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,qte(typeof e!="number"?e:jte(e,R1))};function ANe(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=bu(n.placement),l=m4(a),u=[ns,ga].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=TNe(i.padding,n),h=g4(o),p=l==="y"?ts:ns,m=l==="y"?pa:ga,y=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],x=s[l]-n.rects.reference[l],_=P1(o),E=_?l==="y"?_.clientHeight||0:_.clientWidth||0:0,S=y/2-x/2,T=d[p],I=E-h[c]-d[m],N=E/2-h[c]/2+S,R=kx(T,N,I),M=l;n.modifiersData[r]=(e={},e[M]=R,e.centerOffset=R-N,e)}}function RNe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Ute(e.elements.popper,i)&&(e.elements.arrow=i))}const PNe={name:"arrow",enabled:!0,phase:"main",fn:ANe,effect:RNe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xv(t){return t.split("-")[1]}var INe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kNe(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Kv(n*i)/i||0,y:Kv(r*i)/i||0}}function mq(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,y=m===void 0?0:m,x=typeof c=="function"?c({x:p,y}):{x:p,y};p=x.x,y=x.y;var _=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),S=ns,T=ts,I=window;if(u){var N=P1(n),R="clientHeight",M="clientWidth";if(N===zs(n)&&(N=Yf(n),ed(N).position!=="static"&&a==="absolute"&&(R="scrollHeight",M="scrollWidth")),N=N,i===ts||(i===ns||i===ga)&&o===gw){T=pa;var L=d&&N===I&&I.visualViewport?I.visualViewport.height:N[R];y-=L-r.height,y*=l?1:-1}if(i===ns||(i===ts||i===pa)&&o===gw){S=ga;var k=d&&N===I&&I.visualViewport?I.visualViewport.width:N[M];p-=k-r.width,p*=l?1:-1}}var D=Object.assign({position:a},u&&INe),V=c===!0?kNe({x:p,y},zs(n)):{x:p,y};if(p=V.x,y=V.y,l){var $;return Object.assign({},D,($={},$[T]=E?"0":"",$[S]=_?"0":"",$.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+y+"px)":"translate3d("+p+"px, "+y+"px, 0)",$))}return Object.assign({},D,(e={},e[T]=E?y+"px":"",e[S]=_?p+"px":"",e.transform="",e))}function MNe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:bu(e.placement),variation:Xv(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mq(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mq(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const NNe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:MNe,data:{}};var EE={passive:!0};function DNe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=zs(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,EE)}),a&&l.addEventListener("resize",n.update,EE),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,EE)}),a&&l.removeEventListener("resize",n.update,EE)}}const LNe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:DNe,data:{}};var ONe={left:"right",right:"left",bottom:"top",top:"bottom"};function wC(t){return t.replace(/left|right|bottom|top/g,function(e){return ONe[e]})}var FNe={start:"end",end:"start"};function yq(t){return t.replace(/start|end/g,function(e){return FNe[e]})}function y4(t){var e=zs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function v4(t){return Yv(Yf(t)).left+y4(t).scrollLeft}function $Ne(t,e){var n=zs(t),r=Yf(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=zte();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+v4(t),y:l}}function BNe(t){var e,n=Yf(t),r=y4(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=$p(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=$p(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+v4(t),l=-r.scrollTop;return ed(i||n).direction==="rtl"&&(a+=$p(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function b4(t){var e=ed(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Wte(t){return["html","body","#document"].indexOf(Au(t))>=0?t.ownerDocument.body:ha(t)&&b4(t)?t:Wte(LR(t))}function Mx(t,e){var n;e===void 0&&(e=[]);var r=Wte(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=zs(r),s=i?[o].concat(o.visualViewport||[],b4(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Mx(LR(s)))}function kO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VNe(t,e){var n=Yv(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vq(t,e,n){return e===Bte?kO($Ne(t,n)):Qp(e)?VNe(e,n):kO(BNe(Yf(t)))}function zNe(t){var e=Mx(LR(t)),n=["absolute","fixed"].indexOf(ed(t).position)>=0,r=n&&ha(t)?P1(t):t;return Qp(r)?e.filter(function(i){return Qp(i)&&Ute(i,r)&&Au(i)!=="body"}):[]}function UNe(t,e,n,r){var i=e==="clippingParents"?zNe(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=vq(t,u,r);return l.top=$p(c.top,l.top),l.right=WT(c.right,l.right),l.bottom=WT(c.bottom,l.bottom),l.left=$p(c.left,l.left),l},vq(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gte(t){var e=t.reference,n=t.element,r=t.placement,i=r?bu(r):null,o=r?Xv(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ts:l={x:s,y:e.y-n.height};break;case pa:l={x:s,y:e.y+e.height};break;case ga:l={x:e.x+e.width,y:a};break;case ns:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?m4(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Gv:l[u]=l[u]-(e[c]/2-n[c]/2);break;case gw:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function mw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?lNe:a,u=n.rootBoundary,c=u===void 0?Bte:u,d=n.elementContext,h=d===void 0?db:d,p=n.altBoundary,m=p===void 0?!1:p,y=n.padding,x=y===void 0?0:y,_=qte(typeof x!="number"?x:jte(x,R1)),E=h===db?uNe:db,S=t.rects.popper,T=t.elements[m?E:h],I=UNe(Qp(T)?T:T.contextElement||Yf(t.elements.popper),l,c,s),N=Yv(t.elements.reference),R=Gte({reference:N,element:S,placement:i}),M=kO(Object.assign({},S,R)),L=h===db?M:N,k={top:I.top-L.top+_.top,bottom:L.bottom-I.bottom+_.bottom,left:I.left-L.left+_.left,right:L.right-I.right+_.right},D=t.modifiersData.offset;if(h===db&&D){var V=D[i];Object.keys(k).forEach(function($){var H=[ga,pa].indexOf($)>=0?1:-1,G=[ts,pa].indexOf($)>=0?"y":"x";k[$]+=V[G]*H})}return k}function HNe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Vte:l,c=Xv(r),d=c?a?pq:pq.filter(function(m){return Xv(m)===c}):R1,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,y){return m[y]=mw(t,{placement:y,boundary:i,rootBoundary:o,padding:s})[bu(y)],m},{});return Object.keys(p).sort(function(m,y){return p[m]-p[y]})}function qNe(t){if(bu(t)===h4)return[];var e=wC(t);return[yq(t),e,yq(e)]}function jNe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,y=n.allowedAutoPlacements,x=e.options.placement,_=bu(x),E=_===x,S=l||(E||!m?[wC(x)]:qNe(x)),T=[x].concat(S).reduce(function(Q,te){return Q.concat(bu(te)===h4?HNe(e,{placement:te,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:y}):te)},[]),I=e.rects.reference,N=e.rects.popper,R=new Map,M=!0,L=T[0],k=0;k<T.length;k++){var D=T[k],V=bu(D),$=Xv(D)===Gv,H=[ts,pa].indexOf(V)>=0,G=H?"width":"height",K=mw(e,{placement:D,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),J=H?$?ga:ns:$?pa:ts;I[G]>N[G]&&(J=wC(J));var ee=wC(J),X=[];if(o&&X.push(K[V]<=0),a&&X.push(K[J]<=0,K[ee]<=0),X.every(function(Q){return Q})){L=D,M=!1;break}R.set(D,X)}if(M)for(var j=m?3:1,Y=function(te){var ue=T.find(function(de){var se=R.get(de);if(se)return se.slice(0,te).every(function(ce){return ce})});if(ue)return L=ue,"break"},ae=j;ae>0;ae--){var q=Y(ae);if(q==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const WNe={name:"flip",enabled:!0,phase:"main",fn:jNe,requiresIfExists:["offset"],data:{_skip:!1}};function bq(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xq(t){return[ts,ga,pa,ns].some(function(e){return t[e]>=0})}function GNe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=mw(e,{elementContext:"reference"}),a=mw(e,{altBoundary:!0}),l=bq(s,r),u=bq(a,i,o),c=xq(l),d=xq(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const KNe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GNe};function YNe(t,e,n){var r=bu(t),i=[ns,ts].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ns,ga].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function XNe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Vte.reduce(function(c,d){return c[d]=YNe(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const JNe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:XNe};function QNe(t){var e=t.state,n=t.name;e.modifiersData[n]=Gte({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ZNe={name:"popperOffsets",enabled:!0,phase:"read",fn:QNe,data:{}};function eDe(t){return t==="x"?"y":"x"}function tDe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,y=m===void 0?0:m,x=mw(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),_=bu(e.placement),E=Xv(e.placement),S=!E,T=m4(_),I=eDe(T),N=e.modifiersData.popperOffsets,R=e.rects.reference,M=e.rects.popper,L=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,k=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(N){if(o){var $,H=T==="y"?ts:ns,G=T==="y"?pa:ga,K=T==="y"?"height":"width",J=N[T],ee=J+x[H],X=J-x[G],j=p?-M[K]/2:0,Y=E===Gv?R[K]:M[K],ae=E===Gv?-M[K]:-R[K],q=e.elements.arrow,Q=p&&q?g4(q):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Hte(),ue=te[H],de=te[G],se=kx(0,R[K],Q[K]),ce=S?R[K]/2-j-se-ue-k.mainAxis:Y-se-ue-k.mainAxis,he=S?-R[K]/2+j+se+de+k.mainAxis:ae+se+de+k.mainAxis,ve=e.elements.arrow&&P1(e.elements.arrow),be=ve?T==="y"?ve.clientTop||0:ve.clientLeft||0:0,Re=($=D==null?void 0:D[T])!=null?$:0,pe=J+ce-Re-be,Ce=J+he-Re,$e=kx(p?WT(ee,pe):ee,J,p?$p(X,Ce):X);N[T]=$e,V[T]=$e-J}if(a){var De,ke=T==="x"?ts:ns,qe=T==="x"?pa:ga,Fe=N[I],Qe=I==="y"?"height":"width",ze=Fe+x[ke],lt=Fe-x[qe],It=[ts,ns].indexOf(_)!==-1,on=(De=D==null?void 0:D[I])!=null?De:0,we=It?ze:Fe-R[Qe]-M[Qe]-on+k.altAxis,Ae=It?Fe+R[Qe]+M[Qe]-on-k.altAxis:lt,We=p&&It?CNe(we,Fe,Ae):kx(p?we:ze,Fe,p?Ae:lt);N[I]=We,V[I]=We-Fe}e.modifiersData[r]=V}}const nDe={name:"preventOverflow",enabled:!0,phase:"main",fn:tDe,requiresIfExists:["offset"]};function rDe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function iDe(t){return t===zs(t)||!ha(t)?y4(t):rDe(t)}function oDe(t){var e=t.getBoundingClientRect(),n=Kv(e.width)/t.offsetWidth||1,r=Kv(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sDe(t,e,n){n===void 0&&(n=!1);var r=ha(e),i=ha(e)&&oDe(e),o=Yf(e),s=Yv(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Au(e)!=="body"||b4(o))&&(a=iDe(e)),ha(e)?(l=Yv(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=v4(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function aDe(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function lDe(t){var e=aDe(t);return bNe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function uDe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function cDe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var wq={placement:"bottom",modifiers:[],strategy:"absolute"};function _q(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dDe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?wq:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},wq,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(_){var E=typeof _=="function"?_(c.options):_;y(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:Qp(a)?Mx(a):a.contextElement?Mx(a.contextElement):[],popper:Mx(l)};var S=lDe(cDe([].concat(r,c.options.modifiers)));return c.orderedModifiers=S.filter(function(T){return T.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var _=c.elements,E=_.reference,S=_.popper;if(_q(E,S)){c.rects={reference:sDe(E,P1(S),c.options.strategy==="fixed"),popper:g4(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var I=c.orderedModifiers[T],N=I.fn,R=I.options,M=R===void 0?{}:R,L=I.name;typeof N=="function"&&(c=N({state:c,options:M,name:L,instance:p})||c)}}}},update:uDe(function(){return new Promise(function(x){p.forceUpdate(),x(c)})}),destroy:function(){y(),h=!0}};if(!_q(a,l))return p;p.setOptions(u).then(function(x){!h&&u.onFirstUpdate&&u.onFirstUpdate(x)});function m(){c.orderedModifiers.forEach(function(x){var _=x.name,E=x.options,S=E===void 0?{}:E,T=x.effect;if(typeof T=="function"){var I=T({state:c,name:_,instance:p,options:S}),N=function(){};d.push(I||N)}})}function y(){d.forEach(function(x){return x()}),d=[]}return p}}var fDe=[LNe,ZNe,NNe,_Ne,JNe,WNe,nDe,PNe,KNe],hDe=dDe({defaultModifiers:fDe});function pDe(t){return typeof t=="function"?t():t}const Kte=F.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=F.useState(null),l=Pr(F.isValidElement(r)?hg(r):null,n);if(ll(()=>{o||a(pDe(i)||document.body)},[i,o]),ll(()=>{if(s&&!o)return J9(n,s),()=>{J9(n,null)}},[n,s,o]),o){if(F.isValidElement(r)){const u={ref:l};return F.cloneElement(r,u)}return r}return s&&Fc.createPortal(r,s)});function gDe(t){return At("MuiPopper",t)}Rt("MuiPopper",["root"]);function mDe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function MO(t){return typeof t=="function"?t():t}function yDe(t){return t.nodeType!==void 0}const vDe=t=>{const{classes:e}=t;return Pt({root:["root"]},gDe,e)},bDe={},xDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:o,disablePortal:s,modifiers:a,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:h={},slots:p={},TransitionProps:m,ownerState:y,...x}=e,_=F.useRef(null),E=Pr(_,n),S=F.useRef(null),T=Pr(S,d),I=F.useRef(T);ll(()=>{I.current=T},[T]),F.useImperativeHandle(d,()=>S.current,[]);const N=mDe(u,o),[R,M]=F.useState(N),[L,k]=F.useState(MO(r));F.useEffect(()=>{S.current&&S.current.forceUpdate()}),F.useEffect(()=>{r&&k(MO(r))},[r]),ll(()=>{if(!L||!l)return;const G=ee=>{M(ee.placement)};let K=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ee})=>{G(ee)}}];a!=null&&(K=K.concat(a)),c&&c.modifiers!=null&&(K=K.concat(c.modifiers));const J=hDe(L,_.current,{placement:N,...c,modifiers:K});return I.current(J),()=>{J.destroy(),I.current(null)}},[L,s,a,l,c,N]);const D={placement:R};m!==null&&(D.TransitionProps=m);const V=vDe(e),$=p.root??"div",H=i4({elementType:$,externalSlotProps:h.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:E},ownerState:e,className:V.root});return O.jsx($,{...H,children:typeof i=="function"?i(D):i})}),wDe=F.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=bDe,popperRef:p,style:m,transition:y=!1,slotProps:x={},slots:_={},...E}=e,[S,T]=F.useState(!0),I=()=>{T(!1)},N=()=>{T(!0)};if(!l&&!c&&(!y||S))return null;let R;if(o)R=o;else if(r){const k=MO(r);R=k&&yDe(k)?Vs(k).body:Vs(null).body}const M=!c&&l&&(!y||S)?"none":void 0,L=y?{in:c,onEnter:I,onExited:N}:void 0;return O.jsx(Kte,{disablePortal:a,container:R,children:O.jsx(xDe,{anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:y?!S:c,placement:d,popperOptions:h,popperRef:p,slotProps:x,slots:_,...E,style:{position:"fixed",top:0,left:0,display:M,...m},TransitionProps:L,children:i})})}),_De=Oe(wDe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Yte=F.forwardRef(function(e,n){const r=o4(),i=Dt({props:e,name:"MuiPopper"}),{anchorEl:o,component:s,components:a,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:x,transition:_,slots:E,slotProps:S,...T}=i,I=(E==null?void 0:E.root)??(a==null?void 0:a.Root),N={anchorEl:o,container:u,disablePortal:c,keepMounted:d,modifiers:h,open:p,placement:m,popperOptions:y,popperRef:x,transition:_,...T};return O.jsx(_De,{as:s,direction:r?"rtl":"ltr",slots:{root:I},slotProps:S??l,...N,ref:n})}),SDe=Zt(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function EDe(t){return At("MuiChip",t)}const pn=Rt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),CDe=t=>{const{classes:e,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=t,u={root:["root",l,n&&"disabled",`size${Me(r)}`,`color${Me(i)}`,a&&"clickable",a&&`clickableColor${Me(i)}`,s&&"deletable",s&&`deletableColor${Me(i)}`,`${l}${Me(i)}`],label:["label",`label${Me(r)}`],avatar:["avatar",`avatar${Me(r)}`,`avatarColor${Me(i)}`],icon:["icon",`icon${Me(r)}`,`iconColor${Me(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Me(r)}`,`deleteIconColor${Me(i)}`,`deleteIcon${Me(l)}Color${Me(i)}`]};return Pt(u,EDe,e)},TDe=Oe("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{[`& .${pn.avatar}`]:e.avatar},{[`& .${pn.avatar}`]:e[`avatar${Me(a)}`]},{[`& .${pn.avatar}`]:e[`avatarColor${Me(r)}`]},{[`& .${pn.icon}`]:e.icon},{[`& .${pn.icon}`]:e[`icon${Me(a)}`]},{[`& .${pn.icon}`]:e[`iconColor${Me(i)}`]},{[`& .${pn.deleteIcon}`]:e.deleteIcon},{[`& .${pn.deleteIcon}`]:e[`deleteIcon${Me(a)}`]},{[`& .${pn.deleteIcon}`]:e[`deleteIconColor${Me(r)}`]},{[`& .${pn.deleteIcon}`]:e[`deleteIcon${Me(l)}Color${Me(r)}`]},e.root,e[`size${Me(a)}`],e[`color${Me(r)}`],o&&e.clickable,o&&r!=="default"&&e[`clickableColor${Me(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${Me(r)}`],e[l],e[`${l}${Me(r)}`]]}})(Mt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${pn.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${pn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${pn.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${pn.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${pn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${pn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${pn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:Qt(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Qt(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${pn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${pn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(wi(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${pn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:Qt(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${pn.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${pn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${pn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Qt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${pn.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Qt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${pn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Qt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(wi(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${pn.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${pn.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${pn.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${pn.avatar}`]:{marginLeft:4},[`& .${pn.avatarSmall}`]:{marginLeft:2},[`& .${pn.icon}`]:{marginLeft:4},[`& .${pn.iconSmall}`]:{marginLeft:2},[`& .${pn.deleteIcon}`]:{marginRight:5},[`& .${pn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Qt(t.palette[n].main,.7)}`,[`&.${pn.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${pn.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:Qt(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${pn.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:Qt(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),ADe=Oe("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${Me(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function Sq(t){return t.key==="Backspace"||t.key==="Delete"}const NO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:p,onDelete:m,onKeyDown:y,onKeyUp:x,size:_="medium",variant:E="filled",tabIndex:S,skipFocusWhenDisabled:T=!1,...I}=r,N=F.useRef(null),R=Pr(N,n),M=X=>{X.stopPropagation(),m&&m(X)},L=X=>{X.currentTarget===X.target&&Sq(X)&&X.preventDefault(),y&&y(X)},k=X=>{X.currentTarget===X.target&&m&&Sq(X)&&m(X),x&&x(X)},D=s!==!1&&p?!0:s,V=D||m?Zc:l||"div",$={...r,component:V,disabled:c,size:_,color:a,iconColor:F.isValidElement(d)&&d.props.color||a,onDelete:!!m,clickable:D,variant:E},H=CDe($),G=V===Zc?{component:l||"div",focusVisibleClassName:H.focusVisible,...m&&{disableRipple:!0}}:{};let K=null;m&&(K=u&&F.isValidElement(u)?F.cloneElement(u,{className:Je(u.props.className,H.deleteIcon),onClick:M}):O.jsx(SDe,{className:Je(H.deleteIcon),onClick:M}));let J=null;i&&F.isValidElement(i)&&(J=F.cloneElement(i,{className:Je(H.avatar,i.props.className)}));let ee=null;return d&&F.isValidElement(d)&&(ee=F.cloneElement(d,{className:Je(H.icon,d.props.className)})),O.jsxs(TDe,{as:V,className:Je(H.root,o),disabled:D&&c?!0:void 0,onClick:p,onKeyDown:L,onKeyUp:k,ref:R,tabIndex:T&&c?-1:S,ownerState:$,...G,...I,children:[J||ee,O.jsx(ADe,{className:Je(H.label),ownerState:$,children:h}),K]})});function CE(t){return parseInt(t,10)||0}const RDe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function PDe(t){for(const e in t)return!1;return!0}function Eq(t){return PDe(t)||t.outerHeightStyle===0&&!t.overflowing}const IDe=F.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a,...l}=e,{current:u}=F.useRef(a!=null),c=F.useRef(null),d=Pr(n,c),h=F.useRef(null),p=F.useRef(null),m=F.useCallback(()=>{const S=c.current,T=p.current;if(!S||!T)return;const N=Qc(S).getComputedStyle(S);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=N.width,T.value=S.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const R=N.boxSizing,M=CE(N.paddingBottom)+CE(N.paddingTop),L=CE(N.borderBottomWidth)+CE(N.borderTopWidth),k=T.scrollHeight;T.value="x";const D=T.scrollHeight;let V=k;o&&(V=Math.max(Number(o)*D,V)),i&&(V=Math.min(Number(i)*D,V)),V=Math.max(V,D);const $=V+(R==="border-box"?M+L:0),H=Math.abs(V-k)<=1;return{outerHeightStyle:$,overflowing:H}},[i,o,e.placeholder]),y=Vc(()=>{const S=c.current,T=m();if(!S||!T||Eq(T))return!1;const I=T.outerHeightStyle;return h.current!=null&&h.current!==I}),x=F.useCallback(()=>{const S=c.current,T=m();if(!S||!T||Eq(T))return;const I=T.outerHeightStyle;h.current!==I&&(h.current=I,S.style.height=`${I}px`),S.style.overflow=T.overflowing?"hidden":""},[m]),_=F.useRef(-1);ll(()=>{const S=Ste(x),T=c==null?void 0:c.current;if(!T)return;const I=Qc(T);I.addEventListener("resize",S);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{y()&&(N.unobserve(T),cancelAnimationFrame(_.current),x(),_.current=requestAnimationFrame(()=>{N.observe(T)}))}),N.observe(T)),()=>{S.clear(),cancelAnimationFrame(_.current),I.removeEventListener("resize",S),N&&N.disconnect()}},[m,x,y]),ll(()=>{x()});const E=S=>{u||x(),r&&r(S)};return O.jsxs(F.Fragment,{children:[O.jsx("textarea",{value:a,onChange:E,ref:d,rows:o,style:s,...l}),O.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...RDe.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function yw(t){return typeof t=="string"}function Xf({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const OR=F.createContext(void 0);function ku(){return F.useContext(OR)}function Cq(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function GT(t,e=!1){return t&&(Cq(t.value)&&t.value!==""||e&&Cq(t.defaultValue)&&t.defaultValue!=="")}function kDe(t){return t.startAdornment}function MDe(t){return At("MuiInputBase",t)}const Jv=Rt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Tq;const FR=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Me(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},$R=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},NDe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:m}=t,y={root:["root",`color${Me(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Me(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Pt(y,MDe,e)},BR=Oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:FR})(Mt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Jv.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),VR=Oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$R})(Mt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Jv.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Jv.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Aq=g2e({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),x4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:a,color:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,error:y,fullWidth:x=!1,id:_,inputComponent:E="input",inputProps:S={},inputRef:T,margin:I,maxRows:N,minRows:R,multiline:M=!1,name:L,onBlur:k,onChange:D,onClick:V,onFocus:$,onKeyDown:H,onKeyUp:G,placeholder:K,readOnly:J,renderSuffix:ee,rows:X,size:j,slotProps:Y={},slots:ae={},startAdornment:q,type:Q="text",value:te,...ue}=r,de=S.value!=null?S.value:te,{current:se}=F.useRef(de!=null),ce=F.useRef(),he=F.useCallback(ht=>{},[]),ve=Pr(ce,T,S.ref,he),[be,Re]=F.useState(!1),pe=ku(),Ce=Xf({props:r,muiFormControl:pe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ce.focused=pe?pe.focused:be,F.useEffect(()=>{!pe&&h&&be&&(Re(!1),k&&k())},[pe,h,be,k]);const $e=pe&&pe.onFilled,De=pe&&pe.onEmpty,ke=F.useCallback(ht=>{GT(ht)?$e&&$e():De&&De()},[$e,De]);ll(()=>{se&&ke({value:de})},[de,ke,se]);const qe=ht=>{$&&$(ht),S.onFocus&&S.onFocus(ht),pe&&pe.onFocus?pe.onFocus(ht):Re(!0)},Fe=ht=>{k&&k(ht),S.onBlur&&S.onBlur(ht),pe&&pe.onBlur?pe.onBlur(ht):Re(!1)},Qe=(ht,...vn)=>{if(!se){const en=ht.target||ce.current;if(en==null)throw new Error(Jc(1));ke({value:en.value})}S.onChange&&S.onChange(ht,...vn),D&&D(ht,...vn)};F.useEffect(()=>{ke(ce.current)},[]);const ze=ht=>{ce.current&&ht.currentTarget===ht.target&&ce.current.focus(),V&&V(ht)};let lt=E,It=S;M&&lt==="input"&&(X?It={type:void 0,minRows:X,maxRows:X,...It}:It={type:void 0,maxRows:N,minRows:R,...It},lt=IDe);const on=ht=>{ke(ht.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};F.useEffect(()=>{pe&&pe.setAdornedStart(!!q)},[pe,q]);const we={...r,color:Ce.color||"primary",disabled:Ce.disabled,endAdornment:m,error:Ce.error,focused:Ce.focused,formControl:pe,fullWidth:x,hiddenLabel:Ce.hiddenLabel,multiline:M,size:Ce.size,startAdornment:q,type:Q},Ae=NDe(we),We=ae.root||u.Root||BR,yt=Y.root||c.root||{},Ct=ae.input||u.Input||VR;return It={...It,...Y.input??c.input},O.jsxs(F.Fragment,{children:[!p&&typeof Aq=="function"&&(Tq||(Tq=O.jsx(Aq,{}))),O.jsxs(We,{...yt,ref:n,onClick:ze,...ue,...!yw(We)&&{ownerState:{...we,...yt.ownerState}},className:Je(Ae.root,yt.className,a,J&&"MuiInputBase-readOnly"),children:[q,O.jsx(OR.Provider,{value:null,children:O.jsx(Ct,{"aria-invalid":Ce.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:d,disabled:Ce.disabled,id:_,onAnimationStart:on,name:L,placeholder:K,readOnly:J,required:Ce.required,rows:X,value:de,onKeyDown:H,onKeyUp:G,type:Q,...It,...!yw(Ct)&&{as:lt,ownerState:{...we,...It.ownerState}},ref:ve,className:Je(Ae.input,It.className,J&&"MuiInputBase-readOnly"),onBlur:Fe,onChange:Qe,onFocus:qe})}),m,ee?ee({...Ce,startAdornment:q}):null]})]})});function DDe(t){return At("MuiInput",t)}const fb={...Jv,...Rt("MuiInput",["root","underline","input"])};function LDe(t){return At("MuiOutlinedInput",t)}const Dl={...Jv,...Rt("MuiOutlinedInput",["root","notchedOutline","input"])};function ODe(t){return At("MuiFilledInput",t)}const _h={...Jv,...Rt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},FDe=Zt(O.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),$De=Zt(O.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function BDe(t){return At("MuiAvatar",t)}Rt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const VDe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return Pt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},BDe,e)},zDe=Oe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(Mt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),UDe=Oe("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),HDe=Oe($De,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function qDe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=F.useState(!1);return F.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const Rq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:h,srcSet:p,variant:m="circular",...y}=r;let x=null;const _={...r,component:a,variant:m},E=qDe({...c,...typeof u.img=="function"?u.img(_):u.img,src:h,srcSet:p}),S=h||p,T=S&&E!=="error";_.colorDefault=!T,delete _.ownerState;const I=VDe(_),[N,R]=tn("img",{className:I.img,elementType:UDe,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:h,srcSet:p,sizes:d},ownerState:_});return T?x=O.jsx(N,{...R}):o||o===0?x=o:S&&i?x=i[0]:x=O.jsx(HDe,{ownerState:_,className:I.fallback}),O.jsx(zDe,{as:a,className:Je(I.root,s),ref:n,...y,ownerState:_,children:x})}),jDe={entering:{opacity:1},entered:{opacity:1}},DO=F.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:x,timeout:_=i,TransitionComponent:E=hl,...S}=e,T=F.useRef(null),I=Pr(T,hg(a),n),N=H=>G=>{if(H){const K=T.current;G===void 0?H(K):H(K,G)}},R=N(h),M=N((H,G)=>{d4(H);const K=Wv({style:x,timeout:_,easing:l},{mode:"enter"});H.style.webkitTransition=r.transitions.create("opacity",K),H.style.transition=r.transitions.create("opacity",K),c&&c(H,G)}),L=N(d),k=N(y),D=N(H=>{const G=Wv({style:x,timeout:_,easing:l},{mode:"exit"});H.style.webkitTransition=r.transitions.create("opacity",G),H.style.transition=r.transitions.create("opacity",G),p&&p(H)}),V=N(m),$=H=>{o&&o(T.current,H)};return O.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:L,onEntering:R,onExit:D,onExited:V,onExiting:k,addEndListener:$,timeout:_,...S,children:(H,{ownerState:G,...K})=>F.cloneElement(a,{style:{opacity:0,visibility:H==="exited"&&!u?"hidden":void 0,...jDe[H],...x,...a.props.style},ref:I,...K})})});function WDe(t){return At("MuiBackdrop",t)}Rt("MuiBackdrop",["root","invisible"]);const GDe=t=>{const{classes:e,invisible:n}=t;return Pt({root:["root",n&&"invisible"]},WDe,e)},KDe=Oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),w4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:u={},componentsProps:c={},slotProps:d={},slots:h={},TransitionComponent:p,transitionDuration:m,...y}=r,x={...r,component:s,invisible:a},_=GDe(x),E={transition:p,root:u.Root,...h},S={...c,...d},T={slots:E,slotProps:S},[I,N]=tn("root",{elementType:KDe,externalForwardedProps:T,className:Je(_.root,o),ownerState:x}),[R,M]=tn("transition",{elementType:DO,externalForwardedProps:T,ownerState:x});return O.jsx(R,{in:l,timeout:m,...y,...M,children:O.jsx(I,{"aria-hidden":!0,...N,classes:_,ref:n,children:i})})}),YDe=Rt("MuiBox",["root"]),XDe=Lte(),He=tMe({themeId:bR,defaultTheme:XDe,defaultClassName:YDe.root,generateClassName:mte.generate}),JDe=Zt(O.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),QDe=Oe(Zc)(Mt(({theme:t})=>({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`,...t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},borderRadius:2,"&:hover, &:focus":{...t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}},"&:active":{boxShadow:t.shadows[0],...t.palette.mode==="light"?{backgroundColor:HT(t.palette.grey[200],.12)}:{backgroundColor:HT(t.palette.grey[600],.12)}}}))),ZDe=Oe(JDe)({width:24,height:16});function eLe(t){const{slots:e={},slotProps:n={},...r}=t,i=t;return O.jsx("li",{children:O.jsx(QDe,{focusRipple:!0,...r,ownerState:i,children:O.jsx(ZDe,{as:e.CollapsedIcon,ownerState:i,...n.collapsedIcon})})})}function tLe(t){return At("MuiBreadcrumbs",t)}const nLe=Rt("MuiBreadcrumbs",["root","ol","li","separator"]),rLe=t=>{const{classes:e}=t;return Pt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},tLe,e)},iLe=Oe(Ze,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${nLe.li}`]:e.li},e.root]})({}),oLe=Oe("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),sLe=Oe("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function aLe(t,e,n,r){return t.reduce((i,o,s)=>(s<t.length-1?i=i.concat(o,O.jsx(sLe,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${s}`)):i.push(o),i),[])}const lLe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiBreadcrumbs"}),{children:i,className:o,component:s="nav",slots:a={},slotProps:l={},expandText:u="Show path",itemsAfterCollapse:c=1,itemsBeforeCollapse:d=1,maxItems:h=8,separator:p="/",...m}=r,[y,x]=F.useState(!1),_={...r,component:s,expanded:y,expandText:u,itemsAfterCollapse:c,itemsBeforeCollapse:d,maxItems:h,separator:p},E=rLe(_),S=i4({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:_}),T=F.useRef(null),I=R=>{const M=()=>{x(!0);const L=T.current.querySelector("a[href],button,[tabindex]");L&&L.focus()};return d+c>=R.length?R:[...R.slice(0,d),O.jsx(eLe,{"aria-label":u,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:S},onClick:M},"ellipsis"),...R.slice(R.length-c,R.length)]},N=F.Children.toArray(i).filter(R=>F.isValidElement(R)).map((R,M)=>O.jsx("li",{className:E.li,children:R},`child-${M}`));return O.jsx(iLe,{ref:n,component:s,color:"textSecondary",className:Je(E.root,o),ownerState:_,...m,children:O.jsx(oLe,{className:E.ol,ref:T,ownerState:_,children:aLe(y||h&&N.length<=h?N:I(N),E.separator,p,_)})})});function uLe(t){return At("MuiButton",t)}const Sh=Rt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),cLe=F.createContext({}),dLe=F.createContext(void 0),fLe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,loading:s,loadingPosition:a,classes:l}=t,u={root:["root",s&&"loading",o,`${o}${Me(e)}`,`size${Me(i)}`,`${o}Size${Me(i)}`,`color${Me(e)}`,n&&"disableElevation",r&&"fullWidth",s&&`loadingPosition${Me(a)}`],startIcon:["icon","startIcon",`iconSize${Me(i)}`],endIcon:["icon","endIcon",`iconSize${Me(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=Pt(u,uLe,l);return{...l,...c}},Xte=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],hLe=Oe(Zc,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Me(n.color)}`],e[`size${Me(n.size)}`],e[`${n.variant}Size${Me(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(Mt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Sh.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Sh.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Sh.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Sh.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(wi()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:Qt(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Sh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Sh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Sh.loading}`]:{color:"transparent"}}}]}})),pLe=Oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${Me(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Xte]})),gLe=Oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${Me(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Xte]})),mLe=Oe("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Pq=Oe("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(t,e)=>e.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),ar=F.forwardRef(function(e,n){const r=F.useContext(cLe),i=F.useContext(dLe),o=hw(r,e),s=Dt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:y,fullWidth:x=!1,id:_,loading:E=null,loadingIndicator:S,loadingPosition:T="center",size:I="medium",startIcon:N,type:R,variant:M="text",...L}=s,k=g0(_),D=S??O.jsx(f4,{"aria-labelledby":k,color:"inherit",size:16}),V={...s,color:l,component:u,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:x,loading:E,loadingIndicator:D,loadingPosition:T,size:I,type:R,variant:M},$=fLe(V),H=(N||E&&T==="start")&&O.jsx(pLe,{className:$.startIcon,ownerState:V,children:N||O.jsx(Pq,{className:$.loadingIconPlaceholder,ownerState:V})}),G=(m||E&&T==="end")&&O.jsx(gLe,{className:$.endIcon,ownerState:V,children:m||O.jsx(Pq,{className:$.loadingIconPlaceholder,ownerState:V})}),K=i||"",J=typeof E=="boolean"?O.jsx("span",{className:$.loadingWrapper,style:{display:"contents"},children:E&&O.jsx(mLe,{className:$.loadingIndicator,ownerState:V,children:D})}):null;return O.jsxs(hLe,{ownerState:V,className:Je(r.className,$.root,c,K),component:u,disabled:d||E,focusRipple:!p,focusVisibleClassName:Je($.focusVisible,y),ref:n,type:R,id:E?k:_,...L,classes:$,children:[H,T!=="end"&&J,a,T==="end"&&J,G]})});function yLe(t){return At("PrivateSwitchBase",t)}Rt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const vLe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Me(i)}`],input:["input"]};return Pt(o,yLe,e)},bLe=Oe(Zc)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),xLe=Oe("input",{shouldForwardProp:uo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Jte=F.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:h,inputRef:p,name:m,onBlur:y,onChange:x,onFocus:_,readOnly:E,required:S=!1,tabIndex:T,type:I,value:N,slots:R={},slotProps:M={},...L}=e,[k,D]=pw({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),V=ku(),$=te=>{_&&_(te),V&&V.onFocus&&V.onFocus(te)},H=te=>{y&&y(te),V&&V.onBlur&&V.onBlur(te)},G=te=>{if(te.nativeEvent.defaultPrevented)return;const ue=te.target.checked;D(ue),x&&x(te,ue)};let K=a;V&&typeof K>"u"&&(K=V.disabled);const J=I==="checkbox"||I==="radio",ee={...e,checked:k,disabled:K,disableFocusRipple:l,edge:u},X=vLe(ee),j={slots:R,slotProps:{input:h,...M}},[Y,ae]=tn("root",{ref:n,elementType:bLe,className:X.root,shouldForwardComponentProp:!0,externalForwardedProps:{...j,component:"span",...L},getSlotProps:te=>({...te,onFocus:ue=>{var de;(de=te.onFocus)==null||de.call(te,ue),$(ue)},onBlur:ue=>{var de;(de=te.onBlur)==null||de.call(te,ue),H(ue)}}),ownerState:ee,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:K,role:void 0,tabIndex:null}}),[q,Q]=tn("input",{ref:p,elementType:xLe,className:X.input,externalForwardedProps:j,getSlotProps:te=>({onChange:ue=>{var de;(de=te.onChange)==null||de.call(te,ue),G(ue)}}),ownerState:ee,additionalProps:{autoFocus:r,checked:i,defaultChecked:s,disabled:K,id:J?d:void 0,name:m,readOnly:E,required:S,tabIndex:T,type:I,...I==="checkbox"&&N===void 0?{}:{value:N}}});return O.jsxs(Y,{...ae,children:[O.jsx(q,{...Q}),k?o:c]})}),wLe=Zt(O.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),_Le=Zt(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),SLe=Zt(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function ELe(t){return At("MuiCheckbox",t)}const Fk=Rt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),CLe=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${Me(r)}`,`size${Me(i)}`]},s=Pt(o,ELe,e);return{...e,...s}},TLe=Oe(Jte,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Me(n.size)}`],n.color!=="default"&&e[`color${Me(n.color)}`]]}})(Mt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette[e].main,t.palette.action.hoverOpacity)}}})),...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{[`&.${Fk.checked}, &.${Fk.indeterminate}`]:{color:(t.vars||t).palette[e].main},[`&.${Fk.disabled}`]:{color:(t.vars||t).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ALe=O.jsx(_Le,{}),RLe=O.jsx(wLe,{}),PLe=O.jsx(SLe,{}),LO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=ALe,color:o="primary",icon:s=RLe,indeterminate:a=!1,indeterminateIcon:l=PLe,inputProps:u,size:c="medium",disableRipple:d=!1,className:h,slots:p={},slotProps:m={},...y}=r,x=a?l:s,_=a?l:i,E={...r,disableRipple:d,color:o,indeterminate:a,size:c},S=CLe(E),T=m.input??u,[I,N]=tn("root",{ref:n,elementType:TLe,className:Je(S.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:m,...y},ownerState:E,additionalProps:{type:"checkbox",icon:F.cloneElement(x,{fontSize:x.props.fontSize??c}),checkedIcon:F.cloneElement(_,{fontSize:_.props.fontSize??c}),disableRipple:d,slots:p,slotProps:{input:l4(typeof T=="function"?T(E):T,{"data-indeterminate":a})}}});return O.jsx(I,{...N,classes:S})});function ILe(t){const e=Vs(t);return e.body===t?Qc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nx(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Iq(t){return parseInt(Qc(t).getComputedStyle(t).paddingRight,10)||0}function kLe(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function kq(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!kLe(s);a&&l&&Nx(s,i)})}function $k(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function MLe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(ILe(r)){const s=Cte(Qc(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Iq(r)+s}px`;const a=Vs(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Iq(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Vs(r).body;else{const s=r.parentElement,a=Qc(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function NLe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class DLe{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nx(e.modalRef,!1);const i=NLe(n);kq(n,e.mount,e.modalRef,i,!0);const o=$k(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=$k(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=MLe(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=$k(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Nx(e.modalRef,n),kq(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Nx(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const LLe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function OLe(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function FLe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function $Le(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||FLe(t))}function BLe(t){const e=[],n=[];return Array.from(t.querySelectorAll(LLe)).forEach((r,i)=>{const o=OLe(r);o===-1||!$Le(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function VLe(){return!0}function zLe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=BLe,isEnabled:s=VLe,open:a}=t,l=F.useRef(!1),u=F.useRef(null),c=F.useRef(null),d=F.useRef(null),h=F.useRef(null),p=F.useRef(!1),m=F.useRef(null),y=Pr(hg(e),m),x=F.useRef(null);F.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),F.useEffect(()=>{if(!a||!m.current)return;const S=Vs(m.current);return m.current.contains(S.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),F.useEffect(()=>{if(!a||!m.current)return;const S=Vs(m.current),T=R=>{x.current=R,!(r||!s()||R.key!=="Tab")&&S.activeElement===m.current&&R.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{var L,k;const R=m.current;if(R===null)return;if(!S.hasFocus()||!s()||l.current){l.current=!1;return}if(R.contains(S.activeElement)||r&&S.activeElement!==u.current&&S.activeElement!==c.current)return;if(S.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let M=[];if((S.activeElement===u.current||S.activeElement===c.current)&&(M=o(m.current)),M.length>0){const D=!!((L=x.current)!=null&&L.shiftKey&&((k=x.current)==null?void 0:k.key)==="Tab"),V=M[0],$=M[M.length-1];typeof V!="string"&&typeof $!="string"&&(D?$.focus():V.focus())}else R.focus()};S.addEventListener("focusin",I),S.addEventListener("keydown",T,!0);const N=setInterval(()=>{S.activeElement&&S.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(N),S.removeEventListener("focusin",I),S.removeEventListener("keydown",T,!0)}},[n,r,i,s,a,o]);const _=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0,h.current=S.target;const T=e.props.onFocus;T&&T(S)},E=S=>{d.current===null&&(d.current=S.relatedTarget),p.current=!0};return O.jsxs(F.Fragment,{children:[O.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:u,"data-testid":"sentinelStart"}),F.cloneElement(e,{ref:y,onFocus:_}),O.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelEnd"})]})}function ULe(t){return typeof t=="function"?t():t}function HLe(t){return t?t.props.hasOwnProperty("in"):!1}const Mq=()=>{},TE=new DLe;function qLe(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:u,rootRef:c}=t,d=F.useRef({}),h=F.useRef(null),p=F.useRef(null),m=Pr(p,c),[y,x]=F.useState(!u),_=HLe(a);let E=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(E=!1);const S=()=>Vs(h.current),T=()=>(d.current.modalRef=p.current,d.current.mount=h.current,d.current),I=()=>{TE.mount(T(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},N=Vc(()=>{const G=ULe(e)||S().body;TE.add(T(),G),p.current&&I()}),R=()=>TE.isTopModal(T()),M=Vc(G=>{h.current=G,G&&(u&&R()?I():p.current&&Nx(p.current,E))}),L=F.useCallback(()=>{TE.remove(T(),E)},[E]);F.useEffect(()=>()=>{L()},[L]),F.useEffect(()=>{u?N():(!_||!i)&&L()},[u,L,_,i,N]);const k=G=>K=>{var J;(J=G.onKeyDown)==null||J.call(G,K),!(K.key!=="Escape"||K.which===229||!R())&&(n||(K.stopPropagation(),l&&l(K,"escapeKeyDown")))},D=G=>K=>{var J;(J=G.onClick)==null||J.call(G,K),K.target===K.currentTarget&&l&&l(K,"backdropClick")};return{getRootProps:(G={})=>{const K=Ate(t);delete K.onTransitionEnter,delete K.onTransitionExited;const J={...K,...G};return{role:"presentation",...J,onKeyDown:k(J),ref:m}},getBackdropProps:(G={})=>{const K=G;return{"aria-hidden":!0,...K,onClick:D(K),open:u}},getTransitionProps:()=>{const G=()=>{x(!1),o&&o()},K=()=>{x(!0),s&&s(),i&&L()};return{onEnter:X9(G,(a==null?void 0:a.props.onEnter)??Mq),onExited:X9(K,(a==null?void 0:a.props.onExited)??Mq)}},rootRef:m,portalRef:M,isTopModal:R,exited:y,hasTransition:_}}function jLe(t){return At("MuiModal",t)}Rt("MuiModal",["root","hidden","backdrop"]);const WLe=t=>{const{open:e,exited:n,classes:r}=t;return Pt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},jLe,r)},GLe=Oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(Mt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),KLe=Oe(w4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Qte=F.forwardRef(function(e,n){const r=Dt({name:"MuiModal",props:e}),{BackdropComponent:i=KLe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:u,container:c,component:d,components:h={},componentsProps:p={},disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:x=!1,disablePortal:_=!1,disableRestoreFocus:E=!1,disableScrollLock:S=!1,hideBackdrop:T=!1,keepMounted:I=!1,onBackdropClick:N,onClose:R,onTransitionEnter:M,onTransitionExited:L,open:k,slotProps:D={},slots:V={},theme:$,...H}=r,G={...r,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:x,disablePortal:_,disableRestoreFocus:E,disableScrollLock:S,hideBackdrop:T,keepMounted:I},{getRootProps:K,getBackdropProps:J,getTransitionProps:ee,portalRef:X,isTopModal:j,exited:Y,hasTransition:ae}=qLe({...G,rootRef:n}),q={...G,exited:Y},Q=WLe(q),te={};if(u.props.tabIndex===void 0&&(te.tabIndex="-1"),ae){const{onEnter:ve,onExited:be}=ee();te.onEnter=ve,te.onExited=be}const ue={slots:{root:h.Root,backdrop:h.Backdrop,...V},slotProps:{...p,...D}},[de,se]=tn("root",{ref:n,elementType:GLe,externalForwardedProps:{...ue,...H,component:d},getSlotProps:K,ownerState:q,className:Je(a,Q==null?void 0:Q.root,!q.open&&q.exited&&(Q==null?void 0:Q.hidden))}),[ce,he]=tn("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:ue,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:ve=>J({...ve,onClick:be=>{N&&N(be),ve!=null&&ve.onClick&&ve.onClick(be)}}),className:Je(o==null?void 0:o.className,Q==null?void 0:Q.backdrop),ownerState:q});return!I&&!k&&(!ae||Y)?null:O.jsx(Kte,{ref:X,container:c,disablePortal:_,children:O.jsxs(de,{...se,children:[!T&&i?O.jsx(ce,{...he}):null,O.jsx(zLe,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:E,isEnabled:j,open:k,children:F.cloneElement(u,te)})]})})});function YLe(t){return At("MuiDialog",t)}const Bk=Rt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Zte=F.createContext({}),XLe=Oe(w4,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),JLe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${Me(n)}`],paper:["paper",`paperScroll${Me(n)}`,`paperWidth${Me(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Pt(s,YLe,e)},QLe=Oe(Qte,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),ZLe=Oe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Me(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),eOe=Oe(au,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Me(n.scroll)}`],e[`paperWidth${Me(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(Mt(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${Bk.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${Bk.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Bk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_C=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialog"}),i=Kf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:m=!1,fullWidth:y=!1,maxWidth:x="sm",onBackdropClick:_,onClick:E,onClose:S,open:T,PaperComponent:I=au,PaperProps:N={},scroll:R="paper",slots:M={},slotProps:L={},TransitionComponent:k=DO,transitionDuration:D=o,TransitionProps:V,...$}=r,H={...r,disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:x,scroll:R},G=JLe(H),K=F.useRef(),J=pe=>{K.current=pe.target===pe.currentTarget},ee=pe=>{E&&E(pe),K.current&&(K.current=null,_&&_(pe),S&&S(pe,"backdropClick"))},X=g0(a),j=F.useMemo(()=>({titleId:X}),[X]),Y={transition:k,...M},ae={transition:V,paper:N,backdrop:c,...L},q={slots:Y,slotProps:ae},[Q,te]=tn("root",{elementType:QLe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:H,className:Je(G.root,h),ref:n}),[ue,de]=tn("backdrop",{elementType:XLe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:H}),[se,ce]=tn("paper",{elementType:eOe,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:H,className:Je(G.paper,N.className)}),[he,ve]=tn("container",{elementType:ZLe,externalForwardedProps:q,ownerState:H,className:Je(G.container)}),[be,Re]=tn("transition",{elementType:DO,externalForwardedProps:q,ownerState:H,additionalProps:{appear:!0,in:T,timeout:D,role:"presentation"}});return O.jsx(Q,{closeAfterTransition:!0,slots:{backdrop:ue},slotProps:{backdrop:{transitionDuration:D,as:u,...de}},disableEscapeKeyDown:p,onClose:S,open:T,onClick:ee,...te,...$,children:O.jsx(be,{...Re,children:O.jsx(he,{onMouseDown:J,...ve,children:O.jsx(se,{as:I,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":X,"aria-modal":l,...ce,children:O.jsx(Zte.Provider,{value:j,children:d})})})})})});function tOe(t){return At("MuiDialogActions",t)}Rt("MuiDialogActions",["root","spacing"]);const nOe=t=>{const{classes:e,disableSpacing:n}=t;return Pt({root:["root",!n&&"spacing"]},tOe,e)},rOe=Oe("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),SC=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1,...s}=r,a={...r,disableSpacing:o},l=nOe(a);return O.jsx(rOe,{className:Je(l.root,i),ownerState:a,ref:n,...s})});function iOe(t){return At("MuiDialogContent",t)}Rt("MuiDialogContent",["root","dividers"]);function oOe(t){return At("MuiDialogTitle",t)}const sOe=Rt("MuiDialogTitle",["root"]),aOe=t=>{const{classes:e,dividers:n}=t;return Pt({root:["root",n&&"dividers"]},iOe,e)},lOe=Oe("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(Mt(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${sOe.root} + &`]:{paddingTop:0}}}]}))),EC=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=r,a={...r,dividers:o},l=aOe(a);return O.jsx(lOe,{className:Je(l.root,i),ownerState:a,ref:n,...s})}),uOe=t=>{const{classes:e}=t;return Pt({root:["root"]},oOe,e)},cOe=Oe(Ze,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),CC=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=r,a=r,l=uOe(a),{titleId:u=o}=F.useContext(Zte);return O.jsx(cOe,{component:"h2",className:Je(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??u,...s})});function dOe(t){return At("MuiDivider",t)}const Nq=Rt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),fOe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return Pt({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},dOe,r)},hOe=Oe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(Mt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Qt(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),pOe=Oe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(Mt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Sy=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,orientation:a="horizontal",component:l=o||a==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:d=l!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth",...m}=r,y={...r,absolute:i,component:l,flexItem:u,light:c,orientation:a,role:d,textAlign:h,variant:p},x=fOe(y);return O.jsx(hOe,{as:l,className:Je(x.root,s),role:d,ref:n,ownerState:y,"aria-orientation":d==="separator"&&(l!=="hr"||a==="vertical")?a:void 0,...m,children:o?O.jsx(pOe,{className:x.wrapper,ownerState:y,children:o}):null})});Sy&&(Sy.muiSkipListHighlight=!0);function gOe(t){return At("MuiFab",t)}const Dq=Rt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),mOe=t=>{const{color:e,variant:n,classes:r,size:i}=t,o={root:["root",n,`size${Me(i)}`,e==="inherit"?"colorInherit":e]},s=Pt(o,gOe,r);return{...r,...s}},yOe=Oe(Zc,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>uo(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Me(n.size)}`],n.color==="inherit"&&e.colorInherit,e[Me(n.size)],e[n.color]]}})(Mt(({theme:t})=>{var e,n;return{...t.typography.button,minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(e=t.palette).getContrastText)==null?void 0:n.call(e,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Dq.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},variants:[{props:{size:"small"},style:{width:40,height:40}},{props:{size:"medium"},style:{width:48,height:48}},{props:{variant:"extended"},style:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48}},{props:{variant:"extended",size:"small"},style:{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34}},{props:{variant:"extended",size:"medium"},style:{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},{props:{color:"inherit"},style:{color:"inherit"}}]}}),Mt(({theme:t})=>({variants:[...Object.entries(t.palette).filter(wi(["dark","contrastText"])).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].contrastText,backgroundColor:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:(t.vars||t).palette[e].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e].main}}}}))]})),Mt(({theme:t})=>({[`&.${Dq.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}))),ene=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFab"}),{children:i,className:o,color:s="default",component:a="button",disabled:l=!1,disableFocusRipple:u=!1,focusVisibleClassName:c,size:d="large",variant:h="circular",...p}=r,m={...r,color:s,component:a,disabled:l,disableFocusRipple:u,size:d,variant:h},y=mOe(m);return O.jsx(yOe,{className:Je(y.root,o),component:a,disabled:l,focusRipple:!u,focusVisibleClassName:Je(y.focusVisible,c),ownerState:m,ref:n,...p,classes:y,children:i})}),vOe=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:a}=t,l={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Me(o)}`,s&&"hiddenLabel",a&&"multiline"],input:["input"]},u=Pt(l,ODe,e);return{...e,...u}},bOe=Oe(BR,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...FR(t,e),!n.disableUnderline&&e.underline]}})(Mt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${_h.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${_h.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_h.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_h.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_h.disabled}, .${_h.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${_h.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(wi()).map(([s])=>{var a;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[s])==null?void 0:a.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:a})=>s.multiline&&a==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),xOe=Oe(VR,{name:"MuiFilledInput",slot:"Input",overridesResolver:$R})(Mt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),_4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:d,slots:h={},type:p="text",...m}=r,y={...r,disableUnderline:i,fullWidth:a,inputComponent:u,multiline:c,type:p},x=vOe(r),_={root:{ownerState:y},input:{ownerState:y}},E=d??s?_i(_,d??s):_,S=h.root??o.Root??bOe,T=h.input??o.Input??xOe;return O.jsx(x4,{slots:{root:S,input:T},slotProps:E,fullWidth:a,inputComponent:u,multiline:c,ref:n,type:p,...m,classes:x})});_4.muiName="Input";function wOe(t){return At("MuiFormControl",t)}Rt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _Oe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Me(n)}`,r&&"fullWidth"]};return Pt(i,wOe,e)},SOe=Oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${Me(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),EOe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:y="medium",variant:x="outlined",..._}=r,E={...r,color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:y,variant:x},S=_Oe(E),[T,I]=F.useState(()=>{let G=!1;return i&&F.Children.forEach(i,K=>{if(!Ix(K,["Input","Select"]))return;const J=Ix(K,["Select"])?K.props.input:K;J&&kDe(J.props)&&(G=!0)}),G}),[N,R]=F.useState(()=>{let G=!1;return i&&F.Children.forEach(i,K=>{Ix(K,["Input","Select"])&&(GT(K.props,!0)||GT(K.props.inputProps,!0))&&(G=!0)}),G}),[M,L]=F.useState(!1);l&&M&&L(!1);const k=c!==void 0&&!l?c:M;let D;F.useRef(!1);const V=F.useCallback(()=>{R(!0)},[]),$=F.useCallback(()=>{R(!1)},[]),H=F.useMemo(()=>({adornedStart:T,setAdornedStart:I,color:s,disabled:l,error:u,filled:N,focused:k,fullWidth:d,hiddenLabel:h,size:y,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:$,onFilled:V,registerEffect:D,required:m,variant:x}),[T,s,l,u,N,k,d,h,D,$,V,m,y,x]);return O.jsx(OR.Provider,{value:H,children:O.jsx(SOe,{as:a,ownerState:E,className:Je(S.root,o),ref:n,..._,children:i})})});function COe(t){return At("MuiFormControlLabel",t)}const Xb=Rt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),TOe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Me(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return Pt(s,COe,e)},AOe=Oe("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Xb.label}`]:e.label},e.root,e[`labelPlacement${Me(n.labelPlacement)}`]]}})(Mt(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Xb.disabled}`]:{cursor:"default"},[`& .${Xb.label}`]:{[`&.${Xb.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),ROe=Oe("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Mt(({theme:t})=>({[`&.${Xb.error}`]:{color:(t.vars||t).palette.error.main}}))),Lq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:o,componentsProps:s={},control:a,disabled:l,disableTypography:u,inputRef:c,label:d,labelPlacement:h="end",name:p,onChange:m,required:y,slots:x={},slotProps:_={},value:E,...S}=r,T=ku(),I=l??a.props.disabled??(T==null?void 0:T.disabled),N=y??a.props.required,R={disabled:I,required:N};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof a.props[G]>"u"&&typeof r[G]<"u"&&(R[G]=r[G])});const M=Xf({props:r,muiFormControl:T,states:["error"]}),L={...r,disabled:I,labelPlacement:h,required:N,error:M.error},k=TOe(L),D={slots:x,slotProps:{...s,..._}},[V,$]=tn("typography",{elementType:Ze,externalForwardedProps:D,ownerState:L});let H=d;return H!=null&&H.type!==Ze&&!u&&(H=O.jsx(V,{component:"span",...$,className:Je(k.label,$==null?void 0:$.className),children:H})),O.jsxs(AOe,{className:Je(k.root,o),ownerState:L,ref:n,...S,children:[F.cloneElement(a,R),N?O.jsxs("div",{children:[H,O.jsxs(ROe,{ownerState:L,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):H]})});function POe(t){return At("MuiFormGroup",t)}Rt("MuiFormGroup",["root","row","error"]);const IOe=t=>{const{classes:e,row:n,error:r}=t;return Pt({root:["root",n&&"row",r&&"error"]},POe,e)},kOe=Oe("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),MOe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1,...s}=r,a=ku(),l=Xf({props:r,muiFormControl:a,states:["error"]}),u={...r,row:o,error:l.error},c=IOe(u);return O.jsx(kOe,{className:Je(c.root,i),ownerState:u,ref:n,...s})});function NOe(t){return At("MuiFormHelperText",t)}const Oq=Rt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Fq;const DOe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${Me(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return Pt(u,NOe,e)},LOe=Oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Me(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(Mt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Oq.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Oq.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),OOe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:a,error:l,filled:u,focused:c,margin:d,required:h,variant:p,...m}=r,y=ku(),x=Xf({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),_={...r,component:s,contained:x.variant==="filled"||x.variant==="outlined",variant:x.variant,size:x.size,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required};delete _.ownerState;const E=DOe(_);return O.jsx(LOe,{as:s,className:Je(E.root,o),ref:n,...m,ownerState:_,children:i===" "?Fq||(Fq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function FOe(t){return At("MuiFormLabel",t)}const Dx=Rt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),$Oe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${Me(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return Pt(l,FOe,e)},BOe=Oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(Mt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{color:e},style:{[`&.${Dx.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Dx.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Dx.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),VOe=Oe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(Mt(({theme:t})=>({[`&.${Dx.error}`]:{color:(t.vars||t).palette.error.main}}))),zOe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:a="label",disabled:l,error:u,filled:c,focused:d,required:h,...p}=r,m=ku(),y=Xf({props:r,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),x={...r,color:y.color||"primary",component:a,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},_=$Oe(x);return O.jsxs(BOe,{as:a,ownerState:x,className:Je(_.root,o),ref:n,...p,children:[i,y.required&&O.jsxs(VOe,{ownerState:x,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]})});function OO(t){return`scale(${t}, ${t**2})`}const UOe={entering:{opacity:1,transform:OO(1)},entered:{opacity:1,transform:"none"}},Vk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),KT=F.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:m,timeout:y="auto",TransitionComponent:x=hl,..._}=e,E=Oh(),S=F.useRef(),T=Kf(),I=F.useRef(null),N=Pr(I,hg(o),n),R=G=>K=>{if(G){const J=I.current;K===void 0?G(J):G(J,K)}},M=R(c),L=R((G,K)=>{d4(G);const{duration:J,delay:ee,easing:X}=Wv({style:m,timeout:y,easing:s},{mode:"enter"});let j;y==="auto"?(j=T.transitions.getAutoHeightDuration(G.clientHeight),S.current=j):j=J,G.style.transition=[T.transitions.create("opacity",{duration:j,delay:ee}),T.transitions.create("transform",{duration:Vk?j:j*.666,delay:ee,easing:X})].join(","),l&&l(G,K)}),k=R(u),D=R(p),V=R(G=>{const{duration:K,delay:J,easing:ee}=Wv({style:m,timeout:y,easing:s},{mode:"exit"});let X;y==="auto"?(X=T.transitions.getAutoHeightDuration(G.clientHeight),S.current=X):X=K,G.style.transition=[T.transitions.create("opacity",{duration:X,delay:J}),T.transitions.create("transform",{duration:Vk?X:X*.666,delay:Vk?J:J||X*.333,easing:ee})].join(","),G.style.opacity=0,G.style.transform=OO(.75),d&&d(G)}),$=R(h),H=G=>{y==="auto"&&E.start(S.current||0,G),r&&r(I.current,G)};return O.jsx(x,{appear:i,in:a,nodeRef:I,onEnter:L,onEntered:k,onEntering:M,onExit:V,onExited:$,onExiting:D,addEndListener:H,timeout:y==="auto"?null:y,..._,children:(G,{ownerState:K,...J})=>F.cloneElement(o,{style:{opacity:0,transform:OO(.75),visibility:G==="exited"&&!a?"hidden":void 0,...UOe[G],...m,...o.props.style},ref:N,...J})})});KT&&(KT.muiSupportAuto=!0);const HOe=t=>{const{classes:e,disableUnderline:n}=t,i=Pt({root:["root",!n&&"underline"],input:["input"]},DDe,e);return{...e,...i}},qOe=Oe(BR,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...FR(t,e),!n.disableUnderline&&e.underline]}})(Mt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fb.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fb.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fb.disabled}, .${fb.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${fb.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(wi()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),jOe=Oe(VR,{name:"MuiInput",slot:"Input",overridesResolver:$R})({}),S4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:d={},type:h="text",...p}=r,m=HOe(r),x={root:{ownerState:{disableUnderline:i}}},_=c??s?_i(c??s,x):x,E=d.root??o.Root??qOe,S=d.input??o.Input??jOe;return O.jsx(x4,{slots:{root:E,input:S},slotProps:_,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:h,...p,classes:m})});S4.muiName="Input";function WOe(t){return At("MuiInputAdornment",t)}const $q=Rt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Bq;const GOe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Me(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},KOe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Me(i)}`,s,r&&"hiddenLabel",o&&`size${Me(o)}`]};return Pt(a,WOe,e)},YOe=Oe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:GOe})(Mt(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${$q.positionStart}&:not(.${$q.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),FO=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c,...d}=r,h=ku()||{};let p=c;c&&h.variant,h&&!p&&(p=h.variant);const m={...r,hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:p},y=KOe(m);return O.jsx(OR.Provider,{value:null,children:O.jsx(YOe,{as:s,ownerState:m,className:Je(y.root,o),ref:n,...d,children:typeof i=="string"&&!l?O.jsx(Ze,{color:"textSecondary",children:i}):O.jsxs(F.Fragment,{children:[u==="start"?Bq||(Bq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function XOe(t){return At("MuiInputLabel",t)}Rt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const JOe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Me(r)}`,s],asterisk:[a&&"asterisk"]},u=Pt(l,XOe,e);return{...e,...u}},QOe=Oe(zOe,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Dx.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(Mt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),ZOe=F.forwardRef(function(e,n){const r=Dt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:a,className:l,...u}=r,c=ku();let d=s;typeof d>"u"&&c&&(d=c.filled||c.focused||c.adornedStart);const h=Xf({props:r,muiFormControl:c,states:["size","variant","required","focused"]}),p={...r,disableAnimation:i,formControl:c,shrink:d,size:h.size,variant:h.variant,required:h.required,focused:h.focused},m=JOe(p);return O.jsx(QOe,{"data-shrink":d,ref:n,className:Je(m.root,l),...u,ownerState:p,classes:m})});function eFe(t){return At("MuiLink",t)}const tFe=Rt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),nFe=({theme:t,ownerState:e})=>{const n=e.color,r=Ef(t,`palette.${n}.main`,!1)||Ef(t,`palette.${n}`,!1)||e.color,i=Ef(t,`palette.${n}.mainChannel`)||Ef(t,`palette.${n}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Qt(r,.4)},Vq={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},rFe=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,o={root:["root",`underline${Me(i)}`,n==="button"&&"button",r&&"focusVisible"]};return Pt(o,eFe,e)},iFe=Oe(Ze,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${Me(n.underline)}`],n.component==="button"&&e.button]}})(Mt(({theme:t})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:n})=>e==="always"&&n.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(t.palette).filter(wi()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.4)`:Qt(t.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:Qt(t.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":t.vars?`rgba(${t.vars.palette.text.secondaryChannel} / 0.4)`:Qt(t.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(t.vars||t).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tFe.focusVisible}`]:{outline:"auto"}}}]}))),zq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiLink"}),i=Kf(),{className:o,color:s="primary",component:a="a",onBlur:l,onFocus:u,TypographyClasses:c,underline:d="always",variant:h="inherit",sx:p,...m}=r,[y,x]=F.useState(!1),_=I=>{jv(I.target)||x(!1),l&&l(I)},E=I=>{jv(I.target)&&x(!0),u&&u(I)},S={...r,color:s,component:a,focusVisible:y,underline:d,variant:h},T=rFe(S);return O.jsx(iFe,{color:s,className:Je(T.root,o),classes:c,component:a,onBlur:_,onFocus:E,ref:n,ownerState:S,variant:h,...m,sx:[...Vq[s]===void 0?[{color:s}]:[],...Array.isArray(p)?p:[p]],style:{...m.style,...d==="always"&&s!=="inherit"&&!Vq[s]&&{"--Link-underlineColor":nFe({theme:i,ownerState:S})}}})}),ol=F.createContext({});function oFe(t){return At("MuiList",t)}Rt("MuiList",["root","padding","dense","subheader"]);const sFe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Pt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},oFe,e)},aFe=Oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),$O=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u,...c}=r,d=F.useMemo(()=>({dense:a}),[a]),h={...r,component:s,dense:a,disablePadding:l},p=sFe(h);return O.jsx(ol.Provider,{value:d,children:O.jsxs(aFe,{as:s,className:Je(p.root,o),ref:n,ownerState:h,...c,children:[u,i]})})});function lFe(t){return At("MuiListItem",t)}Rt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function uFe(t){return At("MuiListItemButton",t)}const Bm=Rt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),cFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},dFe=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=t,u=Pt({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},uFe,n);return{...n,...u}},fFe=Oe(Zc,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:cFe})(Mt(({theme:t})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bm.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Bm.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Bm.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Bm.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Bm.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),Uq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:h=!1,className:p,...m}=r,y=F.useContext(ol),x=F.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),_=F.useRef(null);ll(()=>{o&&_.current&&_.current.focus()},[o]);const E={...r,alignItems:i,dense:x.dense,disableGutters:u,divider:c,selected:h},S=dFe(E),T=Pr(_,n);return O.jsx(ol.Provider,{value:x,children:O.jsx(fFe,{ref:T,href:m.href||m.to,component:(m.href||m.to)&&s==="div"?"button":s,focusVisibleClassName:Je(S.focusVisible,d),ownerState:E,className:Je(S.root,p),...m,classes:S,children:a})})});function hFe(t){return At("MuiListItemSecondaryAction",t)}Rt("MuiListItemSecondaryAction",["root","disableGutters"]);const pFe=t=>{const{disableGutters:e,classes:n}=t;return Pt({root:["root",e&&"disableGutters"]},hFe,n)},gFe=Oe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),tne=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...o}=r,s=F.useContext(ol),a={...r,disableGutters:s.disableGutters},l=pFe(a);return O.jsx(gFe,{className:Je(l.root,i),ownerState:a,ref:n,...o})});tne.muiName="ListItemSecondaryAction";const mFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},yFe=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:i,disablePadding:o,divider:s,hasSecondaryAction:a}=t;return Pt({root:["root",r&&"dense",!i&&"gutters",!o&&"padding",s&&"divider",e==="flex-start"&&"alignItemsFlexStart",a&&"secondaryAction"],container:["container"]},lFe,n)},vFe=Oe("div",{name:"MuiListItem",slot:"Root",overridesResolver:mFe})(Mt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Bm.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),bFe=Oe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Hq=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItem"}),{alignItems:i="center",children:o,className:s,component:a,components:l={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:m=!1,disablePadding:y=!1,divider:x=!1,secondaryAction:_,slotProps:E={},slots:S={},...T}=r,I=F.useContext(ol),N=F.useMemo(()=>({dense:p||I.dense||!1,alignItems:i,disableGutters:m}),[i,I.dense,p,m]),R=F.useRef(null),M=F.Children.toArray(o),L=M.length&&Ix(M[M.length-1],["ListItemSecondaryAction"]),k={...r,alignItems:i,dense:N.dense,disableGutters:m,disablePadding:y,divider:x,hasSecondaryAction:L},D=yFe(k),V=Pr(R,n),$=S.root||l.Root||vFe,H=E.root||u.root||{},G={className:Je(D.root,H.className,s),...T};let K=a||"li";return L?(K=!G.component&&!a?"div":K,c==="li"&&(K==="li"?K="div":G.component==="li"&&(G.component="div")),O.jsx(ol.Provider,{value:N,children:O.jsxs(bFe,{as:c,className:Je(D.container,d),ref:V,ownerState:k,...h,children:[O.jsx($,{...H,...!yw($)&&{as:K,ownerState:{...k,...H.ownerState}},...G,children:M}),M.pop()]})})):O.jsx(ol.Provider,{value:N,children:O.jsxs($,{...H,as:K,ref:V,...!yw($)&&{ownerState:{...k,...H.ownerState}},...G,children:[M,_&&O.jsx(tne,{children:_})]})})});function xFe(t){return At("MuiListItemIcon",t)}const qq=Rt("MuiListItemIcon",["root","alignItemsFlexStart"]),wFe=t=>{const{alignItems:e,classes:n}=t;return Pt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},xFe,n)},_Fe=Oe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(Mt(({theme:t})=>({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),vw=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemIcon"}),{className:i,...o}=r,s=F.useContext(ol),a={...r,alignItems:s.alignItems},l=wFe(a);return O.jsx(_Fe,{className:Je(l.root,i),ownerState:a,ref:n,...o})});function SFe(t){return At("MuiListItemText",t)}const fy=Rt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),EFe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return Pt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},SFe,e)},CFe=Oe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${fy.primary}`]:e.primary},{[`& .${fy.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${fq.root}:where(& .${fy.primary})`]:{display:"block"},[`.${fq.root}:where(& .${fy.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),Zp=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d,slots:h={},slotProps:p={},...m}=r,{dense:y}=F.useContext(ol);let x=l??i,_=c;const E={...r,disableTypography:s,inset:a,primary:!!x,secondary:!!_,dense:y},S=EFe(E),T={slots:h,slotProps:{primary:u,secondary:d,...p}},[I,N]=tn("root",{className:Je(S.root,o),elementType:CFe,externalForwardedProps:{...T,...m},ownerState:E,ref:n}),[R,M]=tn("primary",{className:S.primary,elementType:Ze,externalForwardedProps:T,ownerState:E}),[L,k]=tn("secondary",{className:S.secondary,elementType:Ze,externalForwardedProps:T,ownerState:E});return x!=null&&x.type!==Ze&&!s&&(x=O.jsx(R,{variant:y?"body2":"body1",component:M!=null&&M.variant?void 0:"span",...M,children:x})),_!=null&&_.type!==Ze&&!s&&(_=O.jsx(L,{variant:"body2",color:"textSecondary",...k,children:_})),O.jsxs(I,{...N,children:[x,_]})});function zk(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function jq(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function nne(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function hb(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!nne(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const TFe=F.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu",...h}=e,p=F.useRef(null),m=F.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ll(()=>{i&&p.current.focus()},[i]),F.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(S,{direction:T})=>{const I=!p.current.style.width;if(S.clientHeight<p.current.clientHeight&&I){const N=`${Cte(Qc(S))}px`;p.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=N,p.current.style.width=`calc(100% + ${N})`}return p.current}}),[]);const y=S=>{const T=p.current,I=S.key;if(S.ctrlKey||S.metaKey||S.altKey){c&&c(S);return}const R=Vs(T).activeElement;if(I==="ArrowDown")S.preventDefault(),hb(T,R,u,l,zk);else if(I==="ArrowUp")S.preventDefault(),hb(T,R,u,l,jq);else if(I==="Home")S.preventDefault(),hb(T,null,u,l,zk);else if(I==="End")S.preventDefault(),hb(T,null,u,l,jq);else if(I.length===1){const M=m.current,L=I.toLowerCase(),k=performance.now();M.keys.length>0&&(k-M.lastTime>500?(M.keys=[],M.repeating=!0,M.previousKeyMatched=!0):M.repeating&&L!==M.keys[0]&&(M.repeating=!1)),M.lastTime=k,M.keys.push(L);const D=R&&!M.repeating&&nne(R,M);M.previousKeyMatched&&(D||hb(T,R,!1,l,zk,M))?S.preventDefault():M.previousKeyMatched=!1}c&&c(S)},x=Pr(p,n);let _=-1;F.Children.forEach(s,(S,T)=>{if(!F.isValidElement(S)){_===T&&(_+=1,_>=s.length&&(_=-1));return}S.props.disabled||(d==="selectedMenu"&&S.props.selected||_===-1)&&(_=T),_===T&&(S.props.disabled||S.props.muiSkipListHighlight||S.type.muiSkipListHighlight)&&(_+=1,_>=s.length&&(_=-1))});const E=F.Children.map(s,(S,T)=>{if(T===_){const I={};return o&&(I.autoFocus=!0),S.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),F.cloneElement(S,I)}return S});return O.jsx($O,{role:"menu",ref:x,className:a,onKeyDown:y,tabIndex:i?0:-1,...h,children:E})});function AFe(t){return At("MuiPopover",t)}Rt("MuiPopover",["root","paper"]);function Wq(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function Gq(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function Kq(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function AE(t){return typeof t=="function"?t():t}const RFe=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"]},AFe,e)},PFe=Oe(Qte,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rne=Oe(au,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),IFe=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:p=16,open:m,PaperProps:y={},slots:x={},slotProps:_={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:T="auto",TransitionProps:I={},disableScrollLock:N=!1,...R}=r,M=F.useRef(),L={...r,anchorOrigin:s,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:E,TransitionComponent:S,transitionDuration:T,TransitionProps:I},k=RFe(L),D=F.useCallback(()=>{if(l==="anchorPosition")return a;const he=AE(o),be=(he&&he.nodeType===1?he:Vs(M.current).body).getBoundingClientRect();return{top:be.top+Wq(be,s.vertical),left:be.left+Gq(be,s.horizontal)}},[o,s.horizontal,s.vertical,a,l]),V=F.useCallback(he=>({vertical:Wq(he,E.vertical),horizontal:Gq(he,E.horizontal)}),[E.horizontal,E.vertical]),$=F.useCallback(he=>{const ve={width:he.offsetWidth,height:he.offsetHeight},be=V(ve);if(l==="none")return{top:null,left:null,transformOrigin:Kq(be)};const Re=D();let pe=Re.top-be.vertical,Ce=Re.left-be.horizontal;const $e=pe+ve.height,De=Ce+ve.width,ke=Qc(AE(o)),qe=ke.innerHeight-p,Fe=ke.innerWidth-p;if(p!==null&&pe<p){const Qe=pe-p;pe-=Qe,be.vertical+=Qe}else if(p!==null&&$e>qe){const Qe=$e-qe;pe-=Qe,be.vertical+=Qe}if(p!==null&&Ce<p){const Qe=Ce-p;Ce-=Qe,be.horizontal+=Qe}else if(De>Fe){const Qe=De-Fe;Ce-=Qe,be.horizontal+=Qe}return{top:`${Math.round(pe)}px`,left:`${Math.round(Ce)}px`,transformOrigin:Kq(be)}},[o,l,D,V,p]),[H,G]=F.useState(m),K=F.useCallback(()=>{const he=M.current;if(!he)return;const ve=$(he);ve.top!==null&&he.style.setProperty("top",ve.top),ve.left!==null&&(he.style.left=ve.left),he.style.transformOrigin=ve.transformOrigin,G(!0)},[$]);F.useEffect(()=>(N&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[o,N,K]);const J=()=>{K()},ee=()=>{G(!1)};F.useEffect(()=>{m&&K()}),F.useImperativeHandle(i,()=>m?{updatePosition:()=>{K()}}:null,[m,K]),F.useEffect(()=>{if(!m)return;const he=Ste(()=>{K()}),ve=Qc(AE(o));return ve.addEventListener("resize",he),()=>{he.clear(),ve.removeEventListener("resize",he)}},[o,m,K]);let X=T;const j={slots:{transition:S,...x},slotProps:{transition:I,paper:y,..._}},[Y,ae]=tn("transition",{elementType:KT,externalForwardedProps:j,ownerState:L,getSlotProps:he=>({...he,onEntering:(ve,be)=>{var Re;(Re=he.onEntering)==null||Re.call(he,ve,be),J()},onExited:ve=>{var be;(be=he.onExited)==null||be.call(he,ve),ee()}}),additionalProps:{appear:!0,in:m}});T==="auto"&&!Y.muiSupportAuto&&(X=void 0);const q=d||(o?Vs(AE(o)).body:void 0),[Q,{slots:te,slotProps:ue,...de}]=tn("root",{ref:n,elementType:PFe,externalForwardedProps:{...j,...R},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:l4(typeof _.backdrop=="function"?_.backdrop(L):_.backdrop,{invisible:!0})},container:q,open:m},ownerState:L,className:Je(k.root,c)}),[se,ce]=tn("paper",{ref:M,className:k.paper,elementType:rne,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:H?void 0:{opacity:0}},ownerState:L});return O.jsx(Q,{...de,...!yw(Q)&&{slots:te,slotProps:ue,disableScrollLock:N},children:O.jsx(Y,{...ae,timeout:X,children:O.jsx(se,{...ce,children:u})})})});function kFe(t){return At("MuiMenu",t)}Rt("MuiMenu",["root","paper","list"]);const MFe={vertical:"top",horizontal:"right"},NFe={vertical:"top",horizontal:"left"},DFe=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"],list:["list"]},kFe,e)},LFe=Oe(IFe,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),OFe=Oe(rne,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),FFe=Oe(TFe,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),zR=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:a=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m,...y}={},variant:x="selectedMenu",slots:_={},slotProps:E={},...S}=r,T=o4(),I={...r,autoFocus:i,disableAutoFocusItem:a,MenuListProps:l,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:x},N=DFe(I),R=i&&!a&&c,M=F.useRef(null),L=(X,j)=>{M.current&&M.current.adjustStyleForScrollbar(X,{direction:T?"rtl":"ltr"}),m&&m(X,j)},k=X=>{X.key==="Tab"&&(X.preventDefault(),u&&u(X,"tabKeyDown"))};let D=-1;F.Children.map(o,(X,j)=>{F.isValidElement(X)&&(X.props.disabled||(x==="selectedMenu"&&X.props.selected||D===-1)&&(D=j))});const V={slots:_,slotProps:{list:l,transition:y,paper:d,...E}},$=i4({elementType:_.root,externalSlotProps:E.root,ownerState:I,className:[N.root,s]}),[H,G]=tn("paper",{className:N.paper,elementType:OFe,externalForwardedProps:V,shouldForwardComponentProp:!0,ownerState:I}),[K,J]=tn("list",{className:Je(N.list,l.className),elementType:FFe,shouldForwardComponentProp:!0,externalForwardedProps:V,getSlotProps:X=>({...X,onKeyDown:j=>{var Y;k(j),(Y=X.onKeyDown)==null||Y.call(X,j)}}),ownerState:I}),ee=typeof V.slotProps.transition=="function"?V.slotProps.transition(I):V.slotProps.transition;return O.jsx(LFe,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?MFe:NFe,slots:{root:_.root,paper:H,backdrop:_.backdrop,..._.transition&&{transition:_.transition}},slotProps:{root:$,paper:G,backdrop:typeof E.backdrop=="function"?E.backdrop(I):E.backdrop,transition:{...ee,onEntering:(...X)=>{var j;L(...X),(j=ee==null?void 0:ee.onEntering)==null||j.call(ee,...X)}}},open:c,ref:n,transitionDuration:p,ownerState:I,...S,classes:h,children:O.jsx(K,{actions:M,autoFocus:i&&(D===-1||a),autoFocusItem:R,variant:x,...J,children:o})})});function $Fe(t){return At("MuiMenuItem",t)}const pb=Rt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),BFe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},VFe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=Pt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},$Fe,s);return{...s,...l}},zFe=Oe(Zc,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:BFe})(Mt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${pb.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${pb.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${pb.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${pb.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${pb.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Nq.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Nq.inset}`]:{marginLeft:52},[`& .${fy.root}`]:{marginTop:0,marginBottom:0},[`& .${fy.inset}`]:{paddingLeft:36},[`& .${qq.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${qq.root} svg`]:{fontSize:"1.25rem"}}}]}))),bw=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:h,...p}=r,m=F.useContext(ol),y=F.useMemo(()=>({dense:s||m.dense||!1,disableGutters:l}),[m.dense,s,l]),x=F.useRef(null);ll(()=>{i&&x.current&&x.current.focus()},[i]);const _={...r,dense:y.dense,divider:a,disableGutters:l},E=VFe(r),S=Pr(x,n);let T;return r.disabled||(T=d!==void 0?d:-1),O.jsx(ol.Provider,{value:y,children:O.jsx(zFe,{ref:S,role:c,tabIndex:T,component:o,focusVisibleClassName:Je(E.focusVisible,u),className:Je(E.root,h),...p,ownerState:_,classes:E})})});function UFe(t){return At("MuiNativeSelect",t)}const E4=Rt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),HFe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(n)}`,o&&"iconOpen",r&&"disabled"]};return Pt(a,UFe,e)},ine=Oe("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${E4.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),qFe=Oe(ine,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:uo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${E4.multiple}`]:e.multiple}]}})({}),one=Oe("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${E4.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),jFe=Oe(one,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Me(n.variant)}`],n.open&&e.iconOpen]}})({}),WFe=F.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:o},d=HFe(c);return O.jsxs(F.Fragment,{children:[O.jsx(qFe,{ownerState:c,className:Je(d.select,r),disabled:i,ref:a||n,...u}),e.multiple?null:O.jsx(jFe,{as:s,ownerState:c,className:d.icon})]})});var Yq;const GFe=Oe("fieldset",{shouldForwardProp:uo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),KFe=Oe("legend",{shouldForwardProp:uo})(Mt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function YFe(t){const{children:e,classes:n,className:r,label:i,notched:o,...s}=t,a=i!=null&&i!=="",l={...t,notched:o,withLabel:a};return O.jsx(GFe,{"aria-hidden":!0,className:r,ownerState:l,...s,children:O.jsx(KFe,{ownerState:l,children:a?O.jsx("span",{children:i}):Yq||(Yq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const XFe=t=>{const{classes:e}=t,r=Pt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},LDe,e);return{...e,...r}},JFe=Oe(BR,{shouldForwardProp:t=>uo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:FR})(Mt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Dl.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Dl.focused} .${Dl.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(wi()).map(([n])=>({props:{color:n},style:{[`&.${Dl.focused} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Dl.error} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Dl.disabled} .${Dl.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),QFe=Oe(YFe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(Mt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),ZFe=Oe(VR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:$R})(Mt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),C4=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:o=!1,inputComponent:s="input",label:a,multiline:l=!1,notched:u,slots:c={},slotProps:d={},type:h="text",...p}=r,m=XFe(r),y=ku(),x=Xf({props:r,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_={...r,color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:y,fullWidth:o,hiddenLabel:x.hiddenLabel,multiline:l,size:x.size,type:h},E=c.root??i.Root??JFe,S=c.input??i.Input??ZFe,[T,I]=tn("notchedOutline",{elementType:QFe,className:m.notchedOutline,shouldForwardComponentProp:!0,ownerState:_,externalForwardedProps:{slots:c,slotProps:d},additionalProps:{label:a!=null&&a!==""&&x.required?O.jsxs(F.Fragment,{children:[a," ","*"]}):a}});return O.jsx(x4,{slots:{root:E,input:S},slotProps:d,renderSuffix:N=>O.jsx(T,{...I,notched:typeof u<"u"?u:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:o,inputComponent:s,multiline:l,ref:n,type:h,...p,classes:{...m,notchedOutline:null}})});C4.muiName="Input";function sne(t){return At("MuiSelect",t)}const gb=Rt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Xq;const e$e=Oe(ine,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${gb.select}`]:e.select},{[`&.${gb.select}`]:e[n.variant]},{[`&.${gb.error}`]:e.error},{[`&.${gb.multiple}`]:e.multiple}]}})({[`&.${gb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),t$e=Oe(one,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Me(n.variant)}`],n.open&&e.iconOpen]}})({}),n$e=Oe("input",{shouldForwardProp:t=>Ote(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Jq(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function r$e(t){return t==null||typeof t=="string"&&!t.trim()}const i$e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Me(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Pt(a,sne,e)},o$e=F.forwardRef(function(e,n){var sn;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:p=!1,IconComponent:m,inputRef:y,labelId:x,MenuProps:_={},multiple:E,name:S,onBlur:T,onChange:I,onClose:N,onFocus:R,onOpen:M,open:L,readOnly:k,renderValue:D,required:V,SelectDisplayProps:$={},tabIndex:H,type:G,value:K,variant:J="standard",...ee}=e,[X,j]=pw({controlled:K,default:c,name:"Select"}),[Y,ae]=pw({controlled:L,default:u,name:"Select"}),q=F.useRef(null),Q=F.useRef(null),[te,ue]=F.useState(null),{current:de}=F.useRef(L!=null),[se,ce]=F.useState(),he=Pr(n,y),ve=F.useCallback(it=>{Q.current=it,it&&ue(it)},[]),be=te==null?void 0:te.parentNode;F.useImperativeHandle(he,()=>({focus:()=>{Q.current.focus()},node:q.current,value:X}),[X]),F.useEffect(()=>{u&&Y&&te&&!de&&(ce(s?null:be.clientWidth),Q.current.focus())},[te,s]),F.useEffect(()=>{o&&Q.current.focus()},[o]),F.useEffect(()=>{if(!x)return;const it=Vs(Q.current).getElementById(x);if(it){const Lt=()=>{getSelection().isCollapsed&&Q.current.focus()};return it.addEventListener("click",Lt),()=>{it.removeEventListener("click",Lt)}}},[x]);const Re=(it,Lt)=>{it?M&&M(Lt):N&&N(Lt),de||(ce(s?null:be.clientWidth),ae(it))},pe=it=>{it.button===0&&(it.preventDefault(),Q.current.focus(),Re(!0,it))},Ce=it=>{Re(!1,it)},$e=F.Children.toArray(a),De=it=>{const Lt=$e.find(fn=>fn.props.value===it.target.value);Lt!==void 0&&(j(Lt.props.value),I&&I(it,Lt))},ke=it=>Lt=>{let fn;if(Lt.currentTarget.hasAttribute("tabindex")){if(E){fn=Array.isArray(X)?X.slice():[];const Be=X.indexOf(it.props.value);Be===-1?fn.push(it.props.value):fn.splice(Be,1)}else fn=it.props.value;if(it.props.onClick&&it.props.onClick(Lt),X!==fn&&(j(fn),I)){const Be=Lt.nativeEvent||Lt,dt=new Be.constructor(Be.type,Be);Object.defineProperty(dt,"target",{writable:!0,value:{value:fn,name:S}}),I(dt,it)}E||Re(!1,Lt)}},qe=it=>{k||[" ","ArrowUp","ArrowDown","Enter"].includes(it.key)&&(it.preventDefault(),Re(!0,it))},Fe=te!==null&&Y,Qe=it=>{!Fe&&T&&(Object.defineProperty(it,"target",{writable:!0,value:{value:X,name:S}}),T(it))};delete ee["aria-invalid"];let ze,lt;const It=[];let on=!1;(GT({value:X})||h)&&(D?ze=D(X):on=!0);const we=$e.map(it=>{if(!F.isValidElement(it))return null;let Lt;if(E){if(!Array.isArray(X))throw new Error(Jc(2));Lt=X.some(fn=>Jq(fn,it.props.value)),Lt&&on&&It.push(it.props.children)}else Lt=Jq(X,it.props.value),Lt&&on&&(lt=it.props.children);return F.cloneElement(it,{"aria-selected":Lt?"true":"false",onClick:ke(it),onKeyUp:fn=>{fn.key===" "&&fn.preventDefault(),it.props.onKeyUp&&it.props.onKeyUp(fn)},role:"option",selected:Lt,value:void 0,"data-value":it.props.value})});on&&(E?It.length===0?ze=null:ze=It.reduce((it,Lt,fn)=>(it.push(Lt),fn<It.length-1&&it.push(", "),it),[]):ze=lt);let Ae=se;!s&&de&&te&&(Ae=be.clientWidth);let We;typeof H<"u"?We=H:We=d?null:0;const yt=$.id||(S?`mui-component-select-${S}`:void 0),Ct={...e,variant:J,value:X,open:Fe,error:p},ht=i$e(Ct),vn={..._.PaperProps,...(sn=_.slotProps)==null?void 0:sn.paper},en=g0();return O.jsxs(F.Fragment,{children:[O.jsx(e$e,{as:"div",ref:ve,tabIndex:We,role:"combobox","aria-controls":Fe?en:void 0,"aria-disabled":d?"true":void 0,"aria-expanded":Fe?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[x,yt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":V?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:qe,onMouseDown:d||k?null:pe,onBlur:Qe,onFocus:R,...$,ownerState:Ct,className:Je($.className,ht.select,l),id:yt,children:r$e(ze)?Xq||(Xq=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ze}),O.jsx(n$e,{"aria-invalid":p,value:Array.isArray(X)?X.join(","):X,name:S,ref:q,"aria-hidden":!0,onChange:De,tabIndex:-1,disabled:d,className:ht.nativeInput,autoFocus:o,required:V,...ee,ownerState:Ct}),O.jsx(t$e,{as:m,className:ht.icon,ownerState:Ct}),O.jsx(zR,{id:`menu-${S||""}`,anchorEl:be,open:Fe,onClose:Ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},..._,slotProps:{..._.slotProps,list:{"aria-labelledby":x,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:en,..._.MenuListProps},paper:{...vn,style:{minWidth:Ae,...vn!=null?vn.style:null}}},children:we})]})}),s$e=t=>{const{classes:e}=t,r=Pt({root:["root"]},sne,e);return{...e,...r}},T4={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>uo(t)&&t!=="variant",slot:"Root"},a$e=Oe(S4,T4)(""),l$e=Oe(C4,T4)(""),u$e=Oe(_4,T4)(""),ane=F.forwardRef(function(e,n){const r=Dt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=FDe,id:d,input:h,inputProps:p,label:m,labelId:y,MenuProps:x,multiple:_=!1,native:E=!1,onClose:S,onOpen:T,open:I,renderValue:N,SelectDisplayProps:R,variant:M="outlined",...L}=r,k=E?WFe:o$e,D=ku(),V=Xf({props:r,muiFormControl:D,states:["variant","error"]}),$=V.variant||M,H={...r,variant:$,classes:s},G=s$e(H),{root:K,...J}=G,ee=h||{standard:O.jsx(a$e,{ownerState:H}),outlined:O.jsx(l$e,{label:m,ownerState:H}),filled:O.jsx(u$e,{ownerState:H})}[$],X=Pr(n,hg(ee));return O.jsx(F.Fragment,{children:F.cloneElement(ee,{inputComponent:k,inputProps:{children:o,error:V.error,IconComponent:c,variant:$,type:void 0,multiple:_,...E?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:x,onClose:S,onOpen:T,open:I,renderValue:N,SelectDisplayProps:{id:d,...R}},...p,classes:p?_i(J,p.classes):J,...h?h.props.inputProps:{}},...(_&&E||u)&&$==="outlined"?{notched:!0}:{},ref:X,className:Je(ee.props.className,a,G.root),...!h&&{variant:$},...L})})});ane.muiName="Select";const c$e={entering:{transform:"none"},entered:{transform:"none"}},d$e=F.forwardRef(function(e,n){const r=Kf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:y,style:x,timeout:_=i,TransitionComponent:E=hl,...S}=e,T=F.useRef(null),I=Pr(T,hg(a),n),N=H=>G=>{if(H){const K=T.current;G===void 0?H(K):H(K,G)}},R=N(h),M=N((H,G)=>{d4(H);const K=Wv({style:x,timeout:_,easing:l},{mode:"enter"});H.style.webkitTransition=r.transitions.create("transform",K),H.style.transition=r.transitions.create("transform",K),c&&c(H,G)}),L=N(d),k=N(y),D=N(H=>{const G=Wv({style:x,timeout:_,easing:l},{mode:"exit"});H.style.webkitTransition=r.transitions.create("transform",G),H.style.transition=r.transitions.create("transform",G),p&&p(H)}),V=N(m),$=H=>{o&&o(T.current,H)};return O.jsx(E,{appear:s,in:u,nodeRef:T,onEnter:M,onEntered:L,onEntering:R,onExit:D,onExited:V,onExiting:k,addEndListener:$,timeout:_,...S,children:(H,{ownerState:G,...K})=>F.cloneElement(a,{style:{transform:"scale(0)",visibility:H==="exited"&&!u?"hidden":void 0,...c$e[H],...x,...a.props.style},ref:I,...K})})});function f$e(t){return At("MuiSpeedDial",t)}const RE=Rt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),h$e=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${Me(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return Pt(i,f$e,e)};function mb(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}const Vd=32,PE=16,p$e=Oe("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${Me(n.direction)}`]]}})(Mt(({theme:t})=>({zIndex:(t.vars||t).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none",variants:[{props:{direction:"up"},style:{flexDirection:"column-reverse",[`& .${RE.actions}`]:{flexDirection:"column-reverse",marginBottom:-Vd,paddingBottom:PE+Vd}}},{props:{direction:"down"},style:{flexDirection:"column",[`& .${RE.actions}`]:{flexDirection:"column",marginTop:-Vd,paddingTop:PE+Vd}}},{props:{direction:"left"},style:{flexDirection:"row-reverse",[`& .${RE.actions}`]:{flexDirection:"row-reverse",marginRight:-Vd,paddingRight:PE+Vd}}},{props:{direction:"right"},style:{flexDirection:"row",[`& .${RE.actions}`]:{flexDirection:"row",marginLeft:-Vd,paddingLeft:PE+Vd}}}]}))),g$e=Oe(ene,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})({pointerEvents:"auto"}),m$e=Oe("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})({display:"flex",pointerEvents:"auto",variants:[{props:({ownerState:t})=>!t.open,style:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}]}),y$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSpeedDial"}),i=Kf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:s,FabProps:{ref:a,...l}={},children:u,className:c,direction:d="up",hidden:h=!1,icon:p,onBlur:m,onClose:y,onFocus:x,onKeyDown:_,onMouseEnter:E,onMouseLeave:S,onOpen:T,open:I,openIcon:N,slots:R={},slotProps:M={},TransitionComponent:L,TransitionProps:k,transitionDuration:D=o,...V}=r,[$,H]=pw({controlled:I,default:!1,name:"SpeedDial",state:"open"}),G={...r,open:$,direction:d},K=h$e(G),J=Oh(),ee=F.useRef(0),X=F.useRef(),j=F.useRef([]);j.current=[j.current[0]];const Y=F.useCallback(ke=>{j.current[0]=ke},[]),ae=Pr(a,Y),q=(ke,qe)=>Fe=>{j.current[ke+1]=Fe,qe&&qe(Fe)},Q=ke=>{_&&_(ke);const qe=ke.key.replace("Arrow","").toLowerCase(),{current:Fe=qe}=X;if(ke.key==="Escape"){H(!1),j.current[0].focus(),y&&y(ke,"escapeKeyDown");return}if(mb(qe)===mb(Fe)&&mb(qe)!==void 0){ke.preventDefault();const Qe=qe===Fe?1:-1,ze=wte(ee.current+Qe,0,j.current.length-1);j.current[ze].focus(),ee.current=ze,X.current=Fe}};F.useEffect(()=>{$||(ee.current=0,X.current=void 0)},[$]);const te=ke=>{ke.type==="mouseleave"&&S&&S(ke),ke.type==="blur"&&m&&m(ke),J.clear(),ke.type==="blur"?J.start(0,()=>{H(!1),y&&y(ke,"blur")}):(H(!1),y&&y(ke,"mouseLeave"))},ue=ke=>{l.onClick&&l.onClick(ke),J.clear(),$?(H(!1),y&&y(ke,"toggle")):(H(!0),T&&T(ke,"toggle"))},de=ke=>{ke.type==="mouseenter"&&E&&E(ke),ke.type==="focus"&&x&&x(ke),J.clear(),$||J.start(0,()=>{H(!0),T&&T(ke,{focus:"focus",mouseenter:"mouseEnter"}[ke.type])})},se=s.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ce=F.Children.toArray(u).filter(ke=>F.isValidElement(ke)),he=ce.map((ke,qe)=>{const{FabProps:{ref:Fe,...Qe}={},tooltipPlacement:ze}=ke.props,lt=ze||(mb(d)==="vertical"?"left":"top");return F.cloneElement(ke,{FabProps:{...Qe,ref:q(qe,Fe)},delay:30*($?qe:ce.length-qe),open:$,tooltipPlacement:lt,id:`${se}-action-${qe}`})}),ve={transition:L,...R},be={transition:k,...M},Re={slots:ve,slotProps:be},[pe,Ce]=tn("root",{elementType:p$e,externalForwardedProps:{...Re,...V},ownerState:G,ref:n,className:Je(K.root,c),additionalProps:{role:"presentation"},getSlotProps:ke=>({...ke,onKeyDown:qe=>{var Fe;(Fe=ke.onKeyDown)==null||Fe.call(ke,qe),Q(qe)},onBlur:qe=>{var Fe;(Fe=ke.onBlur)==null||Fe.call(ke,qe),te(qe)},onFocus:qe=>{var Fe;(Fe=ke.onFocus)==null||Fe.call(ke,qe),de(qe)},onMouseEnter:qe=>{var Fe;(Fe=ke.onMouseEnter)==null||Fe.call(ke,qe),de(qe)},onMouseLeave:qe=>{var Fe;(Fe=ke.onMouseLeave)==null||Fe.call(ke,qe),te(qe)}})}),[$e,De]=tn("transition",{elementType:d$e,externalForwardedProps:Re,ownerState:G});return O.jsxs(pe,{...Ce,children:[O.jsx($e,{in:!h,timeout:D,unmountOnExit:!0,...De,children:O.jsx(g$e,{color:"primary","aria-label":s,"aria-haspopup":"true","aria-expanded":$,"aria-controls":`${se}-actions`,...l,onClick:ue,className:Je(K.fab,l.className),ref:ae,ownerState:G,children:F.isValidElement(p)&&Ix(p,["SpeedDialIcon"])?F.cloneElement(p,{open:$}):p})}),O.jsx(m$e,{id:`${se}-actions`,role:"menu","aria-orientation":mb(d),className:Je(K.actions,!$&&K.actionsClosed),ownerState:G,children:he})]})});function v$e(t){return At("MuiTooltip",t)}const Dr=Rt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function b$e(t){return Math.round(t*1e5)/1e5}const x$e=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Me(o.split("-")[0])}`],arrow:["arrow"]};return Pt(s,v$e,e)},w$e=Oe(Yte,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(Mt(({theme:t})=>({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${Dr.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Dr.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Dr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Dr.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Dr.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${Dr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Dr.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${Dr.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),_$e=Oe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Me(n.placement.split("-")[0])}`]]}})(Mt(({theme:t})=>({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Qt(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[`.${Dr.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Dr.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Dr.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Dr.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${b$e(16/14)}em`,fontWeight:t.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${Dr.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Dr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${Dr.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Dr.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${Dr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Dr.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${Dr.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Dr.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Dr.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${Dr.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),S$e=Oe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(Mt(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Qt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let IE=!1;const Qq=new DR;let yb={x:0,y:0};function kE(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const lne=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:o,classes:s,components:a={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:d=!1,disableInteractive:h=!1,disableTouchListener:p=!1,enterDelay:m=100,enterNextDelay:y=0,enterTouchDelay:x=700,followCursor:_=!1,id:E,leaveDelay:S=0,leaveTouchDelay:T=1500,onClose:I,onOpen:N,open:R,placement:M="bottom",PopperComponent:L,PopperProps:k={},slotProps:D={},slots:V={},title:$,TransitionComponent:H,TransitionProps:G,...K}=r,J=F.isValidElement(o)?o:O.jsx("span",{children:o}),ee=Kf(),X=o4(),[j,Y]=F.useState(),[ae,q]=F.useState(null),Q=F.useRef(!1),te=h||_,ue=Oh(),de=Oh(),se=Oh(),ce=Oh(),[he,ve]=pw({controlled:R,default:!1,name:"Tooltip",state:"open"});let be=he;const Re=g0(E),pe=F.useRef(),Ce=Vc(()=>{pe.current!==void 0&&(document.body.style.WebkitUserSelect=pe.current,pe.current=void 0),ce.clear()});F.useEffect(()=>Ce,[Ce]);const $e=zt=>{Qq.clear(),IE=!0,ve(!0),N&&!be&&N(zt)},De=Vc(zt=>{Qq.start(800+S,()=>{IE=!1}),ve(!1),I&&be&&I(zt),ue.start(ee.transitions.duration.shortest,()=>{Q.current=!1})}),ke=zt=>{Q.current&&zt.type!=="touchstart"||(j&&j.removeAttribute("title"),de.clear(),se.clear(),m||IE&&y?de.start(IE?y:m,()=>{$e(zt)}):$e(zt))},qe=zt=>{de.clear(),se.start(S,()=>{De(zt)})},[,Fe]=F.useState(!1),Qe=zt=>{jv(zt.target)||(Fe(!1),qe(zt))},ze=zt=>{j||Y(zt.currentTarget),jv(zt.target)&&(Fe(!0),ke(zt))},lt=zt=>{Q.current=!0;const wr=J.props;wr.onTouchStart&&wr.onTouchStart(zt)},It=zt=>{lt(zt),se.clear(),ue.clear(),Ce(),pe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(x,()=>{document.body.style.WebkitUserSelect=pe.current,ke(zt)})},on=zt=>{J.props.onTouchEnd&&J.props.onTouchEnd(zt),Ce(),se.start(T,()=>{De(zt)})};F.useEffect(()=>{if(!be)return;function zt(wr){wr.key==="Escape"&&De(wr)}return document.addEventListener("keydown",zt),()=>{document.removeEventListener("keydown",zt)}},[De,be]);const we=Pr(hg(J),Y,n);!$&&$!==0&&(be=!1);const Ae=F.useRef(),We=zt=>{const wr=J.props;wr.onMouseMove&&wr.onMouseMove(zt),yb={x:zt.clientX,y:zt.clientY},Ae.current&&Ae.current.update()},yt={},Ct=typeof $=="string";u?(yt.title=!be&&Ct&&!d?$:null,yt["aria-describedby"]=be?Re:null):(yt["aria-label"]=Ct?$:null,yt["aria-labelledby"]=be&&!Ct?Re:null);const ht={...yt,...K,...J.props,className:Je(K.className,J.props.className),onTouchStart:lt,ref:we,..._?{onMouseMove:We}:{}},vn={};p||(ht.onTouchStart=It,ht.onTouchEnd=on),d||(ht.onMouseOver=kE(ke,ht.onMouseOver),ht.onMouseLeave=kE(qe,ht.onMouseLeave),te||(vn.onMouseOver=ke,vn.onMouseLeave=qe)),c||(ht.onFocus=kE(ze,ht.onFocus),ht.onBlur=kE(Qe,ht.onBlur),te||(vn.onFocus=ze,vn.onBlur=Qe));const en={...r,isRtl:X,arrow:i,disableInteractive:te,placement:M,PopperComponentProp:L,touch:Q.current},sn=typeof D.popper=="function"?D.popper(en):D.popper,it=F.useMemo(()=>{var wr,vl;let zt=[{name:"arrow",enabled:!!ae,options:{element:ae,padding:4}}];return(wr=k.popperOptions)!=null&&wr.modifiers&&(zt=zt.concat(k.popperOptions.modifiers)),(vl=sn==null?void 0:sn.popperOptions)!=null&&vl.modifiers&&(zt=zt.concat(sn.popperOptions.modifiers)),{...k.popperOptions,...sn==null?void 0:sn.popperOptions,modifiers:zt}},[ae,k.popperOptions,sn==null?void 0:sn.popperOptions]),Lt=x$e(en),fn=typeof D.transition=="function"?D.transition(en):D.transition,Be={slots:{popper:a.Popper,transition:a.Transition??H,tooltip:a.Tooltip,arrow:a.Arrow,...V},slotProps:{arrow:D.arrow??l.arrow,popper:{...k,...sn??l.popper},tooltip:D.tooltip??l.tooltip,transition:{...G,...fn??l.transition}}},[dt,$t]=tn("popper",{elementType:w$e,externalForwardedProps:Be,ownerState:en,className:Je(Lt.popper,k==null?void 0:k.className)}),[Bt,hn]=tn("transition",{elementType:KT,externalForwardedProps:Be,ownerState:en}),[nr,Nn]=tn("tooltip",{elementType:_$e,className:Lt.tooltip,externalForwardedProps:Be,ownerState:en}),[Dn,Si]=tn("arrow",{elementType:S$e,className:Lt.arrow,externalForwardedProps:Be,ownerState:en,ref:q});return O.jsxs(F.Fragment,{children:[F.cloneElement(J,ht),O.jsx(dt,{as:L??Yte,placement:M,anchorEl:_?{getBoundingClientRect:()=>({top:yb.y,left:yb.x,right:yb.x,bottom:yb.y,width:0,height:0})}:j,popperRef:Ae,open:j?be:!1,id:Re,transition:!0,...vn,...$t,popperOptions:it,children:({TransitionProps:zt})=>O.jsx(Bt,{timeout:ee.transitions.duration.shorter,...zt,...hn,children:O.jsxs(nr,{...Nn,children:[$,i?O.jsx(Dn,{...Si}):null]})})})]})});function E$e(t){return At("MuiSpeedDialAction",t)}const ME=Rt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),C$e=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${Me(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return Pt(i,E$e,r)},T$e=Oe(ene,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(Mt(({theme:t})=>({margin:8,color:(t.vars||t).palette.text.secondary,backgroundColor:(t.vars||t).palette.background.paper,"&:hover":{backgroundColor:t.vars?t.vars.palette.SpeedDialAction.fabHoverBg:HT(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1,variants:[{props:({ownerState:e})=>!e.open,style:{opacity:0,transform:"scale(0)"}}]}))),A$e=Oe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${Me(n.tooltipPlacement)}`]]}})(Mt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${ME.staticTooltipLabel}`]:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},variants:[{props:({ownerState:e})=>!e.open,style:{[`& .${ME.staticTooltipLabel}`]:{opacity:0,transform:"scale(0.5)"}}},{props:{tooltipPlacement:"left"},style:{[`& .${ME.staticTooltipLabel}`]:{transformOrigin:"100% 50%",right:"100%",marginRight:8}}},{props:{tooltipPlacement:"right"},style:{[`& .${ME.staticTooltipLabel}`]:{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}]}))),R$e=Oe("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(Mt(({theme:t})=>({position:"absolute",...t.typography.body1,backgroundColor:(t.vars||t).palette.background.paper,borderRadius:(t.vars||t).shape.borderRadius,boxShadow:(t.vars||t).shadows[1],color:(t.vars||t).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}))),NE=F.forwardRef(function(e,n){var ee;const r=Dt({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:o=0,FabProps:s={},icon:a,id:l,open:u,TooltipClasses:c,tooltipOpen:d=!1,tooltipPlacement:h="left",tooltipTitle:p,slots:m={},slotProps:y={},...x}=r,_={...r,tooltipPlacement:h},E=C$e(_),S={slots:m,slotProps:{fab:s,...y,tooltip:l4(typeof y.tooltip=="function"?y.tooltip(_):y.tooltip,{title:p,open:d,placement:h,classes:c})}},[T,I]=F.useState((ee=S.slotProps.tooltip)==null?void 0:ee.open),N=()=>{I(!1)},R=()=>{I(!0)},M={transitionDelay:`${o}ms`},[L,k]=tn("fab",{elementType:T$e,externalForwardedProps:S,ownerState:_,shouldForwardComponentProp:!0,className:Je(E.fab,i),additionalProps:{style:M,tabIndex:-1,role:"menuitem",size:"small"}}),[D,V]=tn("tooltip",{elementType:lne,externalForwardedProps:S,shouldForwardComponentProp:!0,ref:n,additionalProps:{id:l},ownerState:_,getSlotProps:X=>({...X,onClose:j=>{var Y;(Y=X.onClose)==null||Y.call(X,j),N()},onOpen:j=>{var Y;(Y=X.onOpen)==null||Y.call(X,j),R()}})}),[$,H]=tn("staticTooltip",{elementType:A$e,externalForwardedProps:S,ownerState:_,ref:n,className:E.staticTooltip,additionalProps:{id:l}}),[G,K]=tn("staticTooltipLabel",{elementType:R$e,externalForwardedProps:S,ownerState:_,className:E.staticTooltipLabel,additionalProps:{style:M,id:`${l}-label`}}),J=O.jsx(L,{...k,children:a});return V.open?O.jsxs($,{...H,...x,children:[O.jsx(G,{...K,children:V.title}),F.cloneElement(J,{"aria-labelledby":`${l}-label`})]}):(!u&&T&&I(!1),O.jsx(D,{...V,title:V.title,open:u&&T,placement:V.placement,classes:V.classes,...x,children:J}))}),Uk=FMe({createStyledComponent:Oe("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Dt({props:t,name:"MuiStack"})});function P$e(t){return At("MuiSwitch",t)}const bo=Rt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),I$e=t=>{const{classes:e,edge:n,size:r,color:i,checked:o,disabled:s}=t,a={root:["root",n&&`edge${Me(n)}`,`size${Me(r)}`],switchBase:["switchBase",`color${Me(i)}`,o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Pt(a,P$e,e);return{...e,...l}},k$e=Oe("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${Me(n.edge)}`],e[`size${Me(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${bo.thumb}`]:{width:16,height:16},[`& .${bo.switchBase}`]:{padding:4,[`&.${bo.checked}`]:{transform:"translateX(16px)"}}}}]}),M$e=Oe(Jte,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${bo.input}`]:e.input},n.color!=="default"&&e[`color${Me(n.color)}`]]}})(Mt(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${bo.checked}`]:{transform:"translateX(20px)"},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${bo.checked} + .${bo.track}`]:{opacity:.5},[`&.${bo.disabled} + .${bo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${bo.input}`]:{left:"-100%",width:"300%"}})),Mt(({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(wi(["light"])).map(([e])=>({props:{color:e},style:{[`&.${bo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Qt(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${bo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?A1(t.palette[e].main,.62):T1(t.palette[e].main,.55)}`}},[`&.${bo.checked} + .${bo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),N$e=Oe("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(Mt(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),D$e=Oe("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(Mt(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),une=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiSwitch"}),{className:i,color:o="primary",edge:s=!1,size:a="medium",sx:l,slots:u={},slotProps:c={},...d}=r,h={...r,color:o,edge:s,size:a},p=I$e(h),m={slots:u,slotProps:c},[y,x]=tn("root",{className:Je(p.root,i),elementType:k$e,externalForwardedProps:m,ownerState:h,additionalProps:{sx:l}}),[_,E]=tn("thumb",{className:p.thumb,elementType:D$e,externalForwardedProps:m,ownerState:h}),S=O.jsx(_,{...E}),[T,I]=tn("track",{className:p.track,elementType:N$e,externalForwardedProps:m,ownerState:h});return O.jsxs(y,{...x,children:[O.jsx(M$e,{type:"checkbox",icon:S,checkedIcon:S,ref:n,ownerState:h,...d,classes:{...p,root:p.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...c.switchBase&&{root:typeof c.switchBase=="function"?c.switchBase(h):c.switchBase},...c.input&&{input:typeof c.input=="function"?c.input(h):c.input}}}),O.jsx(T,{...I})]})}),cne=F.createContext();function L$e(t){return At("MuiTable",t)}Rt("MuiTable",["root","stickyHeader"]);const O$e=t=>{const{classes:e,stickyHeader:n}=t;return Pt({root:["root",n&&"stickyHeader"]},L$e,e)},F$e=Oe("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(Mt(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),Zq="table",$$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTable"}),{className:i,component:o=Zq,padding:s="normal",size:a="medium",stickyHeader:l=!1,...u}=r,c={...r,component:o,padding:s,size:a,stickyHeader:l},d=O$e(c),h=F.useMemo(()=>({padding:s,size:a,stickyHeader:l}),[s,a,l]);return O.jsx(cne.Provider,{value:h,children:O.jsx(F$e,{as:o,role:o===Zq?null:"table",ref:n,className:Je(d.root,i),ownerState:c,...u})})}),UR=F.createContext();function B$e(t){return At("MuiTableBody",t)}Rt("MuiTableBody",["root"]);const V$e=t=>{const{classes:e}=t;return Pt({root:["root"]},B$e,e)},z$e=Oe("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),U$e={variant:"body"},e8="tbody",H$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableBody"}),{className:i,component:o=e8,...s}=r,a={...r,component:o},l=V$e(a);return O.jsx(UR.Provider,{value:U$e,children:O.jsx(z$e,{className:Je(l.root,i),as:o,ref:n,role:o===e8?null:"rowgroup",ownerState:a,...s})})});function q$e(t){return At("MuiTableCell",t)}const j$e=Rt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),W$e=t=>{const{classes:e,variant:n,align:r,padding:i,size:o,stickyHeader:s}=t,a={root:["root",n,s&&"stickyHeader",r!=="inherit"&&`align${Me(r)}`,i!=="normal"&&`padding${Me(i)}`,`size${Me(o)}`]};return Pt(a,q$e,e)},G$e=Oe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${Me(n.size)}`],n.padding!=="normal"&&e[`padding${Me(n.padding)}`],n.align!=="inherit"&&e[`align${Me(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(Mt(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?A1(Qt(t.palette.divider,1),.88):T1(Qt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${j$e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),DE=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:u,sortDirection:c,variant:d,...h}=r,p=F.useContext(cne),m=F.useContext(UR),y=m&&m.variant==="head";let x;s?x=s:x=y?"th":"td";let _=l;x==="td"?_=void 0:!_&&y&&(_="col");const E=d||m&&m.variant,S={...r,align:i,component:x,padding:a||(p&&p.padding?p.padding:"normal"),size:u||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:E==="head"&&p&&p.stickyHeader,variant:E},T=W$e(S);let I=null;return c&&(I=c==="asc"?"ascending":"descending"),O.jsx(G$e,{as:x,ref:n,className:Je(T.root,o),"aria-sort":I,scope:_,ownerState:S,...h})});function K$e(t){return At("MuiTableHead",t)}Rt("MuiTableHead",["root"]);const Y$e=t=>{const{classes:e}=t;return Pt({root:["root"]},K$e,e)},X$e=Oe("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),J$e={variant:"head"},t8="thead",Q$e=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableHead"}),{className:i,component:o=t8,...s}=r,a={...r,component:o},l=Y$e(a);return O.jsx(UR.Provider,{value:J$e,children:O.jsx(X$e,{as:o,className:Je(l.root,i),ref:n,role:o===t8?null:"rowgroup",ownerState:a,...s})})});function Z$e(t){return At("MuiTableRow",t)}const n8=Rt("MuiTableRow",["root","selected","hover","head","footer"]),e5e=t=>{const{classes:e,selected:n,hover:r,head:i,footer:o}=t;return Pt({root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]},Z$e,e)},t5e=Oe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(Mt(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${n8.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${n8.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Qt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}))),r8="tr",i8=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTableRow"}),{className:i,component:o=r8,hover:s=!1,selected:a=!1,...l}=r,u=F.useContext(UR),c={...r,component:o,hover:s,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},d=e5e(c);return O.jsx(t5e,{as:o,ref:n,className:Je(d.root,i),role:o===r8?null:"row",ownerState:c,...l})});function n5e(t){return At("MuiTextField",t)}Rt("MuiTextField",["root"]);const r5e={standard:S4,filled:_4,outlined:C4},i5e=t=>{const{classes:e}=t;return Pt({root:["root"]},n5e,e)},o5e=Oe(EOe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ko=F.forwardRef(function(e,n){const r=Dt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:y,InputLabelProps:x,inputProps:_,InputProps:E,inputRef:S,label:T,maxRows:I,minRows:N,multiline:R=!1,name:M,onBlur:L,onChange:k,onFocus:D,placeholder:V,required:$=!1,rows:H,select:G=!1,SelectProps:K,slots:J={},slotProps:ee={},type:X,value:j,variant:Y="outlined",...ae}=r,q={...r,autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:R,required:$,select:G,variant:Y},Q=i5e(q),te=g0(y),ue=m&&te?`${te}-helper-text`:void 0,de=T&&te?`${te}-label`:void 0,se=r5e[Y],ce={slots:J,slotProps:{input:E,inputLabel:x,htmlInput:_,formHelperText:h,select:K,...ee}},he={},ve=ce.slotProps.inputLabel;Y==="outlined"&&(ve&&typeof ve.shrink<"u"&&(he.notched=ve.shrink),he.label=T),G&&((!K||!K.native)&&(he.id=void 0),he["aria-describedby"]=void 0);const[be,Re]=tn("root",{elementType:o5e,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...ae},ownerState:q,className:Je(Q.root,a),ref:n,additionalProps:{disabled:c,error:d,fullWidth:p,required:$,color:l,variant:Y}}),[pe,Ce]=tn("input",{elementType:se,externalForwardedProps:ce,additionalProps:he,ownerState:q}),[$e,De]=tn("inputLabel",{elementType:ZOe,externalForwardedProps:ce,ownerState:q}),[ke,qe]=tn("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:q}),[Fe,Qe]=tn("formHelperText",{elementType:OOe,externalForwardedProps:ce,ownerState:q}),[ze,lt]=tn("select",{elementType:ane,externalForwardedProps:ce,ownerState:q}),It=O.jsx(pe,{"aria-describedby":ue,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:R,name:M,rows:H,maxRows:I,minRows:N,type:X,value:j,id:te,inputRef:S,onBlur:L,onChange:k,onFocus:D,placeholder:V,inputProps:qe,slots:{input:J.htmlInput?ke:void 0},...Ce});return O.jsxs(be,{...Re,children:[T!=null&&T!==""&&O.jsx($e,{htmlFor:te,id:de,...De,children:T}),G?O.jsx(ze,{"aria-describedby":ue,id:te,labelId:de,value:j,input:It,...lt,children:s}):It,m&&O.jsx(Fe,{id:ue,...Qe,children:m})]})}),s5e=Zt(O.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Hk=Zt(O.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),dne=Zt(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-5h2zm4 0h-2v-3h2zm0-5h-2v-2h2zm4 5h-2V7h2z"}),"Analytics"),a5e=Zt(O.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),l5e=Zt(O.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),u5e=Zt(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),c5e=Zt(O.jsx("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),d5e=Zt(O.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),f5e=Zt(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),h5e=Zt(O.jsx("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),p5e=Zt(O.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),g5e=Zt(O.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),fne=Zt(O.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),m5e=Zt(O.jsx("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59z"}),"CloseFullscreen"),y5e=Zt(O.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),o8=Zt(O.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),v5e=Zt(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),b5e=Zt(O.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),x5e=Zt(O.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),w5e=Zt(O.jsx("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),_5e=Zt(O.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"Group"),s8=Zt(O.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),S5e=Zt(O.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),E5e=Zt([O.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),O.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),C5e=Zt(O.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),T5e=Zt(O.jsx("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),hne=Zt(O.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes"),A5e=Zt(O.jsx("path",{d:"M21 11V3h-8l3.29 3.29-10 10L3 13v8h8l-3.29-3.29 10-10z"}),"OpenInFull"),A4=Zt(O.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),R5e=Zt(O.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),P5e=Zt([O.jsx("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),O.jsx("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology"),I5e=Zt(O.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),BO=Zt(O.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),k5e=Zt(O.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),M5e=Zt(O.jsx("path",{d:"M7 20h4c0 1.1-.9 2-2 2s-2-.9-2-2m-2-1h8v-2H5zm11.5-9.5c0 3.82-2.66 5.86-3.77 6.5H5.27c-1.11-.64-3.77-2.68-3.77-6.5C1.5 5.36 4.86 2 9 2s7.5 3.36 7.5 7.5m4.87-2.13L20 8l1.37.63L22 10l.63-1.37L24 8l-1.37-.63L22 6zM19 6l.94-2.06L22 3l-2.06-.94L19 0l-.94 2.06L16 3l2.06.94z"}),"TipsAndUpdates"),a8=Zt(O.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),R4="/re-ad/re-ad-icon.svg";var vb={},l8;function N5e(){if(l8)return vb;l8=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.parse=s,vb.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function s(h,p){const m=new o,y=h.length;if(y<2)return m;const x=(p==null?void 0:p.decode)||c;let _=0;do{const E=h.indexOf("=",_);if(E===-1)break;const S=h.indexOf(";",_),T=S===-1?y:S;if(E>T){_=h.lastIndexOf(";",E-1)+1;continue}const I=a(h,_,E),N=l(h,E,I),R=h.slice(I,N);if(m[R]===void 0){let M=a(h,E+1,T),L=l(h,T,M);const k=x(h.slice(M,L));m[R]=k}_=T+1}while(_<y);return m}function a(h,p,m){do{const y=h.charCodeAt(p);if(y!==32&&y!==9)return p}while(++p<m);return m}function l(h,p,m){for(;p>m;){const y=h.charCodeAt(--p);if(y!==32&&y!==9)return p+1}return m}function u(h,p,m){const y=(m==null?void 0:m.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const x=y(p);if(!e.test(x))throw new TypeError(`argument val is invalid: ${p}`);let _=h+"="+x;if(!m)return _;if(m.maxAge!==void 0){if(!Number.isInteger(m.maxAge))throw new TypeError(`option maxAge is invalid: ${m.maxAge}`);_+="; Max-Age="+m.maxAge}if(m.domain){if(!n.test(m.domain))throw new TypeError(`option domain is invalid: ${m.domain}`);_+="; Domain="+m.domain}if(m.path){if(!r.test(m.path))throw new TypeError(`option path is invalid: ${m.path}`);_+="; Path="+m.path}if(m.expires){if(!d(m.expires)||!Number.isFinite(m.expires.valueOf()))throw new TypeError(`option expires is invalid: ${m.expires}`);_+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(_+="; HttpOnly"),m.secure&&(_+="; Secure"),m.partitioned&&(_+="; Partitioned"),m.priority)switch(typeof m.priority=="string"?m.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${m.priority}`)}if(m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${m.sameSite}`)}return _}function c(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}return vb}N5e();var u8="popstate";function D5e(t={}){function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=pg(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),VO("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:xw(o))}function r(i,o){ul(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return O5e(e,n,r,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ul(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L5e(){return Math.random().toString(36).substring(2,10)}function c8(t,e){return{usr:t.state,key:t.key,idx:e}}function VO(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?pg(e):e,state:n,key:e&&e.key||r||L5e()}}function xw({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function O5e(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let x=c(),_=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:_})}function h(x,_){a="PUSH";let E=VO(y.location,x,_);n&&n(E,x),u=c()+1;let S=c8(E,u),T=y.createHref(E);try{s.pushState(S,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}o&&l&&l({action:a,location:y.location,delta:1})}function p(x,_){a="REPLACE";let E=VO(y.location,x,_);n&&n(E,x),u=c();let S=c8(E,u),T=y.createHref(E);s.replaceState(S,"",T),o&&l&&l({action:a,location:y.location,delta:0})}function m(x){return F5e(x)}let y={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u8,d),l=x,()=>{i.removeEventListener(u8,d),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let _=m(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:p,go(x){return s.go(x)}};return y}function F5e(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:xw(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pne(t,e,n="/"){return $5e(t,e,n,!1)}function $5e(t,e,n,r){let i=typeof e=="string"?pg(e):e,o=td(i.pathname||"/",n);if(o==null)return null;let s=gne(t);B5e(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=X5e(o);a=K5e(s[l],u,r)}return a}function gne(t,e=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ar(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=zc([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ar(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),gne(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:W5e(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of mne(o.path))i(o,s,l)}),e}function mne(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=mne(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function B5e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G5e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var V5e=/^:[\w-]+$/,z5e=3,U5e=2,H5e=1,q5e=10,j5e=-2,d8=t=>t==="*";function W5e(t,e){let n=t.split("/"),r=n.length;return n.some(d8)&&(r+=j5e),e&&(r+=U5e),n.filter(i=>!d8(i)).reduce((i,o)=>i+(V5e.test(o)?z5e:o===""?H5e:q5e),r)}function G5e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function K5e(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=YT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=YT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:zc([o,d.pathname]),pathnameBase:e4e(zc([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=zc([o,d.pathnameBase]))}return s}function YT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Y5e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Y5e(t,e=!1,n=!0){ul(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function X5e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ul(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function td(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function J5e(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?pg(t):t;return{pathname:n?n.startsWith("/")?n:Q5e(n,e):e,search:t4e(r),hash:n4e(i)}}function Q5e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qk(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z5e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yne(t){let e=Z5e(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vne(t,e,n,r=!1){let i;typeof t=="string"?i=pg(t):(i={...t},Ar(!i.pathname||!i.pathname.includes("?"),qk("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),qk("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),qk("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=J5e(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var zc=t=>t.join("/").replace(/\/\/+/g,"/"),e4e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),t4e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,n4e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r4e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bne=["POST","PUT","PATCH","DELETE"];new Set(bne);var i4e=["GET",...bne];new Set(i4e);var m0=F.createContext(null);m0.displayName="DataRouter";var HR=F.createContext(null);HR.displayName="DataRouterState";var xne=F.createContext({isTransitioning:!1});xne.displayName="ViewTransition";var o4e=F.createContext(new Map);o4e.displayName="Fetchers";var s4e=F.createContext(null);s4e.displayName="Await";var Mu=F.createContext(null);Mu.displayName="Navigation";var I1=F.createContext(null);I1.displayName="Location";var ad=F.createContext({outlet:null,matches:[],isDataRoute:!1});ad.displayName="Route";var P4=F.createContext(null);P4.displayName="RouteError";function a4e(t,{relative:e}={}){Ar(k1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Mu),{hash:i,pathname:o,search:s}=M1(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:zc([n,o])),r.createHref({pathname:a,search:s,hash:i})}function k1(){return F.useContext(I1)!=null}function gg(){return Ar(k1(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(I1).location}var wne="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _ne(t){F.useContext(Mu).static||F.useLayoutEffect(t)}function qR(){let{isDataRoute:t}=F.useContext(ad);return t?x4e():l4e()}function l4e(){Ar(k1(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(m0),{basename:e,navigator:n}=F.useContext(Mu),{matches:r}=F.useContext(ad),{pathname:i}=gg(),o=JSON.stringify(yne(r)),s=F.useRef(!1);return _ne(()=>{s.current=!0}),F.useCallback((l,u={})=>{if(ul(s.current,wne),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=vne(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:zc([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}F.createContext(null);function M1(t,{relative:e}={}){let{matches:n}=F.useContext(ad),{pathname:r}=gg(),i=JSON.stringify(yne(n));return F.useMemo(()=>vne(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function u4e(t,e){return Sne(t,e)}function Sne(t,e,n,r){var _;Ar(k1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(Mu),{matches:o}=F.useContext(ad),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let E=c&&c.path||"";Ene(l,!c||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let d=gg(),h;if(e){let E=typeof e=="string"?pg(e):e;Ar(u==="/"||((_=E.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),h=E}else h=d;let p=h.pathname||"/",m=p;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=pne(t,{pathname:m});ul(c||y!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),ul(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=p4e(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:zc([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:zc([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&x?F.createElement(I1.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},x):x}function c4e(){let t=b4e(),e=r4e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}var d4e=F.createElement(c4e,null),f4e=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(ad.Provider,{value:this.props.routeContext},F.createElement(P4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h4e({routeContext:t,match:e,children:n}){let r=F.useContext(m0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ad.Provider,{value:t},n)}function p4e(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Ar(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,h=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,h=!1,p=null,m=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||d4e,s&&(a<0&&c===0?(Ene("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,m=null):a===c&&(h=!0,m=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),x=()=>{let _;return d?_=p:h?_=m:u.route.Component?_=F.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,F.createElement(h4e,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?F.createElement(f4e,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}function I4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g4e(t){let e=F.useContext(m0);return Ar(e,I4(t)),e}function m4e(t){let e=F.useContext(HR);return Ar(e,I4(t)),e}function y4e(t){let e=F.useContext(ad);return Ar(e,I4(t)),e}function k4(t){let e=y4e(t),n=e.matches[e.matches.length-1];return Ar(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v4e(){return k4("useRouteId")}function b4e(){var r;let t=F.useContext(P4),e=m4e("useRouteError"),n=k4("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function x4e(){let{router:t}=g4e("useNavigate"),e=k4("useNavigate"),n=F.useRef(!1);return _ne(()=>{n.current=!0}),F.useCallback(async(i,o={})=>{ul(n.current,wne),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var f8={};function Ene(t,e,n){!e&&!f8[t]&&(f8[t]=!0,ul(!1,n))}F.memo(w4e);function w4e({routes:t,future:e,state:n}){return Sne(t,void 0,n,e)}function TC(t){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _4e({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ar(!k1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=F.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=pg(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,p=F.useMemo(()=>{let m=td(l,s);return m==null?null:{location:{pathname:m,search:u,hash:c,state:d,key:h},navigationType:r}},[s,l,u,c,d,h,r]);return ul(p!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:F.createElement(Mu.Provider,{value:a},F.createElement(I1.Provider,{children:e,value:p}))}function S4e({children:t,location:e}){return u4e(zO(t),e)}function zO(t,e=[]){let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let o=[...e,i];if(r.type===F.Fragment){n.push.apply(n,zO(r.props.children,o));return}Ar(r.type===TC,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=zO(r.props.children,o)),n.push(s)}),n}var AC="get",RC="application/x-www-form-urlencoded";function jR(t){return t!=null&&typeof t.tagName=="string"}function E4e(t){return jR(t)&&t.tagName.toLowerCase()==="button"}function C4e(t){return jR(t)&&t.tagName.toLowerCase()==="form"}function T4e(t){return jR(t)&&t.tagName.toLowerCase()==="input"}function A4e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R4e(t,e){return t.button===0&&(!e||e==="_self")&&!A4e(t)}var LE=null;function P4e(){if(LE===null)try{new FormData(document.createElement("form"),0),LE=!1}catch{LE=!0}return LE}var I4e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jk(t){return t!=null&&!I4e.has(t)?(ul(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${RC}"`),null):t}function k4e(t,e){let n,r,i,o,s;if(C4e(t)){let a=t.getAttribute("action");r=a?td(a,e):null,n=t.getAttribute("method")||AC,i=jk(t.getAttribute("enctype"))||RC,o=new FormData(t)}else if(E4e(t)||T4e(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?td(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||AC,i=jk(t.getAttribute("formenctype"))||jk(a.getAttribute("enctype"))||RC,o=new FormData(a,t),!P4e()){let{name:u,type:c,value:d}=t;if(c==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if(jR(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=AC,r=null,i=RC,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function M4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function M4e(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function N4e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function D4e(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await M4e(o,n);return s.links?s.links():[]}return[]}));return $4e(r.flat(1).filter(N4e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function h8(t,e,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function L4e(t,e,{includeHydrateFallback:n}={}){return O4e(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function O4e(t){return[...new Set(t)]}function F4e(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $4e(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(F4e(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var B4e=new Set([100,101,204,205]);function V4e(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&td(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Cne(){let t=F.useContext(m0);return M4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function z4e(){let t=F.useContext(HR);return M4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var N4=F.createContext(void 0);N4.displayName="FrameworkContext";function Tne(){let t=F.useContext(N4);return M4(t,"You must render this element inside a <HydratedRouter> element"),t}function U4e(t,e){let n=F.useContext(N4),[r,i]=F.useState(!1),[o,s]=F.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,h=F.useRef(null);F.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let y=_=>{_.forEach(E=>{s(E.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return h.current&&x.observe(h.current),()=>{x.disconnect()}}},[t]),F.useEffect(()=>{if(r){let y=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,h,{}]:[o,h,{onFocus:bb(a,p),onBlur:bb(l,m),onMouseEnter:bb(u,p),onMouseLeave:bb(c,m),onTouchStart:bb(d,p)}]:[!1,h,{}]}function bb(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function H4e({page:t,...e}){let{router:n}=Cne(),r=F.useMemo(()=>pne(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?F.createElement(j4e,{page:t,matches:r,...e}):null}function q4e(t){let{manifest:e,routeModules:n}=Tne(),[r,i]=F.useState([]);return F.useEffect(()=>{let o=!1;return D4e(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function j4e({page:t,matches:e,...n}){let r=gg(),{manifest:i,routeModules:o}=Tne(),{basename:s}=Cne(),{loaderData:a,matches:l}=z4e(),u=F.useMemo(()=>h8(t,e,l,i,r,"data"),[t,e,l,i,r]),c=F.useMemo(()=>h8(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=F.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,y=!1;if(e.forEach(_=>{var S;let E=i.routes[_.route.id];!E||!E.hasLoader||(!u.some(T=>T.route.id===_.route.id)&&_.route.id in a&&((S=o[_.route.id])!=null&&S.shouldRevalidate)||E.hasClientLoader?y=!0:m.add(_.route.id))}),m.size===0)return[];let x=V4e(t,s);return y&&m.size>0&&x.searchParams.set("_routes",e.filter(_=>m.has(_.route.id)).map(_=>_.route.id).join(",")),[x.pathname+x.search]},[s,a,r,i,u,e,t,o]),h=F.useMemo(()=>L4e(c,i),[c,i]),p=q4e(c);return F.createElement(F.Fragment,null,d.map(m=>F.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>F.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),p.map(({key:m,link:y})=>F.createElement("link",{key:m,...y})))}function W4e(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ane=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ane&&(window.__reactRouterVersion="7.6.2")}catch{}function G4e({basename:t,children:e,window:n}){let r=F.useRef();r.current==null&&(r.current=D5e({window:n,v5Compat:!0}));let i=r.current,[o,s]=F.useState({action:i.action,location:i.location}),a=F.useCallback(l=>{F.startTransition(()=>s(l))},[s]);return F.useLayoutEffect(()=>i.listen(a),[i,a]),F.createElement(_4e,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Rne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pne=F.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...h},p){let{basename:m}=F.useContext(Mu),y=typeof u=="string"&&Rne.test(u),x,_=!1;if(typeof u=="string"&&y&&(x=u,Ane))try{let L=new URL(window.location.href),k=u.startsWith("//")?new URL(L.protocol+u):new URL(u),D=td(k.pathname,m);k.origin===L.origin&&D!=null?u=D+k.search+k.hash:_=!0}catch{ul(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=a4e(u,{relative:i}),[S,T,I]=U4e(r,h),N=J4e(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function R(L){e&&e(L),L.defaultPrevented||N(L)}let M=F.createElement("a",{...h,...I,href:x||E,onClick:_||o?e:R,ref:W4e(p,T),target:l,"data-discover":!y&&n==="render"?"true":void 0});return S&&!y?F.createElement(F.Fragment,null,M,F.createElement(H4e,{page:E})):M});Pne.displayName="Link";var K4e=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=M1(s,{relative:u.relative}),h=gg(),p=F.useContext(HR),{navigator:m,basename:y}=F.useContext(Mu),x=p!=null&&n3e(d)&&a===!0,_=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=h.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&y&&(S=td(S,y)||S);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let I=E===_||!i&&E.startsWith(_)&&E.charAt(T)==="/",N=S!=null&&(S===_||!i&&S.startsWith(_)&&S.charAt(_.length)==="/"),R={isActive:I,isPending:N,isTransitioning:x},M=I?e:void 0,L;typeof r=="function"?L=r(R):L=[r,I?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(R):o;return F.createElement(Pne,{...u,"aria-current":M,className:L,ref:c,style:k,to:s,viewTransition:a},typeof l=="function"?l(R):l)});K4e.displayName="NavLink";var Y4e=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=AC,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},p)=>{let m=e3e(),y=t3e(a,{relative:u}),x=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Rne.test(a),E=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,I=(T==null?void 0:T.getAttribute("formmethod"))||s;m(T||S.currentTarget,{fetcherKey:e,method:I,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return F.createElement("form",{ref:p,method:x,action:y,onSubmit:r?l:E,...h,"data-discover":!_&&t==="render"?"true":void 0})});Y4e.displayName="Form";function X4e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ine(t){let e=F.useContext(m0);return Ar(e,X4e(t)),e}function J4e(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=qR(),l=gg(),u=M1(t,{relative:o});return F.useCallback(c=>{if(R4e(c,e)){c.preventDefault();let d=n!==void 0?n:xw(l)===xw(u);a(t,{replace:d,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,e,t,i,o,s])}var Q4e=0,Z4e=()=>`__${String(++Q4e)}__`;function e3e(){let{router:t}=Ine("useSubmit"),{basename:e}=F.useContext(Mu),n=v4e();return F.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=k4e(r,e);if(i.navigate===!1){let c=i.fetcherKey||Z4e();await t.fetch(c,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function t3e(t,{relative:e}={}){let{basename:n}=F.useContext(Mu),r=F.useContext(ad);Ar(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...M1(t||".",{relative:e})},s=gg();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:zc([n,o.pathname])),xw(o)}function n3e(t,e={}){let n=F.useContext(xne);Ar(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ine("useViewTransitionState"),i=M1(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=td(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=td(n.nextLocation.pathname,r)||n.nextLocation.pathname;return YT(i.pathname,s)!=null||YT(i.pathname,o)!=null}[...B4e];var zo={},Sm={},Wk,p8;function kne(){if(p8)return Wk;p8=1;var t=typeof wf=="object"&&wf&&wf.Object===Object&&wf;return Wk=t,Wk}var Gk,g8;function Nu(){if(g8)return Gk;g8=1;var t=kne(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Gk=n,Gk}var Kk,m8;function N1(){if(m8)return Kk;m8=1;var t=Nu(),e=t.Symbol;return Kk=e,Kk}var Yk,y8;function r3e(){if(y8)return Yk;y8=1;var t=N1(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var c=r.call(s);return u&&(a?s[i]=l:delete s[i]),c}return Yk=o,Yk}var Xk,v8;function i3e(){if(v8)return Xk;v8=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Xk=n,Xk}var Jk,b8;function mg(){if(b8)return Jk;b8=1;var t=N1(),e=r3e(),n=i3e(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:r:o&&o in Object(a)?e(a):n(a)}return Jk=s,Jk}var Qk,x8;function pl(){if(x8)return Qk;x8=1;var t=Array.isArray;return Qk=t,Qk}var Zk,w8;function ld(){if(w8)return Zk;w8=1;function t(e){return e!=null&&typeof e=="object"}return Zk=t,Zk}var eM,_8;function o3e(){if(_8)return eM;_8=1;var t=mg(),e=pl(),n=ld(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return eM=i,eM}var tM,S8;function s3e(){if(S8)return tM;S8=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),a=i(n),l=a.length;l--;){var u=a[e?l:++o];if(r(s[u],u,s)===!1)break}return n}}return tM=t,tM}var nM,E8;function a3e(){if(E8)return nM;E8=1;var t=s3e(),e=t();return nM=e,nM}var rM,C8;function l3e(){if(C8)return rM;C8=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return rM=t,rM}var iM,T8;function u3e(){if(T8)return iM;T8=1;var t=mg(),e=ld(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return iM=r,iM}var oM,A8;function Mne(){if(A8)return oM;A8=1;var t=u3e(),e=ld(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return oM=o,oM}var Jb={exports:{}},sM,R8;function c3e(){if(R8)return sM;R8=1;function t(){return!1}return sM=t,sM}Jb.exports;var P8;function D4(){return P8||(P8=1,function(t,e){var n=Nu(),r=c3e(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u}(Jb,Jb.exports)),Jb.exports}var aM,I8;function Nne(){if(I8)return aM;I8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return aM=n,aM}var lM,k8;function L4(){if(k8)return lM;k8=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return lM=e,lM}var uM,M8;function d3e(){if(M8)return uM;M8=1;var t=mg(),e=L4(),n=ld(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",d="[object Object]",h="[object RegExp]",p="[object Set]",m="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",R="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",k="[object Uint32Array]",D={};D[E]=D[S]=D[T]=D[I]=D[N]=D[R]=D[M]=D[L]=D[k]=!0,D[r]=D[i]=D[x]=D[o]=D[_]=D[s]=D[a]=D[l]=D[u]=D[c]=D[d]=D[h]=D[p]=D[m]=D[y]=!1;function V($){return n($)&&e($.length)&&!!D[t($)]}return uM=V,uM}var cM,N8;function O4(){if(N8)return cM;N8=1;function t(e){return function(n){return e(n)}}return cM=t,cM}var Qb={exports:{}};Qb.exports;var D8;function F4(){return D8||(D8=1,function(t,e){var n=kne(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(Qb,Qb.exports)),Qb.exports}var dM,L8;function Dne(){if(L8)return dM;L8=1;var t=d3e(),e=O4(),n=F4(),r=n&&n.isTypedArray,i=r?e(r):t;return dM=i,dM}var fM,O8;function Lne(){if(O8)return fM;O8=1;var t=l3e(),e=Mne(),n=pl(),r=D4(),i=Nne(),o=Dne(),s=Object.prototype,a=s.hasOwnProperty;function l(u,c){var d=n(u),h=!d&&e(u),p=!d&&!h&&r(u),m=!d&&!h&&!p&&o(u),y=d||h||p||m,x=y?t(u.length,String):[],_=x.length;for(var E in u)(c||a.call(u,E))&&!(y&&(E=="length"||p&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,_)))&&x.push(E);return x}return fM=l,fM}var hM,F8;function $4(){if(F8)return hM;F8=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return hM=e,hM}var pM,$8;function One(){if($8)return pM;$8=1;function t(e,n){return function(r){return e(n(r))}}return pM=t,pM}var gM,B8;function f3e(){if(B8)return gM;B8=1;var t=One(),e=t(Object.keys,Object);return gM=e,gM}var mM,V8;function h3e(){if(V8)return mM;V8=1;var t=$4(),e=f3e(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))r.call(o,a)&&a!="constructor"&&s.push(a);return s}return mM=i,mM}var yM,z8;function y0(){if(z8)return yM;z8=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return yM=t,yM}var vM,U8;function Fne(){if(U8)return vM;U8=1;var t=mg(),e=y0(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==r||l==i||l==n||l==o}return vM=s,vM}var bM,H8;function WR(){if(H8)return bM;H8=1;var t=Fne(),e=L4();function n(r){return r!=null&&e(r.length)&&!t(r)}return bM=n,bM}var xM,q8;function D1(){if(q8)return xM;q8=1;var t=Lne(),e=h3e(),n=WR();function r(i){return n(i)?t(i):e(i)}return xM=r,xM}var wM,j8;function $ne(){if(j8)return wM;j8=1;var t=a3e(),e=D1();function n(r,i){return r&&t(r,i,e)}return wM=n,wM}var _M,W8;function Bne(){if(W8)return _M;W8=1;function t(e){return e}return _M=t,_M}var SM,G8;function p3e(){if(G8)return SM;G8=1;var t=Bne();function e(n){return typeof n=="function"?n:t}return SM=e,SM}var EM,K8;function B4(){if(K8)return EM;K8=1;var t=$ne(),e=p3e();function n(r,i){return r&&t(r,e(i))}return EM=n,EM}var CM,Y8;function V4(){if(Y8)return CM;Y8=1;var t=One(),e=t(Object.getPrototypeOf,Object);return CM=e,CM}var TM,X8;function g3e(){if(X8)return TM;X8=1;var t=mg(),e=V4(),n=ld(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function u(c){if(!n(c)||t(c)!=r)return!1;var d=e(c);if(d===null)return!0;var h=a.call(d,"constructor")&&d.constructor;return typeof h=="function"&&h instanceof h&&s.call(h)==l}return TM=u,TM}var AM,J8;function Vne(){if(J8)return AM;J8=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return AM=t,AM}var RM,Q8;function m3e(){if(Q8)return RM;Q8=1;function t(){this.__data__=[],this.size=0}return RM=t,RM}var PM,Z8;function z4(){if(Z8)return PM;Z8=1;function t(e,n){return e===n||e!==e&&n!==n}return PM=t,PM}var IM,ej;function GR(){if(ej)return IM;ej=1;var t=z4();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return IM=e,IM}var kM,tj;function y3e(){if(tj)return kM;tj=1;var t=GR(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():n.call(o,s,1),--this.size,!0}return kM=r,kM}var MM,nj;function v3e(){if(nj)return MM;nj=1;var t=GR();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return MM=e,MM}var NM,rj;function b3e(){if(rj)return NM;rj=1;var t=GR();function e(n){return t(this.__data__,n)>-1}return NM=e,NM}var DM,ij;function x3e(){if(ij)return DM;ij=1;var t=GR();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return DM=e,DM}var LM,oj;function KR(){if(oj)return LM;oj=1;var t=m3e(),e=y3e(),n=v3e(),r=b3e(),i=x3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,LM=o,LM}var OM,sj;function w3e(){if(sj)return OM;sj=1;var t=KR();function e(){this.__data__=new t,this.size=0}return OM=e,OM}var FM,aj;function _3e(){if(aj)return FM;aj=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return FM=t,FM}var $M,lj;function S3e(){if(lj)return $M;lj=1;function t(e){return this.__data__.get(e)}return $M=t,$M}var BM,uj;function E3e(){if(uj)return BM;uj=1;function t(e){return this.__data__.has(e)}return BM=t,BM}var VM,cj;function C3e(){if(cj)return VM;cj=1;var t=Nu(),e=t["__core-js_shared__"];return VM=e,VM}var zM,dj;function T3e(){if(dj)return zM;dj=1;var t=C3e(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return zM=n,zM}var UM,fj;function zne(){if(fj)return UM;fj=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return UM=n,UM}var HM,hj;function A3e(){if(hj)return HM;hj=1;var t=Fne(),e=T3e(),n=y0(),r=zne(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,u=a.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(h){if(!n(h)||e(h))return!1;var p=t(h)?c:o;return p.test(r(h))}return HM=d,HM}var qM,pj;function R3e(){if(pj)return qM;pj=1;function t(e,n){return e==null?void 0:e[n]}return qM=t,qM}var jM,gj;function yg(){if(gj)return jM;gj=1;var t=A3e(),e=R3e();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return jM=n,jM}var WM,mj;function U4(){if(mj)return WM;mj=1;var t=yg(),e=Nu(),n=t(e,"Map");return WM=n,WM}var GM,yj;function YR(){if(yj)return GM;yj=1;var t=yg(),e=t(Object,"create");return GM=e,GM}var KM,vj;function P3e(){if(vj)return KM;vj=1;var t=YR();function e(){this.__data__=t?t(null):{},this.size=0}return KM=e,KM}var YM,bj;function I3e(){if(bj)return YM;bj=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return YM=t,YM}var XM,xj;function k3e(){if(xj)return XM;xj=1;var t=YR(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return r.call(s,o)?s[o]:void 0}return XM=i,XM}var JM,wj;function M3e(){if(wj)return JM;wj=1;var t=YR(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return JM=r,JM}var QM,_j;function N3e(){if(_j)return QM;_j=1;var t=YR(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return QM=n,QM}var ZM,Sj;function D3e(){if(Sj)return ZM;Sj=1;var t=P3e(),e=I3e(),n=k3e(),r=M3e(),i=N3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,ZM=o,ZM}var e2,Ej;function L3e(){if(Ej)return e2;Ej=1;var t=D3e(),e=KR(),n=U4();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return e2=r,e2}var t2,Cj;function O3e(){if(Cj)return t2;Cj=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return t2=t,t2}var n2,Tj;function XR(){if(Tj)return n2;Tj=1;var t=O3e();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return n2=e,n2}var r2,Aj;function F3e(){if(Aj)return r2;Aj=1;var t=XR();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return r2=e,r2}var i2,Rj;function $3e(){if(Rj)return i2;Rj=1;var t=XR();function e(n){return t(this,n).get(n)}return i2=e,i2}var o2,Pj;function B3e(){if(Pj)return o2;Pj=1;var t=XR();function e(n){return t(this,n).has(n)}return o2=e,o2}var s2,Ij;function V3e(){if(Ij)return s2;Ij=1;var t=XR();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return s2=e,s2}var a2,kj;function H4(){if(kj)return a2;kj=1;var t=L3e(),e=F3e(),n=$3e(),r=B3e(),i=V3e();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,a2=o,a2}var l2,Mj;function z3e(){if(Mj)return l2;Mj=1;var t=KR(),e=U4(),n=H4(),r=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<r-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(o,s),this.size=a.size,this}return l2=i,l2}var u2,Nj;function q4(){if(Nj)return u2;Nj=1;var t=KR(),e=w3e(),n=_3e(),r=S3e(),i=E3e(),o=z3e();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,u2=s,u2}var c2,Dj;function U3e(){if(Dj)return c2;Dj=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return c2=e,c2}var d2,Lj;function H3e(){if(Lj)return d2;Lj=1;function t(e){return this.__data__.has(e)}return d2=t,d2}var f2,Oj;function q3e(){if(Oj)return f2;Oj=1;var t=H4(),e=U3e(),n=H3e();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,f2=r,f2}var h2,Fj;function j3e(){if(Fj)return h2;Fj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return h2=t,h2}var p2,$j;function W3e(){if($j)return p2;$j=1;function t(e,n){return e.has(n)}return p2=t,p2}var g2,Bj;function Une(){if(Bj)return g2;Bj=1;var t=q3e(),e=j3e(),n=W3e(),r=1,i=2;function o(s,a,l,u,c,d){var h=l&r,p=s.length,m=a.length;if(p!=m&&!(h&&m>p))return!1;var y=d.get(s),x=d.get(a);if(y&&x)return y==a&&x==s;var _=-1,E=!0,S=l&i?new t:void 0;for(d.set(s,a),d.set(a,s);++_<p;){var T=s[_],I=a[_];if(u)var N=h?u(I,T,_,a,s,d):u(T,I,_,s,a,d);if(N!==void 0){if(N)continue;E=!1;break}if(S){if(!e(a,function(R,M){if(!n(S,M)&&(T===R||c(T,R,l,u,d)))return S.push(M)})){E=!1;break}}else if(!(T===I||c(T,I,l,u,d))){E=!1;break}}return d.delete(s),d.delete(a),E}return g2=o,g2}var m2,Vj;function Hne(){if(Vj)return m2;Vj=1;var t=Nu(),e=t.Uint8Array;return m2=e,m2}var y2,zj;function G3e(){if(zj)return y2;zj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return y2=t,y2}var v2,Uj;function K3e(){if(Uj)return v2;Uj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return v2=t,v2}var b2,Hj;function Y3e(){if(Hj)return b2;Hj=1;var t=N1(),e=Hne(),n=z4(),r=Une(),i=G3e(),o=K3e(),s=1,a=2,l="[object Boolean]",u="[object Date]",c="[object Error]",d="[object Map]",h="[object Number]",p="[object RegExp]",m="[object Set]",y="[object String]",x="[object Symbol]",_="[object ArrayBuffer]",E="[object DataView]",S=t?t.prototype:void 0,T=S?S.valueOf:void 0;function I(N,R,M,L,k,D,V){switch(M){case E:if(N.byteLength!=R.byteLength||N.byteOffset!=R.byteOffset)return!1;N=N.buffer,R=R.buffer;case _:return!(N.byteLength!=R.byteLength||!D(new e(N),new e(R)));case l:case u:case h:return n(+N,+R);case c:return N.name==R.name&&N.message==R.message;case p:case y:return N==R+"";case d:var $=i;case m:var H=L&s;if($||($=o),N.size!=R.size&&!H)return!1;var G=V.get(N);if(G)return G==R;L|=a,V.set(N,R);var K=r($(N),$(R),L,k,D,V);return V.delete(N),K;case x:if(T)return T.call(N)==T.call(R)}return!1}return b2=I,b2}var x2,qj;function qne(){if(qj)return x2;qj=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return x2=t,x2}var w2,jj;function jne(){if(jj)return w2;jj=1;var t=qne(),e=pl();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return w2=n,w2}var _2,Wj;function X3e(){if(Wj)return _2;Wj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var a=e[r];n(a,r,e)&&(s[o++]=a)}return s}return _2=t,_2}var S2,Gj;function Wne(){if(Gj)return S2;Gj=1;function t(){return[]}return S2=t,S2}var E2,Kj;function j4(){if(Kj)return E2;Kj=1;var t=X3e(),e=Wne(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return r.call(s,a)}))}:e;return E2=o,E2}var C2,Yj;function Gne(){if(Yj)return C2;Yj=1;var t=jne(),e=j4(),n=D1();function r(i){return t(i,n,e)}return C2=r,C2}var T2,Xj;function J3e(){if(Xj)return T2;Xj=1;var t=Gne(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a,l,u,c){var d=a&e,h=t(o),p=h.length,m=t(s),y=m.length;if(p!=y&&!d)return!1;for(var x=p;x--;){var _=h[x];if(!(d?_ in s:r.call(s,_)))return!1}var E=c.get(o),S=c.get(s);if(E&&S)return E==s&&S==o;var T=!0;c.set(o,s),c.set(s,o);for(var I=d;++x<p;){_=h[x];var N=o[_],R=s[_];if(l)var M=d?l(R,N,_,s,o,c):l(N,R,_,o,s,c);if(!(M===void 0?N===R||u(N,R,a,l,c):M)){T=!1;break}I||(I=_=="constructor")}if(T&&!I){var L=o.constructor,k=s.constructor;L!=k&&"constructor"in o&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof k=="function"&&k instanceof k)&&(T=!1)}return c.delete(o),c.delete(s),T}return T2=i,T2}var A2,Jj;function Q3e(){if(Jj)return A2;Jj=1;var t=yg(),e=Nu(),n=t(e,"DataView");return A2=n,A2}var R2,Qj;function Z3e(){if(Qj)return R2;Qj=1;var t=yg(),e=Nu(),n=t(e,"Promise");return R2=n,R2}var P2,Zj;function eBe(){if(Zj)return P2;Zj=1;var t=yg(),e=Nu(),n=t(e,"Set");return P2=n,P2}var I2,eW;function tBe(){if(eW)return I2;eW=1;var t=yg(),e=Nu(),n=t(e,"WeakMap");return I2=n,I2}var k2,tW;function JR(){if(tW)return k2;tW=1;var t=Q3e(),e=U4(),n=Z3e(),r=eBe(),i=tBe(),o=mg(),s=zne(),a="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",d="[object WeakMap]",h="[object DataView]",p=s(t),m=s(e),y=s(n),x=s(r),_=s(i),E=o;return(t&&E(new t(new ArrayBuffer(1)))!=h||e&&E(new e)!=a||n&&E(n.resolve())!=u||r&&E(new r)!=c||i&&E(new i)!=d)&&(E=function(S){var T=o(S),I=T==l?S.constructor:void 0,N=I?s(I):"";if(N)switch(N){case p:return h;case m:return a;case y:return u;case x:return c;case _:return d}return T}),k2=E,k2}var M2,nW;function nBe(){if(nW)return M2;nW=1;var t=q4(),e=Une(),n=Y3e(),r=J3e(),i=JR(),o=pl(),s=D4(),a=Dne(),l=1,u="[object Arguments]",c="[object Array]",d="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function m(y,x,_,E,S,T){var I=o(y),N=o(x),R=I?c:i(y),M=N?c:i(x);R=R==u?d:R,M=M==u?d:M;var L=R==d,k=M==d,D=R==M;if(D&&s(y)){if(!s(x))return!1;I=!0,L=!1}if(D&&!L)return T||(T=new t),I||a(y)?e(y,x,_,E,S,T):n(y,x,R,_,E,S,T);if(!(_&l)){var V=L&&p.call(y,"__wrapped__"),$=k&&p.call(x,"__wrapped__");if(V||$){var H=V?y.value():y,G=$?x.value():x;return T||(T=new t),S(H,G,_,E,T)}}return D?(T||(T=new t),r(y,x,_,E,S,T)):!1}return M2=m,M2}var N2,rW;function Kne(){if(rW)return N2;rW=1;var t=nBe(),e=ld();function n(r,i,o,s,a){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,a)}return N2=n,N2}var D2,iW;function rBe(){if(iW)return D2;iW=1;var t=q4(),e=Kne(),n=1,r=2;function i(o,s,a,l){var u=a.length,c=u,d=!l;if(o==null)return!c;for(o=Object(o);u--;){var h=a[u];if(d&&h[2]?h[1]!==o[h[0]]:!(h[0]in o))return!1}for(;++u<c;){h=a[u];var p=h[0],m=o[p],y=h[1];if(d&&h[2]){if(m===void 0&&!(p in o))return!1}else{var x=new t;if(l)var _=l(m,y,p,o,s,x);if(!(_===void 0?e(y,m,n|r,l,x):_))return!1}}return!0}return D2=i,D2}var L2,oW;function Yne(){if(oW)return L2;oW=1;var t=y0();function e(n){return n===n&&!t(n)}return L2=e,L2}var O2,sW;function iBe(){if(sW)return O2;sW=1;var t=Yne(),e=D1();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],a=r[s];i[o]=[s,a,t(a)]}return i}return O2=n,O2}var F2,aW;function Xne(){if(aW)return F2;aW=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return F2=t,F2}var $2,lW;function oBe(){if(lW)return $2;lW=1;var t=rBe(),e=iBe(),n=Xne();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return $2=r,$2}var B2,uW;function W4(){if(uW)return B2;uW=1;var t=mg(),e=ld(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return B2=r,B2}var V2,cW;function G4(){if(cW)return V2;cW=1;var t=pl(),e=W4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return V2=i,V2}var z2,dW;function sBe(){if(dW)return z2;dW=1;var t=H4(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=r.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(n.Cache||t),o}return n.Cache=t,z2=n,z2}var U2,fW;function aBe(){if(fW)return U2;fW=1;var t=sBe(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return U2=n,U2}var H2,hW;function lBe(){if(hW)return H2;hW=1;var t=aBe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,u){o.push(l?u.replace(n,"$1"):a||s)}),o});return H2=r,H2}var q2,pW;function uBe(){if(pW)return q2;pW=1;var t=N1(),e=Vne(),n=pl(),r=W4(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(n(a))return e(a,s)+"";if(r(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return q2=s,q2}var j2,gW;function cBe(){if(gW)return j2;gW=1;var t=uBe();function e(n){return n==null?"":t(n)}return j2=e,j2}var W2,mW;function Jne(){if(mW)return W2;mW=1;var t=pl(),e=G4(),n=lBe(),r=cBe();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return W2=i,W2}var G2,yW;function QR(){if(yW)return G2;yW=1;var t=W4();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return G2=e,G2}var K2,vW;function Qne(){if(vW)return K2;vW=1;var t=Jne(),e=QR();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return K2=n,K2}var Y2,bW;function dBe(){if(bW)return Y2;bW=1;var t=Qne();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return Y2=e,Y2}var X2,xW;function fBe(){if(xW)return X2;xW=1;function t(e,n){return e!=null&&n in Object(e)}return X2=t,X2}var J2,wW;function hBe(){if(wW)return J2;wW=1;var t=Jne(),e=Mne(),n=pl(),r=Nne(),i=L4(),o=QR();function s(a,l,u){l=t(l,a);for(var c=-1,d=l.length,h=!1;++c<d;){var p=o(l[c]);if(!(h=a!=null&&u(a,p)))break;a=a[p]}return h||++c!=d?h:(d=a==null?0:a.length,!!d&&i(d)&&r(p,d)&&(n(a)||e(a)))}return J2=s,J2}var Q2,_W;function pBe(){if(_W)return Q2;_W=1;var t=fBe(),e=hBe();function n(r,i){return r!=null&&e(r,i,t)}return Q2=n,Q2}var Z2,SW;function gBe(){if(SW)return Z2;SW=1;var t=Kne(),e=dBe(),n=pBe(),r=G4(),i=Yne(),o=Xne(),s=QR(),a=1,l=2;function u(c,d){return r(c)&&i(d)?o(s(c),d):function(h){var p=e(h,c);return p===void 0&&p===d?n(h,c):t(d,p,a|l)}}return Z2=u,Z2}var eN,EW;function mBe(){if(EW)return eN;EW=1;function t(e){return function(n){return n==null?void 0:n[e]}}return eN=t,eN}var tN,CW;function yBe(){if(CW)return tN;CW=1;var t=Qne();function e(n){return function(r){return t(r,n)}}return tN=e,tN}var nN,TW;function vBe(){if(TW)return nN;TW=1;var t=mBe(),e=yBe(),n=G4(),r=QR();function i(o){return n(o)?t(r(o)):e(o)}return nN=i,nN}var rN,AW;function bBe(){if(AW)return rN;AW=1;var t=oBe(),e=gBe(),n=Bne(),r=pl(),i=vBe();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return rN=o,rN}var iN,RW;function xBe(){if(RW)return iN;RW=1;var t=WR();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,a=r?s:-1,l=Object(i);(r?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return iN=e,iN}var oN,PW;function wBe(){if(PW)return oN;PW=1;var t=$ne(),e=xBe(),n=e(t);return oN=n,oN}var sN,IW;function _Be(){if(IW)return sN;IW=1;var t=wBe(),e=WR();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(a,l,u){s[++o]=i(a,l,u)}),s}return sN=n,sN}var aN,kW;function SBe(){if(kW)return aN;kW=1;var t=Vne(),e=bBe(),n=_Be(),r=pl();function i(o,s){var a=r(o)?t:n;return a(o,e(s,3))}return aN=i,aN}var MW;function EBe(){if(MW)return Sm;MW=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.flattenNames=void 0;var t=o3e(),e=l(t),n=B4(),r=l(n),i=g3e(),o=l(i),s=SBe(),a=l(s);function l(c){return c&&c.__esModule?c:{default:c}}var u=Sm.flattenNames=function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=[];return(0,a.default)(d,function(p){Array.isArray(p)?c(p).map(function(m){return h.push(m)}):(0,o.default)(p)?(0,r.default)(p,function(m,y){m===!0&&h.push(y),h.push(y+"-"+m)}):(0,e.default)(p)&&h.push(p)}),h};return Sm.default=u,Sm}var Em={},lN,NW;function CBe(){if(NW)return lN;NW=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return lN=t,lN}var uN,DW;function TBe(){if(DW)return uN;DW=1;var t=yg(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return uN=e,uN}var cN,LW;function Zne(){if(LW)return cN;LW=1;var t=TBe();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return cN=e,cN}var dN,OW;function ere(){if(OW)return dN;OW=1;var t=Zne(),e=z4(),n=Object.prototype,r=n.hasOwnProperty;function i(o,s,a){var l=o[s];(!(r.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return dN=i,dN}var fN,FW;function ZR(){if(FW)return fN;FW=1;var t=ere(),e=Zne();function n(r,i,o,s){var a=!o;o||(o={});for(var l=-1,u=i.length;++l<u;){var c=i[l],d=s?s(o[c],r[c],c,o,r):void 0;d===void 0&&(d=r[c]),a?e(o,c,d):t(o,c,d)}return o}return fN=n,fN}var hN,$W;function ABe(){if($W)return hN;$W=1;var t=ZR(),e=D1();function n(r,i){return r&&t(i,e(i),r)}return hN=n,hN}var pN,BW;function RBe(){if(BW)return pN;BW=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return pN=t,pN}var gN,VW;function PBe(){if(VW)return gN;VW=1;var t=y0(),e=$4(),n=RBe(),r=Object.prototype,i=r.hasOwnProperty;function o(s){if(!t(s))return n(s);var a=e(s),l=[];for(var u in s)u=="constructor"&&(a||!i.call(s,u))||l.push(u);return l}return gN=o,gN}var mN,zW;function K4(){if(zW)return mN;zW=1;var t=Lne(),e=PBe(),n=WR();function r(i){return n(i)?t(i,!0):e(i)}return mN=r,mN}var yN,UW;function IBe(){if(UW)return yN;UW=1;var t=ZR(),e=K4();function n(r,i){return r&&t(i,e(i),r)}return yN=n,yN}var Zb={exports:{}};Zb.exports;var HW;function kBe(){return HW||(HW=1,function(t,e){var n=Nu(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var d=u.length,h=a?a(d):new u.constructor(d);return u.copy(h),h}t.exports=l}(Zb,Zb.exports)),Zb.exports}var vN,qW;function MBe(){if(qW)return vN;qW=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return vN=t,vN}var bN,jW;function NBe(){if(jW)return bN;jW=1;var t=ZR(),e=j4();function n(r,i){return t(r,e(r),i)}return bN=n,bN}var xN,WW;function tre(){if(WW)return xN;WW=1;var t=qne(),e=V4(),n=j4(),r=Wne(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,n(s)),s=e(s);return a}:r;return xN=o,xN}var wN,GW;function DBe(){if(GW)return wN;GW=1;var t=ZR(),e=tre();function n(r,i){return t(r,e(r),i)}return wN=n,wN}var _N,KW;function LBe(){if(KW)return _N;KW=1;var t=jne(),e=tre(),n=K4();function r(i){return t(i,n,e)}return _N=r,_N}var SN,YW;function OBe(){if(YW)return SN;YW=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return SN=n,SN}var EN,XW;function Y4(){if(XW)return EN;XW=1;var t=Hne();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return EN=e,EN}var CN,JW;function FBe(){if(JW)return CN;JW=1;var t=Y4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return CN=e,CN}var TN,QW;function $Be(){if(QW)return TN;QW=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return TN=e,TN}var AN,ZW;function BBe(){if(ZW)return AN;ZW=1;var t=N1(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return AN=r,AN}var RN,e7;function VBe(){if(e7)return RN;e7=1;var t=Y4();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return RN=e,RN}var PN,t7;function zBe(){if(t7)return PN;t7=1;var t=Y4(),e=FBe(),n=$Be(),r=BBe(),i=VBe(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",d="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",m="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]";function M(L,k,D){var V=L.constructor;switch(k){case p:return t(L);case o:case s:return new V(+L);case m:return e(L,D);case y:case x:case _:case E:case S:case T:case I:case N:case R:return i(L,D);case a:return new V;case l:case d:return new V(L);case u:return n(L);case c:return new V;case h:return r(L)}}return PN=M,PN}var IN,n7;function UBe(){if(n7)return IN;n7=1;var t=y0(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return IN=n,IN}var kN,r7;function HBe(){if(r7)return kN;r7=1;var t=UBe(),e=V4(),n=$4();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return kN=r,kN}var MN,i7;function qBe(){if(i7)return MN;i7=1;var t=JR(),e=ld(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return MN=r,MN}var NN,o7;function jBe(){if(o7)return NN;o7=1;var t=qBe(),e=O4(),n=F4(),r=n&&n.isMap,i=r?e(r):t;return NN=i,NN}var DN,s7;function WBe(){if(s7)return DN;s7=1;var t=JR(),e=ld(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return DN=r,DN}var LN,a7;function GBe(){if(a7)return LN;a7=1;var t=WBe(),e=O4(),n=F4(),r=n&&n.isSet,i=r?e(r):t;return LN=i,LN}var ON,l7;function KBe(){if(l7)return ON;l7=1;var t=q4(),e=CBe(),n=ere(),r=ABe(),i=IBe(),o=kBe(),s=MBe(),a=NBe(),l=DBe(),u=Gne(),c=LBe(),d=JR(),h=OBe(),p=zBe(),m=HBe(),y=pl(),x=D4(),_=jBe(),E=y0(),S=GBe(),T=D1(),I=K4(),N=1,R=2,M=4,L="[object Arguments]",k="[object Array]",D="[object Boolean]",V="[object Date]",$="[object Error]",H="[object Function]",G="[object GeneratorFunction]",K="[object Map]",J="[object Number]",ee="[object Object]",X="[object RegExp]",j="[object Set]",Y="[object String]",ae="[object Symbol]",q="[object WeakMap]",Q="[object ArrayBuffer]",te="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",se="[object Int8Array]",ce="[object Int16Array]",he="[object Int32Array]",ve="[object Uint8Array]",be="[object Uint8ClampedArray]",Re="[object Uint16Array]",pe="[object Uint32Array]",Ce={};Ce[L]=Ce[k]=Ce[Q]=Ce[te]=Ce[D]=Ce[V]=Ce[ue]=Ce[de]=Ce[se]=Ce[ce]=Ce[he]=Ce[K]=Ce[J]=Ce[ee]=Ce[X]=Ce[j]=Ce[Y]=Ce[ae]=Ce[ve]=Ce[be]=Ce[Re]=Ce[pe]=!0,Ce[$]=Ce[H]=Ce[q]=!1;function $e(De,ke,qe,Fe,Qe,ze){var lt,It=ke&N,on=ke&R,we=ke&M;if(qe&&(lt=Qe?qe(De,Fe,Qe,ze):qe(De)),lt!==void 0)return lt;if(!E(De))return De;var Ae=y(De);if(Ae){if(lt=h(De),!It)return s(De,lt)}else{var We=d(De),yt=We==H||We==G;if(x(De))return o(De,It);if(We==ee||We==L||yt&&!Qe){if(lt=on||yt?{}:m(De),!It)return on?l(De,i(lt,De)):a(De,r(lt,De))}else{if(!Ce[We])return Qe?De:{};lt=p(De,We,It)}}ze||(ze=new t);var Ct=ze.get(De);if(Ct)return Ct;ze.set(De,lt),S(De)?De.forEach(function(en){lt.add($e(en,ke,qe,en,De,ze))}):_(De)&&De.forEach(function(en,sn){lt.set(sn,$e(en,ke,qe,sn,De,ze))});var ht=we?on?c:u:on?I:T,vn=Ae?void 0:ht(De);return e(vn||De,function(en,sn){vn&&(sn=en,en=De[sn]),n(lt,sn,$e(en,ke,qe,sn,De,ze))}),lt}return ON=$e,ON}var FN,u7;function YBe(){if(u7)return FN;u7=1;var t=KBe(),e=1,n=4;function r(i){return t(i,e|n)}return FN=r,FN}var c7;function XBe(){if(c7)return Em;c7=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.mergeClasses=void 0;var t=B4(),e=o(t),n=YBe(),r=o(n),i=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c])}return a};function o(a){return a&&a.__esModule?a:{default:a}}var s=Em.mergeClasses=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=l.default&&(0,r.default)(l.default)||{};return u.map(function(d){var h=l[d];return h&&(0,e.default)(h,function(p,m){c[m]||(c[m]={}),c[m]=i({},c[m],h[m])}),d}),c};return Em.default=s,Em}var Cm={},d7;function JBe(){if(d7)return Cm;d7=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.autoprefix=void 0;var t=B4(),e=r(t),n=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s};function r(s){return s&&s.__esModule?s:{default:s}}var i={borderRadius:function(a){return{msBorderRadius:a,MozBorderRadius:a,OBorderRadius:a,WebkitBorderRadius:a,borderRadius:a}},boxShadow:function(a){return{msBoxShadow:a,MozBoxShadow:a,OBoxShadow:a,WebkitBoxShadow:a,boxShadow:a}},userSelect:function(a){return{WebkitTouchCallout:a,KhtmlUserSelect:a,MozUserSelect:a,msUserSelect:a,WebkitUserSelect:a,userSelect:a}},flex:function(a){return{WebkitBoxFlex:a,MozBoxFlex:a,WebkitFlex:a,msFlex:a,flex:a}},flexBasis:function(a){return{WebkitFlexBasis:a,flexBasis:a}},justifyContent:function(a){return{WebkitJustifyContent:a,justifyContent:a}},transition:function(a){return{msTransition:a,MozTransition:a,OTransition:a,WebkitTransition:a,transition:a}},transform:function(a){return{msTransform:a,MozTransform:a,OTransform:a,WebkitTransform:a,transform:a}},absolute:function(a){var l=a&&a.split(" ");return{position:"absolute",top:l&&l[0],right:l&&l[1],bottom:l&&l[2],left:l&&l[3]}},extend:function(a,l){var u=l[a];return u||{extend:a}}},o=Cm.autoprefix=function(a){var l={};return(0,e.default)(a,function(u,c){var d={};(0,e.default)(u,function(h,p){var m=i[p];m?d=n({},d,m(h)):d[p]=h}),l[c]=d}),l};return Cm.default=o,Cm}var Tm={},f7;function QBe(){if(f7)return Tm;f7=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.hover=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=dl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Tm.hover=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,x;i(this,h);for(var _=arguments.length,E=Array(_),S=0;S<_;S++)E[S]=arguments[S];return x=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={hover:!1},y.handleMouseOver=function(){return y.setState({hover:!0})},y.handleMouseOut=function(){return y.setState({hover:!1})},y.render=function(){return n.default.createElement(c,{onMouseOver:y.handleMouseOver,onMouseOut:y.handleMouseOut},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,x)}return h}(n.default.Component)};return Tm.default=a,Tm}var Am={},h7;function ZBe(){if(h7)return Am;h7=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.active=void 0;var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=dl(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}function o(l,u){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:l}function s(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);l.prototype=Object.create(u&&u.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u)}var a=Am.active=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(d){s(h,d);function h(){var p,m,y,x;i(this,h);for(var _=arguments.length,E=Array(_),S=0;S<_;S++)E[S]=arguments[S];return x=(m=(y=o(this,(p=h.__proto__||Object.getPrototypeOf(h)).call.apply(p,[this].concat(E))),y),y.state={active:!1},y.handleMouseDown=function(){return y.setState({active:!0})},y.handleMouseUp=function(){return y.setState({active:!1})},y.render=function(){return n.default.createElement(c,{onMouseDown:y.handleMouseDown,onMouseUp:y.handleMouseUp},n.default.createElement(u,t({},y.props,y.state)))},m),o(y,x)}return h}(n.default.Component)};return Am.default=a,Am}var OE={},p7;function eVe(){if(p7)return OE;p7=1,Object.defineProperty(OE,"__esModule",{value:!0});var t=function(n,r){var i={},o=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[a]=l};return n===0&&o("first-child"),n===r-1&&o("last-child"),(n===0||n%2===0)&&o("even"),Math.abs(n%2)===1&&o("odd"),o("nth-child",n),i};return OE.default=t,OE}var g7;function tVe(){if(g7)return zo;g7=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.ReactCSS=zo.loop=zo.handleActive=zo.handleHover=zo.hover=void 0;var t=EBe(),e=h(t),n=XBe(),r=h(n),i=JBe(),o=h(i),s=QBe(),a=h(s),l=ZBe(),u=h(l),c=eVe(),d=h(c);function h(m){return m&&m.__esModule?m:{default:m}}zo.hover=a.default,zo.handleHover=a.default,zo.handleActive=u.default,zo.loop=d.default;var p=zo.ReactCSS=function(y){for(var x=arguments.length,_=Array(x>1?x-1:0),E=1;E<x;E++)_[E-1]=arguments[E];var S=(0,e.default)(_),T=(0,r.default)(y,S);return(0,o.default)(T)};return zo.default=p,zo}var X4=tVe();const Wt=lo(X4);var nVe=function(e,n,r,i,o){var s=o.clientWidth,a=o.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(o.getBoundingClientRect().left+window.pageXOffset),d=u-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(d<0?h=0:d>a?h=1:h=Math.round(d*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>s?p=1:p=Math.round(c*100/s)/100,i!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}return null},$N={},rVe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var s=o.getContext("2d");return s?(s.fillStyle=e,s.fillRect(0,0,o.width,o.height),s.fillStyle=n,s.fillRect(0,0,r,r),s.translate(r,r),s.fillRect(0,0,r,r),o.toDataURL()):null},iVe=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if($N[o])return $N[o];var s=rVe(e,n,r,i);return $N[o]=s,s},m7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,s=e.borderRadius,a=e.boxShadow,l=e.children,u=Wt({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+iVe(n,r,i,o.canvas)+") center left"}}});return F.isValidElement(l)?oe.cloneElement(l,m7({},l.props,{style:m7({},l.props.style,u.grid)})):oe.createElement("div",{style:u.grid})};v0.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var oVe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var J4=function(t){lVe(e,t);function e(){var n,r,i,o;aVe(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=y7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=nVe(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),y7(i,o)}return sVe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=Wt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:oVe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return oe.createElement("div",{style:o.alpha},oe.createElement("div",{style:o.checkboard},oe.createElement(v0,{renderers:this.props.renderers})),oe.createElement("div",{style:o.gradient}),oe.createElement("div",{style:o.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("div",{style:o.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:o.slider}))))}}]),e}(F.PureComponent||F.Component),uVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cVe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fVe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pVe=1,nre=38,gVe=40,mVe=[nre,gVe],yVe=function(e){return mVe.indexOf(e)>-1},vVe=function(e){return Number(String(e).replace(/%/g,""))},bVe=1,wn=function(t){hVe(e,t);function e(n){dVe(this,e);var r=fVe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=vVe(i.target.value);if(!isNaN(o)&&yVe(i.keyCode)){var s=r.getArrowOffset(),a=i.keyCode===nre?o+s:o-s;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+bVe++,r}return uVe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return cVe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||pVe}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Wt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return oe.createElement("div",{style:i.wrap},oe.createElement("input",{id:this.inputId,style:i.input,ref:function(s){return r.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?oe.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(F.PureComponent||F.Component),xVe=function(e,n,r,i){var o=i.clientWidth,s=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(c<0)d=359;else if(c>s)d=0;else{var h=-(c*100/s)+100;d=360*h/100}if(r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{var m=u*100/o;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},wVe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function _Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function SVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b0=function(t){SVe(e,t);function e(){var n,r,i,o;_Ve(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=v7(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var c=xVe(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),v7(i,o)}return wVe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,s=Wt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return oe.createElement("div",{style:s.hue},oe.createElement("div",{className:"hue-"+o,style:s.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),oe.createElement("div",{style:s.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:s.slider}))))}}]),e}(F.PureComponent||F.Component);function EVe(){this.__data__=[],this.size=0}function L1(t,e){return t===e||t!==t&&e!==e}function eP(t,e){for(var n=t.length;n--;)if(L1(t[n][0],e))return n;return-1}var CVe=Array.prototype,TVe=CVe.splice;function AVe(t){var e=this.__data__,n=eP(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TVe.call(e,n,1),--this.size,!0}function RVe(t){var e=this.__data__,n=eP(e,t);return n<0?void 0:e[n][1]}function PVe(t){return eP(this.__data__,t)>-1}function IVe(t,e){var n=this.__data__,r=eP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function ud(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ud.prototype.clear=EVe;ud.prototype.delete=AVe;ud.prototype.get=RVe;ud.prototype.has=PVe;ud.prototype.set=IVe;function kVe(){this.__data__=new ud,this.size=0}function MVe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function NVe(t){return this.__data__.get(t)}function DVe(t){return this.__data__.has(t)}var rre=typeof global=="object"&&global&&global.Object===Object&&global,LVe=typeof self=="object"&&self&&self.Object===Object&&self,gl=rre||LVe||Function("return this")(),Vf=gl.Symbol,ire=Object.prototype,OVe=ire.hasOwnProperty,FVe=ire.toString,xb=Vf?Vf.toStringTag:void 0;function $Ve(t){var e=OVe.call(t,xb),n=t[xb];try{t[xb]=void 0;var r=!0}catch{}var i=FVe.call(t);return r&&(e?t[xb]=n:delete t[xb]),i}var BVe=Object.prototype,VVe=BVe.toString;function zVe(t){return VVe.call(t)}var UVe="[object Null]",HVe="[object Undefined]",b7=Vf?Vf.toStringTag:void 0;function vg(t){return t==null?t===void 0?HVe:UVe:b7&&b7 in Object(t)?$Ve(t):zVe(t)}function ma(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qVe="[object AsyncFunction]",jVe="[object Function]",WVe="[object GeneratorFunction]",GVe="[object Proxy]";function Q4(t){if(!ma(t))return!1;var e=vg(t);return e==jVe||e==WVe||e==qVe||e==GVe}var BN=gl["__core-js_shared__"],x7=function(){var t=/[^.]+$/.exec(BN&&BN.keys&&BN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function KVe(t){return!!x7&&x7 in t}var YVe=Function.prototype,XVe=YVe.toString;function bg(t){if(t!=null){try{return XVe.call(t)}catch{}try{return t+""}catch{}}return""}var JVe=/[\\^$.*+?()[\]{}|]/g,QVe=/^\[object .+?Constructor\]$/,ZVe=Function.prototype,eze=Object.prototype,tze=ZVe.toString,nze=eze.hasOwnProperty,rze=RegExp("^"+tze.call(nze).replace(JVe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ize(t){if(!ma(t)||KVe(t))return!1;var e=Q4(t)?rze:QVe;return e.test(bg(t))}function oze(t,e){return t==null?void 0:t[e]}function xg(t,e){var n=oze(t,e);return ize(n)?n:void 0}var ww=xg(gl,"Map"),_w=xg(Object,"create");function sze(){this.__data__=_w?_w(null):{},this.size=0}function aze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lze="__lodash_hash_undefined__",uze=Object.prototype,cze=uze.hasOwnProperty;function dze(t){var e=this.__data__;if(_w){var n=e[t];return n===lze?void 0:n}return cze.call(e,t)?e[t]:void 0}var fze=Object.prototype,hze=fze.hasOwnProperty;function pze(t){var e=this.__data__;return _w?e[t]!==void 0:hze.call(e,t)}var gze="__lodash_hash_undefined__";function mze(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_w&&e===void 0?gze:e,this}function eg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}eg.prototype.clear=sze;eg.prototype.delete=aze;eg.prototype.get=dze;eg.prototype.has=pze;eg.prototype.set=mze;function yze(){this.size=0,this.__data__={hash:new eg,map:new(ww||ud),string:new eg}}function vze(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tP(t,e){var n=t.__data__;return vze(e)?n[typeof e=="string"?"string":"hash"]:n.map}function bze(t){var e=tP(this,t).delete(t);return this.size-=e?1:0,e}function xze(t){return tP(this,t).get(t)}function wze(t){return tP(this,t).has(t)}function _ze(t,e){var n=tP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function cd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cd.prototype.clear=yze;cd.prototype.delete=bze;cd.prototype.get=xze;cd.prototype.has=wze;cd.prototype.set=_ze;var Sze=200;function Eze(t,e){var n=this.__data__;if(n instanceof ud){var r=n.__data__;if(!ww||r.length<Sze-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cd(r)}return n.set(t,e),this.size=n.size,this}function xu(t){var e=this.__data__=new ud(t);this.size=e.size}xu.prototype.clear=kVe;xu.prototype.delete=MVe;xu.prototype.get=NVe;xu.prototype.has=DVe;xu.prototype.set=Eze;var XT=function(){try{var t=xg(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Z4(t,e,n){e=="__proto__"&&XT?XT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function UO(t,e,n){(n!==void 0&&!L1(t[e],n)||n===void 0&&!(e in t))&&Z4(t,e,n)}function Cze(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[++i];if(n(o[l],l,o)===!1)break}return e}}var ore=Cze(),sre=typeof Os=="object"&&Os&&!Os.nodeType&&Os,w7=sre&&typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,Tze=w7&&w7.exports===sre,_7=Tze?gl.Buffer:void 0;_7&&_7.allocUnsafe;function Aze(t,e){return t.slice()}var JT=gl.Uint8Array;function Rze(t){var e=new t.constructor(t.byteLength);return new JT(e).set(new JT(t)),e}function Pze(t,e){var n=Rze(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Ize(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var S7=Object.create,kze=function(){function t(){}return function(e){if(!ma(e))return{};if(S7)return S7(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function are(t,e){return function(n){return t(e(n))}}var lre=are(Object.getPrototypeOf,Object),Mze=Object.prototype;function e3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Mze;return t===n}function Nze(t){return typeof t.constructor=="function"&&!e3(t)?kze(lre(t)):{}}function zf(t){return t!=null&&typeof t=="object"}var Dze="[object Arguments]";function E7(t){return zf(t)&&vg(t)==Dze}var ure=Object.prototype,Lze=ure.hasOwnProperty,Oze=ure.propertyIsEnumerable,QT=E7(function(){return arguments}())?E7:function(t){return zf(t)&&Lze.call(t,"callee")&&!Oze.call(t,"callee")},Us=Array.isArray,Fze=9007199254740991;function t3(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fze}function x0(t){return t!=null&&t3(t.length)&&!Q4(t)}function $ze(t){return zf(t)&&x0(t)}function Bze(){return!1}var cre=typeof Os=="object"&&Os&&!Os.nodeType&&Os,C7=cre&&typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,Vze=C7&&C7.exports===cre,T7=Vze?gl.Buffer:void 0,zze=T7?T7.isBuffer:void 0,ZT=zze||Bze,Uze="[object Object]",Hze=Function.prototype,qze=Object.prototype,dre=Hze.toString,jze=qze.hasOwnProperty,Wze=dre.call(Object);function Gze(t){if(!zf(t)||vg(t)!=Uze)return!1;var e=lre(t);if(e===null)return!0;var n=jze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dre.call(n)==Wze}var Kze="[object Arguments]",Yze="[object Array]",Xze="[object Boolean]",Jze="[object Date]",Qze="[object Error]",Zze="[object Function]",e6e="[object Map]",t6e="[object Number]",n6e="[object Object]",r6e="[object RegExp]",i6e="[object Set]",o6e="[object String]",s6e="[object WeakMap]",a6e="[object ArrayBuffer]",l6e="[object DataView]",u6e="[object Float32Array]",c6e="[object Float64Array]",d6e="[object Int8Array]",f6e="[object Int16Array]",h6e="[object Int32Array]",p6e="[object Uint8Array]",g6e="[object Uint8ClampedArray]",m6e="[object Uint16Array]",y6e="[object Uint32Array]",fr={};fr[u6e]=fr[c6e]=fr[d6e]=fr[f6e]=fr[h6e]=fr[p6e]=fr[g6e]=fr[m6e]=fr[y6e]=!0;fr[Kze]=fr[Yze]=fr[a6e]=fr[Xze]=fr[l6e]=fr[Jze]=fr[Qze]=fr[Zze]=fr[e6e]=fr[t6e]=fr[n6e]=fr[r6e]=fr[i6e]=fr[o6e]=fr[s6e]=!1;function v6e(t){return zf(t)&&t3(t.length)&&!!fr[vg(t)]}function b6e(t){return function(e){return t(e)}}var fre=typeof Os=="object"&&Os&&!Os.nodeType&&Os,Lx=fre&&typeof Fs=="object"&&Fs&&!Fs.nodeType&&Fs,x6e=Lx&&Lx.exports===fre,VN=x6e&&rre.process,A7=function(){try{var t=Lx&&Lx.require&&Lx.require("util").types;return t||VN&&VN.binding&&VN.binding("util")}catch{}}(),R7=A7&&A7.isTypedArray,n3=R7?b6e(R7):v6e;function HO(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var w6e=Object.prototype,_6e=w6e.hasOwnProperty;function S6e(t,e,n){var r=t[e];(!(_6e.call(t,e)&&L1(r,n))||n===void 0&&!(e in t))&&Z4(t,e,n)}function E6e(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),i?Z4(n,a,l):S6e(n,a,l)}return n}function C6e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var T6e=9007199254740991,A6e=/^(?:0|[1-9]\d*)$/;function r3(t,e){var n=typeof t;return e=e??T6e,!!e&&(n=="number"||n!="symbol"&&A6e.test(t))&&t>-1&&t%1==0&&t<e}var R6e=Object.prototype,P6e=R6e.hasOwnProperty;function hre(t,e){var n=Us(t),r=!n&&QT(t),i=!n&&!r&&ZT(t),o=!n&&!r&&!i&&n3(t),s=n||r||i||o,a=s?C6e(t.length,String):[],l=a.length;for(var u in t)(e||P6e.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||r3(u,l)))&&a.push(u);return a}function I6e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var k6e=Object.prototype,M6e=k6e.hasOwnProperty;function N6e(t){if(!ma(t))return I6e(t);var e=e3(t),n=[];for(var r in t)r=="constructor"&&(e||!M6e.call(t,r))||n.push(r);return n}function pre(t){return x0(t)?hre(t,!0):N6e(t)}function D6e(t){return E6e(t,pre(t))}function L6e(t,e,n,r,i,o,s){var a=HO(t,n),l=HO(e,n),u=s.get(l);if(u){UO(t,n,u);return}var c=o?o(a,l,n+"",t,e,s):void 0,d=c===void 0;if(d){var h=Us(l),p=!h&&ZT(l),m=!h&&!p&&n3(l);c=l,h||p||m?Us(a)?c=a:$ze(a)?c=Ize(a):p?(d=!1,c=Aze(l)):m?(d=!1,c=Pze(l)):c=[]:Gze(l)||QT(l)?(c=a,QT(a)?c=D6e(a):(!ma(a)||Q4(a))&&(c=Nze(l))):d=!1}d&&(s.set(l,c),i(c,l,r,o,s),s.delete(l)),UO(t,n,c)}function gre(t,e,n,r,i){t!==e&&ore(e,function(o,s){if(i||(i=new xu),ma(o))L6e(t,e,s,n,gre,r,i);else{var a=r?r(HO(t,s),o,s+"",t,e,i):void 0;a===void 0&&(a=o),UO(t,s,a)}},pre)}function nP(t){return t}function O6e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var P7=Math.max;function F6e(t,e,n){return e=P7(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=P7(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),O6e(t,this,a)}}function $6e(t){return function(){return t}}var B6e=XT?function(t,e){return XT(t,"toString",{configurable:!0,enumerable:!1,value:$6e(e),writable:!0})}:nP,V6e=800,z6e=16,U6e=Date.now;function H6e(t){var e=0,n=0;return function(){var r=U6e(),i=z6e-(r-n);if(n=r,i>0){if(++e>=V6e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var q6e=H6e(B6e);function j6e(t,e){return q6e(F6e(t,e,nP),t+"")}function W6e(t,e,n){if(!ma(n))return!1;var r=typeof e;return(r=="number"?x0(n)&&r3(e,n.length):r=="string"&&e in n)?L1(n[e],t):!1}function G6e(t){return j6e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&W6e(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,o)}return e})}var ss=G6e(function(t,e,n){gre(t,e,n)}),O1=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,s=e.styles,a=s===void 0?{}:s,l=Wt(ss({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return oe.createElement("div",{style:l.wrap},oe.createElement("div",{style:l.bg}),oe.createElement("div",{style:l.content},o))};O1.propTypes={background:me.string,zDepth:me.oneOf([0,1,2,3,4,5]),radius:me.number,styles:me.object};O1.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var zN=function(){return gl.Date.now()},K6e=/\s/;function Y6e(t){for(var e=t.length;e--&&K6e.test(t.charAt(e)););return e}var X6e=/^\s+/;function J6e(t){return t&&t.slice(0,Y6e(t)+1).replace(X6e,"")}var Q6e="[object Symbol]";function rP(t){return typeof t=="symbol"||zf(t)&&vg(t)==Q6e}var I7=NaN,Z6e=/^[-+]0x[0-9a-f]+$/i,eUe=/^0b[01]+$/i,tUe=/^0o[0-7]+$/i,nUe=parseInt;function k7(t){if(typeof t=="number")return t;if(rP(t))return I7;if(ma(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ma(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=J6e(t);var n=eUe.test(t);return n||tUe.test(t)?nUe(t.slice(2),n?2:8):Z6e.test(t)?I7:+t}var rUe="Expected a function",iUe=Math.max,oUe=Math.min;function mre(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(rUe);e=k7(e)||0,ma(n)&&(c=!!n.leading,d="maxWait"in n,o=d?iUe(k7(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(N){var R=r,M=i;return r=i=void 0,u=N,s=t.apply(M,R),s}function m(N){return u=N,a=setTimeout(_,e),c?p(N):s}function y(N){var R=N-l,M=N-u,L=e-R;return d?oUe(L,o-M):L}function x(N){var R=N-l,M=N-u;return l===void 0||R>=e||R<0||d&&M>=o}function _(){var N=zN();if(x(N))return E(N);a=setTimeout(_,y(N))}function E(N){return a=void 0,h&&r?p(N):(r=i=void 0,s)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function T(){return a===void 0?s:E(zN())}function I(){var N=zN(),R=x(N);if(r=arguments,i=this,l=N,R){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(_,e),p(l)}return a===void 0&&(a=setTimeout(_,e)),s}return I.cancel=S,I.flush=T,I}var sUe="Expected a function";function aUe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sUe);return ma(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mre(t,e,{leading:r,maxWait:e,trailing:i})}var lUe=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,s=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),c=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>o&&(u=o),c<0?c=0:c>s&&(c=s);var d=u/o,h=1-c/s;return{h:n.h,s:d,v:h,a:n.a,source:"hsv"}},uUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function cUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dUe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iP=function(t){fUe(e,t);function e(n){cUe(this,e);var r=dUe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,lUe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=aUe(function(i,o,s){i(o,s)},50),r}return uUe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,s=i.white,a=i.black,l=i.pointer,u=i.circle,c=Wt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return oe.createElement("div",{style:c.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},oe.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),oe.createElement("div",{style:c.white,className:"saturation-white"},oe.createElement("div",{style:c.black,className:"saturation-black"}),oe.createElement("div",{style:c.pointer},this.props.pointer?oe.createElement(this.props.pointer,this.props):oe.createElement("div",{style:c.circle}))))}}]),e}(F.PureComponent||F.Component);function hUe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var pUe=are(Object.keys,Object),gUe=Object.prototype,mUe=gUe.hasOwnProperty;function yUe(t){if(!e3(t))return pUe(t);var e=[];for(var n in Object(t))mUe.call(t,n)&&n!="constructor"&&e.push(n);return e}function i3(t){return x0(t)?hre(t):yUe(t)}function vUe(t,e){return t&&ore(t,e,i3)}function bUe(t,e){return function(n,r){if(n==null)return n;if(!x0(n))return t(n,r);for(var i=n.length,o=-1,s=Object(n);++o<i&&r(s[o],o,s)!==!1;);return n}}var yre=bUe(vUe);function xUe(t){return typeof t=="function"?t:nP}function wUe(t,e){var n=Us(t)?hUe:yre;return n(t,xUe(e))}function eA(t){"@babel/helpers - typeof";return eA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(t)}var _Ue=/^\s+/,SUe=/\s+$/;function St(t,e){if(t=t||"",e=e||{},t instanceof St)return t;if(!(this instanceof St))return new St(t,e);var n=EUe(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}St.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,s,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=vre(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=N7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=N7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=M7(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=M7(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return D7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return RUe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(br(this._r,255)*100)+"%",g:Math.round(br(this._g,255)*100)+"%",b:Math.round(br(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%)":"rgba("+Math.round(br(this._r,255)*100)+"%, "+Math.round(br(this._g,255)*100)+"%, "+Math.round(br(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:VUe[D7(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+L7(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=St(e);r="#"+L7(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return St(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(MUe,arguments)},brighten:function(){return this._applyModification(NUe,arguments)},darken:function(){return this._applyModification(DUe,arguments)},desaturate:function(){return this._applyModification(PUe,arguments)},saturate:function(){return this._applyModification(IUe,arguments)},greyscale:function(){return this._applyModification(kUe,arguments)},spin:function(){return this._applyModification(LUe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination($Ue,arguments)},complement:function(){return this._applyCombination(OUe,arguments)},monochromatic:function(){return this._applyCombination(BUe,arguments)},splitcomplement:function(){return this._applyCombination(FUe,arguments)},triad:function(){return this._applyCombination(O7,[3])},tetrad:function(){return this._applyCombination(O7,[4])}};St.fromRatio=function(t,e){if(eA(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ex(t[r]));t=n}return St(t,e)};function EUe(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=qUe(t)),eA(t)=="object"&&(ec(t.r)&&ec(t.g)&&ec(t.b)?(e=CUe(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ec(t.h)&&ec(t.s)&&ec(t.v)?(r=ex(t.s),i=ex(t.v),e=AUe(t.h,r,i),s=!0,a="hsv"):ec(t.h)&&ec(t.s)&&ec(t.l)&&(r=ex(t.s),o=ex(t.l),e=TUe(t.h,r,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=vre(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function CUe(t,e,n){return{r:br(t,255)*255,g:br(e,255)*255,b:br(n,255)*255}}function M7(t,e,n){t=br(t,255),e=br(e,255),n=br(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=(r+i)/2;if(r==i)o=s=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function TUe(t,e,n){var r,i,o;t=br(t,360),e=br(e,100),n=br(n,100);function s(u,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?u+(c-u)*6*d:d<1/2?c:d<2/3?u+(c-u)*(2/3-d)*6:u}if(e===0)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=s(l,a,t+1/3),i=s(l,a,t),o=s(l,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function N7(t,e,n){t=br(t,255),e=br(e,255),n=br(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,s,a=r,l=r-i;if(s=r===0?0:l/r,r==i)o=0;else{switch(r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function AUe(t,e,n){t=br(t,360)*6,e=br(e,100),n=br(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function D7(t,e,n,r){var i=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function RUe(t,e,n,r,i){var o=[rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16)),rl(bre(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function L7(t,e,n,r){var i=[rl(bre(r)),rl(Math.round(t).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(n).toString(16))];return i.join("")}St.equals=function(t,e){return!t||!e?!1:St(t).toRgbString()==St(e).toRgbString()};St.random=function(){return St.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function PUe(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.s-=e/100,n.s=oP(n.s),St(n)}function IUe(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.s+=e/100,n.s=oP(n.s),St(n)}function kUe(t){return St(t).desaturate(100)}function MUe(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.l+=e/100,n.l=oP(n.l),St(n)}function NUe(t,e){e=e===0?0:e||10;var n=St(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),St(n)}function DUe(t,e){e=e===0?0:e||10;var n=St(t).toHsl();return n.l-=e/100,n.l=oP(n.l),St(n)}function LUe(t,e){var n=St(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,St(n)}function OUe(t){var e=St(t).toHsl();return e.h=(e.h+180)%360,St(e)}function O7(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=St(t).toHsl(),r=[St(t)],i=360/e,o=1;o<e;o++)r.push(St({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function FUe(t){var e=St(t).toHsl(),n=e.h;return[St(t),St({h:(n+72)%360,s:e.s,l:e.l}),St({h:(n+216)%360,s:e.s,l:e.l})]}function $Ue(t,e,n){e=e||6,n=n||30;var r=St(t).toHsl(),i=360/n,o=[St(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(St(r));return o}function BUe(t,e){e=e||6;for(var n=St(t).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(St({h:r,s:i,v:o})),o=(o+a)%1;return s}St.mix=function(t,e,n){n=n===0?0:n||50;var r=St(t).toRgb(),i=St(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return St(s)};St.readability=function(t,e){var n=St(t),r=St(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};St.isReadable=function(t,e,n){var r=St.readability(t,e),i,o;switch(o=!1,i=jUe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};St.mostReadable=function(t,e,n){var r=null,i=0,o,s,a,l;n=n||{},s=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)o=St.readability(t,e[u]),o>i&&(i=o,r=St(e[u]));return St.isReadable(t,r,{level:a,size:l})||!s?r:(n.includeFallbackColors=!1,St.mostReadable(t,["#fff","#000"],n))};var qO=St.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},VUe=St.hexNames=zUe(qO);function zUe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function vre(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function br(t,e){UUe(t)&&(t="100%");var n=HUe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function oP(t){return Math.min(1,Math.max(0,t))}function xs(t){return parseInt(t,16)}function UUe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function HUe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function rl(t){return t.length==1?"0"+t:""+t}function ex(t){return t<=1&&(t=t*100+"%"),t}function bre(t){return Math.round(parseFloat(t)*255).toString(16)}function F7(t){return xs(t)/255}var Oa=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ec(t){return!!Oa.CSS_UNIT.exec(t)}function qUe(t){t=t.replace(_Ue,"").replace(SUe,"").toLowerCase();var e=!1;if(qO[t])t=qO[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Oa.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Oa.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Oa.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Oa.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Oa.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Oa.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Oa.hex8.exec(t))?{r:xs(n[1]),g:xs(n[2]),b:xs(n[3]),a:F7(n[4]),format:e?"name":"hex8"}:(n=Oa.hex6.exec(t))?{r:xs(n[1]),g:xs(n[2]),b:xs(n[3]),format:e?"name":"hex"}:(n=Oa.hex4.exec(t))?{r:xs(n[1]+""+n[1]),g:xs(n[2]+""+n[2]),b:xs(n[3]+""+n[3]),a:F7(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Oa.hex3.exec(t))?{r:xs(n[1]+""+n[1]),g:xs(n[2]+""+n[2]),b:xs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function jUe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var $7=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return wUe(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var s=/^\d+%$/;s.test(e[o])&&(i+=1)}}),r===i?e:!1},tx=function(e,n){var r=e.hex?St(e.hex):St(e),i=r.toHsl(),o=r.toHsv(),s=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var l=a==="000000"&&s.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:s,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Jf=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&St(e).isValid()},o3=function(e){if(!e)return"#fff";var n=tx(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},UN=function(e,n){var r=e.replace("°","");return St(n+" ("+r+")")._ok},wb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function GUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KUe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var as=function(e){var n=function(r){YUe(i,r);function i(o){GUe(this,i);var s=KUe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return s.handleChange=function(a,l){var u=$7(a);if(u){var c=tx(a,a.h||s.state.oldHue);s.setState(c),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,c,l),s.props.onChange&&s.props.onChange(c,l)}},s.handleSwatchHover=function(a,l){var u=$7(a);if(u){var c=tx(a,a.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(c,l)}},s.state=wb({},tx(o.color,0)),s.debounce=mre(function(a,l,u){a(l,u)},100),s}return WUe(i,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),oe.createElement(e,wb({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return wb({},tx(s.color,a.oldHue))}}]),i}(F.PureComponent||F.Component);return n.propTypes=wb({},e.propTypes),n.defaultProps=wb({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},XUe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JUe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ZUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eHe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ZUe(i,r);function i(){var o,s,a,l;QUe(this,i);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return l=(s=(a=B7(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(c))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},s),B7(a,l)}return JUe(i,[{key:"render",value:function(){return oe.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},oe.createElement(e,XUe({},this.props,this.state)))}}]),i}(oe.Component)},V7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tHe=13,nHe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,s=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,c=e.focus,d=e.focusStyle,h=d===void 0?{}:d,p=n==="transparent",m=Wt({default:{swatch:V7({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,c?h:{})}}),y=function(T){return o(n,T)},x=function(T){return T.keyCode===tHe&&o(n,T)},_=function(T){return s(n,T)},E={};return s&&(E.onMouseOver=_),oe.createElement("div",V7({style:m.swatch,onClick:y,title:l,tabIndex:0,onKeyDown:x},E),u,p&&oe.createElement(v0,{borderRadius:m.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const wg=eHe(nHe);var rHe=function(e){var n=e.direction,r=Wt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},iHe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xre=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,s=e.onChange,a=e.direction,l=e.style,u=e.renderers,c=e.pointer,d=e.className,h=d===void 0?"":d,p=Wt({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:l}}});return oe.createElement("div",{style:p.picker,className:"alpha-picker "+h},oe.createElement(J4,iHe({},p.alpha,{rgb:n,hsl:r,pointer:c,renderers:u,onChange:s,direction:a})))};xre.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:rHe};as(xre);function wre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var oHe="__lodash_hash_undefined__";function sHe(t){return this.__data__.set(t,oHe),this}function aHe(t){return this.__data__.has(t)}function tA(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cd;++e<n;)this.add(t[e])}tA.prototype.add=tA.prototype.push=sHe;tA.prototype.has=aHe;function lHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function uHe(t,e){return t.has(e)}var cHe=1,dHe=2;function _re(t,e,n,r,i,o){var s=n&cHe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,p=n&dHe?new tA:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],y=e[d];if(r)var x=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!lHe(e,function(_,E){if(!uHe(p,E)&&(m===_||i(m,_,n,r,o)))return p.push(E)})){h=!1;break}}else if(!(m===y||i(m,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}function fHe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function hHe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var pHe=1,gHe=2,mHe="[object Boolean]",yHe="[object Date]",vHe="[object Error]",bHe="[object Map]",xHe="[object Number]",wHe="[object RegExp]",_He="[object Set]",SHe="[object String]",EHe="[object Symbol]",CHe="[object ArrayBuffer]",THe="[object DataView]",z7=Vf?Vf.prototype:void 0,HN=z7?z7.valueOf:void 0;function AHe(t,e,n,r,i,o,s){switch(n){case THe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case CHe:return!(t.byteLength!=e.byteLength||!o(new JT(t),new JT(e)));case mHe:case yHe:case xHe:return L1(+t,+e);case vHe:return t.name==e.name&&t.message==e.message;case wHe:case SHe:return t==e+"";case bHe:var a=fHe;case _He:var l=r&pHe;if(a||(a=hHe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=gHe,s.set(t,e);var c=_re(a(t),a(e),r,i,o,s);return s.delete(t),c;case EHe:if(HN)return HN.call(t)==HN.call(e)}return!1}function RHe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function PHe(t,e,n){var r=e(t);return Us(t)?r:RHe(r,n(t))}function IHe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function kHe(){return[]}var MHe=Object.prototype,NHe=MHe.propertyIsEnumerable,U7=Object.getOwnPropertySymbols,DHe=U7?function(t){return t==null?[]:(t=Object(t),IHe(U7(t),function(e){return NHe.call(t,e)}))}:kHe;function H7(t){return PHe(t,i3,DHe)}var LHe=1,OHe=Object.prototype,FHe=OHe.hasOwnProperty;function $He(t,e,n,r,i,o){var s=n&LHe,a=H7(t),l=a.length,u=H7(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:FHe.call(e,h)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var y=!0;o.set(t,e),o.set(e,t);for(var x=s;++d<l;){h=a[d];var _=t[h],E=e[h];if(r)var S=s?r(E,_,h,e,t,o):r(_,E,h,t,e,o);if(!(S===void 0?_===E||i(_,E,n,r,o):S)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var T=t.constructor,I=e.constructor;T!=I&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(y=!1)}return o.delete(t),o.delete(e),y}var jO=xg(gl,"DataView"),WO=xg(gl,"Promise"),GO=xg(gl,"Set"),KO=xg(gl,"WeakMap"),q7="[object Map]",BHe="[object Object]",j7="[object Promise]",W7="[object Set]",G7="[object WeakMap]",K7="[object DataView]",VHe=bg(jO),zHe=bg(ww),UHe=bg(WO),HHe=bg(GO),qHe=bg(KO),Kd=vg;(jO&&Kd(new jO(new ArrayBuffer(1)))!=K7||ww&&Kd(new ww)!=q7||WO&&Kd(WO.resolve())!=j7||GO&&Kd(new GO)!=W7||KO&&Kd(new KO)!=G7)&&(Kd=function(t){var e=vg(t),n=e==BHe?t.constructor:void 0,r=n?bg(n):"";if(r)switch(r){case VHe:return K7;case zHe:return q7;case UHe:return j7;case HHe:return W7;case qHe:return G7}return e});var jHe=1,Y7="[object Arguments]",X7="[object Array]",FE="[object Object]",WHe=Object.prototype,J7=WHe.hasOwnProperty;function GHe(t,e,n,r,i,o){var s=Us(t),a=Us(e),l=s?X7:Kd(t),u=a?X7:Kd(e);l=l==Y7?FE:l,u=u==Y7?FE:u;var c=l==FE,d=u==FE,h=l==u;if(h&&ZT(t)){if(!ZT(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new xu),s||n3(t)?_re(t,e,n,r,i,o):AHe(t,e,l,n,r,i,o);if(!(n&jHe)){var p=c&&J7.call(t,"__wrapped__"),m=d&&J7.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,x=m?e.value():e;return o||(o=new xu),i(y,x,n,r,o)}}return h?(o||(o=new xu),$He(t,e,n,r,i,o)):!1}function s3(t,e,n,r,i){return t===e?!0:t==null||e==null||!zf(t)&&!zf(e)?t!==t&&e!==e:GHe(t,e,n,r,s3,i)}var KHe=1,YHe=2;function XHe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var a=s[0],l=t[a],u=s[1];if(s[2]){if(l===void 0&&!(a in t))return!1}else{var c=new xu,d;if(!(d===void 0?s3(u,l,KHe|YHe,r,c):d))return!1}}return!0}function Sre(t){return t===t&&!ma(t)}function JHe(t){for(var e=i3(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sre(i)]}return e}function Ere(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function QHe(t){var e=JHe(t);return e.length==1&&e[0][2]?Ere(e[0][0],e[0][1]):function(n){return n===t||XHe(n,t,e)}}var ZHe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e9e=/^\w*$/;function a3(t,e){if(Us(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||rP(t)?!0:e9e.test(t)||!ZHe.test(t)||e!=null&&t in Object(e)}var t9e="Expected a function";function l3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(t9e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(l3.Cache||cd),n}l3.Cache=cd;var n9e=500;function r9e(t){var e=l3(t,function(r){return n.size===n9e&&n.clear(),r}),n=e.cache;return e}var i9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o9e=/\\(\\)?/g,s9e=r9e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(i9e,function(n,r,i,o){e.push(i?o.replace(o9e,"$1"):r||n)}),e}),Q7=Vf?Vf.prototype:void 0,Z7=Q7?Q7.toString:void 0;function Cre(t){if(typeof t=="string")return t;if(Us(t))return wre(t,Cre)+"";if(rP(t))return Z7?Z7.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function a9e(t){return t==null?"":Cre(t)}function Tre(t,e){return Us(t)?t:a3(t,e)?[t]:s9e(a9e(t))}function sP(t){if(typeof t=="string"||rP(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Are(t,e){e=Tre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sP(e[n++])];return n&&n==r?t:void 0}function l9e(t,e,n){var r=t==null?void 0:Are(t,e);return r===void 0?n:r}function u9e(t,e){return t!=null&&e in Object(t)}function c9e(t,e,n){e=Tre(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=sP(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&t3(i)&&r3(s,i)&&(Us(t)||QT(t)))}function d9e(t,e){return t!=null&&c9e(t,e,u9e)}var f9e=1,h9e=2;function p9e(t,e){return a3(t)&&Sre(e)?Ere(sP(t),e):function(n){var r=l9e(n,t);return r===void 0&&r===e?d9e(n,t):s3(e,r,f9e|h9e)}}function g9e(t){return function(e){return e==null?void 0:e[t]}}function m9e(t){return function(e){return Are(e,t)}}function y9e(t){return a3(t)?g9e(sP(t)):m9e(t)}function v9e(t){return typeof t=="function"?t:t==null?nP:typeof t=="object"?Us(t)?p9e(t[0],t[1]):QHe(t):y9e(t)}function b9e(t,e){var n=-1,r=x0(t)?Array(t.length):[];return yre(t,function(i,o,s){r[++n]=e(i,o,s)}),r}function _g(t,e){var n=Us(t)?wre:b9e;return n(t,v9e(e))}var x9e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=Wt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return oe.createElement("div",{style:o.swatches},_g(n,function(s){return oe.createElement(wg,{key:s,color:s,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+s}})}),oe.createElement("div",{style:o.clear}))},u3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=i==="transparent",p=function(x,_){Jf(x)&&n({hex:x,source:"hex"},_)},m=Wt(ss({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:o3(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return oe.createElement("div",{style:m.card,className:"block-picker "+d},oe.createElement("div",{style:m.triangle}),oe.createElement("div",{style:m.head},h&&oe.createElement(v0,{borderRadius:"6px 6px 0 0"}),oe.createElement("div",{style:m.label},i)),oe.createElement("div",{style:m.body},oe.createElement(x9e,{colors:o,onClick:p,onSwatchHover:r}),oe.createElement(wn,{style:{input:m.input},value:i,onChange:p})))};u3.propTypes={width:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.string),triangle:me.oneOf(["top","hide"]),styles:me.object};u3.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};as(u3);var Vm={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},zm={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Um={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Hm={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},qm={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},jm={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Wm={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Gm={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Km={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},nx={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Ym={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Xm={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Jm={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},Qm={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},Zm={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},ey={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},ty={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},ny={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},Rre=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,s=e.active,a=e.circleSize,l=e.circleSpacing,u=Wt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:s});return oe.createElement("div",{style:u.swatch},oe.createElement(wg,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};Rre.defaultProps={circleSize:28,circleSpacing:14};const w9e=X4.handleHover(Rre);var c3=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,s=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,d=e.className,h=d===void 0?"":d,p=Wt(ss({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),m=function(x,_){return r({hex:x,source:"hex"},_)};return oe.createElement("div",{style:p.card,className:"circle-picker "+h},_g(o,function(y){return oe.createElement(w9e,{key:y,color:y,onClick:m,onSwatchHover:i,active:s===y.toLowerCase(),circleSize:a,circleSpacing:c})}))};c3.propTypes={width:me.oneOfType([me.string,me.number]),circleSize:me.number,circleSpacing:me.number,styles:me.object};c3.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Vm[500],zm[500],Um[500],Hm[500],qm[500],jm[500],Wm[500],Gm[500],Km[500],nx[500],Ym[500],Xm[500],Jm[500],Qm[500],Zm[500],ey[500],ty[500],ny[500]],styles:{}};as(c3);function eG(t){return t===void 0}var $E={},tG;function _9e(){if(tG)return $E;tG=1,Object.defineProperty($E,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=dl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return $E.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},$E}var S9e=_9e();const E9e=lo(S9e);var C9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function T9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pre=function(t){R9e(e,t);function e(n){T9e(this,e);var r=A9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Jf(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(eG(i.s)?r.props.hsl.s:i.s),l:Number(eG(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return C9e(e,[{key:"render",value:function(){var r=this,i=Wt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=oe.createElement("div",{style:i.fields,className:"flexbox-fix"},oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.field},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),oe.createElement("div",{style:i.alpha},oe.createElement(wn,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),oe.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,oe.createElement("div",{style:i.toggle},oe.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},oe.createElement(E9e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(oe.Component);Pre.defaultProps={view:"hex"};var nG=function(){var e=Wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},P9e=function(){var e=Wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return oe.createElement("div",{style:e.picker})},d3=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,s=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,c=e.styles,d=c===void 0?{}:c,h=e.className,p=h===void 0?"":h,m=e.defaultView,y=Wt(ss({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:i});return oe.createElement("div",{style:y.picker,className:"chrome-picker "+p},oe.createElement("div",{style:y.saturation},oe.createElement(iP,{style:y.Saturation,hsl:s,hsv:a,pointer:P9e,onChange:r})),oe.createElement("div",{style:y.body},oe.createElement("div",{style:y.controls,className:"flexbox-fix"},oe.createElement("div",{style:y.color},oe.createElement("div",{style:y.swatch},oe.createElement("div",{style:y.active}),oe.createElement(v0,{renderers:u}))),oe.createElement("div",{style:y.toggles},oe.createElement("div",{style:y.hue},oe.createElement(b0,{style:y.Hue,hsl:s,pointer:nG,onChange:r})),oe.createElement("div",{style:y.alpha},oe.createElement(J4,{style:y.Alpha,rgb:o,hsl:s,pointer:nG,renderers:u,onChange:r})))),oe.createElement(Pre,{rgb:o,hsl:s,hex:l,view:m,onChange:r,disableAlpha:i})))};d3.propTypes={width:me.oneOfType([me.string,me.number]),disableAlpha:me.bool,styles:me.object,defaultView:me.oneOf(["hex","rgb","hsl"])};d3.defaultProps={width:225,disableAlpha:!1,styles:{}};const I9e=as(d3);var k9e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.active,a=Wt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:o3(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(wg,{style:a.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:a.dot}))},M9e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=Wt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return oe.createElement("div",{style:o.fields,className:"flexbox-fix"},oe.createElement("div",{style:o.active}),oe.createElement(wn,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:s}),oe.createElement(wn,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:s}))},f3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,s=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Wt(ss({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(m,y){m.hex?Jf(m.hex)&&n({hex:m.hex,source:"hex"},y):n(m,y)};return oe.createElement(O1,{style:d.Compact,styles:l},oe.createElement("div",{style:d.compact,className:"compact-picker "+c},oe.createElement("div",null,_g(i,function(p){return oe.createElement(k9e,{key:p,color:p,active:p.toLowerCase()===o,onClick:h,onSwatchHover:r})}),oe.createElement("div",{style:d.clear})),oe.createElement(M9e,{hex:o,rgb:s,onChange:h})))};f3.propTypes={colors:me.arrayOf(me.string),styles:me.object};f3.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};as(f3);var N9e=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Wt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return oe.createElement("div",{style:a.swatch},oe.createElement(wg,{color:r,onClick:i,onHover:o,focusStyle:s}))};const D9e=X4.handleHover(N9e);var h3=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,s=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,c=u===void 0?"":u,d=Wt(ss({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right","bottom-left-triangle":s==="bottom-left","bottom-right-triangle":s==="bottom-right"}),h=function(m,y){return i({hex:m,source:"hex"},y)};return oe.createElement("div",{style:d.card,className:"github-picker "+c},oe.createElement("div",{style:d.triangleShadow}),oe.createElement("div",{style:d.triangle}),_g(r,function(p){return oe.createElement(D9e,{color:p,key:p,onClick:h,onSwatchHover:o})}))};h3.propTypes={width:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.string),triangle:me.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:me.object};h3.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};as(h3);var L9e=function(e){var n=e.direction,r=Wt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return oe.createElement("div",{style:r.picker})},O9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,s=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Wt(ss({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),p=function(y){return i({a:1,h:y.h,l:.5,s:1})};return oe.createElement("div",{style:h.picker,className:"hue-picker "+d},oe.createElement(b0,O9e({},h.hue,{hsl:o,pointer:a,onChange:p,direction:s})))};p3.propTypes={styles:me.object};p3.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:L9e,styles:{}};as(p3);var F9e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Wt(ss({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),c=function(h,p){h.hex?Jf(h.hex)&&n({hex:h.hex,source:"hex"},p):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},p)};return oe.createElement(O1,{styles:s},oe.createElement("div",{style:u.material,className:"material-picker "+l},oe.createElement(wn,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:c}),oe.createElement("div",{style:u.split,className:"flexbox-fix"},oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),oe.createElement("div",{style:u.third},oe.createElement(wn,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};as(F9e);var $9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,s=Wt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,c){u["#"]?Jf(u["#"])&&n({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},c):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return oe.createElement("div",{style:s.fields},oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),oe.createElement(wn,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),oe.createElement("div",{style:s.divider}),oe.createElement(wn,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),oe.createElement("div",{style:s.fieldSymbols},oe.createElement("div",{style:s.symbol},"°"),oe.createElement("div",{style:s.symbol},"%"),oe.createElement("div",{style:s.symbol},"%")))},B9e=function(e){var n=e.hsl,r=Wt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return oe.createElement("div",{style:r.picker})},V9e=function(){var e=Wt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return oe.createElement("div",{style:e.pointer},oe.createElement("div",{style:e.left},oe.createElement("div",{style:e.leftInside})),oe.createElement("div",{style:e.right},oe.createElement("div",{style:e.rightInside})))},rG=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,s=Wt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return oe.createElement("div",{style:s.button,onClick:n},r||i)},z9e=function(e){var n=e.rgb,r=e.currentColor,i=Wt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return oe.createElement("div",null,oe.createElement("div",{style:i.label},"new"),oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.new}),oe.createElement("div",{style:i.current})),oe.createElement("div",{style:i.label},"current"))},U9e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function H9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function j9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g3=function(t){j9e(e,t);function e(n){H9e(this,e);var r=q9e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return U9e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,s=r.className,a=s===void 0?"":s,l=Wt(ss({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return oe.createElement("div",{style:l.picker,className:"photoshop-picker "+a},oe.createElement("div",{style:l.head},this.props.header),oe.createElement("div",{style:l.body,className:"flexbox-fix"},oe.createElement("div",{style:l.saturation},oe.createElement(iP,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:B9e,onChange:this.props.onChange})),oe.createElement("div",{style:l.hue},oe.createElement(b0,{direction:"vertical",hsl:this.props.hsl,pointer:V9e,onChange:this.props.onChange})),oe.createElement("div",{style:l.controls},oe.createElement("div",{style:l.top,className:"flexbox-fix"},oe.createElement("div",{style:l.previews},oe.createElement(z9e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),oe.createElement("div",{style:l.actions},oe.createElement(rG,{label:"OK",onClick:this.props.onAccept,active:!0}),oe.createElement(rG,{label:"Cancel",onClick:this.props.onCancel}),oe.createElement($9e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(oe.Component);g3.propTypes={header:me.string,styles:me.object};g3.defaultProps={header:"Color Picker",styles:{}};as(g3);var W9e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.disableAlpha,a=Wt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(c,d){c.hex?Jf(c.hex)&&n({hex:c.hex,source:"hex"},d):c.r||c.g||c.b?n({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,a:r.a,source:"rgb"},d):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,n({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},d))};return oe.createElement("div",{style:a.fields,className:"flexbox-fix"},oe.createElement("div",{style:a.double},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.single},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),oe.createElement("div",{style:a.alpha},oe.createElement(wn,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},G9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ire=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=Wt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,c){i({hex:u,source:"hex"},c)};return oe.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return oe.createElement("div",{key:c,style:s.swatchWrap},oe.createElement(wg,G9e({},u,{style:s.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};Ire.propTypes={colors:me.arrayOf(me.oneOfType([me.string,me.shape({color:me.string,title:me.string})])).isRequired};var K9e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m3=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,s=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,y=m===void 0?"":m,x=Wt(ss({default:K9e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return oe.createElement("div",{style:x.picker,className:"sketch-picker "+y},oe.createElement("div",{style:x.saturation},oe.createElement(iP,{style:x.Saturation,hsl:s,hsv:o,onChange:a})),oe.createElement("div",{style:x.controls,className:"flexbox-fix"},oe.createElement("div",{style:x.sliders},oe.createElement("div",{style:x.hue},oe.createElement(b0,{style:x.Hue,hsl:s,onChange:a})),oe.createElement("div",{style:x.alpha},oe.createElement(J4,{style:x.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),oe.createElement("div",{style:x.color},oe.createElement(v0,null),oe.createElement("div",{style:x.activeColor}))),oe.createElement(W9e,{rgb:r,hsl:s,hex:i,onChange:a,disableAlpha:u}),oe.createElement(Ire,{colors:c,onClick:a,onSwatchHover:l}))};m3.propTypes={disableAlpha:me.bool,width:me.oneOfType([me.string,me.number]),styles:me.object};m3.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};as(m3);var _b=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,s=e.active,a=e.first,l=e.last,u=Wt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l}),c=function(h){return o({h:n.h,s:.5,l:r,source:"hsl"},h)};return oe.createElement("div",{style:u.swatch,onClick:c})},Y9e=function(e){var n=e.onClick,r=e.hsl,i=Wt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return oe.createElement("div",{style:i.swatches},oe.createElement("div",{style:i.swatch},oe.createElement(_b,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),oe.createElement("div",{style:i.swatch},oe.createElement(_b,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(_b,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(_b,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),oe.createElement("div",{style:i.swatch},oe.createElement(_b,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),oe.createElement("div",{style:i.clear}))},X9e=function(){var e=Wt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return oe.createElement("div",{style:e.picker})},y3=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,s=o===void 0?{}:o,a=e.className,l=a===void 0?"":a,u=Wt(ss({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return oe.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},oe.createElement("div",{style:u.hue},oe.createElement(b0,{style:u.Hue,hsl:n,pointer:i,onChange:r})),oe.createElement("div",{style:u.swatches},oe.createElement(Y9e,{hsl:n,onClick:r})))};y3.propTypes={styles:me.object};y3.defaultProps={pointer:X9e,styles:{}};as(y3);var BE={},iG;function J9e(){if(iG)return BE;iG=1,Object.defineProperty(BE,"__esModule",{value:!0});var t=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s},e=dl(),n=r(e);function r(s){return s&&s.__esModule?s:{default:s}}function i(s,a){var l={};for(var u in s)a.indexOf(u)>=0||Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=s[u]);return l}var o=24;return BE.default=function(s){var a=s.fill,l=a===void 0?"currentColor":a,u=s.width,c=u===void 0?o:u,d=s.height,h=d===void 0?o:d,p=s.style,m=p===void 0?{}:p,y=i(s,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:l,width:c,height:h},m)},y),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},BE}var Q9e=J9e();const Z9e=lo(Q9e);var eqe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,s=e.first,a=e.last,l=e.active,u=Wt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:o3(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return oe.createElement(wg,{color:n,style:u.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},oe.createElement("div",{style:u.check},oe.createElement(Z9e,null)))},tqe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,s=Wt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return oe.createElement("div",{style:s.group},_g(i,function(a,l){return oe.createElement(eqe,{key:a,color:a,active:a.toLowerCase()===o,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},v3=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,s=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Wt(ss({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(y,x){return i({hex:y,source:"hex"},x)};return oe.createElement("div",{style:h.picker,className:"swatches-picker "+d},oe.createElement(O1,null,oe.createElement("div",{style:h.overflow},oe.createElement("div",{style:h.body},_g(s,function(m){return oe.createElement(tqe,{key:m.toString(),group:m,active:a,onClick:p,onSwatchHover:o})}),oe.createElement("div",{style:h.clear})))))};v3.propTypes={width:me.oneOfType([me.string,me.number]),height:me.oneOfType([me.string,me.number]),colors:me.arrayOf(me.arrayOf(me.string)),styles:me.object};v3.defaultProps={width:320,height:240,colors:[[Vm[900],Vm[700],Vm[500],Vm[300],Vm[100]],[zm[900],zm[700],zm[500],zm[300],zm[100]],[Um[900],Um[700],Um[500],Um[300],Um[100]],[Hm[900],Hm[700],Hm[500],Hm[300],Hm[100]],[qm[900],qm[700],qm[500],qm[300],qm[100]],[jm[900],jm[700],jm[500],jm[300],jm[100]],[Wm[900],Wm[700],Wm[500],Wm[300],Wm[100]],[Gm[900],Gm[700],Gm[500],Gm[300],Gm[100]],[Km[900],Km[700],Km[500],Km[300],Km[100]],["#194D33",nx[700],nx[500],nx[300],nx[100]],[Ym[900],Ym[700],Ym[500],Ym[300],Ym[100]],[Xm[900],Xm[700],Xm[500],Xm[300],Xm[100]],[Jm[900],Jm[700],Jm[500],Jm[300],Jm[100]],[Qm[900],Qm[700],Qm[500],Qm[300],Qm[100]],[Zm[900],Zm[700],Zm[500],Zm[300],Zm[100]],[ey[900],ey[700],ey[500],ey[300],ey[100]],[ty[900],ty[700],ty[500],ty[300],ty[100]],[ny[900],ny[700],ny[500],ny[300],ny[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};as(v3);var b3=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,s=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,d=c===void 0?"":c,h=Wt(ss({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),p=function(y,x){Jf(y)&&n({hex:y,source:"hex"},x)};return oe.createElement("div",{style:h.card,className:"twitter-picker "+d},oe.createElement("div",{style:h.triangleShadow}),oe.createElement("div",{style:h.triangle}),oe.createElement("div",{style:h.body},_g(o,function(m,y){return oe.createElement(wg,{key:y,color:m,hex:m,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+m}})}),oe.createElement("div",{style:h.hash},"#"),oe.createElement(wn,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:p}),oe.createElement("div",{style:h.clear})))};b3.propTypes={width:me.oneOfType([me.string,me.number]),triangle:me.oneOf(["hide","top-left","top-right"]),colors:me.arrayOf(me.string),styles:me.object};b3.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};as(b3);var x3=function(e){var n=Wt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return oe.createElement("div",{style:n.picker})};x3.propTypes={hsl:me.shape({h:me.number,s:me.number,l:me.number,a:me.number})};x3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var w3=function(e){var n=Wt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return oe.createElement("div",{style:n.picker})};w3.propTypes={hsl:me.shape({h:me.number,s:me.number,l:me.number,a:me.number})};w3.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var nqe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,s=e.hsv,a=function(p,m){if(p.hex)Jf(p.hex)&&n({hex:p.hex,source:"hex"},m);else if(p.rgb){var y=p.rgb.split(",");UN(p.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},m)}else if(p.hsv){var x=p.hsv.split(",");UN(p.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("°",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},m))}else if(p.hsl){var _=p.hsl.split(",");UN(p.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("°",""),d[1]==1?d[1]=.01:d[2]==1&&(d[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},m))}},l=Wt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",d=Math.round(s.h)+"°, "+Math.round(s.s*100)+"%, "+Math.round(s.v*100)+"%";return oe.createElement("div",{style:l.wrap,className:"flexbox-fix"},oe.createElement("div",{style:l.fields},oe.createElement("div",{style:l.double},oe.createElement(wn,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),oe.createElement("div",{style:l.column},oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),oe.createElement("div",{style:l.single},oe.createElement(wn,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:a})))))},_3=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,s=e.hsv,a=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,p=Wt(ss({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return oe.createElement("div",{style:p.picker,className:"google-picker "+h},oe.createElement("div",{style:p.head},l),oe.createElement("div",{style:p.swatch}),oe.createElement("div",{style:p.saturation},oe.createElement(iP,{hsl:o,hsv:s,pointer:x3,onChange:r})),oe.createElement("div",{style:p.body},oe.createElement("div",{style:p.controls,className:"flexbox-fix"},oe.createElement("div",{style:p.hue},oe.createElement(b0,{style:p.Hue,hsl:o,radius:"4px",pointer:w3,onChange:r}))),oe.createElement(nqe,{rgb:i,hsl:o,hex:a,hsv:s,onChange:r})))};_3.propTypes={width:me.oneOfType([me.string,me.number]),styles:me.object,header:me.string};_3.defaultProps={width:652,styles:{},header:"Color picker"};as(_3);const rqe=["#FFADAD","#FFD6A5","#FDFFB6","#CAFFBF","#9BF6FF","#A0C4FF","#BDB2FF","#FFC6FF"];function iqe(){var de,se,ce,he,ve,be,Re;const{userData:t}=c0(),{mode:e,setMode:n,viewingPaperId:r}=Wf(),{readPurposes:i,currentReadId:o,setCurrentReadId:s,displayedReads:a,toggleRead:l,createRead:u,generateReadingGoals:c,saveReadingData:d,saving:h,stopUpdateReadingSession:p,resetPaperContext:m}=Gf(),{togglePaperForAnalytics:y,toggleUserForAnalytics:x}=x1(),{setRunTour:_}=WPe(),E=qR(),[S,T]=F.useState(""),[I,N]=F.useState(null),[R,M]=F.useState(!1),[L,k]=F.useState(!1),[D,V]=F.useState(""),[$,H]=F.useState(null),[G,K]=F.useState(!1),[J,ee]=F.useState(null),X=async()=>{M(!0),k(!0);const pe=await c();if(!pe){k(!1);return}V(pe.readingProgress),H(pe.readingGoals),k(!1)},j=()=>{if(!S){alert("Please enter a title");return}if(!I){alert("Please select a color");return}u(S,I),Y()},Y=()=>{T(""),N(null),M(!1),K(!1)},ae=()=>{_(!0)},q=()=>{ee(null)},Q=(pe,Ce)=>{Ce.stopPropagation(),l(pe)},te=pe=>{s(pe),q()},ue=async()=>{e===So.READING?(p(),await d(),m(),y(r),x(t.id),n(So.ANALYZING)):e===So.ANALYZING&&n(So.READING)};return O.jsxs("div",{className:"NavBar",children:[O.jsxs("div",{className:"logo-text",children:[O.jsx("img",{src:R4,height:40,alt:"re:ad",style:{cursor:"pointer"},onClick:()=>{E("/papers")}}),O.jsx(la,{sx:{ml:3},className:"mui-button",size:"small",onClick:ae,children:O.jsx(M5e,{})})]}),O.jsx(He,{className:"reads-dropdown",children:e==="reading"?O.jsx(O.Fragment,{children:Object.values(i).length>0?O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:2},children:[o?O.jsx(ar,{variant:"outlined",endIcon:O.jsx(s8,{}),onClick:pe=>ee(pe.currentTarget),className:"nav-read-btn",sx:{borderColor:((de=i[o])==null?void 0:de.color)||"#ccc","&:hover":{borderColor:((se=i[o])==null?void 0:se.color)||"#ccc",backgroundColor:`${(ce=i[o])==null?void 0:ce.color}20`||"#f5f5f5"}},children:(he=i[o])==null?void 0:he.title}):O.jsx(ar,{variant:"outlined",endIcon:O.jsx(s8,{}),onClick:pe=>ee(pe.currentTarget),className:"nav-read-btn",sx:{borderColor:((ve=i[o])==null?void 0:ve.color)||"#ccc","&:hover":{borderColor:((be=i[o])==null?void 0:be.color)||"#ccc",backgroundColor:`${(Re=i[o])==null?void 0:Re.color}20`||"#f5f5f5"}},children:"Please select an active read"}),O.jsx(zR,{anchorEl:J,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:!!J,onClose:q,sx:{minWidth:"200px"},children:Object.values(i).map(pe=>O.jsxs(bw,{onClick:()=>te(pe.id),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,backgroundColor:o===pe.id?`${pe.color}20`:"transparent","&:hover":{backgroundColor:`${pe.color}30`}},children:[O.jsx(vw,{children:O.jsx(LO,{checked:a.includes(pe.id),disabled:o===pe.id,onClick:Ce=>Q(pe.id,Ce),sx:{color:pe.color,"&.Mui-checked":{color:pe.color},"&.Mui-disabled":{color:pe.color}}})}),O.jsx(Zp,{primary:pe.title,sx:{"& .MuiListItemText-primary":{fontWeight:o===pe.id?"bold":"normal"}}}),O.jsx(He,{sx:{width:12,height:12,backgroundColor:pe.color,borderRadius:"50%",ml:1}})]},pe.id))}),O.jsx(la,{onClick:X,size:"small",children:O.jsx(Hk,{})})]}):O.jsx(ar,{className:"mui-button add-new-read-btn",size:"small",variant:"outlined",startIcon:O.jsx(Hk,{}),onClick:X,sx:{textTransform:"none"},children:"New Read"})}):O.jsx(He,{sx:{display:"flex",alignItems:"center"},children:O.jsx(Ze,{variant:"h6",sx:{color:"text.primary",fontWeight:"medium"},children:"Analysis Mode"})})}),O.jsxs(He,{sx:{mx:2,display:"flex",gap:2,alignItems:"center",justifyContent:"flex-end"},children:[e==="reading"&&O.jsx(la,{onClick:d,disabled:h,size:"small",children:O.jsx(I5e,{fontSize:"small"})}),O.jsxs(He,{className:"nav-mode-switch",children:[O.jsx(E5e,{sx:{boxSizing:"border-box",color:e==="reading"?"primary.main":"text.secondary"}}),O.jsx(une,{checked:e==="analyzing",onChange:ue,inputProps:{"aria-label":"toggle mode"},sx:{boxSizing:"border-box","& .MuiSwitch-thumb":{backgroundColor:"white"},"& .MuiSwitch-track":{backgroundColor:"primary.main"}}}),O.jsx(dne,{sx:{boxSizing:"border-box",color:e==="analyzing"?"primary.main":"text.secondary"}})]})]}),e==="reading"&&O.jsxs(_C,{open:R,children:[O.jsx(CC,{children:"Create New Read"}),O.jsxs(EC,{sx:{minWidth:"20vw",p:3,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O.jsx(Ko,{fullWidth:!0,multiline:!0,label:"Title",value:S,onChange:pe=>T(pe.target.value),sx:{my:1}}),L?O.jsxs(He,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[O.jsx("p",{style:{animation:"pulse 1.5s ease-in-out infinite",fontSize:"16px",color:"#666"},children:"Generating reading goals..."}),O.jsx("style",{children:`
                  @keyframes pulse {
                    0% { opacity: 0.4; }
                    50% { opacity: 1; }
                    100% { opacity: 0.4; }
                  }
                `})]}):O.jsxs(He,{sx:{my:2,display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:2},children:[O.jsxs(He,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[O.jsx(Ze,{variant:"body1",sx:{fontWeight:"bold"},children:"Reading Progress:"}),O.jsx(Ze,{variant:"body1",children:D})]}),O.jsxs(He,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:1},children:[O.jsx(Ze,{variant:"body1",sx:{fontWeight:"bold"},children:"Suggested Reading Goals:"}),O.jsx(He,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:$&&$.map(pe=>O.jsx(lne,{title:pe.goalDescription,children:O.jsx(NO,{label:pe.goalName,variant:"outlined",onClick:()=>T(pe.goalName)})},pe.goalName))})]})]}),O.jsxs(He,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:1},children:[O.jsx(Ze,{variant:"body1",sx:{fontWeight:"bold"},children:"Color Palette:"}),O.jsxs(He,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"flex-start",gap:1},children:[rqe.map(pe=>O.jsx(He,{sx:{width:20,height:20,backgroundColor:pe,borderRadius:4,border:pe===I?"2px solid black":"none"},onClick:()=>N(pe)},pe)),G?O.jsx(la,{onClick:()=>{K(!1),N(null)},children:O.jsx(fne,{})}):O.jsx(la,{onClick:()=>K(!0),children:O.jsx(Hk,{})})]}),G&&O.jsx(I9e,{disableAlpha:!0,color:I??"#000000",onChange:(pe,Ce)=>{N(pe.hex),Ce.preventDefault()}})]})]}),O.jsxs(SC,{sx:{p:2},children:[O.jsx(ar,{variant:"text",color:"error",onClick:Y,children:"Cancel"}),O.jsx(ar,{variant:"text",onClick:j,children:"Create"})]})]}),O.jsxs(w4,{sx:{color:"#fff",zIndex:pe=>pe.zIndex.drawer+1,flexDirection:"column",gap:2},open:h,children:[O.jsx(f4,{color:"inherit"}),O.jsx(Ze,{variant:"h6",children:"Saving your work..."})]})]})}const oqe="modulepreload",sqe=function(t){return"/re-ad/"+t},oG={},rx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(u=>{if(u=sqe(u),u in oG)return;oG[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":oqe,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var qN,sG;function aqe(){if(sG)return qN;sG=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=typeof wf=="object"&&wf&&wf.Object===Object&&wf,u=typeof self=="object"&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype,h=d.toString,p=Math.max,m=Math.min,y=function(){return c.Date.now()};function x(I,N,R){var M,L,k,D,V,$,H=0,G=!1,K=!1,J=!0;if(typeof I!="function")throw new TypeError(t);N=T(N)||0,_(R)&&(G=!!R.leading,K="maxWait"in R,k=K?p(T(R.maxWait)||0,N):k,J="trailing"in R?!!R.trailing:J);function ee(de){var se=M,ce=L;return M=L=void 0,H=de,D=I.apply(ce,se),D}function X(de){return H=de,V=setTimeout(ae,N),G?ee(de):D}function j(de){var se=de-$,ce=de-H,he=N-se;return K?m(he,k-ce):he}function Y(de){var se=de-$,ce=de-H;return $===void 0||se>=N||se<0||K&&ce>=k}function ae(){var de=y();if(Y(de))return q(de);V=setTimeout(ae,j(de))}function q(de){return V=void 0,J&&M?ee(de):(M=L=void 0,D)}function Q(){V!==void 0&&clearTimeout(V),H=0,M=$=L=V=void 0}function te(){return V===void 0?D:q(y())}function ue(){var de=y(),se=Y(de);if(M=arguments,L=this,$=de,se){if(V===void 0)return X($);if(K)return V=setTimeout(ae,N),ee($)}return V===void 0&&(V=setTimeout(ae,N)),D}return ue.cancel=Q,ue.flush=te,ue}function _(I){var N=typeof I;return!!I&&(N=="object"||N=="function")}function E(I){return!!I&&typeof I=="object"}function S(I){return typeof I=="symbol"||E(I)&&h.call(I)==n}function T(I){if(typeof I=="number")return I;if(S(I))return e;if(_(I)){var N=typeof I.valueOf=="function"?I.valueOf():I;I=_(N)?N+"":N}if(typeof I!="string")return I===0?I:+I;I=I.replace(r,"");var R=o.test(I);return R||s.test(I)?a(I.slice(2),R?2:8):i.test(I)?e:+I}return qN=x,qN}var lqe=aqe();const uqe=lo(lqe),YO=F.createContext(void 0),kre=()=>{const t=F.useContext(YO);if(t===void 0)throw new Error("usePdfHighlighterContext must be used within PdfHighlighter!");return t},Mre=(t,{width:e,height:n})=>({x1:t.left,y1:t.top,x2:t.left+t.width,y2:t.top+t.height,width:e,height:n,pageNumber:t.pageNumber}),Nre=({boundingRect:t,rects:e},n)=>{const r=t.pageNumber,i=n.getPageView(r-1).viewport,o=s=>Mre(s,i);return{boundingRect:o(t),rects:(e||[]).map(o)}},cqe=(t,e)=>{const[n,r,i,o]=e.convertToViewportRectangle([t.x1,t.y1,t.x2,t.y2]);return{left:Math.min(n,i),top:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(r-o),pageNumber:t.pageNumber}},Dre=(t,e,n=!1)=>{const{width:r,height:i}=e;if(n)return cqe(t,e);if(t.x1===void 0)throw new Error("You are using old position format, please update");const o=r*t.x1/t.width,s=i*t.y1/t.height,a=r*t.x2/t.width,l=i*t.y2/t.height;return{left:o,top:s,width:a-o,height:l-s,pageNumber:t.pageNumber}},dqe=({boundingRect:t,rects:e,usePdfCoordinates:n},r)=>{const i=t.pageNumber,o=r.getPageView(i-1).viewport,s=a=>Dre(a,o,n);return{boundingRect:s(t),rects:(e||[]).map(s)}},fqe=t=>{const e=Array.from(t).map(c=>{const{left:d,top:h,width:p,height:m,pageNumber:y}=c,x=d,_=d+p,E=h,S=h+m;return{X0:x,X1:_,Y0:E,Y1:S,pageNumber:y}});let n=Number.MAX_SAFE_INTEGER;e.forEach(c=>{n=Math.min(n,c.pageNumber??n)});const r=e.filter(c=>(c.X0>0||c.X1>0||c.Y0>0||c.Y1>0)&&c.pageNumber===n),i=r.reduce((c,d)=>({X0:Math.min(c.X0,d.X0),X1:Math.max(c.X1,d.X1),Y0:Math.min(c.Y0,d.Y0),Y1:Math.max(c.Y1,d.Y1),pageNumber:n}),r[0]),{X0:o,X1:s,Y0:a,Y1:l,pageNumber:u}=i;return{left:o,top:a,width:s-o,height:l-a,pageNumber:u}},hqe=t=>t.sort((e,n)=>{const r=(e.pageNumber||0)*e.top-(n.pageNumber||0)*n.top;return r===0?e.left-n.left:r}),pqe=(t,e)=>t.pageNumber===e.pageNumber&&t.left<=e.left&&e.left<=t.left+t.width,gqe=(t,e,n=5)=>t.pageNumber===e.pageNumber&&Math.abs(t.top-e.top)<n&&Math.abs(t.height-e.height)<n,mqe=(t,e)=>t.pageNumber===e.pageNumber&&t.top>e.top&&t.left>e.left&&t.top+t.height<e.top+e.height&&t.left+t.width<e.left+e.width,yqe=(t,e,n=10)=>{const r=t.left+t.width,i=e.left+e.width;return t.pageNumber===e.pageNumber&&t.left<=e.left&&r<=i&&e.left-r<=n},aG=(t,e)=>{t.width=Math.max(e.width-t.left+e.left,t.width)},vqe=t=>{const e=hqe(t),n=new Set,r=e.filter(o=>e.every(s=>!mqe(o,s)));let i=0;for(;i<=2;)r.forEach(o=>{r.forEach(s=>{o===s||n.has(o)||n.has(s)||gqe(o,s)&&(pqe(o,s)&&(aG(o,s),o.height=Math.max(o.height,s.height),n.add(s)),yqe(o,s)&&(aG(o,s),n.add(s)))})}),i+=1;return r.filter(o=>!n.has(o))},bqe=(t,e)=>!(t.top<e.top||t.bottom>e.bottom||t.right>e.right||t.left<e.left),xqe=(t,e,n=!0)=>{const r=Array.from(t.getClientRects()),i=[];for(const o of r)for(const s of e){const a=s.node.getBoundingClientRect();if(bqe(o,a)&&o.width>0&&o.height>0&&o.width<a.width&&o.left>a.left&&o.height<a.height){const l={top:o.top+s.node.scrollTop-a.top,left:o.left+s.node.scrollLeft-a.left,width:o.width,height:o.height,pageNumber:s.number};i.push(l)}}return n?vqe(i):i},wqe=t=>t.reduce((e,n)=>(n&&[n.position.boundingRect.pageNumber,...n.position.rects.map(i=>i.pageNumber||0)].forEach(i=>{e[i]||(e[i]=[]);const o={...n,position:{...n.position,rects:n.position.rects.filter(s=>i===s.pageNumber)}};e[i].push(o)}),e),{}),Lre=t=>(t||{}).ownerDocument||document,nA=t=>(Lre(t)||{}).defaultView||window,Sw=t=>t instanceof HTMLElement||t instanceof nA(t).HTMLElement,_qe=t=>t instanceof HTMLCanvasElement||t instanceof nA(t).HTMLCanvasElement,lu=t=>t,Ox=t=>{const e=lu(t.closest(".page"));if(!e||!Sw(e))return null;const n=Number(lu(e).dataset.pageNumber);return{node:e,number:n}},Sqe=t=>{const e=t.startContainer.parentElement,n=t.endContainer.parentElement;if(!Sw(e)||!Sw(n))return[];const r=Ox(lu(e)),i=Ox(lu(n));if(!(r!=null&&r.number)||!(i!=null&&i.number))return[];if(r.number===i.number)return[r];if(r.number===i.number-1)return[r,i];const o=[];let s=r.number;const a=r.node.ownerDocument;for(;s<=i.number;){const l=Ox(a.querySelector(`[data-page-number='${s}'`));l&&o.push(l),s++}return o},Eqe=(t,e)=>{const n=Lre(t);let r=t.querySelector(`.${e}`);return!r&&t.children.length&&(r=n.createElement("div"),r.className=e,t.appendChild(r)),r},Ore=F.createContext(void 0),Cqe=()=>{const t=F.useContext(Ore);if(t===void 0)throw new Error("useHighlightContainerContext must be used within a child of PdfHighlighter!");return t},Tqe=(t,e)=>{const{left:n,top:r,width:i,height:o}=e,s=t?t.ownerDocument:null,a=s&&s.createElement("canvas");if(!a||!_qe(a))return"";a.width=i,a.height=o;const l=a.getContext("2d");if(!l||!t)return"";const u=window.devicePixelRatio;return l.drawImage(t,n*u,r*u,i*u,o*u,0,0,i,o),a.toDataURL("image/png")},Fre=(t,e,n)=>Tqe(n.getPageView(e-1).canvas,t),Aqe="empty-id",Rqe=({highlightsByPage:t,pageNumber:e,scrolledToHighlightId:n,viewer:r,highlightBindings:i,children:o})=>{const s=t[e]||[];return oe.createElement("div",null,s.map((a,l)=>{const u={...a,id:"id"in a?a.id:Aqe,position:dqe(a.position,r)},c=n===u.id,d={highlight:u,viewportToScaled:h=>{const p=r.getPageView((h.pageNumber||e)-1).viewport;return Mre(h,p)},screenshot:h=>Fre(h,e,r),isScrolledTo:c,highlightBindings:i};return oe.createElement(Ore.Provider,{value:d,key:l},o)}))},lG=(t,e)=>({left:Math.min(e.x,t.x),top:Math.min(e.y,t.y),width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)}),uG=(t,e,n)=>{const r=t.getBoundingClientRect();return{x:e-r.left+t.scrollLeft,y:n-r.top+t.scrollTop-window.scrollY}},Pqe=({viewer:t,onSelection:e,onReset:n,onDragStart:r,enableAreaSelection:i,onChange:o,style:s})=>{const[a,l]=F.useState(null),[u,c]=F.useState(null),[d,h]=F.useState(!1),p=F.useRef(null),m=F.useRef(null),y=()=>{n&&n(),l(null),c(null),h(!1)};return F.useEffect(()=>{if(o&&o(!!(a&&u)),!p.current)return;const x=lu(p.current.parentElement),_=T=>{if(!a||!u||!m.current)return;const I=lG(a,u),N=I.width>=1&&I.height>=1;if(!x.contains(lu(T.target))||!N){y();return}h(!0);const R=Ox(m.current);if(!R)return;const M={...I,top:I.top-R.node.offsetTop,left:I.left-R.node.offsetLeft,pageNumber:R.number},L={boundingRect:M,rects:[]},k=Nre(L,t),D=Fre(M,M.pageNumber,t);e&&e(L,k,D,y,T)},E=T=>{!p.current||!a||d||c(uG(x,T.pageX,T.pageY))},S=T=>{const I=R=>i(R)&&Sw(R.target)&&!!lu(R.target).closest(".page"),N=R=>a&&!lu(R.target).closest(".PdfHighlighter__tip-container");if(!I(T)){N(T)&&y();return}m.current=lu(T.target),r&&r(T),l(uG(x,T.pageX,T.pageY)),c(null),h(!1)};return x.addEventListener("mousemove",E),x.addEventListener("mousedown",S),document.addEventListener("mouseup",_),()=>{x.removeEventListener("mousemove",E),x.removeEventListener("mousedown",S),document.removeEventListener("mouseup",_)}},[a,u]),oe.createElement("div",{className:"MouseSelection-container",ref:p},a&&u&&oe.createElement("div",{className:"MouseSelection",style:{...lG(a,u),...s}}))},Iqe=(t,e,n)=>Math.min(Math.max(t,e),n),jN=5,kqe=({viewer:t,updateTipPositionRef:e})=>{const[n,r]=F.useState(0),[i,o]=F.useState(0),s=F.useRef(null),a=()=>{if(!s.current)return;const{offsetHeight:L,offsetWidth:k}=s.current;r(L),o(k)};e.current=a,F.useLayoutEffect(()=>{a()},[a]);const{getTip:l}=kre(),u=l();if(!u)return null;const{position:c,content:d}=u,{boundingRect:h}=c,p=h.pageNumber,m=t.getPageView(p-1).div,y=m.getBoundingClientRect(),{left:x,width:_}=y,E=t.container.scrollTop,S=m.offsetLeft+h.left+h.width/2,T=h.top+m.offsetTop,I=T+h.height,R=T-n-jN<E?I+jN:T-n-jN,M=Iqe(S-i/2,0,x+_-i);return oe.createElement("div",{className:"PdfHighlighter__tip-container",style:{top:R,left:M,height:"max-content",width:"max-content"},ref:s},d)};let $re,Bre,Vre;(async()=>{const t=await rx(()=>import("./pdf_viewer-B7ZwkPJS.js"),[]);$re=t.EventBus,Bre=t.PDFLinkService,Vre=t.PDFViewer})();const Mqe=10,Nqe="auto",Dqe="rgba(153,193,218,255)",Lqe=t=>Eqe(t,"PdfHighlighter__highlight-layer"),cG=(t,e)=>{var n;(n=t.viewer)==null||n.classList.toggle("PdfHighlighter--disable-selection",e)},Oqe=({highlights:t,onScrollAway:e,pdfScaleValue:n=Nqe,onSelection:r,onCreateGhostHighlight:i,onRemoveGhostHighlight:o,selectionTip:s,enableAreaSelection:a,mouseSelectionStyle:l,pdfDocument:u,children:c,textSelectionColor:d=Dqe,utilsRef:h,style:p})=>{const[m,y]=F.useState(null),[x,_]=F.useState(!1),E=F.useRef(null),S=F.useRef({}),T=F.useRef(null),I=F.useRef(null),N=F.useRef(null),R=F.useRef(!1),M=F.useRef(!1),L=F.useRef(()=>{}),k=F.useRef(new $re),D=F.useRef(new Bre({eventBus:k.current,externalLinkTarget:2})),V=F.useRef(null),$=F.useRef(null);F.useLayoutEffect(()=>{if(!E.current)return;const de=uqe(()=>{$.current=$.current||new Vre({container:E.current,eventBus:k.current,textLayerMode:2,removePageBorders:!0,linkService:D.current}),$.current.setDocument(u),D.current.setDocument(u),D.current.setViewer($.current),_(!0)},100);return de(),()=>{de.cancel()}},[document]),F.useLayoutEffect(()=>{if(!E.current)return;V.current=new ResizeObserver(ee),V.current.observe(E.current);const de=E.current.ownerDocument;return k.current.on("textlayerrendered",j),k.current.on("pagesinit",ee),de.addEventListener("keydown",J),j(),()=>{var se;k.current.off("pagesinit",ee),k.current.off("textlayerrendered",j),de.removeEventListener("keydown",J),(se=V.current)==null||se.disconnect()}},[s,t,r]);const H=()=>{e&&e(),N.current=null,j()},G=()=>{const de=E.current,se=nA(de).getSelection();if(!de||!se||se.isCollapsed||!$.current)return;const ce=se.rangeCount>0?se.getRangeAt(0):null;if(!ce||!de.contains(ce.commonAncestorContainer))return;const he=Sqe(ce);if(!he||he.length===0)return;const ve=xqe(ce,he);if(ve.length===0)return;const be={boundingRect:fqe(ve),rects:ve},Re=Nre(be,$.current),pe={text:se.toString().split(`
`).join(" ")};I.current={content:pe,type:"text",position:Re,makeGhostHighlight:()=>(T.current={content:pe,type:"text",position:Re},i&&i(T.current),Q(),j(),T.current)},r&&r(I.current),s&&y({position:be,content:s})},K=de=>{!Sw(de.target)||lu(de.target).closest(".PdfHighlighter__tip-container")||(y(null),Q(),q(),ae(!1))},J=de=>{de.code==="Escape"&&(Q(),q(),y(null))},ee=()=>{$.current&&($.current.currentScaleValue=n.toString())},X=(de,se)=>{$.current&&de.reactRoot.render(oe.createElement(YO.Provider,{value:ue},oe.createElement(Rqe,{highlightsByPage:wqe([...t,T.current]),pageNumber:se,scrolledToHighlightId:N.current,viewer:$.current,highlightBindings:de,children:c})))},j=()=>{var de;if($.current)for(let se=1;se<=u.numPages;se++){const ce=S.current[se];if((de=ce==null?void 0:ce.container)!=null&&de.isConnected)X(ce,se);else{const{textLayer:he}=$.current.getPageView(se-1)||{};if(!he)continue;const ve=Lqe(he.div);if(ve){const be=fX.createRoot(ve);S.current[se]={reactRoot:be,container:ve,textLayer:he.div},X(S.current[se],se)}}}},Y=()=>!!I.current||!!T.current||R.current||M.current,ae=de=>{var se;de!==void 0?M.current=de:M.current=!M.current,$.current&&((se=$.current.viewer)==null||se.classList.toggle("PdfHighlighter--disable-selection",M.current))},q=()=>{o&&T.current&&o(T.current),T.current=null,j()},Q=()=>{I.current=null;const de=E.current,se=nA(de).getSelection();!de||!se||se.removeAllRanges()},ue={isEditingOrHighlighting:Y,getCurrentSelection:()=>I.current,getGhostHighlight:()=>T.current,removeGhostHighlight:q,toggleEditInProgress:ae,isEditInProgress:()=>M.current,isSelectionInProgress:()=>!!I.current||R.current,scrollToHighlight:de=>{const{boundingRect:se,usePdfCoordinates:ce}=de.position,he=se.pageNumber;$.current.container.removeEventListener("scroll",H);const ve=$.current.getPageView(he-1).viewport;$.current.scrollPageIntoView({pageNumber:he,destArray:[null,{name:"XYZ"},...ve.convertToPdfPoint(0,Dre(se,ve,ce).top-Mqe),0]}),N.current=de.id,j(),setTimeout(()=>{$.current.container.addEventListener("scroll",H,{once:!0})},100)},getViewer:()=>$.current,getTip:()=>m,setTip:y,updateTipPosition:L.current};return h(ue),oe.createElement(YO.Provider,{value:ue},oe.createElement("div",{ref:E,className:"PdfHighlighter",onPointerDown:K,onPointerUp:G,style:p},oe.createElement("div",{className:"pdfViewer"}),oe.createElement("style",null,`
          .textLayer ::selection {
            background: ${d};
          }
        `),x&&oe.createElement(kqe,{viewer:$.current,updateTipPositionRef:L}),x&&a&&oe.createElement(Pqe,{viewer:$.current,onChange:de=>R.current=de,enableAreaSelection:a,style:l,onDragStart:()=>cG($.current,!0),onReset:()=>{I.current=null,cG($.current,!1)},onSelection:(de,se,ce,he)=>{I.current={content:{image:ce},type:"area",position:se,makeGhostHighlight:()=>(T.current={position:se,type:"area",content:{image:ce}},i&&i(T.current),he(),j(),T.current)},r&&r(I.current),s&&y({position:de,content:s})}})))},Fqe=({highlight:t,onClick:e,onMouseOver:n,onMouseOut:r,isScrolledTo:i,onContextMenu:o,style:s})=>{const a=i?"TextHighlight--scrolledTo":"",{rects:l}=t.position;return oe.createElement("div",{className:`TextHighlight ${a}`,onContextMenu:o},oe.createElement("div",{className:"TextHighlight__parts"},l.map((u,c)=>oe.createElement("div",{onMouseOver:n,onMouseOut:r,onClick:e,key:c,style:{...u,...s},className:"TextHighlight__part"}))))};var Sb={exports:{}},WN={};function zre(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=zre(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function dG(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=zre(t))&&(r&&(r+=" "),r+=e);return r}const $qe=Object.freeze(Object.defineProperty({__proto__:null,clsx:dG,default:dG},Symbol.toStringTag,{value:"Module"})),Bqe=Sle($qe);var $r={},zd={},fG;function aP(){if(fG)return zd;fG=1,Object.defineProperty(zd,"__esModule",{value:!0}),zd.dontSetMe=i,zd.findInArray=t,zd.int=r,zd.isFunction=e,zd.isNum=n;function t(o,s){for(let a=0,l=o.length;a<l;a++)if(s.apply(s,[o[a],a,o]))return o[a]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,s,a){if(o[s])return new Error("Invalid prop ".concat(s," passed to ").concat(a," - do not set this, set it on the child."))}return zd}var Ud={},hG;function Vqe(){if(hG)return Ud;hG=1,Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.browserPrefixToKey=n,Ud.browserPrefixToStyle=r,Ud.default=void 0,Ud.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var o;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const a=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!a||s in a)return"";for(let l=0;l<t.length;l++)if(n(s,t[l])in a)return t[l];return""}function n(o,s){return s?"".concat(s).concat(i(o)):o}function r(o,s){return s?"-".concat(s.toLowerCase(),"-").concat(o):o}function i(o){let s="",a=!0;for(let l=0;l<o.length;l++)a?(s+=o[l].toUpperCase(),a=!1):o[l]==="-"?a=!0:s+=o[l];return s}return Ud.default=e(),Ud}var pG;function S3(){if(pG)return $r;pG=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.addClassName=I,$r.addEvent=a,$r.addUserSelectStyles=S,$r.createCSSTransform=m,$r.createSVGTransform=y,$r.getTouch=_,$r.getTouchIdentifier=E,$r.getTranslation=x,$r.innerHeight=d,$r.innerWidth=h,$r.matchesSelector=o,$r.matchesSelectorAndParentsTo=s,$r.offsetXYFromParent=p,$r.outerHeight=u,$r.outerWidth=c,$r.removeClassName=N,$r.removeEvent=l,$r.removeUserSelectStyles=T;var t=aP(),e=r(Vqe());function n(R){if(typeof WeakMap!="function")return null;var M=new WeakMap,L=new WeakMap;return(n=function(k){return k?L:M})(R)}function r(R,M){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var L=n(M);if(L&&L.has(R))return L.get(R);var k={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in R)if(V!=="default"&&Object.prototype.hasOwnProperty.call(R,V)){var $=D?Object.getOwnPropertyDescriptor(R,V):null;$&&($.get||$.set)?Object.defineProperty(k,V,$):k[V]=R[V]}return k.default=R,L&&L.set(R,k),k}let i="";function o(R,M){return i||(i=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(L){return(0,t.isFunction)(R[L])})),(0,t.isFunction)(R[i])?R[i](M):!1}function s(R,M,L){let k=R;do{if(o(k,M))return!0;if(k===L)return!1;k=k.parentNode}while(k);return!1}function a(R,M,L,k){if(!R)return;const D={capture:!0,...k};R.addEventListener?R.addEventListener(M,L,D):R.attachEvent?R.attachEvent("on"+M,L):R["on"+M]=L}function l(R,M,L,k){if(!R)return;const D={capture:!0,...k};R.removeEventListener?R.removeEventListener(M,L,D):R.detachEvent?R.detachEvent("on"+M,L):R["on"+M]=null}function u(R){let M=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M+=(0,t.int)(L.borderTopWidth),M+=(0,t.int)(L.borderBottomWidth),M}function c(R){let M=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M+=(0,t.int)(L.borderLeftWidth),M+=(0,t.int)(L.borderRightWidth),M}function d(R){let M=R.clientHeight;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M-=(0,t.int)(L.paddingTop),M-=(0,t.int)(L.paddingBottom),M}function h(R){let M=R.clientWidth;const L=R.ownerDocument.defaultView.getComputedStyle(R);return M-=(0,t.int)(L.paddingLeft),M-=(0,t.int)(L.paddingRight),M}function p(R,M,L){const D=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),V=(R.clientX+M.scrollLeft-D.left)/L,$=(R.clientY+M.scrollTop-D.top)/L;return{x:V,y:$}}function m(R,M){const L=x(R,M,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:L}}function y(R,M){return x(R,M,"")}function x(R,M,L){let{x:k,y:D}=R,V="translate(".concat(k).concat(L,",").concat(D).concat(L,")");if(M){const $="".concat(typeof M.x=="string"?M.x:M.x+L),H="".concat(typeof M.y=="string"?M.y:M.y+L);V="translate(".concat($,", ").concat(H,")")+V}return V}function _(R,M){return R.targetTouches&&(0,t.findInArray)(R.targetTouches,L=>M===L.identifier)||R.changedTouches&&(0,t.findInArray)(R.changedTouches,L=>M===L.identifier)}function E(R){if(R.targetTouches&&R.targetTouches[0])return R.targetTouches[0].identifier;if(R.changedTouches&&R.changedTouches[0])return R.changedTouches[0].identifier}function S(R){if(!R)return;let M=R.getElementById("react-draggable-style-el");M||(M=R.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,R.getElementsByTagName("head")[0].appendChild(M)),R.body&&I(R.body,"react-draggable-transparent-selection")}function T(R){if(R)try{if(R.body&&N(R.body,"react-draggable-transparent-selection"),R.selection)R.selection.empty();else{const M=(R.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function I(R,M){R.classList?R.classList.add(M):R.className.match(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)")))||(R.className+=" ".concat(M))}function N(R,M){R.classList?R.classList.remove(M):R.className=R.className.replace(new RegExp("(?:^|\\s)".concat(M,"(?!\\S)"),"g"),"")}return $r}var Ll={},gG;function Ure(){if(gG)return Ll;gG=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.canDragX=i,Ll.canDragY=o,Ll.createCoreData=a,Ll.createDraggableData=l,Ll.getBoundPosition=n,Ll.getControlPosition=s,Ll.snapToGrid=r;var t=aP(),e=S3();function n(d,h,p){if(!d.props.bounds)return[h,p];let{bounds:m}=d.props;m=typeof m=="string"?m:u(m);const y=c(d);if(typeof m=="string"){const{ownerDocument:x}=y,_=x.defaultView;let E;if(m==="parent"?E=y.parentNode:E=x.querySelector(m),!(E instanceof _.HTMLElement))throw new Error('Bounds selector "'+m+'" could not find an element.');const S=E,T=_.getComputedStyle(y),I=_.getComputedStyle(S);m={left:-y.offsetLeft+(0,t.int)(I.paddingLeft)+(0,t.int)(T.marginLeft),top:-y.offsetTop+(0,t.int)(I.paddingTop)+(0,t.int)(T.marginTop),right:(0,e.innerWidth)(S)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(I.paddingRight)-(0,t.int)(T.marginRight),bottom:(0,e.innerHeight)(S)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(I.paddingBottom)-(0,t.int)(T.marginBottom)}}return(0,t.isNum)(m.right)&&(h=Math.min(h,m.right)),(0,t.isNum)(m.bottom)&&(p=Math.min(p,m.bottom)),(0,t.isNum)(m.left)&&(h=Math.max(h,m.left)),(0,t.isNum)(m.top)&&(p=Math.max(p,m.top)),[h,p]}function r(d,h,p){const m=Math.round(h/d[0])*d[0],y=Math.round(p/d[1])*d[1];return[m,y]}function i(d){return d.props.axis==="both"||d.props.axis==="x"}function o(d){return d.props.axis==="both"||d.props.axis==="y"}function s(d,h,p){const m=typeof h=="number"?(0,e.getTouch)(d,h):null;if(typeof h=="number"&&!m)return null;const y=c(p),x=p.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(m||d,x,p.props.scale)}function a(d,h,p){const m=!(0,t.isNum)(d.lastX),y=c(d);return m?{node:y,deltaX:0,deltaY:0,lastX:h,lastY:p,x:h,y:p}:{node:y,deltaX:h-d.lastX,deltaY:p-d.lastY,lastX:d.lastX,lastY:d.lastY,x:h,y:p}}function l(d,h){const p=d.props.scale;return{node:h.node,x:d.state.x+h.deltaX/p,y:d.state.y+h.deltaY/p,deltaX:h.deltaX/p,deltaY:h.deltaY/p,lastX:d.state.x,lastY:d.state.y}}function u(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function c(d){const h=d.findDOMNode();if(!h)throw new Error("<DraggableCore>: Unmounted during event!");return h}return Ll}var Eb={},VE={},mG;function Hre(){if(mG)return VE;mG=1,Object.defineProperty(VE,"__esModule",{value:!0}),VE.default=t;function t(){}return VE}var yG;function zqe(){if(yG)return Eb;yG=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.default=void 0;var t=u(dl()),e=a(Q5()),n=a(BA()),r=S3(),i=Ure(),o=aP(),s=a(Hre());function a(x){return x&&x.__esModule?x:{default:x}}function l(x){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(l=function(S){return S?E:_})(x)}function u(x,_){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var E=l(_);if(E&&E.has(x))return E.get(x);var S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in x)if(I!=="default"&&Object.prototype.hasOwnProperty.call(x,I)){var N=T?Object.getOwnPropertyDescriptor(x,I):null;N&&(N.get||N.set)?Object.defineProperty(S,I,N):S[I]=x[I]}return S.default=x,E&&E.set(x,S),S}function c(x,_,E){return _=d(_),_ in x?Object.defineProperty(x,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):x[_]=E,x}function d(x){var _=h(x,"string");return typeof _=="symbol"?_:String(_)}function h(x,_){if(typeof x!="object"||x===null)return x;var E=x[Symbol.toPrimitive];if(E!==void 0){var S=E.call(x,_);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(x)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,y=class extends t.Component{constructor(){super(...arguments),c(this,"dragging",!1),c(this,"lastX",NaN),c(this,"lastY",NaN),c(this,"touchIdentifier",null),c(this,"mounted",!1),c(this,"handleDragStart",_=>{if(this.props.onMouseDown(_),!this.props.allowAnyClick&&typeof _.button=="number"&&_.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:S}=E;if(this.props.disabled||!(_.target instanceof S.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(_.target,this.props.handle,E)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(_.target,this.props.cancel,E))return;_.type==="touchstart"&&_.preventDefault();const T=(0,r.getTouchIdentifier)(_);this.touchIdentifier=T;const I=(0,i.getControlPosition)(_,T,this);if(I==null)return;const{x:N,y:R}=I,M=(0,i.createCoreData)(this,N,R);(0,s.default)("DraggableCore: handleDragStart: %j",M),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(_,M)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(S),this.dragging=!0,this.lastX=N,this.lastY=R,(0,r.addEvent)(S,m.move,this.handleDrag),(0,r.addEvent)(S,m.stop,this.handleDragStop))}),c(this,"handleDrag",_=>{const E=(0,i.getControlPosition)(_,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let R=S-this.lastX,M=T-this.lastY;if([R,M]=(0,i.snapToGrid)(this.props.grid,R,M),!R&&!M)return;S=this.lastX+R,T=this.lastY+M}const I=(0,i.createCoreData)(this,S,T);if((0,s.default)("DraggableCore: handleDrag: %j",I),this.props.onDrag(_,I)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const M=document.createEvent("MouseEvents");M.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(M)}return}this.lastX=S,this.lastY=T}),c(this,"handleDragStop",_=>{if(!this.dragging)return;const E=(0,i.getControlPosition)(_,this.touchIdentifier,this);if(E==null)return;let{x:S,y:T}=E;if(Array.isArray(this.props.grid)){let M=S-this.lastX||0,L=T-this.lastY||0;[M,L]=(0,i.snapToGrid)(this.props.grid,M,L),S=this.lastX+M,T=this.lastY+L}const I=(0,i.createCoreData)(this,S,T);if(this.props.onStop(_,I)===!1||this.mounted===!1)return!1;const R=this.findDOMNode();R&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(R.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",I),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,R&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(R.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(R.ownerDocument,m.stop,this.handleDragStop))}),c(this,"onMouseDown",_=>(m=p.mouse,this.handleDragStart(_))),c(this,"onMouseUp",_=>(m=p.mouse,this.handleDragStop(_))),c(this,"onTouchStart",_=>(m=p.touch,this.handleDragStart(_))),c(this,"onTouchEnd",_=>(m=p.touch,this.handleDragStop(_)))}componentDidMount(){this.mounted=!0;const _=this.findDOMNode();_&&(0,r.addEvent)(_,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const _=this.findDOMNode();if(_){const{ownerDocument:E}=_;(0,r.removeEvent)(E,p.mouse.move,this.handleDrag),(0,r.removeEvent)(E,p.touch.move,this.handleDrag),(0,r.removeEvent)(E,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(E,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(_,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(E)}}findDOMNode(){var _,E;return(_=this.props)!==null&&_!==void 0&&_.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Eb.default=y,c(y,"displayName","DraggableCore"),c(y,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(x,_){if(x[_]&&x[_].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),c(y,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Eb}var vG;function Uqe(){return vG||(vG=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=h(dl()),n=c(Q5()),r=c(BA()),i=c(Bqe),o=S3(),s=Ure(),a=aP(),l=c(zqe()),u=c(Hre());function c(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,T=new WeakMap;return(d=function(I){return I?T:S})(E)}function h(E,S){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var T=d(S);if(T&&T.has(E))return T.get(E);var I={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in E)if(R!=="default"&&Object.prototype.hasOwnProperty.call(E,R)){var M=N?Object.getOwnPropertyDescriptor(E,R):null;M&&(M.get||M.set)?Object.defineProperty(I,R,M):I[R]=E[R]}return I.default=E,T&&T.set(E,I),I}function p(){return p=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var T=arguments[S];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(E[I]=T[I])}return E},p.apply(this,arguments)}function m(E,S,T){return S=y(S),S in E?Object.defineProperty(E,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):E[S]=T,E}function y(E){var S=x(E,"string");return typeof S=="symbol"?S:String(S)}function x(E,S){if(typeof E!="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var I=T.call(E,S);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}class _ extends e.Component{static getDerivedStateFromProps(S,T){let{position:I}=S,{prevPropsPosition:N}=T;return I&&(!N||I.x!==N.x||I.y!==N.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:I,prevPropsPosition:N}),{x:I.x,y:I.y,prevPropsPosition:{...I}}):null}constructor(S){super(S),m(this,"onDragStart",(T,I)=>{if((0,u.default)("Draggable: onDragStart: %j",I),this.props.onStart(T,(0,s.createDraggableData)(this,I))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(T,I)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",I);const N=(0,s.createDraggableData)(this,I),R={x:N.x,y:N.y,slackX:0,slackY:0};if(this.props.bounds){const{x:L,y:k}=R;R.x+=this.state.slackX,R.y+=this.state.slackY;const[D,V]=(0,s.getBoundPosition)(this,R.x,R.y);R.x=D,R.y=V,R.slackX=this.state.slackX+(L-R.x),R.slackY=this.state.slackY+(k-R.y),N.x=R.x,N.y=R.y,N.deltaX=R.x-this.state.x,N.deltaY=R.y-this.state.y}if(this.props.onDrag(T,N)===!1)return!1;this.setState(R)}),m(this,"onDragStop",(T,I)=>{if(!this.state.dragging||this.props.onStop(T,(0,s.createDraggableData)(this,I))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",I);const R={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:L,y:k}=this.props.position;R.x=L,R.y=k}this.setState(R)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,T;return(S=(T=this.props)===null||T===void 0||(T=T.nodeRef)===null||T===void 0?void 0:T.current)!==null&&S!==void 0?S:r.default.findDOMNode(this)}render(){const{axis:S,bounds:T,children:I,defaultPosition:N,defaultClassName:R,defaultClassNameDragging:M,defaultClassNameDragged:L,position:k,positionOffset:D,scale:V,...$}=this.props;let H={},G=null;const J=!!!k||this.state.dragging,ee=k||N,X={x:(0,s.canDragX)(this)&&J?this.state.x:ee.x,y:(0,s.canDragY)(this)&&J?this.state.y:ee.y};this.state.isElementSVG?G=(0,o.createSVGTransform)(X,D):H=(0,o.createCSSTransform)(X,D);const j=(0,i.default)(I.props.className||"",R,{[M]:this.state.dragging,[L]:this.state.dragged});return e.createElement(l.default,p({},$,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(I),{className:j,style:{...I.props.style,...H},transform:G}))}}t.default=_,m(_,"displayName","Draggable"),m(_,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),m(_,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(WN)),WN}var bG;function Hqe(){if(bG)return Sb.exports;bG=1;const{default:t,DraggableCore:e}=Uqe();return Sb.exports=t,Sb.exports.default=t,Sb.exports.DraggableCore=e,Sb.exports}var qqe=Hqe();const jqe=lo(qqe);var Kr=function(){return Kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kr.apply(this,arguments)},xG={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},wG={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},zE={width:"20px",height:"20px",position:"absolute",zIndex:1},Wqe={top:Kr(Kr({},xG),{top:"-5px"}),right:Kr(Kr({},wG),{left:void 0,right:"-5px"}),bottom:Kr(Kr({},xG),{top:void 0,bottom:"-5px"}),left:Kr(Kr({},wG),{left:"-5px"}),topRight:Kr(Kr({},zE),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Kr(Kr({},zE),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Kr(Kr({},zE),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Kr(Kr({},zE),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Gqe=F.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,i=t.replaceStyles,o=t.className,s=F.useCallback(function(u){e(u,n)},[e,n]),a=F.useCallback(function(u){e(u,n)},[e,n]),l=F.useMemo(function(){return Kr(Kr({position:"absolute",userSelect:"none"},Wqe[n]),i??{})},[i,n]);return O.jsx("div",{className:o||void 0,style:l,onMouseDown:s,onTouchStart:a,children:r})}),Kqe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(){return Fl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fl.apply(this,arguments)},Yqe={width:"auto",height:"auto"},UE=function(t,e,n){return Math.max(Math.min(t,n),e)},_G=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},Rm=function(t,e){return new RegExp(t,"i").test(e)},HE=function(t){return!!(t.touches&&t.touches.length)},Xqe=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},SG=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(o,s,a){return Math.abs(s-t)<Math.abs(e[o]-t)?a:o},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},GN=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},qE=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},Jqe=function(t,e,n,r,i,o,s){return r=qE(r,t.width,e,n),i=qE(i,t.height,e,n),o=qE(o,t.width,e,n),s=qE(s,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof s>"u"?void 0:Number(s)}},Qqe=function(t){return Array.isArray(t)?t:[t,t]},Zqe=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],EG="__resizable_base__",e8e=function(t){Kqe(e,t);function e(n){var r,i,o,s,a=t.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(EG):u.className+=EG,l.appendChild(u),u},a.removeBase=function(l){var u=a.parentNode;u&&u.removeChild(l)},a.state={isResizing:!1,width:(i=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&i!==void 0?i:"auto",height:(s=(o=a.propsSize)===null||o===void 0?void 0:o.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Yqe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,o=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=s}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(a){var l;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((l=n.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),d=c/u[a]*100;return"".concat(d,"%")}return GN(n.state[a])},o=r&&typeof r.width<"u"&&!this.state.isResizing?GN(r.width):i("width"),s=r&&typeof r.height<"u"&&!this.state.isResizing?GN(r.height):i("height");return{width:o,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var o={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,o=this.state.direction,s=i&&Rm("left",o),a=i&&Rm("top",o),l,u;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(l=s?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,o=Qqe(this.props.resizeRatio||1),s=o[0],a=o[1],l=this.state,u=l.direction,c=l.original,d=this.props,h=d.lockAspectRatio,p=d.lockAspectRatioExtraHeight,m=d.lockAspectRatioExtraWidth,y=c.width,x=c.height,_=p||0,E=m||0;return Rm("right",u)&&(y=c.width+(n-c.x)*s/i,h&&(x=(y-E)/this.ratio+_)),Rm("left",u)&&(y=c.width-(n-c.x)*s/i,h&&(x=(y-E)/this.ratio+_)),Rm("bottom",u)&&(x=c.height+(r-c.y)*a/i,h&&(y=(x-_)*this.ratio+E)),Rm("top",u)&&(x=c.height-(r-c.y)*a/i,h&&(y=(x-_)*this.ratio+E)),{newWidth:y,newHeight:x}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,o){var s=this.props,a=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,c=typeof o.width>"u"?10:o.width,d=typeof i.width>"u"||i.width<0?n:i.width,h=typeof o.height>"u"?10:o.height,p=typeof i.height>"u"||i.height<0?r:i.height,m=l||0,y=u||0;if(a){var x=(h-m)*this.ratio+y,_=(p-m)*this.ratio+y,E=(c-y)/this.ratio+m,S=(d-y)/this.ratio+m,T=Math.max(c,x),I=Math.min(d,_),N=Math.max(h,E),R=Math.min(p,S);n=UE(n,T,I),r=UE(r,N,R)}else n=UE(n,c,d),r=UE(r,h,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var i=r.getBoundingClientRect();this.parentLeft=i.left*n,this.parentTop=i.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*n,this.targetTop=o.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,l=s.top,u=s.right,c=s.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=l*n,this.resizableBottom=c*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,o=0;if(n.nativeEvent&&Xqe(n.nativeEvent)?(i=n.nativeEvent.clientX,o=n.nativeEvent.clientY):n.nativeEvent&&HE(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,o=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,r,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:i,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Fl(Fl({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&HE(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,o=i.maxWidth,s=i.maxHeight,a=i.minWidth,l=i.minHeight,u=HE(n)?n.touches[0].clientX:n.clientX,c=HE(n)?n.touches[0].clientY:n.clientY,d=this.state,h=d.direction,p=d.original,m=d.width,y=d.height,x=this.getParentSize(),_=Jqe(x,this.window.innerWidth,this.window.innerHeight,o,s,a,l);o=_.maxWidth,s=_.maxHeight,a=_.minWidth,l=_.minHeight;var E=this.calculateNewSizeFromDirection(u,c),S=E.newHeight,T=E.newWidth,I=this.calculateNewMaxFromBoundary(o,s);this.props.snap&&this.props.snap.x&&(T=SG(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=SG(S,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(T,S,{width:I.maxWidth,height:I.maxHeight},{width:a,height:l});if(T=N.newWidth,S=N.newHeight,this.props.grid){var R=_G(T,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),M=_G(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),L=this.props.snapGap||0,k=L===0||Math.abs(R-T)<=L?R:T,D=L===0||Math.abs(M-S)<=L?M:S;T=k,S=D}var V={width:T-p.width,height:S-p.height};if(this.delta=V,m&&typeof m=="string"){if(m.endsWith("%")){var $=T/x.width*100;T="".concat($,"%")}else if(m.endsWith("vw")){var H=T/this.window.innerWidth*100;T="".concat(H,"vw")}else if(m.endsWith("vh")){var G=T/this.window.innerHeight*100;T="".concat(G,"vh")}}if(y&&typeof y=="string"){if(y.endsWith("%")){var $=S/x.height*100;S="".concat($,"%")}else if(y.endsWith("vw")){var H=S/this.window.innerWidth*100;S="".concat(H,"vw")}else if(y.endsWith("vh")){var G=S/this.window.innerHeight*100;S="".concat(G,"vh")}}var K={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?K.flexBasis=K.width:this.flexDir==="column"&&(K.flexBasis=K.height);var J=this.state.width!==K.width,ee=this.state.height!==K.height,X=this.state.flexBasis!==K.flexBasis,j=J||ee||X;j&&Fc.flushSync(function(){r.setState(K)}),this.props.onResize&&j&&this.props.onResize(n,h,this.resizable,V)}},e.prototype.onMouseUp=function(n){var r,i,o=this.state,s=o.isResizing,a=o.direction;o.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(i=this.props.size.height)!==null&&i!==void 0?i:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Fl(Fl({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,i;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(i=n.height)!==null&&i!==void 0?i:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,o=r.handleStyles,s=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,u=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(d){return i[d]!==!1?O.jsx(Gqe,{direction:d,onResizeStart:n.onResizeStart,replaceStyles:o&&o[d],className:s&&s[d],children:u&&u[d]?u[d]:null},d):null});return O.jsx("div",{className:l,style:a,children:c})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(s,a){return Zqe.indexOf(a)!==-1||(s[a]=n.props[a]),s},{}),i=Fl(Fl(Fl({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return O.jsxs(o,Fl({style:i,className:this.props.className},r,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&O.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(F.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XO=function(t,e){return XO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},XO(t,e)};function t8e(t,e){XO(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var si=function(){return si=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},si.apply(this,arguments)};function n8e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var r8e={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},i8e=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},o8e=function(t){t8e(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,i=n.top,o=this.getDraggablePosition(),s=o.x,a=o.y;this.draggable.setState({x:s-r,y:a-i}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,i=n.y;return{x:r,y:i}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var i=this.getDraggablePosition();if(this.originalPosition=i,!!this.props.bounds){var o=this.getParent(),s=this.props.scale,a;if(this.props.bounds==="parent")a=o;else if(this.props.bounds==="body"){var l=o.getBoundingClientRect(),u=l.left,c=l.top,d=document.body.getBoundingClientRect(),h=-(u-o.offsetLeft*s-d.left)/s,p=-(c-o.offsetTop*s-d.top)/s,m=(document.body.offsetWidth-this.resizable.size.width*s)/s+h,y=(document.body.offsetHeight-this.resizable.size.height*s)/s+p;return this.setState({bounds:{top:p,right:m,bottom:y,left:h}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=o.getBoundingClientRect(),_=x.left,E=x.top,S=-(_-o.offsetLeft*s)/s,T=-(E-o.offsetTop*s)/s,m=(window.innerWidth-this.resizable.size.width*s)/s+S,y=(window.innerHeight-this.resizable.size.height*s)/s+T;return this.setState({bounds:{top:T,right:m,bottom:y,left:S}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(o instanceof HTMLElement))){var I=a.getBoundingClientRect(),N=I.left,R=I.top,M=o.getBoundingClientRect(),L=M.left,k=M.top,D=(N-L)/s,V=R-k;if(this.resizable){this.updateOffsetFromParent();var $=this.offsetFromParent;this.setState({bounds:{top:V-$.top,right:D+(a.offsetWidth-this.resizable.size.width)-$.left/s,bottom:V+(a.offsetHeight-this.resizable.size.height)-$.top,left:D-$.left/s}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,si(si({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDrag(n,si(si({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,si(si({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var i=this.offsetFromParent,o=i.left,s=i.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,si(si({},r),{x:r.x+o,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,si(si({},r),{x:r.x+o,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,si(si({},r),{x:this.originalPosition.x+o,y:r.y+s,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,i){n.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,s=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+s.left,y:a.y+s.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),u=void 0;this.props.bounds==="parent"?u=l:this.props.bounds==="body"?u=document.body:this.props.bounds==="window"?u=window:typeof this.props.bounds=="string"?u=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(u=this.props.bounds);var c=this.getSelfElement();if(c instanceof Element&&(u instanceof HTMLElement||u===window)&&l instanceof HTMLElement){var d=this.getMaxSizesFromProps(),h=d.maxWidth,p=d.maxHeight,m=this.getParentSize();if(h&&typeof h=="string")if(h.endsWith("%")){var y=Number(h.replace("%",""))/100;h=m.width*y}else h.endsWith("px")&&(h=Number(h.replace("px","")));if(p&&typeof p=="string")if(p.endsWith("%")){var y=Number(p.replace("%",""))/100;p=m.height*y}else p.endsWith("px")&&(p=Number(p.replace("px","")));var x=c.getBoundingClientRect(),_=x.left,E=x.top,S=this.props.bounds==="window"?{left:0,top:0}:u.getBoundingClientRect(),T=S.left,I=S.top,N=this.getOffsetWidth(u),R=this.getOffsetHeight(u),M=r.toLowerCase().endsWith("left"),L=r.toLowerCase().endsWith("right"),k=r.startsWith("top"),D=r.startsWith("bottom");if((M||k)&&this.resizable){var V=(_-T)/o+this.resizable.size.width;this.setState({maxWidth:V>Number(h)?h:V})}if(L||this.props.lockAspectRatio&&!M&&!k){var V=N+(T-_)/o;this.setState({maxWidth:V>Number(h)?h:V})}if((k||M)&&this.resizable){var V=(E-I)/o+this.resizable.size.height;this.setState({maxHeight:V>Number(p)?p:V})}if(D||this.props.lockAspectRatio&&!k&&!M){var V=R+(I-E)/o;this.setState({maxHeight:V>Number(p)?p:V})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,i)},e.prototype.onResize=function(n,r,i,o){var s=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-o.width,u=-o.height,c=["top","left","topLeft","bottomLeft","topRight"];c.includes(r)&&(r==="bottomLeft"?a.x+=l:(r==="topRight"||(a.x+=l),a.y+=u));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&Fc.flushSync(function(){s.draggable.setState(a)}),this.updateOffsetFromParent();var h=this.offsetFromParent,p=this.getDraggablePosition().x+h.left,m=this.getDraggablePosition().y+h.top;this.resizingPosition={x:p,y:m},this.props.onResize&&this.props.onResize(n,r,i,o,{x:p,y:m})},e.prototype.onResizeStop=function(n,r,i,o){this.setState({resizing:!1});var s=this.getMaxSizesFromProps(),a=s.maxWidth,l=s.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,i,o,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),i=this.getSelfElement();if(!r||i===null)return{top:0,left:0};var o=r.getBoundingClientRect(),s=o.left,a=o.top,l=i.getBoundingClientRect(),u=this.getDraggablePosition(),c=r.scrollLeft,d=r.scrollTop;this.offsetFromParent={left:l.left-s+c-u.x*n,top:l.top-a+d-u.y*n}},e.prototype.render=function(){var n=this,r=this.props,i=r.disableDragging,o=r.style,s=r.dragHandleClassName,a=r.position,l=r.onMouseDown,u=r.onMouseUp,c=r.dragAxis,d=r.dragGrid,h=r.bounds,p=r.enableUserSelectHack,m=r.cancel,y=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var x=r.resizeHandleStyles,_=r.resizeHandleClasses,E=r.resizeHandleComponent,S=r.enableResizing,T=r.resizeGrid,I=r.resizeHandleWrapperClass,N=r.resizeHandleWrapperStyle,R=r.scale,M=r.allowAnyClick,L=r.dragPositionOffset,k=n8e(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),D=this.props.default?si({},this.props.default):void 0;delete k.default;var V=i||s?{cursor:"auto"}:{cursor:"move"},$=si(si(si({},r8e),V),o),H=this.offsetFromParent,G=H.left,K=H.top,J;a&&(J={x:a.x-G,y:a.y-K});var ee=this.state.resizing?void 0:J,X=this.state.resizing?"both":c;return F.createElement(jqe,{ref:function(j){j&&(n.draggable=j)},handle:s?".".concat(s):void 0,defaultPosition:D,onMouseDown:l,onMouseUp:u,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:X,disabled:i,grid:d,bounds:h?this.state.bounds:void 0,position:ee,enableUserSelectHack:p,cancel:m,scale:R,allowAnyClick:M,nodeRef:this.resizableElement,positionOffset:L},F.createElement(e8e,si({},k,{ref:function(j){j&&(n.resizable=j,n.resizableElement.current=j.resizable)},defaultSize:D,size:this.props.size,enable:typeof S=="boolean"?i8e(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:$,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:I,handleWrapperStyle:N,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:_,handleComponent:E,scale:this.props.scale}),y))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(F.PureComponent);const s8e=({highlight:t,onChange:e,isScrolledTo:n,bounds:r,onContextMenu:i,onEditStart:o,style:s})=>{const a=n?"AreaHighlight--scrolledTo":"",l=`${t.position.boundingRect.width}${t.position.boundingRect.height}${t.position.boundingRect.left}${t.position.boundingRect.top}`;return oe.createElement("div",{className:`AreaHighlight ${a}`,onContextMenu:i},oe.createElement(o8e,{className:"AreaHighlight__part",onDragStop:(u,c)=>{const d={...t.position.boundingRect,top:c.y,left:c.x};e&&e(d)},onResizeStop:(u,c,d,h,p)=>{var y;const m={top:p.y,left:p.x,width:d.offsetWidth,height:d.offsetHeight,pageNumber:((y=Ox(d))==null?void 0:y.number)||-1};e&&e(m)},onDragStart:o,onResizeStart:o,default:{x:t.position.boundingRect.left,y:t.position.boundingRect.top,width:t.position.boundingRect.width,height:t.position.boundingRect.height},key:l,bounds:r,onClick:u=>{u.stopPropagation(),u.preventDefault()},style:s}))};var Fx={};Fx.d=(t,e)=>{for(var n in e)Fx.o(e,n)&&!Fx.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};Fx.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var qt=globalThis.pdfjsLib={};Fx.d(qt,{AbortException:()=>Eg,AnnotationEditorLayer:()=>s$,AnnotationEditorParamsType:()=>Gt,AnnotationEditorType:()=>Tn,AnnotationEditorUIManager:()=>ng,AnnotationLayer:()=>iWe,AnnotationMode:()=>Jd,CMapCompressionType:()=>QO,ColorPicker:()=>lA,DOMSVGFactory:()=>T3,DrawLayer:()=>c$,FeatureTest:()=>Jo,GlobalWorkerOptions:()=>Uc,ImageKind:()=>PC,InvalidPDFException:()=>jre,MissingPDFException:()=>Sg,OPS:()=>$a,Outliner:()=>zF,PDFDataRangeTransport:()=>Vie,PDFDateString:()=>Qre,PDFWorker:()=>Cy,PasswordResponses:()=>c8e,PermissionFlag:()=>u8e,PixelsPerInch:()=>Uf,RenderingCancelledException:()=>A3,TextLayer:()=>Qv,UnexpectedResponseException:()=>dP,Util:()=>Et,VerbosityLevel:()=>lP,XfaLayer:()=>Uie,build:()=>$je,createValidAbsoluteUrl:()=>p8e,fetchData:()=>mP,getDocument:()=>Pje,getFilenameFromUrl:()=>E8e,getPdfFilenameFromUrl:()=>C8e,getXfaPageViewport:()=>T8e,isDataScheme:()=>R3,isPdfFile:()=>P3,noContextMenu:()=>rs,normalizeUnicode:()=>x8e,renderTextLayer:()=>xje,setLayerDimensions:()=>tg,shadow:()=>Pn,updateTextLayer:()=>wje,version:()=>Fje});const ao=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),qre=[1,0,0,1,0,0],JO=[.001,0,0,.001,0,0],a8e=1e7,KN=1.35,ra={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Jd={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},l8e="pdfjs_internal_editor_",Tn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Gt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},u8e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Xi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},PC={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},oi={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Cb={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},lP={ERRORS:0,WARNINGS:1,INFOS:5},QO={NONE:0,BINARY:1},$a={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},c8e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let uP=lP.WARNINGS;function d8e(t){Number.isInteger(t)&&(uP=t)}function f8e(){return uP}function cP(t){uP>=lP.INFOS&&console.log(`Info: ${t}`)}function cn(t){uP>=lP.WARNINGS&&console.log(`Warning: ${t}`)}function Yn(t){throw new Error(t)}function di(t,e){t||Yn(e)}function h8e(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function p8e(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=b8e(t)}catch{}}const r=e?new URL(t,e):new URL(t);if(h8e(r))return r}catch{}return null}function Pn(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Qf=function(){function e(n,r){this.constructor===e&&Yn("Cannot initialize BaseException."),this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class ZO extends Qf{constructor(e,n){super(e,"PasswordException"),this.code=n}}class eF extends Qf{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class jre extends Qf{constructor(e){super(e,"InvalidPDFException")}}class Sg extends Qf{constructor(e){super(e,"MissingPDFException")}}class dP extends Qf{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class g8e extends Qf{constructor(e){super(e,"FormatError")}}class Eg extends Qf{constructor(e){super(e,"AbortException")}}function Wre(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Yn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const o=Math.min(i+n,e),s=t.subarray(i,o);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function fP(t){typeof t!="string"&&Yn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function m8e(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function E3(t){const e=Object.create(null);for(const[n,r]of t)e[n]=r;return e}function y8e(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function v8e(){try{return new Function(""),!0}catch{return!1}}class Jo{static get isLittleEndian(){return Pn(this,"isLittleEndian",y8e())}static get isEvalSupported(){return Pn(this,"isEvalSupported",v8e())}static get isOffscreenCanvasSupported(){return Pn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Pn(this,"platform",{isMac:navigator.platform.includes("Mac")}):Pn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var e,n;return Pn(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const YN=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var qc,IC,tF;class Et{static makeHexColor(e,n,r){return`#${YN[e]}${YN[n]}${YN[r]}`}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const r=e[0]*n[0]+e[1]*n[2]+n[4],i=e[0]*n[1]+e[1]*n[3]+n[5];return[r,i]}static applyInverseTransform(e,n){const r=n[0]*n[3]-n[1]*n[2],i=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/r,o=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/r;return[i,o]}static getAxialAlignedBoundingBox(e,n){const r=this.applyTransform(e,n),i=this.applyTransform(e.slice(2,4),n),o=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],r=e[0]*n[0]+e[1]*n[2],i=e[0]*n[1]+e[1]*n[3],o=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],a=(r+s)/2,l=Math.sqrt((r+s)**2-4*(r*s-o*i))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>s?null:[r,o,i,s]}static bezierBoundingBox(e,n,r,i,o,s,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],re(this,qc,tF).call(this,e,r,o,a,n,i,s,l,3*(-e+3*(r-o)+a),6*(e-2*r+o),3*(r-e),u),re(this,qc,tF).call(this,e,r,o,a,n,i,s,l,3*(-n+3*(i-s)+l),6*(n-2*i+s),3*(i-n),u),u}}qc=new WeakSet,IC=function(e,n,r,i,o,s,a,l,u,c){if(u<=0||u>=1)return;const d=1-u,h=u*u,p=h*u,m=d*(d*(d*e+3*u*n)+3*h*r)+p*i,y=d*(d*(d*o+3*u*s)+3*h*a)+p*l;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],y),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],y)},tF=function(e,n,r,i,o,s,a,l,u,c,d,h){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,-d/c,h);return}const p=c**2-4*d*u;if(p<0)return;const m=Math.sqrt(p),y=2*u;re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,(-c+m)/y,h),re(this,qc,IC).call(this,e,n,r,i,o,s,a,l,(-c-m)/y,h)},ie(Et,qc);function b8e(t){return decodeURIComponent(escape(t))}let XN=null,CG=null;function x8e(t){return XN||(XN=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,CG=new Map([["ﬅ","ſt"]])),t.replaceAll(XN,(e,n,r)=>n?n.normalize("NFKC"):CG.get(r))}function w8e(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const t=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(Math.random()*255);return Wre(t)}const Gre="pdfjs_internal_id_",tc={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class hP{constructor(){this.constructor===hP&&Yn("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,o){return"none"}destroy(e=!1){}}var Pw;const sB=class sB{constructor({enableHWA:e=!1}={}){ie(this,Pw,!1);this.constructor===sB&&Yn("Cannot initialize BaseCanvasFactory."),ne(this,Pw,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!C(this,Pw)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Yn("Abstract method `_createCanvas` called.")}};Pw=new WeakMap;let rA=sB;class pP{constructor({baseUrl:e=null,isCompressed:n=!0}){this.constructor===pP&&Yn("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?QO.BINARY:QO.NONE;return this._fetchData(n,r).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}_fetchData(e,n){Yn("Abstract method `_fetchData` called.")}}class gP{constructor({baseUrl:e=null}){this.constructor===gP&&Yn("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetchData(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}_fetchData(e){Yn("Abstract method `_fetchData` called.")}}class C3{constructor(){this.constructor===C3&&Yn("Cannot initialize BaseSVGFactory.")}create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Yn("Abstract method `_createSVG` called.")}}const ic="http://www.w3.org/2000/svg",Mh=class Mh{};ct(Mh,"CSS",96),ct(Mh,"PDF",72),ct(Mh,"PDF_TO_CSS_UNITS",Mh.CSS/Mh.PDF);let Uf=Mh;var Bh,Vl,cc,qo,xA,Vh,bt,Ji,ry,iy,kC,Kre,nF,oy,ix,ox,rF,sx;class _8e extends hP{constructor({docId:n,ownerDocument:r=globalThis.document}={}){super();ie(this,bt);ie(this,Bh);ie(this,Vl);ie(this,cc);ie(this,qo);ie(this,xA);ie(this,Vh,0);ne(this,cc,n),ne(this,qo,r)}addFilter(n){if(!n)return"none";let r=C(this,bt,Ji).get(n);if(r)return r;const[i,o,s]=re(this,bt,kC).call(this,n),a=n.length===1?i:`${i}${o}${s}`;if(r=C(this,bt,Ji).get(a),r)return C(this,bt,Ji).set(n,r),r;const l=`g_${C(this,cc)}_transfer_map_${ys(this,Vh)._++}`,u=`url(#${l})`;C(this,bt,Ji).set(n,u),C(this,bt,Ji).set(a,u);const c=re(this,bt,oy).call(this,l);return re(this,bt,ox).call(this,i,o,s,c),u}addHCMFilter(n,r){var m;const i=`${n}-${r}`,o="base";let s=C(this,bt,ry).get(o);if((s==null?void 0:s.key)===i||(s?((m=s.filter)==null||m.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},C(this,bt,ry).set(o,s)),!n||!r))return s.url;const a=re(this,bt,sx).call(this,n);n=Et.makeHexColor(...a);const l=re(this,bt,sx).call(this,r);if(r=Et.makeHexColor(...l),C(this,bt,iy).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const u=new Array(256);for(let y=0;y<=255;y++){const x=y/255;u[y]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=u.join(","),d=`g_${C(this,cc)}_hcm_filter`,h=s.filter=re(this,bt,oy).call(this,d);re(this,bt,ox).call(this,c,c,c,h),re(this,bt,nF).call(this,h);const p=(y,x)=>{const _=a[y]/255,E=l[y]/255,S=new Array(x+1);for(let T=0;T<=x;T++)S[T]=_+T/x*(E-_);return S.join(",")};return re(this,bt,ox).call(this,p(0,5),p(1,5),p(2,5),h),s.url=`url(#${d})`,s.url}addAlphaFilter(n){let r=C(this,bt,Ji).get(n);if(r)return r;const[i]=re(this,bt,kC).call(this,[n]),o=`alpha_${i}`;if(r=C(this,bt,Ji).get(o),r)return C(this,bt,Ji).set(n,r),r;const s=`g_${C(this,cc)}_alpha_map_${ys(this,Vh)._++}`,a=`url(#${s})`;C(this,bt,Ji).set(n,a),C(this,bt,Ji).set(o,a);const l=re(this,bt,oy).call(this,s);return re(this,bt,rF).call(this,i,l),a}addLuminosityFilter(n){let r=C(this,bt,Ji).get(n||"luminosity");if(r)return r;let i,o;if(n?([i]=re(this,bt,kC).call(this,[n]),o=`luminosity_${i}`):o="luminosity",r=C(this,bt,Ji).get(o),r)return C(this,bt,Ji).set(n,r),r;const s=`g_${C(this,cc)}_luminosity_map_${ys(this,Vh)._++}`,a=`url(#${s})`;C(this,bt,Ji).set(n,a),C(this,bt,Ji).set(o,a);const l=re(this,bt,oy).call(this,s);return re(this,bt,Kre).call(this,l),n&&re(this,bt,rF).call(this,i,l),a}addHighlightHCMFilter(n,r,i,o,s){var E;const a=`${r}-${i}-${o}-${s}`;let l=C(this,bt,ry).get(n);if((l==null?void 0:l.key)===a||(l?((E=l.filter)==null||E.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},C(this,bt,ry).set(n,l)),!r||!i))return l.url;const[u,c]=[r,i].map(re(this,bt,sx).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[p,m]=[o,s].map(re(this,bt,sx).bind(this));h<d&&([d,h,p,m]=[h,d,m,p]),C(this,bt,iy).style.color="";const y=(S,T,I)=>{const N=new Array(256),R=(h-d)/I,M=S/255,L=(T-S)/(255*I);let k=0;for(let D=0;D<=I;D++){const V=Math.round(d+D*R),$=M+D*L;for(let H=k;H<=V;H++)N[H]=$;k=V+1}for(let D=k;D<256;D++)N[D]=N[k-1];return N.join(",")},x=`g_${C(this,cc)}_hcm_${n}_filter`,_=l.filter=re(this,bt,oy).call(this,x);return re(this,bt,nF).call(this,_),re(this,bt,ox).call(this,y(p[0],m[0],5),y(p[1],m[1],5),y(p[2],m[2],5),_),l.url=`url(#${x})`,l.url}destroy(n=!1){n&&C(this,bt,ry).size!==0||(C(this,Vl)&&(C(this,Vl).parentNode.parentNode.remove(),ne(this,Vl,null)),C(this,Bh)&&(C(this,Bh).clear(),ne(this,Bh,null)),ne(this,Vh,0))}}Bh=new WeakMap,Vl=new WeakMap,cc=new WeakMap,qo=new WeakMap,xA=new WeakMap,Vh=new WeakMap,bt=new WeakSet,Ji=function(){return C(this,Bh)||ne(this,Bh,new Map)},ry=function(){return C(this,xA)||ne(this,xA,new Map)},iy=function(){if(!C(this,Vl)){const n=C(this,qo).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=C(this,qo).createElementNS(ic,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ne(this,Vl,C(this,qo).createElementNS(ic,"defs")),n.append(i),i.append(C(this,Vl)),C(this,qo).body.append(n)}return C(this,Vl)},kC=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=u[h]/255;const d=c.join(",");return[d,d,d]}const[r,i,o]=n,s=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=r[u]/255,a[u]=i[u]/255,l[u]=o[u]/255;return[s.join(","),a.join(","),l.join(",")]},Kre=function(n){const r=C(this,qo).createElementNS(ic,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},nF=function(n){const r=C(this,qo).createElementNS(ic,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},oy=function(n){const r=C(this,qo).createElementNS(ic,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),C(this,bt,iy).append(r),r},ix=function(n,r,i){const o=C(this,qo).createElementNS(ic,r);o.setAttribute("type","discrete"),o.setAttribute("tableValues",i),n.append(o)},ox=function(n,r,i,o){const s=C(this,qo).createElementNS(ic,"feComponentTransfer");o.append(s),re(this,bt,ix).call(this,s,"feFuncR",n),re(this,bt,ix).call(this,s,"feFuncG",r),re(this,bt,ix).call(this,s,"feFuncB",i)},rF=function(n,r){const i=C(this,qo).createElementNS(ic,"feComponentTransfer");r.append(i),re(this,bt,ix).call(this,i,"feFuncA",n)},sx=function(n){return C(this,bt,iy).style.color=n,I3(getComputedStyle(C(this,bt,iy)).getPropertyValue("color"))};class S8e extends rA{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}={}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}async function mP(t,e="text"){if(ax(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Yre extends pP{_fetchData(e,n){return mP(e,this.isCompressed?"arraybuffer":"text").then(r=>({cMapData:r instanceof ArrayBuffer?new Uint8Array(r):fP(r),compressionType:n}))}}class Xre extends gP{_fetchData(e){return mP(e,"arraybuffer").then(n=>new Uint8Array(n))}}class T3 extends C3{_createSVG(e){return document.createElementNS(ic,e)}}class F1{constructor({viewBox:e,scale:n,rotation:r,offsetX:i=0,offsetY:o=0,dontFlip:s=!1}){this.viewBox=e,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,c,d,h;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,c=0,d=0,h=1;break;case 90:u=0,c=1,d=1,h=0;break;case 270:u=0,c=-1,d=-1,h=0;break;case 0:u=1,c=0,d=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,h=-h);let p,m,y,x;u===0?(p=Math.abs(l-e[1])*n+i,m=Math.abs(a-e[0])*n+o,y=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(p=Math.abs(a-e[0])*n+i,m=Math.abs(l-e[1])*n+o,y=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[u*n,c*n,d*n,h*n,p-u*n*a-d*n*l,m-c*n*a-h*n*l],this.width=y,this.height=x}get rawDims(){const{viewBox:e}=this;return Pn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:o=!1}={}){return new F1({viewBox:this.viewBox.slice(),scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}convertToViewportPoint(e,n){return Et.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Et.applyTransform([e[0],e[1]],this.transform),r=Et.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){return Et.applyInverseTransform([e,n],this.transform)}}class A3 extends Qf{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function R3(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function P3(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function E8e(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function C8e(t,e="document.pdf"){if(typeof t!="string")return e;if(R3(t))return cn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t);let o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0],o.includes("%")))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||e}class TG{constructor(){ct(this,"started",Object.create(null));ct(this,"times",[])}time(e){e in this.started&&cn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||cn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:o}of this.times)e.push(`${r.padEnd(n)} ${o-i}ms
`);return e.join("")}}function ax(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function rs(t){t.preventDefault()}function Jre(t){console.log("Deprecated API usage: "+t)}let AG;class Qre{static toDateObject(e){if(!e||typeof e!="string")return null;AG||(AG=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=AG.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(s+=c,a+=d):u==="+"&&(s-=c,a-=d),new Date(Date.UTC(r,i,o,s,a,l))}}function T8e(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,o=[0,0,parseInt(r),parseInt(i)];return new F1({viewBox:o,scale:e,rotation:n})}function I3(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(cn(`Not a valid color format: "${t}"`),[0,0,0])}function A8e(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,I3(r))}e.remove()}function Tr(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform();return[e,n,r,i,o,s]}function nc(t){const{a:e,b:n,c:r,d:i,e:o,f:s}=t.getTransform().invertSelf();return[e,n,r,i,o,s]}function tg(t,e,n=!1,r=!0){if(e instanceof F1){const{pageWidth:i,pageHeight:o}=e.rawDims,{style:s}=t,a=Jo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${o}px`,c=a?`round(${l}, 1px)`:`calc(${l})`,d=a?`round(${u}, 1px)`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=d):(s.width=d,s.height=c)}r&&t.setAttribute("data-main-rotation",e.rotation)}var zh,Uh,Ss,Hh,wA,Zre,Co,eie,tie,MC,nie,oF;const _A=class _A{constructor(e){ie(this,Co);ie(this,zh,null);ie(this,Uh,null);ie(this,Ss);ie(this,Hh,null);ne(this,Ss,e)}render(){const e=ne(this,zh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=C(this,Ss)._uiManager._signal;e.addEventListener("contextmenu",rs,{signal:n}),e.addEventListener("pointerdown",re(_A,wA,Zre),{signal:n});const r=ne(this,Hh,document.createElement("div"));r.className="buttons",e.append(r);const i=C(this,Ss).toolbarPosition;if(i){const{style:o}=e,s=C(this,Ss)._uiManager.direction==="ltr"?1-i[0]:i[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return re(this,Co,nie).call(this),e}hide(){var e;C(this,zh).classList.add("hidden"),(e=C(this,Uh))==null||e.hideDropdown()}show(){C(this,zh).classList.remove("hidden")}addAltTextButton(e){re(this,Co,MC).call(this,e),C(this,Hh).prepend(e,C(this,Co,oF))}addColorPicker(e){ne(this,Uh,e);const n=e.renderButton();re(this,Co,MC).call(this,n),C(this,Hh).prepend(n,C(this,Co,oF))}remove(){var e;C(this,zh).remove(),(e=C(this,Uh))==null||e.destroy(),ne(this,Uh,null)}};zh=new WeakMap,Uh=new WeakMap,Ss=new WeakMap,Hh=new WeakMap,wA=new WeakSet,Zre=function(e){e.stopPropagation()},Co=new WeakSet,eie=function(e){C(this,Ss)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},tie=function(e){C(this,Ss)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},MC=function(e){const n=C(this,Ss)._uiManager._signal;e.addEventListener("focusin",re(this,Co,eie).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",re(this,Co,tie).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",rs,{signal:n})},nie=function(){const e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${C(this,Ss).editorType}-button`),re(this,Co,MC).call(this,e),e.addEventListener("click",n=>{C(this,Ss)._uiManager.delete()},{signal:C(this,Ss)._uiManager._signal}),C(this,Hh).append(e)},oF=function(){const e=document.createElement("div");return e.className="divider",e},ie(_A,wA);let iF=_A;var Iw,qh,jh,qf,rie,iie,oie;class R8e{constructor(e){ie(this,qf);ie(this,Iw,null);ie(this,qh,null);ie(this,jh);ne(this,jh,e)}show(e,n,r){const[i,o]=re(this,qf,iie).call(this,n,r),{style:s}=C(this,qh)||ne(this,qh,re(this,qf,rie).call(this));e.append(C(this,qh)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){C(this,qh).remove()}}Iw=new WeakMap,qh=new WeakMap,jh=new WeakMap,qf=new WeakSet,rie=function(){const e=ne(this,qh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",rs,{signal:C(this,jh)._signal});const n=ne(this,Iw,document.createElement("div"));return n.className="buttons",e.append(n),re(this,qf,oie).call(this),e},iie=function(e,n){let r=0,i=0;for(const o of e){const s=o.y+o.height;if(s<r)continue;const a=o.x+(n?o.width:0);if(s>r){i=a,r=s;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,r]},oie=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=C(this,jh)._signal;e.addEventListener("contextmenu",rs,{signal:r}),e.addEventListener("click",()=>{C(this,jh).highlightSelection("floating_button")},{signal:r}),C(this,Iw).append(e)};function iA(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}function P8e(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}var SA;class I8e{constructor(){ie(this,SA,0)}get id(){return`${l8e}${ys(this,SA)._++}`}}SA=new WeakMap;var kw,EA,Zs,Mw,aF;const aB=class aB{constructor(){ie(this,Mw);ie(this,kw,w8e());ie(this,EA,0);ie(this,Zs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const o=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Pn(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:o}=e;return re(this,Mw,aF).call(this,`${n}_${r}_${i}_${o}`,e)}async getFromUrl(e){return re(this,Mw,aF).call(this,e,e)}async getFromId(e){C(this,Zs)||ne(this,Zs,new Map);const n=C(this,Zs).get(e);return n?n.bitmap?(n.refCounter+=1,n):n.file?this.getFromFile(n.file):this.getFromUrl(n.url):null}getSvgUrl(e){const n=C(this,Zs).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){C(this,Zs)||ne(this,Zs,new Map);const n=C(this,Zs).get(e);n&&(n.refCounter-=1,n.refCounter===0&&(n.bitmap=null))}isValidId(e){return e.startsWith(`image_${C(this,kw)}_`)}};kw=new WeakMap,EA=new WeakMap,Zs=new WeakMap,Mw=new WeakSet,aF=async function(e,n){C(this,Zs)||ne(this,Zs,new Map);let r=C(this,Zs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${C(this,kw)}_${ys(this,EA)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await mP(n,"blob")):i=r.file=n,i.type==="image/svg+xml"){const o=aB._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},s.onload=async()=>{const d=r.svgUrl=s.result;a.src=await o?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=s.onerror=c});s.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){console.error(i),r=null}return C(this,Zs).set(e,r),r&&C(this,Zs).set(r.id,r),r};let sF=aB;var vi,Zd,Nw,bi;class k8e{constructor(e=128){ie(this,vi,[]);ie(this,Zd,!1);ie(this,Nw);ie(this,bi,-1);ne(this,Nw,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(i&&e(),C(this,Zd))return;const l={cmd:e,undo:n,post:r,type:o};if(C(this,bi)===-1){C(this,vi).length>0&&(C(this,vi).length=0),ne(this,bi,0),C(this,vi).push(l);return}if(s&&C(this,vi)[C(this,bi)].type===o){a&&(l.undo=C(this,vi)[C(this,bi)].undo),C(this,vi)[C(this,bi)]=l;return}const u=C(this,bi)+1;u===C(this,Nw)?C(this,vi).splice(0,1):(ne(this,bi,u),u<C(this,vi).length&&C(this,vi).splice(u)),C(this,vi).push(l)}undo(){if(C(this,bi)===-1)return;ne(this,Zd,!0);const{undo:e,post:n}=C(this,vi)[C(this,bi)];e(),n==null||n(),ne(this,Zd,!1),ne(this,bi,C(this,bi)-1)}redo(){if(C(this,bi)<C(this,vi).length-1){ne(this,bi,C(this,bi)+1),ne(this,Zd,!0);const{cmd:e,post:n}=C(this,vi)[C(this,bi)];e(),n==null||n(),ne(this,Zd,!1)}}hasSomethingToUndo(){return C(this,bi)!==-1}hasSomethingToRedo(){return C(this,bi)<C(this,vi).length-1}destroy(){ne(this,vi,null)}}vi=new WeakMap,Zd=new WeakMap,Nw=new WeakMap,bi=new WeakMap;var CA,sie;class $1{constructor(e){ie(this,CA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Jo.platform;for(const[r,i,o={}]of e)for(const s of r){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:i,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(re(this,CA,sie).call(this,n));if(!r)return;const{callback:i,options:{bubbles:o=!1,args:s=[],checker:a=null}}=r;a&&!a(e,n)||(i.bind(e,...s,n)(),o||(n.stopPropagation(),n.preventDefault()))}}CA=new WeakSet,sie=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const TA=class TA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return A8e(e),Pn(this,"_colors",e)}convert(e){const n=I3(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((o,s)=>o===n[s]))return TA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Et.makeHexColor(...n):e}};ct(TA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let lF=TA;var Ry,Es,ai,ki,Py,dc,Iy,Ba,ky,Wh,zl,Va,Gh,Dw,Lw,Ul,My,ef,Hl,AA,tf,Ow,Kh,Fw,Ny,Mi,Hn,fc,Yh,$w,Bw,Vw,zw,Uw,Hw,qw,jw,Ww,Gw,Kw,Yw,Xw,nf,ql,hc,Jw,et,NC,aie,lie,DC,uie,cie,die,uF,fie,cF,dF,hie,vo,qd,pie,gie,fF,mie,lx,hF;const py=class py{constructor(e,n,r,i,o,s,a,l,u){ie(this,et);ie(this,Ry,new AbortController);ie(this,Es,null);ie(this,ai,new Map);ie(this,ki,new Map);ie(this,Py,null);ie(this,dc,null);ie(this,Iy,null);ie(this,Ba,new k8e);ie(this,ky,0);ie(this,Wh,new Set);ie(this,zl,null);ie(this,Va,null);ie(this,Gh,new Set);ie(this,Dw,!1);ie(this,Lw,null);ie(this,Ul,null);ie(this,My,null);ie(this,ef,!1);ie(this,Hl,null);ie(this,AA,new I8e);ie(this,tf,!1);ie(this,Ow,!1);ie(this,Kh,null);ie(this,Fw,null);ie(this,Ny,null);ie(this,Mi,Tn.NONE);ie(this,Hn,new Set);ie(this,fc,null);ie(this,Yh,null);ie(this,$w,null);ie(this,Bw,this.blur.bind(this));ie(this,Vw,this.focus.bind(this));ie(this,zw,this.copy.bind(this));ie(this,Uw,this.cut.bind(this));ie(this,Hw,this.paste.bind(this));ie(this,qw,this.keydown.bind(this));ie(this,jw,this.keyup.bind(this));ie(this,Ww,this.onEditingAction.bind(this));ie(this,Gw,this.onPageChanging.bind(this));ie(this,Kw,this.onScaleChanging.bind(this));ie(this,Yw,this.onRotationChanging.bind(this));ie(this,Xw,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ie(this,nf,[0,0]);ie(this,ql,null);ie(this,hc,null);ie(this,Jw,null);this._signal=C(this,Ry).signal,ne(this,hc,e),ne(this,Jw,n),ne(this,Py,r),this._eventBus=i,this._eventBus._on("editingaction",C(this,Ww)),this._eventBus._on("pagechanging",C(this,Gw)),this._eventBus._on("scalechanging",C(this,Kw)),this._eventBus._on("rotationchanging",C(this,Yw)),re(this,et,uie).call(this),re(this,et,hie).call(this),re(this,et,uF).call(this),ne(this,dc,o.annotationStorage),ne(this,Lw,o.filterFactory),ne(this,Yh,s),ne(this,My,a||null),ne(this,Dw,l),ne(this,Ny,u||null),this.viewParameters={realScale:Uf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=py.prototype,n=s=>C(s,hc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Pn(this,"_keyboardManager",new $1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,hc).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&C(s,hc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,r;(e=C(this,Ry))==null||e.abort(),ne(this,Ry,null),this._signal=null,this._eventBus._off("editingaction",C(this,Ww)),this._eventBus._off("pagechanging",C(this,Gw)),this._eventBus._off("scalechanging",C(this,Kw)),this._eventBus._off("rotationchanging",C(this,Yw));for(const i of C(this,ki).values())i.destroy();C(this,ki).clear(),C(this,ai).clear(),C(this,Gh).clear(),ne(this,Es,null),C(this,Hn).clear(),C(this,Ba).destroy(),(n=C(this,Py))==null||n.destroy(),(r=C(this,Hl))==null||r.hide(),ne(this,Hl,null),C(this,Ul)&&(clearTimeout(C(this,Ul)),ne(this,Ul,null)),C(this,ql)&&(clearTimeout(C(this,ql)),ne(this,ql,null))}async mlGuess(e){var n;return((n=C(this,Ny))==null?void 0:n.guess(e))||null}get hasMLManager(){return!!C(this,Ny)}get hcmFilter(){return Pn(this,"hcmFilter",C(this,Yh)?C(this,Lw).addHCMFilter(C(this,Yh).foreground,C(this,Yh).background):"none")}get direction(){return Pn(this,"direction",getComputedStyle(C(this,hc)).direction)}get highlightColors(){return Pn(this,"highlightColors",C(this,My)?new Map(C(this,My).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Pn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){ne(this,Fw,e)}editAltText(e){var n;(n=C(this,Py))==null||n.editAltText(this,e)}onPageChanging({pageNumber:e}){ne(this,ky,e-1)}focusMainContainer(){C(this,hc).focus()}findParent(e,n){for(const r of C(this,ki).values()){const{x:i,y:o,width:s,height:a}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=o&&n<=o+a)return r}return null}disableUserSelect(e=!1){C(this,Jw).classList.toggle("noUserSelect",e)}addShouldRescale(e){C(this,Gh).add(e)}removeShouldRescale(e){C(this,Gh).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Uf.PDF_TO_CSS_UNITS;for(const n of C(this,Gh))n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=n,a=n.toString(),u=re(this,et,NC).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(c){n.empty(),C(this,Mi)===Tn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Tn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of C(this,ki).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s,text:a});break}}}addToAnnotationStorage(e){!e.isEmpty()&&C(this,dc)&&!C(this,dc).has(e.id)&&C(this,dc).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,C(this,ef)&&(ne(this,ef,!1),re(this,et,DC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of C(this,Hn))if(n.div.contains(e)){ne(this,Kh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!C(this,Kh))return;const[e,n]=C(this,Kh);ne(this,Kh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){re(this,et,uF).call(this),re(this,et,cF).call(this)}removeEditListeners(){re(this,et,fie).call(this),re(this,et,dF).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of C(this,Va))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of C(this,Va))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=C(this,Es))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of C(this,Hn)){const o=i.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const s of C(this,Va))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(o){cn(`paste: "${o.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const o=[];for(const l of r){const u=i.deserialize(l);if(!u)return;o.push(u)}const s=()=>{for(const l of o)re(this,et,fF).call(this,l);re(this,et,hF).call(this,o)},a=()=>{for(const l of o)l.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){cn(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),C(this,Mi)!==Tn.NONE&&!this.isEditorHandlingKeyboard&&py._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,C(this,ef)&&(ne(this,ef,!1),re(this,et,DC).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(re(this,et,cie).call(this),re(this,et,cF).call(this),re(this,et,vo).call(this,{isEditing:C(this,Mi)!==Tn.NONE,isEmpty:re(this,et,lx).call(this),hasSomethingToUndo:C(this,Ba).hasSomethingToUndo(),hasSomethingToRedo:C(this,Ba).hasSomethingToRedo(),hasSelectedEditor:!1})):(re(this,et,die).call(this),re(this,et,dF).call(this),re(this,et,vo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!C(this,Va)){ne(this,Va,e);for(const n of C(this,Va))re(this,et,qd).call(this,n.defaultPropertiesToUpdate)}}getId(){return C(this,AA).id}get currentLayer(){return C(this,ki).get(C(this,ky))}getLayer(e){return C(this,ki).get(e)}get currentPageIndex(){return C(this,ky)}addLayer(e){C(this,ki).set(e.pageIndex,e),C(this,tf)?e.enable():e.disable()}removeLayer(e){C(this,ki).delete(e.pageIndex)}updateMode(e,n=null,r=!1){if(C(this,Mi)!==e){if(ne(this,Mi,e),e===Tn.NONE){this.setEditingState(!1),re(this,et,gie).call(this);return}this.setEditingState(!0),re(this,et,pie).call(this),this.unselectAll();for(const i of C(this,ki).values())i.updateMode(e);if(!n&&r){this.addNewEditorFromKeyboard();return}if(n){for(const i of C(this,ai).values())if(i.annotationElementId===n){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==C(this,Mi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var r;if(C(this,Va)){switch(e){case Gt.CREATE:this.currentLayer.addNewEditor();return;case Gt.HIGHLIGHT_DEFAULT_COLOR:(r=C(this,Fw))==null||r.updateColor(n);break;case Gt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(C(this,$w)||ne(this,$w,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const i of C(this,Hn))i.updateParams(e,n);for(const i of C(this,Va))i.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var o;for(const s of C(this,ai).values())s.editorType===e&&s.show(n);(((o=C(this,$w))==null?void 0:o.get(Gt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&re(this,et,qd).call(this,[[Gt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(C(this,Ow)!==e){ne(this,Ow,e);for(const n of C(this,ki).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const r of C(this,ai).values())r.pageIndex===e&&n.push(r);return n}getEditor(e){return C(this,ai).get(e)}addEditor(e){C(this,ai).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(C(this,Ul)&&clearTimeout(C(this,Ul)),ne(this,Ul,setTimeout(()=>{this.focusMainContainer(),ne(this,Ul,null)},0))),C(this,ai).delete(e.id),this.unselect(e),(!e.annotationElementId||!C(this,Wh).has(e.annotationElementId))&&((n=C(this,dc))==null||n.remove(e.id))}addDeletedAnnotationElement(e){C(this,Wh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return C(this,Wh).has(e)}removeDeletedAnnotationElement(e){C(this,Wh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){C(this,Es)!==e&&(ne(this,Es,e),e&&re(this,et,qd).call(this,e.propertiesToUpdate))}updateUI(e){C(this,et,mie)===e&&re(this,et,qd).call(this,e.propertiesToUpdate)}toggleSelected(e){if(C(this,Hn).has(e)){C(this,Hn).delete(e),e.unselect(),re(this,et,vo).call(this,{hasSelectedEditor:this.hasSelection});return}C(this,Hn).add(e),e.select(),re(this,et,qd).call(this,e.propertiesToUpdate),re(this,et,vo).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const n of C(this,Hn))n!==e&&n.unselect();C(this,Hn).clear(),C(this,Hn).add(e),e.select(),re(this,et,qd).call(this,e.propertiesToUpdate),re(this,et,vo).call(this,{hasSelectedEditor:!0})}isSelected(e){return C(this,Hn).has(e)}get firstSelectedEditor(){return C(this,Hn).values().next().value}unselect(e){e.unselect(),C(this,Hn).delete(e),re(this,et,vo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return C(this,Hn).size!==0}get isEnterHandled(){return C(this,Hn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){C(this,Ba).undo(),re(this,et,vo).call(this,{hasSomethingToUndo:C(this,Ba).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:re(this,et,lx).call(this)})}redo(){C(this,Ba).redo(),re(this,et,vo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:C(this,Ba).hasSomethingToRedo(),isEmpty:re(this,et,lx).call(this)})}addCommands(e){C(this,Ba).add(e),re(this,et,vo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:re(this,et,lx).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...C(this,Hn)],n=()=>{for(const i of e)i.remove()},r=()=>{for(const i of e)re(this,et,fF).call(this,i)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=C(this,Es))==null||e.commitOrRemove()}hasSomethingToControl(){return C(this,Es)||this.hasSelection}selectAll(){for(const e of C(this,Hn))e.commit();re(this,et,hF).call(this,C(this,ai).values())}unselectAll(){if(!(C(this,Es)&&(C(this,Es).commitOrRemove(),C(this,Mi)!==Tn.NONE))&&this.hasSelection){for(const e of C(this,Hn))e.unselect();C(this,Hn).clear(),re(this,et,vo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;C(this,nf)[0]+=e,C(this,nf)[1]+=n;const[i,o]=C(this,nf),s=[...C(this,Hn)],a=1e3;C(this,ql)&&clearTimeout(C(this,ql)),ne(this,ql,setTimeout(()=>{ne(this,ql,null),C(this,nf)[0]=C(this,nf)[1]=0,this.addCommands({cmd:()=>{for(const l of s)C(this,ai).has(l.id)&&l.translateInPage(i,o)},undo:()=>{for(const l of s)C(this,ai).has(l.id)&&l.translateInPage(-i,-o)},mustExec:!1})},a));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ne(this,zl,new Map);for(const e of C(this,Hn))C(this,zl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!C(this,zl))return!1;this.disableUserSelect(!1);const e=C(this,zl);ne(this,zl,null);let n=!1;for(const[{x:i,y:o,pageIndex:s},a]of e)a.newX=i,a.newY=o,a.newPageIndex=s,n||(n=i!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const r=(i,o,s,a)=>{if(C(this,ai).has(i.id)){const l=C(this,ki).get(a);l?i._setParentAndPosition(l,o,s):(i.pageIndex=a,i.x=o,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:o,newY:s,newPageIndex:a}]of e)r(i,o,s,a)},undo:()=>{for(const[i,{savedX:o,savedY:s,savedPageIndex:a}]of e)r(i,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(C(this,zl))for(const r of C(this,zl).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||C(this,Hn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return C(this,Es)===e}getActive(){return C(this,Es)}getMode(){return C(this,Mi)}get imageManager(){return Pn(this,"imageManager",new sF)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:o,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,d,h)=>({x:(c-i)/s,y:1-(u+d-r)/o,width:h/s,height:d/o});break;case"180":a=(u,c,d,h)=>({x:1-(u+d-r)/o,y:1-(c+h-i)/s,width:d/o,height:h/s});break;case"270":a=(u,c,d,h)=>({x:1-(c+h-i)/s,y:(u-r)/o,width:h/s,height:d/o});break;default:a=(u,c,d,h)=>({x:(u-r)/o,y:(c-i)/s,width:d/o,height:h/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const d=n.getRangeAt(u);if(!d.collapsed)for(const{x:h,y:p,width:m,height:y}of d.getClientRects())m===0||y===0||l.push(a(h,p,m,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(C(this,Iy)||ne(this,Iy,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=C(this,Iy))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=C(this,Iy))==null?void 0:i.get(e.data.id);if(!n)return;const r=C(this,dc).getRawValue(n);r&&(C(this,Mi)===Tn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};Ry=new WeakMap,Es=new WeakMap,ai=new WeakMap,ki=new WeakMap,Py=new WeakMap,dc=new WeakMap,Iy=new WeakMap,Ba=new WeakMap,ky=new WeakMap,Wh=new WeakMap,zl=new WeakMap,Va=new WeakMap,Gh=new WeakMap,Dw=new WeakMap,Lw=new WeakMap,Ul=new WeakMap,My=new WeakMap,ef=new WeakMap,Hl=new WeakMap,AA=new WeakMap,tf=new WeakMap,Ow=new WeakMap,Kh=new WeakMap,Fw=new WeakMap,Ny=new WeakMap,Mi=new WeakMap,Hn=new WeakMap,fc=new WeakMap,Yh=new WeakMap,$w=new WeakMap,Bw=new WeakMap,Vw=new WeakMap,zw=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,qw=new WeakMap,jw=new WeakMap,Ww=new WeakMap,Gw=new WeakMap,Kw=new WeakMap,Yw=new WeakMap,Xw=new WeakMap,nf=new WeakMap,ql=new WeakMap,hc=new WeakMap,Jw=new WeakMap,et=new WeakSet,NC=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},aie=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=re(this,et,NC).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(C(this,Hl)||ne(this,Hl,new R8e(this)),C(this,Hl).show(r,i,this.direction==="ltr"))},lie=function(){var o,s,a;const e=document.getSelection();if(!e||e.isCollapsed){C(this,fc)&&((o=C(this,Hl))==null||o.hide(),ne(this,fc,null),re(this,et,vo).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===C(this,fc))return;if(!re(this,et,NC).call(this,e).closest(".textLayer")){C(this,fc)&&((s=C(this,Hl))==null||s.hide(),ne(this,fc,null),re(this,et,vo).call(this,{hasSelectedText:!1}));return}if((a=C(this,Hl))==null||a.hide(),ne(this,fc,n),re(this,et,vo).call(this,{hasSelectedText:!0}),!(C(this,Mi)!==Tn.HIGHLIGHT&&C(this,Mi)!==Tn.NONE)&&(C(this,Mi)===Tn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ne(this,ef,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=this._signal,u=c=>{c.type==="pointerup"&&c.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),c.type==="pointerup"&&re(this,et,DC).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}},DC=function(e=""){C(this,Mi)===Tn.HIGHLIGHT?this.highlightSelection(e):C(this,Dw)&&re(this,et,aie).call(this)},uie=function(){document.addEventListener("selectionchange",re(this,et,lie).bind(this),{signal:this._signal})},cie=function(){const e=this._signal;window.addEventListener("focus",C(this,Vw),{signal:e}),window.addEventListener("blur",C(this,Bw),{signal:e})},die=function(){window.removeEventListener("focus",C(this,Vw)),window.removeEventListener("blur",C(this,Bw))},uF=function(){const e=this._signal;window.addEventListener("keydown",C(this,qw),{signal:e}),window.addEventListener("keyup",C(this,jw),{signal:e})},fie=function(){window.removeEventListener("keydown",C(this,qw)),window.removeEventListener("keyup",C(this,jw))},cF=function(){const e=this._signal;document.addEventListener("copy",C(this,zw),{signal:e}),document.addEventListener("cut",C(this,Uw),{signal:e}),document.addEventListener("paste",C(this,Hw),{signal:e})},dF=function(){document.removeEventListener("copy",C(this,zw)),document.removeEventListener("cut",C(this,Uw)),document.removeEventListener("paste",C(this,Hw))},hie=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},vo=function(e){Object.entries(e).some(([r,i])=>C(this,Xw)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(C(this,Xw),e)}),C(this,Mi)===Tn.HIGHLIGHT&&e.hasSelectedEditor===!1&&re(this,et,qd).call(this,[[Gt.HIGHLIGHT_FREE,!0]]))},qd=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},pie=function(){if(!C(this,tf)){ne(this,tf,!0);for(const e of C(this,ki).values())e.enable();for(const e of C(this,ai).values())e.enable()}},gie=function(){if(this.unselectAll(),C(this,tf)){ne(this,tf,!1);for(const e of C(this,ki).values())e.disable();for(const e of C(this,ai).values())e.disable()}},fF=function(e){const n=C(this,ki).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},mie=function(){let e=null;for(e of C(this,Hn));return e},lx=function(){if(C(this,ai).size===0)return!0;if(C(this,ai).size===1)for(const e of C(this,ai).values())return e.isEmpty();return!1},hF=function(e){for(const n of C(this,Hn))n.unselect();C(this,Hn).clear();for(const n of e)n.isEmpty()||(C(this,Hn).add(n),n.select());re(this,et,vo).call(this,{hasSelectedEditor:this.hasSelection})},ct(py,"TRANSLATE_SMALL",1),ct(py,"TRANSLATE_BIG",10);let ng=py;var pc,gc,za,mc,Cs,Dy,Ua,Qw,pF;const sc=class sc{constructor(e){ie(this,Qw);ie(this,pc,"");ie(this,gc,!1);ie(this,za,null);ie(this,mc,null);ie(this,Cs,null);ie(this,Dy,!1);ie(this,Ua,null);ne(this,Ua,e)}static initialize(e){sc._l10nPromise||(sc._l10nPromise=e)}async render(){const e=ne(this,za,document.createElement("button"));e.className="altText";const n=await sc._l10nPromise.get("pdfjs-editor-alt-text-button-label");e.textContent=n,e.setAttribute("aria-label",n),e.tabIndex="0";const r=C(this,Ua)._uiManager._signal;e.addEventListener("contextmenu",rs,{signal:r}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:r});const i=o=>{o.preventDefault(),C(this,Ua)._uiManager.editAltText(C(this,Ua))};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(ne(this,Dy,!0),i(o))},{signal:r}),await re(this,Qw,pF).call(this),e}finish(){C(this,za)&&(C(this,za).focus({focusVisible:C(this,Dy)}),ne(this,Dy,!1))}isEmpty(){return!C(this,pc)&&!C(this,gc)}get data(){return{altText:C(this,pc),decorative:C(this,gc)}}set data({altText:e,decorative:n}){C(this,pc)===e&&C(this,gc)===n||(ne(this,pc,e),ne(this,gc,n),re(this,Qw,pF).call(this))}toggle(e=!1){C(this,za)&&(!e&&C(this,Cs)&&(clearTimeout(C(this,Cs)),ne(this,Cs,null)),C(this,za).disabled=!e)}destroy(){var e;(e=C(this,za))==null||e.remove(),ne(this,za,null),ne(this,mc,null)}};pc=new WeakMap,gc=new WeakMap,za=new WeakMap,mc=new WeakMap,Cs=new WeakMap,Dy=new WeakMap,Ua=new WeakMap,Qw=new WeakSet,pF=async function(){var i;const e=C(this,za);if(!e)return;if(!C(this,pc)&&!C(this,gc)){e.classList.remove("done"),(i=C(this,mc))==null||i.remove();return}e.classList.add("done"),sc._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{e.setAttribute("aria-label",o)});let n=C(this,mc);if(!n){ne(this,mc,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip");const o=n.id=`alt-text-tooltip-${C(this,Ua).id}`;e.setAttribute("aria-describedby",o);const s=100,a=C(this,Ua)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(C(this,Cs)),ne(this,Cs,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ne(this,Cs,setTimeout(()=>{ne(this,Cs,null),C(this,mc).classList.add("show"),C(this,Ua)._reportTelemetry({action:"alt_text_tooltip"})},s))},{signal:a}),e.addEventListener("mouseleave",()=>{var l;C(this,Cs)&&(clearTimeout(C(this,Cs)),ne(this,Cs,null)),(l=C(this,mc))==null||l.classList.remove("show")},{signal:a})}n.innerText=C(this,gc)?await sc._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):C(this,pc),n.parentNode||e.append(n);const r=C(this,Ua).getImageForAltText();r==null||r.setAttribute("aria-describedby",n.id)},ct(sc,"_l10nPromise",null);let oA=sc;var Xh,Ha,Zi,Ly,Jh,Ni,Qh,Oy,Fy,eo,Zw,Zh,rf,e_,ep,yc,jl,$y,By,ea,t_,RA,gn,gF,n_,mF,yF,yie,vie,vF,bF,xF,bie,xie,wie,_ie,wF,ux;const er=class er{constructor(e){ie(this,gn);ie(this,Xh,null);ie(this,Ha,null);ie(this,Zi,null);ie(this,Ly,!1);ie(this,Jh,!1);ie(this,Ni,null);ie(this,Qh,null);ie(this,Oy,this.focusin.bind(this));ie(this,Fy,this.focusout.bind(this));ie(this,eo,null);ie(this,Zw,"");ie(this,Zh,!1);ie(this,rf,null);ie(this,e_,!1);ie(this,ep,!1);ie(this,yc,!1);ie(this,jl,null);ie(this,$y,0);ie(this,By,0);ie(this,ea,null);ct(this,"_initialOptions",Object.create(null));ct(this,"_isVisible",!0);ct(this,"_uiManager",null);ct(this,"_focusEventsAllowed",!0);ct(this,"_l10nPromise",null);ie(this,t_,!1);ie(this,RA,er._zIndex++);this.constructor===er&&Yn("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[o,s];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=er.prototype._resizeWithKeyboard,n=ng.TRANSLATE_SMALL,r=ng.TRANSLATE_BIG;return Pn(this,"_resizerKeyboardManager",new $1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],er.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Pn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new M8e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n,r){if(er._l10nPromise||(er._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(o=>[o,e.get(o.replaceAll(/([A-Z])/g,s=>`-${s.toLowerCase()}`))]))),r!=null&&r.strings)for(const o of r.strings)er._l10nPromise.set(o,e.get(o));if(er._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);er._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Yn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return C(this,t_)}set _isDraggable(e){var n;ne(this,t_,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=C(this,RA)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):re(this,gn,ux).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(C(this,Zh)?ne(this,Zh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[o,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/o,this.y=(n+i)/s,this.fixAndSetPosition()}translate(e,n){re(this,gn,gF).call(this,this.parentDimensions,e,n)}translateInPage(e,n){C(this,rf)||ne(this,rf,[this.x,this.y]),re(this,gn,gF).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){C(this,rf)||ne(this,rf,[this.x,this.y]);const[r,i]=this.parentDimensions;if(this.x+=e/r,this.y+=n/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:c}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,c)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:s}=this;const[a,l]=this.getBaseTranslation();o+=a,s+=l,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*s).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!C(this,rf)&&(C(this,rf)[0]!==this.x||C(this,rf)[1]!==this.y)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=er,i=r/e,o=r/n;switch(this.rotation){case 90:return[-i,o];case 180:return[i,o];case 270:return[i,-o];default:return[-i,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[n,r]=this.pageDimensions;let{x:i,y:o,width:s,height:a}=this;if(s*=n,a*=r,i*=n,o*=r,this._mustFixPosition)switch(e){case 0:i=Math.max(0,Math.min(n-s,i)),o=Math.max(0,Math.min(r-a,o));break;case 90:i=Math.max(0,Math.min(n-a,i)),o=Math.min(r,Math.max(s,o));break;case 180:i=Math.min(n,Math.max(s,i)),o=Math.min(r,Math.max(a,o));break;case 270:i=Math.min(n,Math.max(a,i)),o=Math.max(0,Math.min(r-s,o));break}this.x=i/=n,this.y=o/=r;const[l,u]=this.getBaseTranslation();i+=l,o+=u;const{style:c}=this.div;c.left=`${(100*i).toFixed(2)}%`,c.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return re(r=er,n_,mF).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return re(r=er,n_,mF).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this,i=n*e,o=r*e;return Jo.isCSSRoundSupported?[Math.round(i),Math.round(o)]:[i,o]}setDims(e,n){const[r,i]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,C(this,Jh)||(this.div.style.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:r}=e,i=r.endsWith("%"),o=!C(this,Jh)&&n.endsWith("%");if(i&&o)return;const[s,a]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/s).toFixed(2)}%`),!C(this,Jh)&&!o&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=C(this,Zi))==null||e.finish()}async addEditToolbar(){return C(this,eo)||C(this,ep)?C(this,eo):(ne(this,eo,new iF(this)),this.div.append(C(this,eo).render()),C(this,Zi)&&C(this,eo).addAltTextButton(await C(this,Zi).render()),C(this,eo))}removeEditToolbar(){var e;C(this,eo)&&(C(this,eo).remove(),ne(this,eo,null),(e=C(this,Zi))==null||e.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){C(this,Zi)||(oA.initialize(er._l10nPromise),ne(this,Zi,new oA(this)),C(this,Xh)&&(C(this,Zi).data=C(this,Xh),ne(this,Xh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=C(this,Zi))==null?void 0:e.data}set altTextData(e){C(this,Zi)&&(C(this,Zi).data=e)}hasAltText(){var e;return!((e=C(this,Zi))!=null&&e.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=C(this,Ly)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const e=this._uiManager._signal;this.div.addEventListener("focusin",C(this,Oy),{signal:e}),this.div.addEventListener("focusout",C(this,Fy),{signal:e});const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/n).toFixed(2)}%`,this.div.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,o]=this.getInitialTranslation();return this.translate(i,o),iA(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:n}=Jo.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ne(this,Zh,!0),this._isDraggable){re(this,gn,bie).call(this,e);return}re(this,gn,xF).call(this,e)}moveInDOM(){C(this,jl)&&clearTimeout(C(this,jl)),ne(this,jl,setTimeout(()=>{var e;ne(this,jl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition()}getRect(e,n,r=this.rotation){const i=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/i,c=n/i,d=this.x*o,h=this.y*s,p=this.width*o,m=this.height*s;switch(r){case 0:return[d+u+a,s-h-c-m+l,d+u+p+a,s-h-c+l];case 90:return[d+c+a,s-h+u+l,d+c+m+a,s-h+u+p+l];case 180:return[d-u-p+a,s-h+c+l,d-u+a,s-h+c+m+l];case 270:return[d-c-m+a,s-h-u-p+l,d-c+a,s-h-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,o,s]=e,a=o-r,l=s-i;switch(this.rotation){case 0:return[r,n-s,a,l];case 90:return[r,n-i,l,a];case 180:return[o,n-i,a,l];case 270:return[o,n-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ne(this,ep,!0)}disableEditMode(){ne(this,ep,!1)}isInEditMode(){return C(this,ep)}shouldGetKeyboardEvents(){return C(this,yc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var n,r;const e=this._uiManager._signal;(n=this.div)==null||n.addEventListener("focusin",C(this,Oy),{signal:e}),(r=this.div)==null||r.addEventListener("focusout",C(this,Fy),{signal:e})}rotate(e){}serialize(e=!1,n=null){Yn("An editor must be serializable")}static deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r});i.rotation=e.rotation,ne(i,Xh,e.accessibilityData);const[o,s]=i.pageDimensions,[a,l,u,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=a/o,i.y=l/s,i.width=u/o,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",C(this,Oy)),this.div.removeEventListener("focusout",C(this,Fy)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),C(this,jl)&&(clearTimeout(C(this,jl)),ne(this,jl,null)),re(this,gn,ux).call(this),this.removeEditToolbar(),C(this,ea)){for(const e of C(this,ea).values())clearTimeout(e);ne(this,ea,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(re(this,gn,yie).call(this),C(this,Ni).classList.remove("hidden"),iA(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ne(this,Qh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=C(this,Ni).children;if(!C(this,Ha)){ne(this,Ha,Array.from(n));const s=re(this,gn,xie).bind(this),a=re(this,gn,wie).bind(this),l=this._uiManager._signal;for(const u of C(this,Ha)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",re(this,gn,_ie).bind(this,c),{signal:l}),er._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(d=>u.setAttribute("aria-label",d))}}const r=C(this,Ha)[0];let i=0;for(const s of n){if(s===r)break;i++}const o=(360-this.rotation+this.parentRotation)%360/90*(C(this,Ha).length/4);if(o!==i){if(o<i)for(let a=0;a<i-o;a++)C(this,Ni).append(C(this,Ni).firstChild);else if(o>i)for(let a=0;a<o-i;a++)C(this,Ni).firstChild.before(C(this,Ni).lastChild);let s=0;for(const a of n){const u=C(this,Ha)[s++].getAttribute("data-resizer-name");er._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(c=>a.setAttribute("aria-label",c))}}re(this,gn,wF).call(this,0),ne(this,yc,!0),C(this,Ni).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){C(this,yc)&&re(this,gn,bF).call(this,C(this,Zw),{movementX:e,movementY:n})}_stopResizingWithKeyboard(){re(this,gn,ux).call(this),this.div.focus()}select(){var e,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!C(this,eo)){this.addEditToolbar().then(()=>{var r,i;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((i=C(this,eo))==null||i.show())});return}(n=C(this,eo))==null||n.show()}unselect(){var e,n,r,i;(e=C(this,Ni))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=C(this,eo))==null||i.hide()}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return C(this,e_)}set isEditing(e){ne(this,e_,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){ne(this,Jh,!0);const r=e/n,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){C(this,ea)||ne(this,ea,new Map);const{action:r}=e;let i=C(this,ea).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),C(this,ea).delete(r),C(this,ea).size===0&&ne(this,ea,null)},er._telemetryTimeout),C(this,ea).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ne(this,Ly,!1)}disable(){this.div&&(this.div.tabIndex=-1),ne(this,Ly,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Xh=new WeakMap,Ha=new WeakMap,Zi=new WeakMap,Ly=new WeakMap,Jh=new WeakMap,Ni=new WeakMap,Qh=new WeakMap,Oy=new WeakMap,Fy=new WeakMap,eo=new WeakMap,Zw=new WeakMap,Zh=new WeakMap,rf=new WeakMap,e_=new WeakMap,ep=new WeakMap,yc=new WeakMap,jl=new WeakMap,$y=new WeakMap,By=new WeakMap,ea=new WeakMap,t_=new WeakMap,RA=new WeakMap,gn=new WeakSet,gF=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this.fixAndSetPosition()},n_=new WeakSet,mF=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},yF=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},yie=function(){if(C(this,Ni))return;ne(this,Ni,document.createElement("div")),C(this,Ni).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");C(this,Ni).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",re(this,gn,vie).bind(this,r),{signal:n}),i.addEventListener("contextmenu",rs,{signal:n}),i.tabIndex=-1}this.div.prepend(C(this,Ni))},vie=function(e,n){var y;n.preventDefault();const{isMac:r}=Jo.platform;if(n.button!==0||n.ctrlKey&&r)return;(y=C(this,Zi))==null||y.toggle(!1);const i=re(this,gn,bF).bind(this,e),o=this._isDraggable;this._isDraggable=!1;const s=this._uiManager._signal,a={passive:!0,capture:!0,signal:s};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",rs,{signal:s});const l=this.x,u=this.y,c=this.width,d=this.height,h=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const m=()=>{var x;this.parent.togglePointerEvents(!0),(x=C(this,Zi))==null||x.toggle(!0),this._isDraggable=o,window.removeEventListener("pointerup",m),window.removeEventListener("blur",m),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",rs),this.parent.div.style.cursor=h,this.div.style.cursor=p,re(this,gn,vF).call(this,l,u,c,d)};window.addEventListener("pointerup",m,{signal:s}),window.addEventListener("blur",m,{signal:s})},vF=function(e,n,r,i){const o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===n&&a===r&&l===i||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=o,this.y=s;const[u,c]=this.parentDimensions;this.setDims(u*a,c*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=i,this.x=e,this.y=n;const[u,c]=this.parentDimensions;this.setDims(u*r,c*i),this.fixAndSetPosition()},mustExec:!0})},bF=function(e,n){const[r,i]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,u=er.MIN_SIZE/r,c=er.MIN_SIZE/i,d=J=>Math.round(J*1e4)/1e4,h=re(this,gn,yF).call(this,this.rotation),p=(J,ee)=>[h[0]*J+h[2]*ee,h[1]*J+h[3]*ee],m=re(this,gn,yF).call(this,360-this.rotation),y=(J,ee)=>[m[0]*J+m[2]*ee,m[1]*J+m[3]*ee];let x,_,E=!1,S=!1;switch(e){case"topLeft":E=!0,x=(J,ee)=>[0,0],_=(J,ee)=>[J,ee];break;case"topMiddle":x=(J,ee)=>[J/2,0],_=(J,ee)=>[J/2,ee];break;case"topRight":E=!0,x=(J,ee)=>[J,0],_=(J,ee)=>[0,ee];break;case"middleRight":S=!0,x=(J,ee)=>[J,ee/2],_=(J,ee)=>[0,ee/2];break;case"bottomRight":E=!0,x=(J,ee)=>[J,ee],_=(J,ee)=>[0,0];break;case"bottomMiddle":x=(J,ee)=>[J/2,ee],_=(J,ee)=>[J/2,0];break;case"bottomLeft":E=!0,x=(J,ee)=>[0,ee],_=(J,ee)=>[J,0];break;case"middleLeft":S=!0,x=(J,ee)=>[0,ee/2],_=(J,ee)=>[J,ee/2];break}const T=x(a,l),I=_(a,l);let N=p(...I);const R=d(o+N[0]),M=d(s+N[1]);let L=1,k=1,[D,V]=this.screenToPageTranslation(n.movementX,n.movementY);if([D,V]=y(D/r,V/i),E){const J=Math.hypot(a,l);L=k=Math.max(Math.min(Math.hypot(I[0]-T[0]-D,I[1]-T[1]-V)/J,1/a,1/l),u/a,c/l)}else S?L=Math.max(u,Math.min(1,Math.abs(I[0]-T[0]-D)))/a:k=Math.max(c,Math.min(1,Math.abs(I[1]-T[1]-V)))/l;const $=d(a*L),H=d(l*k);N=p(..._($,H));const G=R-N[0],K=M-N[1];this.width=$,this.height=H,this.x=G,this.y=K,this.setDims(r*$,i*H),this.fixAndSetPosition()},xF=function(e){const{isMac:n}=Jo.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},bie=function(e){const n=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,i;const o=this._uiManager._signal;n&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:o},ne(this,$y,e.clientX),ne(this,By,e.clientY),i=a=>{const{clientX:l,clientY:u}=a,[c,d]=this.screenToPageTranslation(l-C(this,$y),u-C(this,By));ne(this,$y,l),ne(this,By,u),this._uiManager.dragSelectedEditors(c,d)},window.addEventListener("pointermove",i,r));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),n&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,r)),ne(this,Zh,!1),this._uiManager.endDragSession()||re(this,gn,xF).call(this,e)};window.addEventListener("pointerup",s,{signal:o}),window.addEventListener("blur",s,{signal:o})},xie=function(e){er._resizerKeyboardManager.exec(this,e)},wie=function(e){var n;C(this,yc)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==C(this,Ni)&&re(this,gn,ux).call(this)},_ie=function(e){ne(this,Zw,C(this,yc)?e:"")},wF=function(e){if(C(this,Ha))for(const n of C(this,Ha))n.tabIndex=e},ux=function(){if(ne(this,yc,!1),re(this,gn,wF).call(this,-1),C(this,Qh)){const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=C(this,Qh);re(this,gn,vF).call(this,e,n,r,i),ne(this,Qh,null)}},ie(er,n_),ct(er,"_borderLineWidth",-1),ct(er,"_colorManager",new lF),ct(er,"_zIndex",1),ct(er,"_telemetryTimeout",1e3);let qn=er;class M8e extends qn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const RG=3285377520,Js=4294901760,Ol=65535;class Sie{constructor(e){this.h1=e?e&4294967295:RG,this.h2=e?e&4294967295:RG}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,x=e.length;y<x;y++){const _=e.charCodeAt(y);_<=255?n[r++]=_:(n[r++]=_>>>8,n[r++]=_&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,o=r-i*4,s=new Uint32Array(n.buffer,0,i);let a=0,l=0,u=this.h1,c=this.h2;const d=3432918353,h=461845907,p=d&Ol,m=h&Ol;for(let y=0;y<i;y++)y&1?(a=s[y],a=a*d&Js|a*p&Ol,a=a<<15|a>>>17,a=a*h&Js|a*m&Ol,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[y],l=l*d&Js|l*p&Ol,l=l<<15|l>>>17,l=l*h&Js|l*m&Ol,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,o){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&Js|a*p&Ol,a=a<<15|a>>>17,a=a*h&Js|a*m&Ol,i&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Js|e*36045&Ol,n=n*4283543511&Js|((n<<16|e>>>16)*2950163797&Js)>>>16,e^=n>>>1,e=e*444984403&Js|e*60499&Ol,n=n*3301882366&Js|((n<<16|e>>>16)*3120437893&Js)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const _F=Object.freeze({map:null,hash:"",transfer:void 0});var tp,Di,PA,Eie;class k3{constructor(){ie(this,PA);ie(this,tp,!1);ie(this,Di,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=C(this,Di).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return C(this,Di).get(e)}remove(e){if(C(this,Di).delete(e),C(this,Di).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of C(this,Di).values())if(n instanceof qn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=C(this,Di).get(e);let i=!1;if(r!==void 0)for(const[o,s]of Object.entries(n))r[o]!==s&&(i=!0,r[o]=s);else i=!0,C(this,Di).set(e,n);i&&re(this,PA,Eie).call(this),n instanceof qn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return C(this,Di).has(e)}getAll(){return C(this,Di).size>0?E3(C(this,Di)):null}setAll(e){for(const[n,r]of Object.entries(e))this.setValue(n,r)}get size(){return C(this,Di).size}resetModified(){C(this,tp)&&(ne(this,tp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Cie(this)}get serializable(){if(C(this,Di).size===0)return _F;const e=new Map,n=new Sie,r=[],i=Object.create(null);let o=!1;for(const[s,a]of C(this,Di)){const l=a instanceof qn?a.serialize(!1,i):a;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:_F}get editorStats(){let e=null;const n=new Map;for(const r of C(this,Di).values()){if(!(r instanceof qn))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:o}=i;n.has(o)||n.set(o,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const s=e[o]||(e[o]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let u=s.get(a);u||(u=new Map,s.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[r,i]of n)e[r]=i.computeTelemetryFinalData(e[r]);return e}}tp=new WeakMap,Di=new WeakMap,PA=new WeakSet,Eie=function(){C(this,tp)||(ne(this,tp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var r_;class Cie extends k3{constructor(n){super();ie(this,r_);const{map:r,hash:i,transfer:o}=n.serializable,s=structuredClone(r,o?{transfer:o}:null);ne(this,r_,{map:s,hash:i,transfer:o})}get print(){Yn("Should not call PrintAnnotationStorage.print")}get serializable(){return C(this,r_)}}r_=new WeakMap;var Vy;class N8e{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){ie(this,Vy,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),C(this,Vy).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||C(this,Vy).has(e.loadedName))){if(di(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:o}=e,s=new FontFace(r,i,o);this.addNativeFontFace(s);try{await s.load(),C(this,Vy).add(r),n==null||n(e)}catch{cn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Yn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw cn(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Pn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ao||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Pn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(di(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const o=r.shift();setTimeout(o.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,I){return T.charCodeAt(I)<<24|T.charCodeAt(I+1)<<16|T.charCodeAt(I+2)<<8|T.charCodeAt(I+3)&255}function i(T,I,N,R){const M=T.substring(0,I),L=T.substring(I+N);return M+R+L}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(T,I){if(++u>30){cn("Load test font never loaded."),I();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(c.bind(null,T,I))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,d.length,d);const m=16,y=1482184792;let x=r(h,m);for(o=0,s=d.length-3;o<s;o+=4)x=x-y+r(d,o)|0;o<d.length&&(x=x-y+r(d+"XXX",o)|0),h=i(h,m,4,m8e(x));const _=`url(data:font/opentype;base64,${btoa(h)});`,E=`@font-face {font-family:"${d}";src:${_}}`;this.insertRule(E);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const T of[e.loadedName,d]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=T,S.append(I)}this._document.body.append(S),c(d,()=>{S.remove(),n.complete()})}}Vy=new WeakMap;class D8e{constructor(e,{disableFontFace:n=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=n===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=Wre(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let o=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(o+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${o}src:${n}}`}return(i=this._inspectFont)==null||i.call(this,this,n),r}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let r;try{r=e.get(this.loadedName+"_path_"+n)}catch(o){cn(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[n]=function(o,s){};const i=[];for(let o=0,s=r.length;o<s;)switch(r[o++]){case tc.BEZIER_CURVE_TO:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.bezierCurveTo(a,l,u,c,d,h)),o+=6}break;case tc.MOVE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.moveTo(a,l)),o+=2}break;case tc.LINE_TO:{const[a,l]=r.slice(o,o+2);i.push(u=>u.lineTo(a,l)),o+=2}break;case tc.QUADRATIC_CURVE_TO:{const[a,l,u,c]=r.slice(o,o+4);i.push(d=>d.quadraticCurveTo(a,l,u,c)),o+=4}break;case tc.RESTORE:i.push(a=>a.restore());break;case tc.SAVE:i.push(a=>a.save());break;case tc.SCALE:di(i.length===2,"Scale command is only valid at the third position.");break;case tc.TRANSFORM:{const[a,l,u,c,d,h]=r.slice(o,o+6);i.push(p=>p.transform(a,l,u,c,d,h)),o+=6}break;case tc.TRANSLATE:{const[a,l]=r.slice(o,o+2);i.push(u=>u.translate(a,l)),o+=2}break}return this.compiledGlyphs[n]=function(s,a){i[0](s),i[1](s),s.scale(a,-a);for(let l=2,u=i.length;l<u;l++)i[l](s)}}}if(ao){var SF=Promise.withResolvers(),$x=null;(async()=>{const e=await rx(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await rx(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await rx(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await rx(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,s;return new Map(Object.entries({fs:e,http:n,https:r,url:i,canvas:o,path2d:s}))})().then(e=>{$x=e,SF.resolve()},e=>{cn(`loadPackages: ${e}`),$x=new Map,SF.resolve()})}class Ru{static get promise(){return SF.promise}static get(e){return $x==null?void 0:$x.get(e)}}const Tie=function(t){return Ru.get("fs").promises.readFile(t).then(n=>new Uint8Array(n))};class L8e extends hP{}class O8e extends rA{_createCanvas(e,n){return Ru.get("canvas").createCanvas(e,n)}}class F8e extends pP{_fetchData(e,n){return Tie(e).then(r=>({cMapData:r,compressionType:n}))}}class $8e extends gP{_fetchData(e){return Tie(e)}}const _o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function EF(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class B1{constructor(){this.constructor===B1&&Yn("Cannot initialize BaseShadingPattern.")}getPattern(){Yn("Abstract method `getPattern` called.")}}class B8e extends B1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let o;if(i===_o.STROKE||i===_o.FILL){const s=n.current.getClippedPathBoundingBox(i,Tr(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l,!0),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),r=Et.transform(r,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),EF(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);o.setTransform(d)}else EF(e,this._bbox),o=this._createGradient(e);return o}}function JN(t,e,n,r,i,o,s,a){const l=e.coords,u=e.colors,c=t.data,d=t.width*4;let h;l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h),l[r+1]>l[i+1]&&(h=r,r=i,i=h,h=s,s=a,a=h),l[n+1]>l[r+1]&&(h=n,n=r,r=h,h=o,o=s,s=h);const p=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,x=(l[r+1]+e.offsetY)*e.scaleY,_=(l[i]+e.offsetX)*e.scaleX,E=(l[i+1]+e.offsetY)*e.scaleY;if(m>=E)return;const S=u[o],T=u[o+1],I=u[o+2],N=u[s],R=u[s+1],M=u[s+2],L=u[a],k=u[a+1],D=u[a+2],V=Math.round(m),$=Math.round(E);let H,G,K,J,ee,X,j,Y;for(let ae=V;ae<=$;ae++){if(ae<x){const de=ae<m?0:(m-ae)/(m-x);H=p-(p-y)*de,G=S-(S-N)*de,K=T-(T-R)*de,J=I-(I-M)*de}else{let de;ae>E?de=1:x===E?de=0:de=(x-ae)/(x-E),H=y-(y-_)*de,G=N-(N-L)*de,K=R-(R-k)*de,J=M-(M-D)*de}let q;ae<m?q=0:ae>E?q=1:q=(m-ae)/(m-E),ee=p-(p-_)*q,X=S-(S-L)*q,j=T-(T-k)*q,Y=I-(I-D)*q;const Q=Math.round(Math.min(H,ee)),te=Math.round(Math.max(H,ee));let ue=d*ae+Q*4;for(let de=Q;de<=te;de++)q=(H-de)/(H-ee),q<0?q=0:q>1&&(q=1),c[ue++]=G-(G-X)*q|0,c[ue++]=K-(K-j)*q|0,c[ue++]=J-(J-Y)*q|0,c[ue++]=255}}function V8e(t,e,n){const r=e.coords,i=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(o=0;o<l;o++){let c=o*a;for(let d=0;d<u;d++,c++)JN(t,n,r[c],r[c+1],r[c+a],i[c],i[c+1],i[c+a]),JN(t,n,r[c+a+1],r[c+1],r[c+a],i[c+a+1],i[c+1],i[c+a])}break;case"triangles":for(o=0,s=r.length;o<s;o+=3)JN(t,n,r[o],r[o+1],r[o+2],i[o],i[o+1],i[o+2]);break;default:throw new Error("illegal figure")}}class z8e extends B1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),p=u/d,m=c/h,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},x=d+2*2,_=h+2*2,E=r.getCanvas("mesh",x,_,!1),S=E.context,T=S.createImageData(d,h);if(n){const N=T.data;for(let R=0,M=N.length;R<M;R+=4)N[R]=n[0],N[R+1]=n[1],N[R+2]=n[2],N[R+3]=255}for(const N of this._figures)V8e(T,N,y);return S.putImageData(T,2,2),{canvas:E.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(e,n,r,i){EF(e,this._bbox);let o;if(i===_o.SHADING)o=Et.singularValueDecompose2dScale(Tr(e));else if(o=Et.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=Et.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}const s=this._createMeshCanvas(o,i===_o.SHADING?null:this._background,n.cachedCanvases);return i!==_o.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class U8e extends B1{getPattern(){return"hotpink"}}function H8e(t){switch(t[0]){case"RadialAxial":return new B8e(t);case"Mesh":return new z8e(t);case"Dummy":return new U8e}throw new Error(`Unknown IR type: ${t[0]}`)}const PG={COLORED:1,UNCOLORED:2},IA=class IA{constructor(e,n,r,i,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}createPatternCanvas(e){const n=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;cP("TilingType: "+a);const c=r[0],d=r[1],h=r[2],p=r[3],m=Et.singularValueDecompose2dScale(this.matrix),y=Et.singularValueDecompose2dScale(this.baseTransform),x=[m[0]*y[0],m[1]*y[1]],_=this.getSizeAndScale(i,this.ctx.canvas.width,x[0]),E=this.getSizeAndScale(o,this.ctx.canvas.height,x[1]),S=e.cachedCanvases.getCanvas("pattern",_.size,E.size,!0),T=S.context,I=u.createCanvasGraphics(T);I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,s,l);let N=c,R=d,M=h,L=p;return c<0&&(N=0,M+=Math.abs(c)),d<0&&(R=0,L+=Math.abs(d)),T.translate(-(_.scale*N),-(E.scale*R)),I.transform(_.scale,0,0,E.scale,0,0),T.save(),this.clipBbox(I,N,R,M,L),I.baseTransform=Tr(I.ctx),I.executeOperatorList(n),I.endDrawing(),{canvas:S.canvas,scaleX:_.scale,scaleY:E.scale,offsetX:N,offsetY:R}}getSizeAndScale(e,n,r){e=Math.abs(e);const i=Math.max(IA.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}clipBbox(e,n,r,i,o){const s=i-n,a=o-r;e.ctx.rect(n,r,s,a),e.current.updateRectMinMax(Tr(e.ctx),[n,r,i,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,o=e.current;switch(n){case PG.COLORED:const s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case PG.UNCOLORED:const a=Et.makeHexColor(r[0],r[1],r[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new g8e(`Unsupported paint type: ${n}`)}}getPattern(e,n,r,i){let o=r;i!==_o.SHADING&&(o=Et.transform(o,n.baseTransform),this.matrix&&(o=Et.transform(o,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(a),l}};ct(IA,"MAX_PATTERN_SIZE",3e3);let CF=IA;function q8e({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:o=4294967295,inverseDecode:s=!1}){const a=Jo.isLittleEndian?4278190080:255,[l,u]=s?[o,a]:[a,o],c=r>>3,d=r&7,h=t.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const x=e+c;e<x;e++){const _=e<h?t[e]:255;n[p++]=_&128?u:l,n[p++]=_&64?u:l,n[p++]=_&32?u:l,n[p++]=_&16?u:l,n[p++]=_&8?u:l,n[p++]=_&4?u:l,n[p++]=_&2?u:l,n[p++]=_&1?u:l}if(d===0)continue;const y=e<h?t[e++]:255;for(let x=0;x<d;x++)n[p++]=y&1<<7-x?u:l}return{srcPos:e,destPos:p}}const IG=16,kG=100,j8e=15,MG=10,NG=1e3,Wo=16;function W8e(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},t.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},t.transform=function(r,i,o,s,a,l){e.transform(r,i,o,s,a,l),this.__originalTransform(r,i,o,s,a,l)},t.setTransform=function(r,i,o,s,a,l){e.setTransform(r,i,o,s,a,l),this.__originalSetTransform(r,i,o,s,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(r){e.rotate(r),this.__originalRotate(r)},t.clip=function(r){e.clip(r),this.__originalClip(r)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,o,s,a){e.bezierCurveTo(n,r,i,o,s,a),this.__originalBezierCurveTo(n,r,i,o,s,a)},t.rect=function(n,r,i,o){e.rect(n,r,i,o),this.__originalRect(n,r,i,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class G8e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function jE(t,e,n,r,i,o,s,a,l,u){const[c,d,h,p,m,y]=Tr(t);if(d===0&&h===0){const E=s*c+m,S=Math.round(E),T=a*p+y,I=Math.round(T),N=(s+l)*c+m,R=Math.abs(Math.round(N)-S)||1,M=(a+u)*p+y,L=Math.abs(Math.round(M)-I)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(p),S,I),t.drawImage(e,n,r,i,o,0,0,R,L),t.setTransform(c,d,h,p,m,y),[R,L]}if(c===0&&p===0){const E=a*h+m,S=Math.round(E),T=s*d+y,I=Math.round(T),N=(a+u)*h+m,R=Math.abs(Math.round(N)-S)||1,M=(s+l)*d+y,L=Math.abs(Math.round(M)-I)||1;return t.setTransform(0,Math.sign(d),Math.sign(h),0,S,I),t.drawImage(e,n,r,i,o,0,0,L,R),t.setTransform(c,d,h,p,m,y),[L,R]}t.drawImage(e,n,r,i,o,s,a,l,u);const x=Math.hypot(c,d),_=Math.hypot(h,p);return[x*l,_*u]}function K8e(t){const{width:e,height:n}=t;if(e>NG||n>NG)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let s=new Uint8Array(o*(n+1)),a,l,u;const c=e+7&-8;let d=new Uint8Array(c*n),h=0;for(const _ of t.data){let E=128;for(;E>0;)d[h++]=_&E?0:255,E>>=1}let p=0;for(h=0,d[h]!==0&&(s[0]=1,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[l]=d[h]?2:1,++p),h++;for(d[h]!==0&&(s[l]=2,++p),a=1;a<n;a++){h=a*c,u=a*o,d[h-c]!==d[h]&&(s[u]=d[h]?1:8,++p);let _=(d[h]?4:0)+(d[h-c]?8:0);for(l=1;l<e;l++)_=(_>>2)+(d[h+1]?4:0)+(d[h-c+1]?8:0),i[_]&&(s[u+l]=i[_],++p),h++;if(d[h-c]!==d[h]&&(s[u+l]=d[h]?2:4,++p),p>r)return null}for(h=c*(n-1),u=a*o,d[h]!==0&&(s[u]=8,++p),l=1;l<e;l++)d[h]!==d[h+1]&&(s[u+l]=d[h]?4:8,++p),h++;if(d[h]!==0&&(s[u+l]=4,++p),p>r)return null;const m=new Int32Array([0,o,-1,0,-o,0,0,0,1]),y=new Path2D;for(a=0;p&&a<=n;a++){let _=a*o;const E=_+e;for(;_<E&&!s[_];)_++;if(_===E)continue;y.moveTo(_%o,a);const S=_;let T=s[_];do{const I=m[T];do _+=I;while(!s[_]);const N=s[_];N!==5&&N!==10?(T=N,s[_]=0):(T=N&51*T>>4,s[_]&=T>>2|T<<2),y.lineTo(_%o,_/o|0),s[_]||--p}while(S!==_);--a}return d=null,s=null,function(_){_.save(),_.scale(1/e,-1/n),_.translate(0,-n),_.fill(y),_.beginPath(),_.restore()}}class DG{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=qre,this.textMatrixScale=1,this.fontMatrix=JO,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Xi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,r){[n,r]=Et.applyTransform([n,r],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,n){const r=Et.applyTransform(n,e),i=Et.applyTransform(n.slice(2),e),o=Et.applyTransform([n[0],n[3]],e),s=Et.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,r[0],i[0],o[0],s[0]),this.minY=Math.min(this.minY,r[1],i[1],o[1],s[1]),this.maxX=Math.max(this.maxX,r[0],i[0],o[0],s[0]),this.maxY=Math.max(this.maxY,r[1],i[1],o[1],s[1])}updateScalingPathMinMax(e,n){Et.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,r,i,o,s,a,l,u,c){const d=Et.bezierBoundingBox(n,r,i,o,s,a,l,u,c);c||this.updateRectMinMax(e,d)}getPathBoundingBox(e=_o.FILL,n=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===_o.STROKE){n||Yn("Stroke bounding box must include transform.");const i=Et.singularValueDecompose2dScale(n),o=i[0]*this.lineWidth/2,s=i[1]*this.lineWidth/2;r[0]-=o,r[1]-=s,r[2]+=o,r[3]+=s}return r}updateClipFromPath(){const e=Et.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=_o.FILL,n=null){return Et.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function LG(t,e){if(typeof ImageData<"u"&&e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Wo,o=(n-i)/Wo,s=i===0?o:o+1,a=t.createImageData(r,Wo);let l=0,u;const c=e.data,d=a.data;let h,p,m,y;if(e.kind===PC.GRAYSCALE_1BPP){const x=c.byteLength,_=new Uint32Array(d.buffer,0,d.byteLength>>2),E=_.length,S=r+7>>3,T=4294967295,I=Jo.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(m=h<o?Wo:i,u=0,p=0;p<m;p++){const N=x-l;let R=0;const M=N>S?r:N*8-7,L=M&-8;let k=0,D=0;for(;R<L;R+=8)D=c[l++],_[u++]=D&128?T:I,_[u++]=D&64?T:I,_[u++]=D&32?T:I,_[u++]=D&16?T:I,_[u++]=D&8?T:I,_[u++]=D&4?T:I,_[u++]=D&2?T:I,_[u++]=D&1?T:I;for(;R<M;R++)k===0&&(D=c[l++],k=128),_[u++]=D&k?T:I,k>>=1}for(;u<E;)_[u++]=0;t.putImageData(a,0,h*Wo)}}else if(e.kind===PC.RGBA_32BPP){for(p=0,y=r*Wo*4,h=0;h<o;h++)d.set(c.subarray(l,l+y)),l+=y,t.putImageData(a,0,p),p+=Wo;h<s&&(y=r*i*4,d.set(c.subarray(l,l+y)),t.putImageData(a,0,p))}else if(e.kind===PC.RGB_24BPP)for(m=Wo,y=r*m,h=0;h<s;h++){for(h>=o&&(m=i,y=r*m),u=0,p=y;p--;)d[u++]=c[l++],d[u++]=c[l++],d[u++]=c[l++],d[u++]=255;t.putImageData(a,0,h*Wo)}else throw new Error(`bad image kind: ${e.kind}`)}function OG(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Wo,o=(n-i)/Wo,s=i===0?o:o+1,a=t.createImageData(r,Wo);let l=0;const u=e.data,c=a.data;for(let d=0;d<s;d++){const h=d<o?Wo:i;({srcPos:l}=q8e({src:u,srcPos:l,dest:c,width:r,height:h,nonBlackColor:0})),t.putImageData(a,0,d*Wo)}}function Tb(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function WE(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!ao){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function FG(t,e){if(e)return!0;const n=Et.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Uf.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const Y8e=["butt","round","square"],X8e=["miter","round","bevel"],J8e={},$G={};var jf,TF,AF;const lB=class lB{constructor(e,n,r,i,o,{optionalContentConfig:s,markedContentStack:a=null},l,u){ie(this,jf);this.ctx=e,this.current=new DG(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new G8e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Tr(this.compositeCtx))}this.ctx.save(),WE(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Tr(this.ctx)}executeOperatorList(e,n,r,i){const o=e.argsArray,s=e.fnArray;let a=n||0;const l=o.length;if(l===a)return a;const u=l-a>MG&&typeof r=="function",c=u?Date.now()+j8e:0;let d=0;const h=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,r),a;if(m=s[a],m!==$a.dependency)this[m].apply(this,o[a]);else for(const y of o[a]){const x=y.startsWith("g_")?h:p;if(!x.has(y))return x.get(y,r),a}if(a++,a===l)return a;if(u&&++d>MG){if(Date.now()>c)return r(),a;d=0}}}endDrawing(){re(this,jf,TF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),re(this,jf,AF).call(this)}_scaleImage(e,n){const r=e.width,i=e.height;let o=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=r,l=i,u="prescale1",c,d;for(;o>2&&a>1||s>2&&l>1;){let h=a,p=l;o>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/h),s>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/p),c=this.cachedCanvases.getCanvas(u,h,p),d=c.context,d.clearRect(0,0,h,p),d.drawImage(e,0,0,a,l,0,0,h,p),e=c.canvas,a=h,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:r,height:i}=e,o=this.current.fillColor,s=this.current.patternFill,a=Tr(n);let l,u,c,d;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;u=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const L=l.get(u);if(L&&!s){const k=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:L,offsetX:k,offsetY:D}}c=L}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,i),OG(d.context,e));let h=Et.transform(a,[1/r,0,0,-1/i,0,0]);h=Et.transform(h,[1,0,0,1,0,-i]);const[p,m,y,x]=Et.getAxialAlignedBoundingBox([0,0,r,i],h),_=Math.round(y-p)||1,E=Math.round(x-m)||1,S=this.cachedCanvases.getCanvas("fillCanvas",_,E),T=S.context,I=p,N=m;T.translate(-I,-N),T.transform(...h),c||(c=this._scaleImage(d.canvas,nc(T)),c=c.img,l&&s&&l.set(u,c)),T.imageSmoothingEnabled=FG(Tr(T),e.interpolate),jE(T,c,0,0,c.width,c.height,0,0,r,i),T.globalCompositeOperation="source-in";const R=Et.transform(nc(T),[1,0,0,1,-I,-N]);return T.fillStyle=s?o.getPattern(n,this,R,_o.FILL):o,T.fillRect(0,0,r,i),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,S.canvas)),{canvas:S.canvas,offsetX:Math.round(I),offsetY:Math.round(N)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Y8e[e]}setLineJoin(e){this.ctx.lineJoin=X8e[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx,this.ctx=i.context;const o=this.ctx;o.setTransform(...Tr(this.suspendedCtx)),Tb(this.suspendedCtx,o),W8e(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Tb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const o=i[0],s=i[1],a=i[2]-o,l=i[3]-s;a===0||l===0||(this.genericComposeSMask(n.context,r,a,l,n.subtype,n.backdrop,n.transferMap,o,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,o,s,a,l,u,c,d){let h=e.canvas,p=l-c,m=u-d;if(s){if(p<0||m<0||p+r>h.width||m+i>h.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),_=x.context;_.drawImage(h,-p,-m),s.some(E=>E!==0)&&(_.globalCompositeOperation="destination-atop",_.fillStyle=Et.makeHexColor(...s),_.fillRect(0,0,r,i),_.globalCompositeOperation="source-over"),h=x.canvas,p=m=0}else if(s.some(x=>x!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(p,m,r,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=Et.makeHexColor(...s),e.fillRect(p,m,r,i),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(l,u,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(h,p,m,r,i,l,u,r,i),n.restore()}save(){this.inSMaskMode?(Tb(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Tb(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,r,i,o,s){this.ctx.transform(e,n,r,i,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r){const i=this.ctx,o=this.current;let s=o.x,a=o.y,l,u;const c=Tr(i),d=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,h=d?r.slice(0):null;for(let p=0,m=0,y=e.length;p<y;p++)switch(e[p]|0){case $a.rectangle:s=n[m++],a=n[m++];const x=n[m++],_=n[m++],E=s+x,S=a+_;i.moveTo(s,a),x===0||_===0?i.lineTo(E,S):(i.lineTo(E,a),i.lineTo(E,S),i.lineTo(s,S)),d||o.updateRectMinMax(c,[s,a,E,S]),i.closePath();break;case $a.moveTo:s=n[m++],a=n[m++],i.moveTo(s,a),d||o.updatePathMinMax(c,s,a);break;case $a.lineTo:s=n[m++],a=n[m++],i.lineTo(s,a),d||o.updatePathMinMax(c,s,a);break;case $a.curveTo:l=s,u=a,s=n[m+4],a=n[m+5],i.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],n[m+2],n[m+3],s,a,h),m+=6;break;case $a.curveTo2:l=s,u=a,i.bezierCurveTo(s,a,n[m],n[m+1],n[m+2],n[m+3]),o.updateCurvePathMinMax(c,l,u,s,a,n[m],n[m+1],n[m+2],n[m+3],h),s=n[m+2],a=n[m+3],m+=4;break;case $a.curveTo3:l=s,u=a,s=n[m+2],a=n[m+3],i.bezierCurveTo(n[m],n[m+1],s,a,s,a),o.updateCurvePathMinMax(c,l,u,n[m],n[m+1],s,a,s,a,h),m+=4;break;case $a.closePath:i.closePath();break}d&&o.updateScalingPathMinMax(c,h),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(n.save(),n.strokeStyle=r.getPattern(n,this,nc(n),_o.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let o=!1;i&&(n.save(),n.fillStyle=r.getPattern(n,this,nc(n),_o.FILL),o=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=J8e}eoClip(){this.pendingClip=$G}beginText(){this.current.textMatrix=qre,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}n.save(),n.beginPath();for(const r of e)n.setTransform(...r.transform),n.translate(r.x,r.y),r.addToPath(n,r.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||JO,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&cn("Invalid font matrix for font "+e),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const o=r.loadedName||"sans-serif",s=((c=r.systemFontInfo)==null?void 0:c.css)||`"${o}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=n;n<IG?u=IG:n>kG&&(u=kG),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,r,i,o,s){this.current.textMatrix=[e,n,r,i,o,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,r,i){const o=this.ctx,s=this.current,a=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,c=l&Xi.FILL_STROKE_MASK,d=!!(l&Xi.ADD_TO_PATH_FLAG),h=s.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||h)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(o.save(),o.translate(n,r),o.beginPath(),p(o,u),i&&o.setTransform(...i),(c===Xi.FILL||c===Xi.FILL_STROKE)&&o.fill(),(c===Xi.STROKE||c===Xi.FILL_STROKE)&&o.stroke(),o.restore()):((c===Xi.FILL||c===Xi.FILL_STROKE)&&o.fillText(e,n,r),(c===Xi.STROKE||c===Xi.FILL_STROKE)&&o.strokeText(e,n,r)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Tr(o),x:n,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Pn(this,"isFontSubpixelAAEnabled",r)}showText(e){const n=this.current,r=n.font;if(r.isType3Font)return this.showType3Text(e);const i=n.fontSize;if(i===0)return;const o=this.ctx,s=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,d=e.length,h=r.vertical,p=h?1:-1,m=r.defaultVMetrics,y=i*n.fontMatrix[0],x=n.textRenderingMode===Xi.FILL&&!r.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),u>0?o.scale(c,-1):o.scale(c,1);let _;if(n.patternFill){o.save();const N=n.fillColor.getPattern(o,this,nc(o),_o.FILL);_=Tr(o),o.restore(),o.fillStyle=N}let E=n.lineWidth;const S=n.textMatrixScale;if(S===0||E===0){const N=n.textRenderingMode&Xi.FILL_STROKE_MASK;(N===Xi.STROKE||N===Xi.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=S;if(s!==1&&(o.scale(s,s),E/=s),o.lineWidth=E,r.isInvalidPDFjsFont){const N=[];let R=0;for(const M of e)N.push(M.unicode),R+=M.width;o.fillText(N.join(""),0,0),n.x+=R*y*c,o.restore(),this.compose();return}let T=0,I;for(I=0;I<d;++I){const N=e[I];if(typeof N=="number"){T+=p*N*i/1e3;continue}let R=!1;const M=(N.isSpace?l:0)+a,L=N.fontChar,k=N.accent;let D,V,$=N.width;if(h){const G=N.vmetric||m,K=-(N.vmetric?G[1]:$*.5)*y,J=G[2]*y;$=G?-G[0]:$,D=K/s,V=(T+J)/s}else D=T/s,V=0;if(r.remeasure&&$>0){const G=o.measureText(L).width*1e3/i*s;if($<G&&this.isFontSubpixelAAEnabled){const K=$/G;R=!0,o.save(),o.scale(K,1),D/=K}else $!==G&&(D+=($-G)/2e3*i/s)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(x&&!k)o.fillText(L,D,V);else if(this.paintChar(L,D,V,_),k){const G=D+i*k.offset.x/s,K=V-i*k.offset.y/s;this.paintChar(k.fontChar,G,K,_)}}const H=h?$*y-M*u:$*y+M*u;T+=H,R&&o.restore()}h?n.y-=T:n.x+=T*c,o.restore(),this.compose()}showType3Text(e){const n=this.ctx,r=this.current,i=r.font,o=r.fontSize,s=r.fontDirection,a=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,c=r.textHScale*s,d=r.fontMatrix||JO,h=e.length,p=r.textRenderingMode===Xi.INVISIBLE;let m,y,x,_;if(!(p||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...r.textMatrix),n.translate(r.x,r.y),n.scale(c,s),m=0;m<h;++m){if(y=e[m],typeof y=="number"){_=a*y*o/1e3,this.ctx.translate(_,0),r.x+=_*c;continue}const E=(y.isSpace?u:0)+l,S=i.charProcOperatorList[y.operatorListId];if(!S){cn(`Type3 character "${y.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=y,this.save(),n.scale(o,o),n.transform(...d),this.executeOperatorList(S),this.restore()),x=Et.applyTransform([y.width,0],d)[0]*o+E,n.translate(x,0),r.x+=x*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,r,i,o,s){this.ctx.rect(r,i,o-r,s-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Tr(this.ctx),o={createCanvasGraphics:s=>new lB(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new CF(e,r,this.ctx,o,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,r){const i=Et.makeHexColor(e,n,r);this.ctx.strokeStyle=i,this.current.strokeColor=i}setFillRGBColor(e,n,r){const i=Et.makeHexColor(e,n,r);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}_getPattern(e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=H8e(this.getObject(e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const r=this._getPattern(e);n.fillStyle=r.getPattern(n,this,nc(n),_o.SHADING);const i=nc(n);if(i){const{width:o,height:s}=n.canvas,[a,l,u,c]=Et.getAxialAlignedBoundingBox([0,0,o,s],i);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Yn("Should not call beginInlineImage")}beginImageData(){Yn("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Tr(this.ctx),n)){const r=n[2]-n[0],i=n[3]-n[1];this.ctx.rect(n[0],n[1],r,i),this.current.updateRectMinMax(Tr(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||cP("TODO: Support non-isolated groups."),e.knockout&&cn("Knockout groups not supported.");const r=Tr(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Et.getAxialAlignedBoundingBox(e.bbox,Tr(n));const o=[0,0,n.canvas.width,n.canvas.height];i=Et.intersect(i,o)||[0,0,0,0];const s=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-s,1),u=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,l,u),h=d.context;h.translate(-s,-a),h.transform(...r),e.smask?this.smaskStack.push({canvas:d.canvas,context:h,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),Tb(n,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Tr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const o=Et.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,o){if(re(this,jf,TF).call(this),WE(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a;const[l,u]=Et.singularValueDecompose2dScale(Tr(this.ctx)),{viewportScale:c}=this,d=Math.ceil(s*this.outputScaleX*c),h=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),WE(this.ctx)}else WE(this.ctx),this.ctx.rect(n[0],n[1],s,a),this.ctx.clip(),this.endPath()}this.current=new DG(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),re(this,jf,AF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=K8e(e)),i.compiled)){i.compiled(r);return}const o=this._createMaskCanvas(e),s=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,o.offsetX,o.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r=0,i=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Tr(a);a.transform(n,r,i,o,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,d=s.length;c<d;c+=2){const h=Et.transform(l,[n,r,i,o,s[c],s[c+1]]),[p,m]=Et.applyTransform([0,0],h);a.drawImage(u.canvas,p,m)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const o of e){const{data:s,width:a,height:l,transform:u}=o,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=c.context;d.save();const h=this.getObject(s,o);OG(d,h),d.globalCompositeOperation="source-in",d.fillStyle=i?r.getPattern(d,this,nc(n),_o.FILL):r,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...u),n.scale(1,-1),jE(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){cn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,r,i){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){cn("Dependent image isn't ready yet");return}const s=o.width,a=o.height,l=[];for(let u=0,c=i.length;u<c;u+=2)l.push({transform:[n,0,0,r,i[u],i[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,o=this.cachedCanvases.getCanvas("inlineImage",r,i),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,r=e.height,i=this.ctx;if(this.save(),!ao){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/n,-1/r);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,r).context;LG(l,e),o=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(o,nc(i));i.imageSmoothingEnabled=FG(Tr(i),e.interpolate),jE(i,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;LG(l,e),i=this.applyTransferMapsToCanvas(l)}for(const o of n)r.save(),r.transform(...o.transform),r.scale(1,-1),jE(r,i,o.x,o.y,o.w,o.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===$G?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Tr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:o}=this.ctx.getTransform();let s,a;if(r===0&&i===0){const l=Math.abs(n),u=Math.abs(o);if(l===u)if(e===0)s=a=1/l;else{const c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/u;else{const c=l*e,d=u*e;s=c<1?1/c:1,a=d<1?1/d:1}}else{const l=Math.abs(n*o-r*i),u=Math.hypot(n,r),c=Math.hypot(i,o);if(e===0)s=c/l,a=u/l;else{const d=e*l;s=c>d?c/d:1,a=u>d?u/d:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:r}=this.current,[i,o]=this.getScaleForStroking();if(n.lineWidth=r||1,i===1&&o===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(i,o),s.length>0){const a=Math.max(i,o);n.setLineDash(s.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};jf=new WeakSet,TF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},AF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}};let Ey=lB;for(const t in $a)Ey.prototype[t]!==void 0&&(Ey.prototype[$a[t]]=Ey.prototype[t]);var i_,o_;class Uc{static get workerPort(){return C(this,i_)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ne(this,i_,e)}static get workerSrc(){return C(this,o_)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ne(this,o_,e)}}i_=new WeakMap,o_=new WeakMap,ie(Uc,i_,null),ie(Uc,o_,"");const GE={DATA:1,ERROR:2},Wr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function bs(t){switch(t instanceof Error||typeof t=="object"&&t!==null||Yn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Eg(t.message);case"MissingPDFException":return new Sg(t.message);case"PasswordException":return new ZO(t.message,t.code);case"UnexpectedResponseException":return new dP(t.message,t.status);case"UnknownErrorException":return new eF(t.message,t.details);default:return new eF(t.message,t.toString())}}var wu,Aie,Rie,LC;class cx{constructor(e,n,r){ie(this,wu);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const o=i.data;if(o.targetName!==this.sourceName)return;if(o.stream){re(this,wu,Rie).call(this,o);return}if(o.callback){const a=o.callbackId,l=this.callbackCapabilities[a];if(!l)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],o.callback===GE.DATA)l.resolve(o.data);else if(o.callback===GE.ERROR)l.reject(bs(o.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[o.action];if(!s)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){const a=this.sourceName,l=o.sourceName;new Promise(function(u){u(s(o.data))}).then(function(u){r.postMessage({sourceName:a,targetName:l,callback:GE.DATA,callbackId:o.callbackId,data:u})},function(u){r.postMessage({sourceName:a,targetName:l,callback:GE.ERROR,callbackId:o.callbackId,reason:bs(u)})});return}if(o.streamId){re(this,wu,Aie).call(this,o);return}s(o.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[i]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,n,r,i){const o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[o]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:n,desiredSize:u.desiredSize},i),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[o].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:Wr.PULL,streamId:o,desiredSize:u.desiredSize}),c.promise},cancel:u=>{di(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[o].cancelCall=c,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:Wr.CANCEL,streamId:o,reason:bs(u)}),c.promise}},r)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}wu=new WeakSet,Aie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,d){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=c,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:r,targetName:i,stream:Wr.ENQUEUE,streamId:n,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Wr.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){di(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:r,targetName:i,stream:Wr.ERROR,streamId:n,reason:bs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Wr.START_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:r,targetName:i,stream:Wr.START_COMPLETE,streamId:n,reason:bs(u)})})},Rie=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,o=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case Wr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(bs(e.reason));break;case Wr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(bs(e.reason));break;case Wr.PULL:if(!a){o.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Wr.PULL_COMPLETE,streamId:n,reason:bs(l)})});break;case Wr.ENQUEUE:if(di(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Wr.CLOSE:if(di(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),re(this,wu,LC).call(this,s,n);break;case Wr.ERROR:di(s,"error should have stream controller"),s.controller.error(bs(e.reason)),re(this,wu,LC).call(this,s,n);break;case Wr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(bs(e.reason)),re(this,wu,LC).call(this,s,n);break;case Wr.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,bs(e.reason)))}).then(function(){o.postMessage({sourceName:r,targetName:i,stream:Wr.CANCEL_COMPLETE,streamId:n,success:!0})},function(l){o.postMessage({sourceName:r,targetName:i,stream:Wr.CANCEL_COMPLETE,streamId:n,reason:bs(l)})}),a.sinkCapability.reject(bs(e.reason)),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},LC=async function(e,n){var r,i,o;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var np,s_;class Q8e{constructor({parsedData:e,rawData:n}){ie(this,np);ie(this,s_);ne(this,np,e),ne(this,s_,n)}getRaw(){return C(this,s_)}get(e){return C(this,np).get(e)??null}getAll(){return E3(C(this,np))}has(e){return C(this,np).has(e)}}np=new WeakMap,s_=new WeakMap;const jd=Symbol("INTERNAL");var a_,l_,u_,zy;class Z8e{constructor(e,{name:n,intent:r,usage:i}){ie(this,a_,!1);ie(this,l_,!1);ie(this,u_,!1);ie(this,zy,!0);ne(this,a_,!!(e&ra.DISPLAY)),ne(this,l_,!!(e&ra.PRINT)),this.name=n,this.intent=r,this.usage=i}get visible(){if(C(this,u_))return C(this,zy);if(!C(this,zy))return!1;const{print:e,view:n}=this.usage;return C(this,a_)?(n==null?void 0:n.viewState)!=="OFF":C(this,l_)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==jd&&Yn("Internal method `_setVisible` called."),ne(this,u_,r),ne(this,zy,n)}}a_=new WeakMap,l_=new WeakMap,u_=new WeakMap,zy=new WeakMap;var of,Kn,Uy,Hy,c_,RF;class eje{constructor(e,n=ra.DISPLAY){ie(this,c_);ie(this,of,null);ie(this,Kn,new Map);ie(this,Uy,null);ie(this,Hy,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ne(this,Hy,e.order);for(const r of e.groups)C(this,Kn).set(r.id,new Z8e(n,r));if(e.baseState==="OFF")for(const r of C(this,Kn).values())r._setVisible(jd,!1);for(const r of e.on)C(this,Kn).get(r)._setVisible(jd,!0);for(const r of e.off)C(this,Kn).get(r)._setVisible(jd,!1);ne(this,Uy,this.getHash())}}isVisible(e){if(C(this,Kn).size===0)return!0;if(!e)return cP("Optional content group not defined."),!0;if(e.type==="OCG")return C(this,Kn).has(e.id)?C(this,Kn).get(e.id).visible:(cn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return re(this,c_,RF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!C(this,Kn).has(n))return cn(`Optional content group not found: ${n}`),!0;if(C(this,Kn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!C(this,Kn).has(n))return cn(`Optional content group not found: ${n}`),!0;if(!C(this,Kn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!C(this,Kn).has(n))return cn(`Optional content group not found: ${n}`),!0;if(!C(this,Kn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!C(this,Kn).has(n))return cn(`Optional content group not found: ${n}`),!0;if(C(this,Kn).get(n).visible)return!1}return!0}return cn(`Unknown optional content policy ${e.policy}.`),!0}return cn(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0){const r=C(this,Kn).get(e);if(!r){cn(`Optional content group not found: ${e}`);return}r._setVisible(jd,!!n,!0),ne(this,of,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const o=C(this,Kn).get(i);if(o)switch(r){case"ON":o._setVisible(jd,!0);break;case"OFF":o._setVisible(jd,!1);break;case"Toggle":o._setVisible(jd,!o.visible);break}}ne(this,of,null)}get hasInitialVisibility(){return C(this,Uy)===null||this.getHash()===C(this,Uy)}getOrder(){return C(this,Kn).size?C(this,Hy)?C(this,Hy).slice():[...C(this,Kn).keys()]:null}getGroups(){return C(this,Kn).size>0?E3(C(this,Kn)):null}getGroup(e){return C(this,Kn).get(e)||null}getHash(){if(C(this,of)!==null)return C(this,of);const e=new Sie;for(const[n,r]of C(this,Kn))e.update(`${n}:${r.visible}`);return ne(this,of,e.hexdigest())}}of=new WeakMap,Kn=new WeakMap,Uy=new WeakMap,Hy=new WeakMap,c_=new WeakSet,RF=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const o=e[i];let s;if(Array.isArray(o))s=re(this,c_,RF).call(this,o);else if(C(this,Kn).has(o))s=C(this,Kn).get(o).visible;else return cn(`Optional content group not found: ${o}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class tje{constructor(e,{disableRange:n=!1,disableStream:r=!1}){di(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(r),!0)});di(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,o;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(o=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||o.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){di(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new nje(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new rje(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class nje{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=P3(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rje{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function ije(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),o(c)}if(n=s(t),n){const c=u(n);return o(c)}if(n=r("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),o(c)}function r(c,d){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(c,d){if(c){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const h=new TextDecoder(c,{fatal:!0}),p=fP(d);d=h.decode(p),e=!1}catch{}}return d}function o(c){return e&&/[\x80-\xff]/.test(c)&&(c=i("utf-8",c),e&&(c=i("iso-8859-1",c))),c}function s(c){const d=[];let h;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(c))!==null;){let[,y,x,_]=h;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[x,_]}const m=[];for(let y=0;y<d.length&&y in d;++y){let[x,_]=d[y];_=a(_),x&&(_=unescape(_),y===0&&(_=l(_))),m.push(_)}return m.join("")}function a(c){if(c.startsWith('"')){const d=c.slice(1).split('\\"');for(let h=0;h<d.length;++h){const p=d[h].indexOf('"');p!==-1&&(d[h]=d[h].slice(0,p),d.length=h+1),d[h]=d[h].replaceAll(/\\(.)/g,"$1")}c=d.join('"')}return c}function l(c){const d=c.indexOf("'");if(d===-1)return c;const h=c.slice(0,d),m=c.slice(d+1).replace(/^[^']*'/,"");return i(h,m)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,h,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,x){return String.fromCharCode(parseInt(x,16))}),i(h,m);try{m=atob(m)}catch{}return i(h,m)})}return""}function M3({getResponseHeader:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t("Content-Length"),10);return!Number.isInteger(o)||(i.suggestedLength=o,o<=2*n)||r||!e||t("Accept-Ranges")!=="bytes"||(t("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function N3(t){const e=t("Content-Disposition");if(e){let n=ije(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(P3(n))return n}return null}function yP(t,e){return t===404||t===0&&e.startsWith("file:")?new Sg('Missing PDF "'+e+'".'):new dP(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function Pie(t){return t===200||t===206}function Iie(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function kie(t){const e=new Headers;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Mie(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(cn(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class BG{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return di(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new oje(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new sje(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class oje{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=kie(this._stream.httpHeaders);const r=n.url;fetch(r,Iie(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!Pie(i.status))throw yP(i.status,r);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=l=>i.headers.get(l),{allowRangeRequests:s,suggestedLength:a}=M3({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=a||this._contentLength,this._filename=N3(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Eg("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Mie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class sje{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=kie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${n}-${r-1}`);const o=i.url;fetch(o,Iie(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!Pie(s.status))throw yP(s.status,o);this._readCapability.resolve(),this._reader=s.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:Mie(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const QN=200,ZN=206;function aje(t){const e=t.response;return typeof e!="string"?e:fP(e).buffer}class lje{constructor(e,n={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,n,r){const i={begin:e,end:n};for(const o in r)i[o]=r[o];return this.request(i)}requestFull(e){return this.request(e)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const o in this.httpHeaders){const s=this.httpHeaders[o];s!==void 0&&n.setRequestHeader(o,s)}return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=ZN):i.expectedStatus=QN,n.responseType="arraybuffer",e.onError&&(n.onerror=function(o){e.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){var l,u,c;const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,i.status);return}const o=i.status||QN;if(!(o===QN&&r.expectedStatus===ZN)&&o!==r.expectedStatus){(u=r.onError)==null||u.call(r,i.status);return}const a=aje(i);if(o===ZN){const d=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);r.onDone({begin:parseInt(h[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(c=r.onError)==null||c.call(r,i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class uje{constructor(e){this._source=e,this._manager=new lje(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return di(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cje(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new dje(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class cje{constructor(e,n){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e),r=s=>n.getResponseHeader(s),{allowRangeRequests:i,suggestedLength:o}=M3({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=N3(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=yP(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dje{constructor(e,n,r){this._manager=e;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=yP(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Nie=/^file:\/\/\/[a-zA-Z]:\//;function fje(t){const e=Ru.get("url"),n=e.parse(t);return n.protocol==="file:"||n.host?n:/^[a-z]:[/\\]/i.test(t)?e.parse(`file:///${t}`):(n.host||(n.protocol="file:"),n)}class hje{constructor(e){this.source=e,this.url=fje(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return di(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new mje(this):new pje(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new yje(this,e,n):new gje(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Die{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Eg("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Lie{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function sA(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}class pje extends Die{constructor(e){super(e);const n=r=>{if(r.statusCode===404){const a=new Sg(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(r);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:o,suggestedLength:s}=M3({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=s||this._contentLength,this._filename=N3(i)};if(this._request=null,this._url.protocol==="http:"){const r=Ru.get("http");this._request=r.request(sA(this._url,e.httpHeaders),n)}else{const r=Ru.get("https");this._request=r.request(sA(this._url,e.httpHeaders),n)}this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class gje extends Lie{constructor(e,n,r){super(e),this._httpHeaders={};for(const o in e.httpHeaders){const s=e.httpHeaders[o];s!==void 0&&(this._httpHeaders[o]=s)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const i=o=>{if(o.statusCode===404){const s=new Sg(`Missing PDF "${this._url}".`);this._storedError=s;return}this._setReadableStream(o)};if(this._request=null,this._url.protocol==="http:"){const o=Ru.get("http");this._request=o.request(sA(this._url,this._httpHeaders),i)}else{const o=Ru.get("https");this._request=o.request(sA(this._url,this._httpHeaders),i)}this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class mje extends Die{constructor(e){super(e);let n=decodeURIComponent(this._url.path);Nie.test(this._url.href)&&(n=n.replace(/^\//,""));const r=Ru.get("fs");r.promises.lstat(n).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(n)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Sg(`Missing PDF "${n}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class yje extends Lie{constructor(e,n,r){super(e);let i=decodeURIComponent(this._url.path);Nie.test(this._url.href)&&(i=i.replace(/^\//,""));const o=Ru.get("fs");this._setReadableStream(o.createReadStream(i,{start:n,end:r-1}))}}const vje=1e5,Uo=30,bje=.8;var dX,sf,jo,d_,f_,rp,vc,h_,p_,ip,qy,jy,af,Wy,g_,Gy,op,m_,y_,sp,ap,lf,Ky,nd,Oie,Fie,PF,_u,OC,$ie,Bie;const Qi=class Qi{constructor({textContentSource:e,container:n,viewport:r}){ie(this,nd);ie(this,sf,Promise.withResolvers());ie(this,jo,null);ie(this,d_,!1);ie(this,f_,!!((dX=globalThis.FontInspector)!=null&&dX.enabled));ie(this,rp,null);ie(this,vc,null);ie(this,h_,0);ie(this,p_,0);ie(this,ip,null);ie(this,qy,null);ie(this,jy,0);ie(this,af,0);ie(this,Wy,Object.create(null));ie(this,g_,[]);ie(this,Gy,null);ie(this,op,[]);ie(this,m_,new WeakMap);ie(this,y_,null);var l;if(e instanceof ReadableStream)ne(this,Gy,e);else if(typeof e=="object")ne(this,Gy,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ne(this,jo,ne(this,qy,n)),ne(this,af,r.scale*(globalThis.devicePixelRatio||1)),ne(this,jy,r.rotation),ne(this,vc,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:o,pageX:s,pageY:a}=r.rawDims;ne(this,y_,[1,0,0,-1,-s,a+o]),ne(this,p_,i),ne(this,h_,o),re(l=Qi,_u,$ie).call(l),tg(n,r),C(this,sf).promise.catch(()=>{}).then(()=>{C(Qi,Ky).delete(this),ne(this,vc,null),ne(this,Wy,null)})}render(){const e=()=>{C(this,ip).read().then(({value:n,done:r})=>{if(r){C(this,sf).resolve();return}C(this,rp)??ne(this,rp,n.lang),Object.assign(C(this,Wy),n.styles),re(this,nd,Oie).call(this,n.items),e()},C(this,sf).reject)};return ne(this,ip,C(this,Gy).getReader()),C(Qi,Ky).add(this),e(),C(this,sf).promise}update({viewport:e,onBefore:n=null}){var o;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==C(this,jy)&&(n==null||n(),ne(this,jy,i),tg(C(this,qy),{rotation:i})),r!==C(this,af)){n==null||n(),ne(this,af,r);const s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:re(o=Qi,_u,OC).call(o,C(this,rp))};for(const a of C(this,op))s.properties=C(this,m_).get(a),s.div=a,re(this,nd,PF).call(this,s)}}cancel(){var n;const e=new Eg("TextLayer task cancelled.");(n=C(this,ip))==null||n.cancel(e).catch(()=>{}),ne(this,ip,null),C(this,sf).reject(e)}get textDivs(){return C(this,op)}get textContentItemsStr(){return C(this,g_)}static cleanup(){if(!(C(this,Ky).size>0)){C(this,sp).clear();for(const{canvas:e}of C(this,ap).values())e.remove();C(this,ap).clear()}}};sf=new WeakMap,jo=new WeakMap,d_=new WeakMap,f_=new WeakMap,rp=new WeakMap,vc=new WeakMap,h_=new WeakMap,p_=new WeakMap,ip=new WeakMap,qy=new WeakMap,jy=new WeakMap,af=new WeakMap,Wy=new WeakMap,g_=new WeakMap,Gy=new WeakMap,op=new WeakMap,m_=new WeakMap,y_=new WeakMap,sp=new WeakMap,ap=new WeakMap,lf=new WeakMap,Ky=new WeakMap,nd=new WeakSet,Oie=function(e){var i,o;if(C(this,d_))return;(o=C(this,vc)).ctx??(o.ctx=re(i=Qi,_u,OC).call(i,C(this,rp)));const n=C(this,op),r=C(this,g_);for(const s of e){if(n.length>vje){cn("Ignoring additional textDivs for performance reasons."),ne(this,d_,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=C(this,jo);ne(this,jo,document.createElement("span")),C(this,jo).classList.add("markedContent"),s.id!==null&&C(this,jo).setAttribute("id",`${s.id}`),a.append(C(this,jo))}else s.type==="endMarkedContent"&&ne(this,jo,C(this,jo).parentNode);continue}r.push(s.str),re(this,nd,Fie).call(this,s)}},Fie=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};C(this,op).push(n);const i=Et.transform(C(this,y_),e.transform);let o=Math.atan2(i[1],i[0]);const s=C(this,Wy)[e.fontName];s.vertical&&(o+=Math.PI/2);const a=C(this,f_)&&s.fontSubstitution||s.fontFamily,l=Math.hypot(i[2],i[3]),u=l*re(y=Qi,_u,Bie).call(y,a,C(this,rp));let c,d;o===0?(c=i[4],d=i[5]-u):(c=i[4]+u*Math.sin(o),d=i[5]-u*Math.cos(o));const h="calc(var(--scale-factor)*",p=n.style;C(this,jo)===C(this,qy)?(p.left=`${(100*c/C(this,p_)).toFixed(2)}%`,p.top=`${(100*d/C(this,h_)).toFixed(2)}%`):(p.left=`${h}${c.toFixed(2)}px)`,p.top=`${h}${d.toFixed(2)}px)`),p.fontSize=`${h}${(C(Qi,lf)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,C(this,f_)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(r.angle=o*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);x!==_&&Math.max(x,_)/Math.min(x,_)>1.5&&(m=!0)}if(m&&(r.canvasWidth=s.vertical?e.height:e.width),C(this,m_).set(n,r),C(this,vc).div=n,C(this,vc).properties=r,re(this,nd,PF).call(this,C(this,vc)),r.hasText&&C(this,jo).append(n),r.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),C(this,jo).append(x)}},PF=function(e){const{div:n,properties:r,ctx:i,prevFontSize:o,prevFontFamily:s}=e,{style:a}=n;let l="";if(C(Qi,lf)>1&&(l=`scale(${1/C(Qi,lf)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:d}=r;(o!==d||s!==u)&&(i.font=`${d*C(this,af)}px ${u}`,e.prevFontSize=d,e.prevFontFamily=u);const{width:h}=i.measureText(n.textContent);h>0&&(l=`scaleX(${c*C(this,af)/h}) ${l}`)}r.angle!==0&&(l=`rotate(${r.angle}deg) ${l}`),l.length>0&&(a.transform=l)},_u=new WeakSet,OC=function(e=null){let n=C(this,ap).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),C(this,ap).set(e,n)}return n},$ie=function(){if(C(this,lf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),ne(this,lf,e.getBoundingClientRect().height),e.remove()},Bie=function(e,n){const r=C(this,sp).get(e);if(r)return r;const i=re(this,_u,OC).call(this,n),o=i.font;i.canvas.width=i.canvas.height=Uo,i.font=`${Uo}px ${e}`;const s=i.measureText("");let a=s.fontBoundingBoxAscent,l=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+l);return C(this,sp).set(e,d),i.canvas.width=i.canvas.height=0,i.font=o,d}i.strokeStyle="red",i.clearRect(0,0,Uo,Uo),i.strokeText("g",0,0);let u=i.getImageData(0,0,Uo,Uo).data;l=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){l=Math.ceil(d/4/Uo);break}i.clearRect(0,0,Uo,Uo),i.strokeText("A",0,Uo),u=i.getImageData(0,0,Uo,Uo).data,a=0;for(let d=0,h=u.length;d<h;d+=4)if(u[d]>0){a=Uo-Math.floor(d/4/Uo);break}i.canvas.width=i.canvas.height=0,i.font=o;const c=a?a/(a+l):bje;return C(this,sp).set(e,c),c},ie(Qi,_u),ie(Qi,sp,new Map),ie(Qi,ap,new Map),ie(Qi,lf,null),ie(Qi,Ky,new Set);let Qv=Qi;function xje(){Jre("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:t,container:e,viewport:n,...r}=arguments[0],i=Object.keys(r);i.length>0&&cn("Ignoring `renderTextLayer` parameters: "+i.join(", "));const o=new Qv({textContentSource:t,container:e,viewport:n}),{textDivs:s,textContentItemsStr:a}=o;return{promise:o.render(),textDivs:s,textContentItemsStr:a}}function wje(){Jre("`updateTextLayer`, please use `TextLayer` instead.")}class Ew{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(o){var l;if(!o)return;let s=null;const a=o.name;if(a==="#text")s=o.value;else if(Ew.shouldBuildText(a))(l=o==null?void 0:o.attributes)!=null&&l.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&n.push({str:s}),!!o.children)for(const u of o.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const _je=65536,Sje=100,Eje=5e3,Cje=ao?O8e:S8e,Tje=ao?F8e:Yre,Aje=ao?L8e:_8e,Rje=ao?$8e:Xre;function Pje(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new IF,{docId:n}=e,r=t.url?Ije(t.url):null,i=t.data?kje(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof Vie?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:_je;let c=t.worker instanceof Cy?t.worker:null;const d=t.verbosity,h=typeof t.docBaseUrl=="string"&&!R3(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,m=t.cMapPacked!==!1,y=t.CMapReaderFactory||Tje,x=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,_=t.StandardFontDataFactory||Rje,E=t.stopAtErrors!==!0,S=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,T=t.isEvalSupported!==!1,I=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ao,N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,R=typeof t.disableFontFace=="boolean"?t.disableFontFace:ao,M=t.fontExtraProperties===!0,L=t.enableXfa===!0,k=t.ownerDocument||globalThis.document,D=t.disableRange===!0,V=t.disableStream===!0,$=t.disableAutoFetch===!0,H=t.pdfBug===!0,G=t.enableHWA===!0,K=l?l.length:t.length??NaN,J=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ao&&!R,ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:y===Yre&&_===Xre&&p&&x&&ax(p,document.baseURI)&&ax(x,document.baseURI),X=t.canvasFactory||new Cje({ownerDocument:k,enableHWA:G}),j=t.filterFactory||new Aje({docId:n,ownerDocument:k}),Y=null;d8e(d);const ae={canvasFactory:X,filterFactory:j};if(ee||(ae.cMapReaderFactory=new y({baseUrl:p,isCompressed:m}),ae.standardFontDataFactory=new _({baseUrl:x})),!c){const te={verbosity:d,port:Uc.workerPort};c=te.port?Cy.fromPort(te):new Cy(te),e._worker=c}const q={docId:n,apiVersion:"4.4.168",data:i,password:a,disableAutoFetch:$,rangeChunkSize:u,length:K,docBaseUrl:h,enableXfa:L,evaluatorOptions:{maxImageSize:S,disableFontFace:R,ignoreErrors:E,isEvalSupported:T,isOffscreenCanvasSupported:I,canvasMaxAreaInBytes:N,fontExtraProperties:M,useSystemFonts:J,cMapUrl:ee?p:null,standardFontDataUrl:ee?x:null}},Q={disableFontFace:R,fontExtraProperties:M,ownerDocument:k,pdfBug:H,styleElement:Y,loadingParams:{disableAutoFetch:$,enableXfa:L}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const te=c.messageHandler.sendWithPromise("GetDocRequest",q,i?[i.buffer]:null);let ue;if(l)ue=new tje(l,{disableRange:D,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");ue=(se=>ao?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&ax(se.url)?new BG(se):new hje(se):ax(se.url)?new BG(se):new uje(se))({url:r,length:K,httpHeaders:o,withCredentials:s,rangeChunkSize:u,disableRange:D,disableStream:V})}return te.then(de=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const se=new cx(n,de,c.port),ce=new Lje(se,e,ue,Q,ae);e._transport=ce,se.send("Ready",null)})}).catch(e._capability.reject),e}function Ije(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(ao&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function kje(t){if(ao&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return fP(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function VG(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var kA;const MA=class MA{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${ys(MA,kA)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(i){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};kA=new WeakMap,ie(MA,kA,0);let IF=MA;class Vie{constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const r of this._rangeListeners)r(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Yn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Mje{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var uf,bc,ua,sy,FC;class Nje{constructor(e,n,r,i=!1){ie(this,ua);ie(this,uf,null);ie(this,bc,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new TG:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new zie,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:o=!1}={}){return new F1({viewBox:this.view,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:r="display",annotationMode:i=Jd.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null}){var S,T;(S=this._stats)==null||S.time("Overall");const d=this._transport.getRenderingIntent(r,i,c),{renderingIntent:h,cacheKey:p}=d;ne(this,bc,!1),re(this,ua,FC).call(this),a||(a=this._transport.getOptionalContentConfig(h));let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const y=!!(h&ra.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(d));const x=I=>{var N;m.renderTasks.delete(_),(this._maybeCleanupAfterRender||y)&&ne(this,bc,!0),re(this,ua,sy).call(this,!y),I?(_.capability.reject(I),this._abortOperatorList({intentState:m,reason:I instanceof Error?I:new Error(I)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new MF({callback:x,params:{canvasContext:e,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(_);const E=_.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([I,N])=>{var R;if(this.destroyed){x();return}if((R=this._stats)==null||R.time("Rendering"),!(N.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:I,optionalContentConfig:N}),_.operatorListChanged()}).catch(x),E}getOperatorList({intent:e="display",annotationMode:n=Jd.ENABLE,printAnnotationStorage:r=null}={}){var l;function i(){s.operatorList.lastChunk&&(s.opListReadCapability.resolve(s.operatorList),s.renderTasks.delete(a))}const o=this._transport.getRenderingIntent(e,n,r,!0);let s=this._intentStates.get(o.cacheKey);s||(s=Object.create(null),this._intentStates.set(o.cacheKey,s));let a;return s.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,s.opListReadCapability=Promise.withResolvers(),(s.renderTasks||(s.renderTasks=new Set)).add(a),s.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(l=this._stats)==null||l.time("Page Request"),this._pumpOperatorList(o)),s.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Ew.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function o(){s.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},i)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),ne(this,bc,!1),re(this,ua,FC).call(this),Promise.all(e)}cleanup(e=!1){ne(this,bc,!0);const n=re(this,ua,sy).call(this,!1);return e&&n&&this._stats&&(this._stats=new TG),n}_startRenderPage(e,n){var i,o;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(o=r.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&re(this,ua,sy).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r}){const{map:i,transfer:o}=r,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:i},o).getReader(),l=this._intentStates.get(n);l.streamReader=a;const u=()=>{a.read().then(({value:c,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,l),u())},c=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const d of l.renderTasks)d.operatorListChanged();re(this,ua,sy).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(c);else if(l.opListReadCapability)l.opListReadCapability.reject(c);else throw c}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof A3){let i=Sje;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Eg(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,o]of this._intentStates)if(o===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}uf=new WeakMap,bc=new WeakMap,ua=new WeakSet,sy=function(e=!1){if(re(this,ua,FC).call(this),!C(this,bc)||this.destroyed)return!1;if(e)return ne(this,uf,setTimeout(()=>{ne(this,uf,null),re(this,ua,sy).call(this,!1)},Eje)),!1;for(const{renderTasks:n,operatorList:r}of this._intentStates.values())if(n.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ne(this,bc,!1),!0},FC=function(){C(this,uf)&&(clearTimeout(C(this,uf)),ne(this,uf,null))};var lp,NA;class Dje{constructor(){ie(this,lp,new Set);ie(this,NA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};C(this,NA).then(()=>{for(const i of C(this,lp))i.call(this,r)})}addEventListener(e,n){C(this,lp).add(n)}removeEventListener(e,n){C(this,lp).delete(n)}terminate(){C(this,lp).clear()}}lp=new WeakMap,NA=new WeakMap;const uc={isWorkerDisabled:!1,fakeWorkerId:0};ao&&(uc.isWorkerDisabled=!0,Uc.workerSrc||(Uc.workerSrc="./pdf.worker.mjs")),uc.isSameOrigin=function(t,e){let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const r=new URL(e,n);return n.origin===r.origin},uc.createCDNWrapper=function(t){const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var up,Yy,$C,Xy,BC;const _s=class _s{constructor({name:e=null,port:n=null,verbosity:r=f8e()}={}){ie(this,Yy);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((i=C(_s,up))!=null&&i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(C(_s,up)||ne(_s,up,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return ao?Promise.all([Ru.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new cx("main","worker",e),this._messageHandler.on("ready",function(){}),re(this,Yy,$C).call(this)}_initialize(){if(uc.isWorkerDisabled||C(_s,Xy,BC)){this._setupFakeWorker();return}let{workerSrc:e}=_s;try{uc.isSameOrigin(window.location.href,e)||(e=uc.createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new cx("main","worker",n),i=()=>{o.abort(),r.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||i()},{signal:o.signal}),r.on("test",a=>{if(o.abort(),this.destroyed||!a){i();return}this._messageHandler=r,this._port=n,this._webWorker=n,re(this,Yy,$C).call(this)}),r.on("ready",a=>{if(o.abort(),this.destroyed){i();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};s();return}catch{cP("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){uc.isWorkerDisabled||(cn("Setting up fake worker."),uc.isWorkerDisabled=!0),_s._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new Dje;this._port=n;const r=`fake${uc.fakeWorkerId++}`,i=new cx(r+"_worker",r,n);e.setup(i,n),this._messageHandler=new cx(r,r+"_worker",n),re(this,Yy,$C).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=C(_s,up))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(r=C(this,up))==null?void 0:r.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new _s(e)}static get workerSrc(){if(Uc.workerSrc)return Uc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pn(this,"_setupFakeWorkerGlobal",(async()=>C(this,Xy,BC)?C(this,Xy,BC):(await import(this.workerSrc)).WorkerMessageHandler)())}};up=new WeakMap,Yy=new WeakSet,$C=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Xy=new WeakSet,BC=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ie(_s,Xy),ie(_s,up);let Cy=_s;var xc,Wl,Jy,Qy,Gl,cp,dx;class Lje{constructor(e,n,r,i,o){ie(this,cp);ie(this,xc,new Map);ie(this,Wl,new Map);ie(this,Jy,new Map);ie(this,Qy,new Map);ie(this,Gl,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new zie,this.fontLoader=new N8e({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Pn(this,"annotationStorage",new k3)}getRenderingIntent(e,n=Jd.ENABLE,r=null,i=!1){let o=ra.DISPLAY,s=_F;switch(e){case"any":o=ra.ANY;break;case"display":break;case"print":o=ra.PRINT;break;default:cn(`getRenderingIntent - invalid intent: ${e}`)}switch(n){case Jd.DISABLE:o+=ra.ANNOTATIONS_DISABLE;break;case Jd.ENABLE:break;case Jd.ENABLE_FORMS:o+=ra.ANNOTATIONS_FORMS;break;case Jd.ENABLE_STORAGE:o+=ra.ANNOTATIONS_STORAGE,s=(o&ra.PRINT&&r instanceof Cie?r:this.annotationStorage).serializable;break;default:cn(`getRenderingIntent - invalid annotationMode: ${n}`)}return i&&(o+=ra.OPLIST),{renderingIntent:o,cacheKey:`${o}_${s.hash}`,annotationStorageSerializable:s}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=C(this,Gl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of C(this,Wl).values())e.push(i._destroy());C(this,Wl).clear(),C(this,Jy).clear(),C(this,Qy).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),C(this,xc).clear(),this.filterFactory.destroy(),Qv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Eg("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{di(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},i.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){i.close();return}di(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{this._fullReader.cancel(o),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",r=>{const i=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{var s;(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&((s=n.onProgress)==null||s.call(n,this._lastProgress)),o.onProgress=a=>{var l;(l=n.onProgress)==null||l.call(n,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{di(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(r.begin,r.end);if(!o){i.close();return}i.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){i.close();return}di(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{o.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Mje(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new ZO(r.message,r.code);break;case"InvalidPDFException":i=new jre(r.message);break;case"MissingPDFException":i=new Sg(r.message);break;case"UnexpectedResponseException":i=new dP(r.message,r.status);break;case"UnknownErrorException":i=new eF(r.message,r.details);break;default:Yn("DocException - expected a valid Error.")}n._capability.reject(i)}),e.on("PasswordRequest",r=>{if(ne(this,Gl,Promise.withResolvers()),n.onPassword){const i=o=>{o instanceof Error?C(this,Gl).reject(o):C(this,Gl).resolve({password:o})};try{n.onPassword(i,r.code)}catch(o){C(this,Gl).reject(o)}}else C(this,Gl).reject(new ZO(r.message,r.code));return C(this,Gl).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;C(this,Wl).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,o])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in o){const p=o.error;cn(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new D8e(o,{disableFontFace:a,inspectFont:c});this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&d.data&&(d.data=null),this.commonObjs.resolve(r,d)});break;case"CopyLocalImage":const{imageRef:h}=o;di(h,"The imageRef must be defined.");for(const p of C(this,Wl).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===h)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,o);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,o,s])=>{var l;if(this.destroyed)return;const a=C(this,Wl).get(i);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(o){case"Image":a.objs.resolve(r,s),(s==null?void 0:s.dataLen)>a8e&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&cn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=C(this,Jy).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&C(this,Qy).set(o.refStr,e);const s=new Nje(n,o,this,this._params.pdfBug);return C(this,Wl).set(n,s),s});return C(this,Jy).set(n,i),i}getPageIndex(e){return VG(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return re(this,cp,dx).call(this,"GetFieldObjects")}hasJSActions(){return re(this,cp,dx).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return re(this,cp,dx).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return re(this,cp,dx).call(this,"GetOptionalContentConfig").then(n=>new eje(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=C(this,xc).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var o,s;return{info:i[0],metadata:i[1]?new Q8e(i[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return C(this,xc).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of C(this,Wl).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),C(this,xc).clear(),this.filterFactory.destroy(!0),Qv.cleanup()}}cachedPageNumber(e){if(!VG(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return C(this,Qy).get(n)??null}}xc=new WeakMap,Wl=new WeakMap,Jy=new WeakMap,Qy=new WeakMap,Gl=new WeakMap,cp=new WeakSet,dx=function(e,n=null){const r=C(this,xc).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return C(this,xc).set(e,i),i};const KE=Symbol("INITIAL_DATA");var qa,v_,kF;class zie{constructor(){ie(this,v_);ie(this,qa,Object.create(null))}get(e,n=null){if(n){const i=re(this,v_,kF).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=C(this,qa)[e];if(!r||r.data===KE)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=C(this,qa)[e];return!!n&&n.data!==KE}resolve(e,n=null){const r=re(this,v_,kF).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in C(this,qa)){const{data:r}=C(this,qa)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}ne(this,qa,Object.create(null))}*[Symbol.iterator](){for(const e in C(this,qa)){const{data:n}=C(this,qa)[e];n!==KE&&(yield[e,n])}}}qa=new WeakMap,v_=new WeakSet,kF=function(e){var n;return(n=C(this,qa))[e]||(n[e]={...Promise.withResolvers(),data:KE})};var cf;class Oje{constructor(e){ie(this,cf,null);ne(this,cf,e),this.onContinue=null}get promise(){return C(this,cf).capability.promise}cancel(e=0){C(this,cf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=C(this,cf).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=C(this,cf);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}cf=new WeakMap;var df,dp;const Nh=class Nh{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:h=null}){ie(this,df,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Oje(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(C(Nh,dp).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");C(Nh,dp).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:o,background:s}=this.params;this.gfx=new Ey(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),C(this,df)&&(window.cancelAnimationFrame(C(this,df)),ne(this,df,null)),C(Nh,dp).delete(this._canvas),this.callback(e||new A3(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ne(this,df,window.requestAnimationFrame(()=>{ne(this,df,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),C(Nh,dp).delete(this._canvas),this.callback())))}};df=new WeakMap,dp=new WeakMap,ie(Nh,dp,new WeakSet);let MF=Nh;const Fje="4.4.168",$je="19fbc8998";function zG(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Ab(t){return Math.max(0,Math.min(255,255*t))}class UG{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ab(e),[e,e,e]}static G_HTML([e]){const n=zG(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Ab)}static RGB_HTML(e){return`#${e.map(zG).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Ab(1-Math.min(1,e+i)),Ab(1-Math.min(1,r+i)),Ab(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,o=1-n,s=1-r,a=Math.min(i,o,s);return["CMYK",i,o,s,a]}}class Uie{static setupStorage(e,n,r,i,o){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of r.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:o}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&o.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var d,h;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,o=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:o,linkService:r});const a=o!=="richText",l=e.div;if(l.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);s.append(p),a&&Ew.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const c=[[i,-1,s]];for(;c.length>0;){const[p,m,y]=c.at(-1);if(m+1===p.children.length){c.pop();continue}const x=p.children[++c.at(-1)[1]];if(x===null)continue;const{name:_}=x;if(_==="#text"){const S=document.createTextNode(x.value);u.push(S),y.append(S);continue}const E=(d=x==null?void 0:x.attributes)!=null&&d.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_);if(y.append(E),x.attributes&&this.setAttributes({html:E,element:x,storage:n,intent:o,linkService:r}),((h=x.children)==null?void 0:h.length)>0)c.push([x,-1,E]);else if(x.value){const S=document.createTextNode(x.value);a&&Ew.shouldBuildText(_)&&u.push(S),E.append(S)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const V1=1e3,Bje=9,rg=new WeakSet;function Hc(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class Vje{static create(e){switch(e.data.annotationType){case oi.LINK:return new Hie(e);case oi.TEXT:return new zje(e);case oi.WIDGET:switch(e.data.fieldType){case"Tx":return new Uje(e);case"Btn":return e.data.radioButton?new Wie(e):e.data.checkBox?new qje(e):new jje(e);case"Ch":return new Wje(e);case"Sig":return new Hje(e)}return new Cg(e);case oi.POPUP:return new DF(e);case oi.FREETEXT:return new Jie(e);case oi.LINE:return new Kje(e);case oi.SQUARE:return new Yje(e);case oi.CIRCLE:return new Xje(e);case oi.POLYLINE:return new Qie(e);case oi.CARET:return new Qje(e);case oi.INK:return new Zie(e);case oi.POLYGON:return new Jje(e);case oi.HIGHLIGHT:return new Zje(e);case oi.UNDERLINE:return new eWe(e);case oi.SQUIGGLY:return new tWe(e);case oi.STRIKEOUT:return new nWe(e);case oi.STAMP:return new eoe(e);case oi.FILEATTACHMENT:return new rWe(e);default:return new zr(e)}}}var fp,Zy,ev,b_,NF;const uB=class uB{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ie(this,b_);ie(this,fp,null);ie(this,Zy,!1);ie(this,ev,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:r}){return!!(e!=null&&e.str||n!=null&&n.str||r!=null&&r.str)}get hasPopupData(){return uB._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;C(this,fp)||ne(this,fp,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&re(this,b_,NF).call(this,n),(r=C(this,ev))==null||r.popup.updateEdited(e)}resetEdited(){var e;C(this,fp)&&(re(this,b_,NF).call(this,C(this,fp).rect),(e=C(this,ev))==null||e.popup.resetEdited(),ne(this,fp,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof Cg||(o.tabIndex=V1);const{style:s}=o;if(s.zIndex=this.parent.zIndex++,n.popupRef&&o.setAttribute("aria-haspopup","dialog"),n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof DF){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,o),o}const{width:a,height:l}=Hc(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,x=n.borderStyle.verticalCornerRadius;if(y>0||x>0){const E=`calc(${y}px * var(--scale-factor)) / calc(${x}px * var(--scale-factor))`;s.borderRadius=E}else if(this instanceof Wie){const E=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=E}switch(n.borderStyle.style){case Cb.SOLID:s.borderStyle="solid";break;case Cb.DASHED:s.borderStyle="dashed";break;case Cb.BEVELED:cn("Unimplemented border style: beveled");break;case Cb.INSET:cn("Unimplemented border style: inset");break;case Cb.UNDERLINE:s.borderBottomStyle="solid";break}const _=n.borderColor||null;_?(ne(this,Zy,!0),s.borderColor=Et.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):s.borderWidth=0}const u=Et.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:p}=i.rawDims;s.left=`${100*(u[0]-h)/c}%`,s.top=`${100*(u[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(s.width=`${100*a/c}%`,s.height=`${100*l/d}%`):this.setRotation(m,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:o,height:s}=Hc(this.data.rect);let a,l;e%180===0?(a=100*o/r,l=100*s/i):(a=100*s/r,l=100*o/i),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const o=i.detail[n],s=o[0],a=o.slice(1);i.target.style[r]=UG[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:UG[`${s}_rgb`](a)})};return Pn(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const o=e[i]||r[i];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,o]of Object.entries(n)){const s=r[i];if(s){const a={detail:{[i]:o},target:e};s(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,o]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,x,_,E]=e.subarray(2,6);if(i===y&&o===x&&n===_&&r===E)return}const{style:s}=this.container;let a;if(C(this,Zy)){const{borderColor:y,borderWidth:x}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const l=i-n,u=o-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const h=c.createElement("defs");d.append(h);const p=c.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let y=2,x=e.length;y<x;y+=8){const _=e[y],E=e[y+1],S=e[y+2],T=e[y+3],I=c.createElement("rect"),N=(S-n)/l,R=(o-E)/u,M=(_-S)/l,L=(E-T)/u;I.setAttribute("x",N),I.setAttribute("y",R),I.setAttribute("width",M),I.setAttribute("height",L),p.append(I),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${R}" width="${M}" height="${L}"/>`)}C(this,Zy)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{container:e,data:n}=this;e.setAttribute("aria-haspopup","dialog");const r=ne(this,ev,new DF({data:{color:n.color,titleObj:n.titleObj,modificationDate:n.modificationDate,contentsObj:n.contentsObj,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Yn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:o,id:s,exportValues:a}of i){if(o===-1||s===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!rg.has(u)){cn(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:o}=i,s=i.getAttribute("data-element-id");s!==n&&rg.has(i)&&r.push({id:s,exportValue:o,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};fp=new WeakMap,Zy=new WeakMap,ev=new WeakMap,b_=new WeakSet,NF=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:c}=Hc(e);n.left=`${100*(e[0]-a)/o}%`,n.top=`${100*(s-e[3]+l)/s}%`,i===0?(n.width=`${100*u/o}%`,n.height=`${100*c/s}%`):this.setRotation(i)};let zr=uB;var Ms,Rh,qie,jie;class Hie extends zr{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ie(this,Ms);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let o=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(i,n.action),o=!0):n.attachment?(re(this,Ms,qie).call(this,i,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(re(this,Ms,jie).call(this,i,n.setOCGState),o=!0):n.dest?(this._bindLink(i,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),o=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(i,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(i),this.container}_bindLink(n,r){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&re(this,Ms,Rh).call(this)}_bindNamedAction(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),re(this,Ms,Rh).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(r.actions)){const s=i.get(o);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:o}}),!1})}n.onclick||(n.onclick=()=>!1),re(this,Ms,Rh).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),re(this,Ms,Rh).call(this),!this._fieldObjects){cn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:o,refs:s,include:a}=r,l=[];if(o.length!==0||s.length!==0){const h=new Set(s);for(const p of o){const m=this._fieldObjects[p]||[];for(const{id:y}of m)h.add(y)}for(const p of Object.values(this._fieldObjects))for(const m of p)h.has(m.id)===a&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,c=[];for(const h of l){const{id:p}=h;switch(c.push(p),h.type){case"text":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=h.defaultValue===h.exportValues;u.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=h.defaultValue||"";u.setValue(p,{value:y});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!rg.has(m)){cn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Ms=new WeakSet,Rh=function(){this.container.setAttribute("data-internal-link","")},qie=function(n,r,i=null){n.href=this.linkService.getAnchorUrl(""),r.description&&(n.title=r.description),n.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(r.content,r.filename,i),!1},re(this,Ms,Rh).call(this)},jie=function(n,r){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),re(this,Ms,Rh).call(this)};class zje extends zr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Cg extends zr{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Jo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,o){r.includes("mouse")?e.addEventListener(r,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var a;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}o&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:o(s)}}))})}_setEventListeners(e,n,r,i){var o,s,a;for(const[l,u]of r)(u==="Action"||(o=this.data.actions)!=null&&o[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,i),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Et.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Bje,o=e.style;let s;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(KN*i))||1,d=u/c;s=Math.min(i,l(d/KN))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(i,l(u/KN))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Et.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Uje extends Cg{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const o=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),o.setValue(s.id,{[i]:r})}render(){var i,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),rg.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=V1,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",h=>{e.setValue(n,{value:h.target.value}),this.setPropertyOnSiblings(r,"value",h.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue??"";r.value=c.userValue=p,c.formattedValue=null});let d=h=>{const{formattedValue:p}=c;p!=null&&(h.target.value=p),h.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var y;if(c.focused)return;const{target:m}=p;c.userValue&&(m.value=c.userValue),c.lastCommittedValue=m.value,c.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(y){c.userValue=y.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),y.target.value=c.userValue},formattedValue(y){const{formattedValue:x}=y.detail;c.formattedValue=x,x!=null&&y.target!==document.activeElement&&(y.target.value=x),e.setValue(n,{formattedValue:x})},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var S;const{charLimit:x}=y.detail,{target:_}=y;if(x===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",x);let E=c.userValue;!E||E.length<=x||(E=E.slice(0,x),_.value=c.userValue=E,e.setValue(n,{value:E}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("keydown",p=>{var x;c.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(c.commitKey=3),m===-1)return;const{value:y}=p.target;c.lastCommittedValue!==y&&(c.lastCommittedValue=y,c.userValue=y,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const h=d;d=null,r.addEventListener("blur",p=>{var y,x;if(!c.focused||!p.relatedTarget)return;(y=this.data.actions)!=null&&y.Blur||(c.focused=!1);const{value:m}=p.target;c.userValue=m,c.lastCommittedValue!==m&&((x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:c.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),h(p)}),(o=this.data.actions)!=null&&o.Keystroke&&r.addEventListener("beforeinput",p=>{var I;c.lastCommittedValue=null;const{data:m,target:y}=p,{value:x,selectionStart:_,selectionEnd:E}=y;let S=_,T=E;switch(p.inputType){case"deleteWordBackward":{const N=x.substring(0,_).match(/\w*[^\w]*$/);N&&(S-=N[0].length);break}case"deleteWordForward":{const N=x.substring(_).match(/^[^\w]*\w*/);N&&(T+=N[0].length);break}case"deleteContentBackward":_===E&&(S-=1);break;case"deleteContentForward":_===E&&(T+=1);break}p.preventDefault(),(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:x,change:m||"",willCommit:!1,selStart:S,selEnd:T}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&r.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Hje extends Cg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qje extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return rg.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=V1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Wie extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const o=document.createElement("input");if(rg.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.tabIndex=V1,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;o.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=s===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const h=c&&d.id===r;d.domElement&&(d.domElement.checked=h),e.setValue(d.id,{value:h})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class jje extends Hie{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Wje extends Cg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");rg.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=V1;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",c=>{const d=this.data.defaultFieldValue;for(const h of i.options)h.selected=h.value===d});for(const c of this.data.options){const d=document.createElement("option");d.textContent=c.displayValue,d.value=c.exportValue,r.value.includes(c.exportValue)&&(d.setAttribute("selected",!0),o=!1),i.append(d)}let s=null;if(o){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),i.prepend(c),s=()=>{c.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const a=c=>{const d=c?"value":"textContent",{options:h,multiple:p}=i;return p?Array.prototype.filter.call(h,m=>m.selected).map(m=>m[d]):h.selectedIndex===-1?null:h[h.selectedIndex][d]};let l=a(!1);const u=c=>{const d=c.target.options;return Array.prototype.map.call(d,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",c=>{const d={value(h){s==null||s();const p=h.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=m.has(y.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(h){i.multiple=!0},remove(h){const p=i.options,m=h.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,x=>x.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},clear(h){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(h){const{index:p,displayValue:m,exportValue:y}=h.detail.insert,x=i.children[p],_=document.createElement("option");_.textContent=m,_.value=y,x?x.before(_):i.append(_),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},items(h){const{items:p}=h.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:y,exportValue:x}=m,_=document.createElement("option");_.textContent=y,_.value=x,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(h)}),l=a(!1)},indices(h){const p=new Set(h.detail.indices);for(const m of h.target.options)m.selected=p.has(m.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(d,c)}),i.addEventListener("input",c=>{var p;const d=a(!0),h=a(!1);e.setValue(n,{value:d}),c.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:h,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):i.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class DF extends zr{constructor(e){const{data:n,elements:r}=e;super(e,{isRenderable:zr._hasPopupData(n)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Gje({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const r of this.elements)r.popup=e,n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Gre}${r}`).join(",")),this.container}}var tv,DA,LA,nv,hp,Nr,wc,pp,x_,w_,rv,_c,ja,Sc,__,Ec,S_,gp,mp,Xn,VC,LF,Gie,Kie,Yie,Xie,zC,UC,OF;class Gje{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:u,parentRect:c,open:d}){ie(this,Xn);ie(this,tv,re(this,Xn,Yie).bind(this));ie(this,DA,re(this,Xn,OF).bind(this));ie(this,LA,re(this,Xn,UC).bind(this));ie(this,nv,re(this,Xn,zC).bind(this));ie(this,hp,null);ie(this,Nr,null);ie(this,wc,null);ie(this,pp,null);ie(this,x_,null);ie(this,w_,null);ie(this,rv,null);ie(this,_c,!1);ie(this,ja,null);ie(this,Sc,null);ie(this,__,null);ie(this,Ec,null);ie(this,S_,null);ie(this,gp,null);ie(this,mp,!1);var h;ne(this,Nr,e),ne(this,S_,i),ne(this,wc,s),ne(this,Ec,a),ne(this,w_,l),ne(this,hp,n),ne(this,__,u),ne(this,rv,c),ne(this,x_,r),ne(this,pp,Qre.toDateObject(o)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",C(this,nv)),p.addEventListener("mouseenter",C(this,LA)),p.addEventListener("mouseleave",C(this,DA)),p.classList.add("popupTriggerArea");for(const p of r)(h=p.container)==null||h.addEventListener("keydown",C(this,tv));C(this,Nr).hidden=!0,d&&re(this,Xn,zC).call(this)}render(){if(C(this,ja))return;const e=ne(this,ja,document.createElement("div"));if(e.className="popup",C(this,hp)){const o=e.style.outlineColor=Et.makeHexColor(...C(this,hp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Et.makeHexColor(...C(this,hp).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const r=document.createElement("h1");if(n.append(r),{dir:r.dir,str:r.textContent}=C(this,S_),e.append(n),C(this,pp)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:C(this,pp).toLocaleDateString(),time:C(this,pp).toLocaleTimeString()})),n.append(o)}const i=C(this,Xn,VC);if(i)Uie.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(C(this,wc));e.append(o)}C(this,Nr).append(e)}_formatContents({str:e,dir:n}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=e.split(/(?:\r\n?|\n)/);for(let o=0,s=i.length;o<s;++o){const a=i[o];r.append(document.createTextNode(a)),o<s-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:n}){var r;C(this,gp)||ne(this,gp,{contentsObj:C(this,wc),richText:C(this,Ec)}),e&&ne(this,Sc,null),n&&(ne(this,Ec,re(this,Xn,Kie).call(this,n)),ne(this,wc,null)),(r=C(this,ja))==null||r.remove(),ne(this,ja,null)}resetEdited(){var e;C(this,gp)&&({contentsObj:ys(this,wc)._,richText:ys(this,Ec)._}=C(this,gp),ne(this,gp,null),(e=C(this,ja))==null||e.remove(),ne(this,ja,null),ne(this,Sc,null))}forceHide(){ne(this,mp,this.isVisible),C(this,mp)&&(C(this,Nr).hidden=!0)}maybeShow(){C(this,mp)&&(C(this,ja)||re(this,Xn,UC).call(this),ne(this,mp,!1),C(this,Nr).hidden=!1)}get isVisible(){return C(this,Nr).hidden===!1}}tv=new WeakMap,DA=new WeakMap,LA=new WeakMap,nv=new WeakMap,hp=new WeakMap,Nr=new WeakMap,wc=new WeakMap,pp=new WeakMap,x_=new WeakMap,w_=new WeakMap,rv=new WeakMap,_c=new WeakMap,ja=new WeakMap,Sc=new WeakMap,__=new WeakMap,Ec=new WeakMap,S_=new WeakMap,gp=new WeakMap,mp=new WeakMap,Xn=new WeakSet,VC=function(){const e=C(this,Ec),n=C(this,wc);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&C(this,Ec).html||null},LF=function(){var e,n,r;return((r=(n=(e=C(this,Xn,VC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},Gie=function(){var e,n,r;return((r=(n=(e=C(this,Xn,VC))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},Kie=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:C(this,Xn,Gie),fontSize:C(this,Xn,LF)?`calc(${C(this,Xn,LF)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:i});return r},Yie=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&C(this,_c))&&re(this,Xn,zC).call(this)},Xie=function(){if(C(this,Sc)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:o}}}=C(this,w_);let s=!!C(this,rv),a=s?C(this,rv):C(this,__);for(const m of C(this,x_))if(!a||Et.intersect(m.data.rect,a)!==null){a=m.data.rect,s=!0;break}const l=Et.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,d=l[0]+c,h=l[1];ne(this,Sc,[100*(d-i)/n,100*(h-o)/r]);const{style:p}=C(this,Nr);p.left=`${C(this,Sc)[0]}%`,p.top=`${C(this,Sc)[1]}%`},zC=function(){ne(this,_c,!C(this,_c)),C(this,_c)?(re(this,Xn,UC).call(this),C(this,Nr).addEventListener("click",C(this,nv)),C(this,Nr).addEventListener("keydown",C(this,tv))):(re(this,Xn,OF).call(this),C(this,Nr).removeEventListener("click",C(this,nv)),C(this,Nr).removeEventListener("keydown",C(this,tv)))},UC=function(){C(this,ja)||this.render(),this.isVisible?C(this,_c)&&C(this,Nr).classList.add("focused"):(re(this,Xn,Xie).call(this),C(this,Nr).hidden=!1,C(this,Nr).style.zIndex=parseInt(C(this,Nr).style.zIndex)+1e3)},OF=function(){C(this,Nr).classList.remove("focused"),!(C(this,_c)||!this.isVisible)&&(C(this,Nr).hidden=!0,C(this,Nr).style.zIndex=parseInt(C(this,Nr).style.zIndex)-1e3)};class Jie extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Tn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var E_;class Kje extends zr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,E_,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=ne(this,E_,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,E_)}addHighlightArea(){this.container.classList.add("highlightArea")}}E_=new WeakMap;var C_;class Yje extends zr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,C_,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,C_,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",r-s),a.setAttribute("height",i-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,C_)}addHighlightArea(){this.container.classList.add("highlightArea")}}C_=new WeakMap;var T_;class Xje extends zr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,T_,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:r,height:i}=Hc(n.rect),o=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,a=ne(this,T_,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",i/2),a.setAttribute("rx",r/2-s/2),a.setAttribute("ry",i/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,T_)}addHighlightArea(){this.container.classList.add("highlightArea")}}T_=new WeakMap;var A_;class Qie extends zr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,A_,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:o}}=this;if(!r)return this.container;const{width:s,height:a}=Hc(n),l=this.svgFactory.create(s,a,!0);let u=[];for(let d=0,h=r.length;d<h;d+=2){const p=r[d]-n[0],m=n[3]-r[d+1];u.push(`${p},${m}`)}u=u.join(" ");const c=ne(this,A_,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return C(this,A_)}addHighlightArea(){this.container.classList.add("highlightArea")}}A_=new WeakMap;class Jje extends Qie{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qje extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var R_;class Zie extends zr{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});ie(this,R_,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Tn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,inkLists:r,borderStyle:i,popupRef:o}}=this,{width:s,height:a}=Hc(n),l=this.svgFactory.create(s,a,!0);for(const u of r){let c=[];for(let h=0,p=u.length;h<p;h+=2){const m=u[h]-n[0],y=n[3]-u[h+1];c.push(`${m},${y}`)}c=c.join(" ");const d=this.svgFactory.createElement(this.svgElementName);C(this,R_).push(d),d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),l.append(d)}return this.container.append(l),this.container}getElementsToTriggerPopup(){return C(this,R_)}addHighlightArea(){this.container.classList.add("highlightArea")}}R_=new WeakMap;class Zje extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class eWe extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tWe extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nWe extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class eoe extends zr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var P_,I_,FF;class rWe extends zr{constructor(n){var i;super(n,{isRenderable:!0});ie(this,I_);ie(this,P_,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",re(this,I_,FF).bind(this)),ne(this,P_,i);const{isMac:o}=Jo.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&re(this,I_,FF).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return C(this,P_)}addHighlightArea(){this.container.classList.add("highlightArea")}}P_=new WeakMap,I_=new WeakSet,FF=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var k_,yp,iv,og,toe,$F;class iWe{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:o,viewport:s}){ie(this,og);ie(this,k_,null);ie(this,yp,null);ie(this,iv,new Map);this.div=e,ne(this,k_,n),ne(this,yp,r),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i}async render(e){var s;const{annotations:n}=e,r=this.div;tg(r,this.viewport);const i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new T3,annotationStorage:e.annotationStorage||new k3,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===oi.POPUP;if(l){const d=i.get(a.id);if(!d)continue;o.elements=d}else{const{width:d,height:h}=Hc(a.rect);if(d<=0||h<=0)continue}o.data=a;const u=Vje.create(o);if(!u.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(u):i.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),re(this,og,toe).call(this,c,a.id),u.annotationEditorType>0&&(C(this,iv).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}re(this,og,$F).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,tg(n,{rotation:e.rotation}),re(this,og,$F).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(C(this,iv).values())}getEditableAnnotation(e){return C(this,iv).get(e)}}k_=new WeakMap,yp=new WeakMap,iv=new WeakMap,og=new WeakSet,toe=function(e,n){var i;const r=e.firstChild||e;r.id=`${Gre}${n}`,this.div.append(e),(i=C(this,k_))==null||i.moveElementInDOM(this.div,e,r,!1)},$F=function(){if(!C(this,yp))return;const e=this.div;for(const[n,r]of C(this,yp)){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:o}=i;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):i.append(r)}C(this,yp).clear()};const YE=/\r\n?|\n/g;var M_,N_,D_,L_,O_,Wa,Ts,F_,As,ov,ei,noe,roe,ioe,HC,jc,qC,jC,ooe,VF,soe;const ir=class ir extends qn{constructor(n){super({...n,name:"freeTextEditor"});ie(this,ei);ie(this,M_,this.editorDivBlur.bind(this));ie(this,N_,this.editorDivFocus.bind(this));ie(this,D_,this.editorDivInput.bind(this));ie(this,L_,this.editorDivKeydown.bind(this));ie(this,O_,this.editorDivPaste.bind(this));ie(this,Wa);ie(this,Ts,"");ie(this,F_,`${this.id}-editor`);ie(this,As);ie(this,ov,null);ne(this,Wa,n.color||ir._defaultColor||qn._defaultLineColor),ne(this,As,n.fontSize||ir._defaultFontSize)}static get _keyboardManager(){const n=ir.prototype,r=s=>s.isEmpty(),i=ng.TRANSLATE_SMALL,o=ng.TRANSLATE_BIG;return Pn(this,"_keyboardManager",new $1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:r}]]))}static initialize(n,r){qn.initialize(n,r,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Gt.FREETEXT_SIZE:ir._defaultFontSize=r;break;case Gt.FREETEXT_COLOR:ir._defaultColor=r;break}}updateParams(n,r){switch(n){case Gt.FREETEXT_SIZE:re(this,ei,noe).call(this,r);break;case Gt.FREETEXT_COLOR:re(this,ei,roe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Gt.FREETEXT_SIZE,ir._defaultFontSize],[Gt.FREETEXT_COLOR,ir._defaultColor||qn._defaultLineColor]]}get propertiesToUpdate(){return[[Gt.FREETEXT_SIZE,C(this,As)],[Gt.FREETEXT_COLOR,C(this,Wa)]]}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-ir._internalPadding*n,-(ir._internalPadding+C(this,As))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Tn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const n=this._uiManager._signal;this.editorDiv.addEventListener("keydown",C(this,L_),{signal:n}),this.editorDiv.addEventListener("focus",C(this,N_),{signal:n}),this.editorDiv.addEventListener("blur",C(this,M_),{signal:n}),this.editorDiv.addEventListener("input",C(this,D_),{signal:n}),this.editorDiv.addEventListener("paste",C(this,O_),{signal:n})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",C(this,F_)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",C(this,L_)),this.editorDiv.removeEventListener("focus",C(this,N_)),this.editorDiv.removeEventListener("blur",C(this,M_)),this.editorDiv.removeEventListener("input",C(this,D_)),this.editorDiv.removeEventListener("paste",C(this,O_)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var n;this.width||(this.enableEditMode(),this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=C(this,Ts),r=ne(this,Ts,re(this,ei,ioe).call(this).trimEnd());if(n===r)return;const i=o=>{if(ne(this,Ts,o),!o){this.remove();return}re(this,ei,jC).call(this),this._uiManager.rebuild(this),re(this,ei,HC).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),re(this,ei,HC).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){ir._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",C(this,F_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),qn._l10nPromise.get("pdfjs-free-text-default-content").then(o=>{var s;return(s=this.editorDiv)==null?void 0:s.setAttribute("default-content",o)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${C(this,As)}px * var(--scale-factor))`,i.color=C(this,Wa),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),iA(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=C(this,ov);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,d]=this.pageDimensions,[h,p]=this.pageTranslation;let m,y;switch(this.rotation){case 0:m=n+(a[0]-h)/c,y=r+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[u,-l];break;case 180:m=n-this.width+(a[0]-h)/c,y=r-(a[1]-p)/d,[l,u]=[-l,-u];break;case 270:m=n+(a[0]-h-this.height*d)/c,y=r+(a[1]-p-this.width*c)/d,[l,u]=[-u,l];break}this.setAt(m*o,y*s,l,u)}else this.setAt(n*o,r*s,this.width*o,this.height*s);re(this,ei,jC).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,y,x;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const o=re(m=ir,jc,VF).call(m,r.getData("text")||"").replaceAll(YE,`
`);if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],d=[];if(l.nodeType===Node.TEXT_NODE){const _=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(YE,"")),_!==this.editorDiv){let E=c;for(const S of this.editorDiv.childNodes){if(S===_){E=d;continue}E.push(re(y=ir,jc,qC).call(y,S))}}c.push(l.nodeValue.slice(0,u).replaceAll(YE,""))}else if(l===this.editorDiv){let _=c,E=0;for(const S of this.editorDiv.childNodes)E++===u&&(_=d),_.push(re(x=ir,jc,qC).call(x,S))}ne(this,Ts,`${c.join(`
`)}${o}${d.join(`
`)}`),re(this,ei,jC).call(this);const h=new Range;let p=c.reduce((_,E)=>_+E.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const E=_.nodeValue.length;if(p<=E){h.setStart(_,p),h.setEnd(_,p);break}p-=E}s.removeAllRanges(),s.addRange(h)}get contentDiv(){return this.editorDiv}static deserialize(n,r,i){var a;let o=null;if(n instanceof Jie){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:d,id:h},textContent:p,textPosition:m,parent:{page:{pageNumber:y}}}=n;if(!p||p.length===0)return null;o=n={annotationType:Tn.FREETEXT,color:Array.from(u),fontSize:l,value:p.join(`
`),position:m,pageIndex:y-1,rect:c.slice(0),rotation:d,id:h,deleted:!1}}const s=super.deserialize(n,r,i);return ne(s,As,n.fontSize),ne(s,Wa,Et.makeHexColor(...n.color)),ne(s,Ts,re(a=ir,jc,VF).call(a,n.value)),s.annotationElementId=n.id||null,ne(s,ov,o),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const r=ir._internalPadding*this.parentScale,i=this.getRect(r,r),o=qn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:C(this,Wa)),s={annotationType:Tn.FREETEXT,color:o,fontSize:C(this,As),value:re(this,ei,ooe).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!re(this,ei,soe).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${C(this,As)}px * var(--scale-factor))`,i.color=C(this,Wa),r.replaceChildren();for(const s of C(this,Ts).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}const o=ir._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:C(this,Ts)}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};M_=new WeakMap,N_=new WeakMap,D_=new WeakMap,L_=new WeakMap,O_=new WeakMap,Wa=new WeakMap,Ts=new WeakMap,F_=new WeakMap,As=new WeakMap,ov=new WeakMap,ei=new WeakSet,noe=function(n){const r=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-C(this,As))*this.parentScale),ne(this,As,o),re(this,ei,HC).call(this)},i=C(this,As);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},roe=function(n){const r=o=>{ne(this,Wa,this.editorDiv.style.color=o)},i=C(this,Wa);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ioe=function(){var r;const n=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)n.push(re(r=ir,jc,qC).call(r,i));return n.join(`
`)},HC=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},jc=new WeakSet,qC=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(YE,"")},jC=function(){if(this.editorDiv.replaceChildren(),!!C(this,Ts))for(const n of C(this,Ts).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},ooe=function(){return C(this,Ts).replaceAll(" "," ")},VF=function(n){return n.replaceAll(" "," ")},soe=function(n){const{value:r,fontSize:i,color:o,pageIndex:s}=C(this,ov);return this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((a,l)=>a!==o[l])||n.pageIndex!==s},ie(ir,jc),ct(ir,"_freeTextDefaultContent",""),ct(ir,"_internalPadding",0),ct(ir,"_defaultColor",null),ct(ir,"_defaultFontSize",10),ct(ir,"_type","freetext"),ct(ir,"_editorType",Tn.FREETEXT);let BF=ir;var $_,ff,Ga,To,aoe,WC,loe,uoe,UF;class zF{constructor(e,n=0,r=0,i=!0){ie(this,To);ie(this,$_);ie(this,ff,[]);ie(this,Ga,[]);let o=1/0,s=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x,y:_,width:E,height:S}of e){const T=Math.floor((x-n)/u)*u,I=Math.ceil((x+E+n)/u)*u,N=Math.floor((_-n)/u)*u,R=Math.ceil((_+S+n)/u)*u,M=[T,N,R,!0],L=[I,N,R,!1];C(this,ff).push(M,L),o=Math.min(o,T),s=Math.max(s,I),a=Math.min(a,N),l=Math.max(l,R)}const c=s-o+2*r,d=l-a+2*r,h=o-r,p=a-r,m=C(this,ff).at(i?-1:-2),y=[m[0],m[2]];for(const x of C(this,ff)){const[_,E,S]=x;x[0]=(_-h)/c,x[1]=(E-p)/d,x[2]=(S-p)/d}ne(this,$_,{x:h,y:p,width:c,height:d,lastPoint:y})}getOutlines(){C(this,ff).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of C(this,ff))n[3]?(e.push(...re(this,To,UF).call(this,n)),re(this,To,loe).call(this,n)):(re(this,To,uoe).call(this,n),e.push(...re(this,To,UF).call(this,n)));return re(this,To,aoe).call(this,e)}}$_=new WeakMap,ff=new WeakMap,Ga=new WeakMap,To=new WeakSet,aoe=function(e){const n=[],r=new Set;for(const s of e){const[a,l,u]=s;n.push([a,l,s],[a,u,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let o;for(;r.size>0;){const s=r.values().next().value;let[a,l,u,c,d]=s;r.delete(s);let h=a,p=l;for(o=[a,u],i.push(o);;){let m;if(r.has(c))m=c;else if(r.has(d))m=d;else break;r.delete(m),[a,l,u,c,d]=m,h!==a&&(o.push(h,p,a,p===l?l:u),h=a),p=p===l?u:l}o.push(h,p)}return new oWe(i,C(this,$_))},WC=function(e){const n=C(this,Ga);let r=0,i=n.length-1;for(;r<=i;){const o=r+i>>1,s=n[o][0];if(s===e)return o;s<e?r=o+1:i=o-1}return i+1},loe=function([,e,n]){const r=re(this,To,WC).call(this,e);C(this,Ga).splice(r,0,[e,n])},uoe=function([,e,n]){const r=re(this,To,WC).call(this,e);for(let i=r;i<C(this,Ga).length;i++){const[o,s]=C(this,Ga)[i];if(o!==e)break;if(o===e&&s===n){C(this,Ga).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[o,s]=C(this,Ga)[i];if(o!==e)break;if(o===e&&s===n){C(this,Ga).splice(i,1);return}}},UF=function(e){const[n,r,i]=e,o=[[n,r,i]],s=re(this,To,WC).call(this,i);for(let a=0;a<s;a++){const[l,u]=C(this,Ga)[a];for(let c=0,d=o.length;c<d;c++){const[,h,p]=o[c];if(!(u<=h||p<=l)){if(h>=l){if(p>u)o[c][1]=u;else{if(d===1)return[];o.splice(c,1),c--,d--}continue}o[c][2]=l,p>u&&o.push([n,u,p])}}}return o};class coe{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,n){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof qF}}var B_,sv;class oWe extends coe{constructor(n,r){super();ie(this,B_);ie(this,sv);ne(this,sv,n),ne(this,B_,r)}toSVGPath(){const n=[];for(const r of C(this,sv)){let[i,o]=r;n.push(`M${i} ${o}`);for(let s=2;s<r.length;s+=2){const a=r[s],l=r[s+1];a===i?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,r,i,o],s){const a=[],l=i-n,u=o-r;for(const c of C(this,sv)){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=n+c[h]*l,d[h+1]=o-c[h+1]*u;a.push(d)}return a}get box(){return C(this,B_)}}B_=new WeakMap,sv=new WeakMap;var Kl,Cc,av,lv,Yl,xn,vp,bp,V_,z_,uv,cv,hf,U_,OA,FA,H_,HF;const ac=class ac{constructor({x:e,y:n},r,i,o,s,a=0){ie(this,H_);ie(this,Kl);ie(this,Cc,[]);ie(this,av);ie(this,lv);ie(this,Yl,[]);ie(this,xn,new Float64Array(18));ie(this,vp);ie(this,bp);ie(this,V_);ie(this,z_);ie(this,uv);ie(this,cv);ie(this,hf,[]);ne(this,Kl,r),ne(this,cv,o*i),ne(this,lv,s),C(this,xn).set([NaN,NaN,NaN,NaN,e,n],6),ne(this,av,a),ne(this,z_,C(ac,U_)*i),ne(this,V_,C(ac,FA)*i),ne(this,uv,i),C(this,hf).push(e,n)}get free(){return!0}isEmpty(){return isNaN(C(this,xn)[8])}add({x:e,y:n}){var L;ne(this,vp,e),ne(this,bp,n);const[r,i,o,s]=C(this,Kl);let[a,l,u,c]=C(this,xn).subarray(8,12);const d=e-u,h=n-c,p=Math.hypot(d,h);if(p<C(this,V_))return!1;const m=p-C(this,z_),y=m/p,x=y*d,_=y*h;let E=a,S=l;a=u,l=c,u+=x,c+=_,(L=C(this,hf))==null||L.push(e,n);const T=-_/m,I=x/m,N=T*C(this,cv),R=I*C(this,cv);return C(this,xn).set(C(this,xn).subarray(2,8),0),C(this,xn).set([u+N,c+R],4),C(this,xn).set(C(this,xn).subarray(14,18),12),C(this,xn).set([u-N,c-R],16),isNaN(C(this,xn)[6])?(C(this,Yl).length===0&&(C(this,xn).set([a+N,l+R],2),C(this,Yl).push(NaN,NaN,NaN,NaN,(a+N-r)/o,(l+R-i)/s),C(this,xn).set([a-N,l-R],14),C(this,Cc).push(NaN,NaN,NaN,NaN,(a-N-r)/o,(l-R-i)/s)),C(this,xn).set([E,S,a,l,u,c],6),!this.isEmpty()):(C(this,xn).set([E,S,a,l,u,c],6),Math.abs(Math.atan2(S-l,E-a)-Math.atan2(_,x))<Math.PI/2?([a,l,u,c]=C(this,xn).subarray(2,6),C(this,Yl).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/o,((l+c)/2-i)/s),[a,l,E,S]=C(this,xn).subarray(14,18),C(this,Cc).push(NaN,NaN,NaN,NaN,((E+a)/2-r)/o,((S+l)/2-i)/s),!0):([E,S,a,l,u,c]=C(this,xn).subarray(0,6),C(this,Yl).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),[u,c,a,l,E,S]=C(this,xn).subarray(12,18),C(this,Cc).push(((E+5*a)/6-r)/o,((S+5*l)/6-i)/s,((5*a+u)/6-r)/o,((5*l+c)/6-i)/s,((a+u)/2-r)/o,((l+c)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=C(this,Yl),n=C(this,Cc),r=C(this,xn).subarray(4,6),i=C(this,xn).subarray(16,18),[o,s,a,l]=C(this,Kl),[u,c,d,h]=re(this,H_,HF).call(this);if(isNaN(C(this,xn)[6])&&!this.isEmpty())return`M${(C(this,xn)[2]-o)/a} ${(C(this,xn)[3]-s)/l} L${(C(this,xn)[4]-o)/a} ${(C(this,xn)[5]-s)/l} L${u} ${c} L${d} ${h} L${(C(this,xn)[16]-o)/a} ${(C(this,xn)[17]-s)/l} L${(C(this,xn)[14]-o)/a} ${(C(this,xn)[15]-s)/l} Z`;const p=[];p.push(`M${e[4]} ${e[5]}`);for(let m=6;m<e.length;m+=6)isNaN(e[m])?p.push(`L${e[m+4]} ${e[m+5]}`):p.push(`C${e[m]} ${e[m+1]} ${e[m+2]} ${e[m+3]} ${e[m+4]} ${e[m+5]}`);p.push(`L${(r[0]-o)/a} ${(r[1]-s)/l} L${u} ${c} L${d} ${h} L${(i[0]-o)/a} ${(i[1]-s)/l}`);for(let m=n.length-6;m>=6;m-=6)isNaN(n[m])?p.push(`L${n[m+4]} ${n[m+5]}`):p.push(`C${n[m]} ${n[m+1]} ${n[m+2]} ${n[m+3]} ${n[m+4]} ${n[m+5]}`);return p.push(`L${n[4]} ${n[5]} Z`),p.join(" ")}getOutlines(){var _;const e=C(this,Yl),n=C(this,Cc),r=C(this,xn),i=r.subarray(4,6),o=r.subarray(16,18),[s,a,l,u]=C(this,Kl),c=new Float64Array((((_=C(this,hf))==null?void 0:_.length)??0)+2);for(let E=0,S=c.length-2;E<S;E+=2)c[E]=(C(this,hf)[E]-s)/l,c[E+1]=(C(this,hf)[E+1]-a)/u;c[c.length-2]=(C(this,vp)-s)/l,c[c.length-1]=(C(this,bp)-a)/u;const[d,h,p,m]=re(this,H_,HF).call(this);if(isNaN(r[6])&&!this.isEmpty()){const E=new Float64Array(36);return E.set([NaN,NaN,NaN,NaN,(r[2]-s)/l,(r[3]-a)/u,NaN,NaN,NaN,NaN,(r[4]-s)/l,(r[5]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(r[16]-s)/l,(r[17]-a)/u,NaN,NaN,NaN,NaN,(r[14]-s)/l,(r[15]-a)/u],0),new qF(E,c,C(this,Kl),C(this,uv),C(this,av),C(this,lv))}const y=new Float64Array(C(this,Yl).length+24+C(this,Cc).length);let x=e.length;for(let E=0;E<x;E+=2){if(isNaN(e[E])){y[E]=y[E+1]=NaN;continue}y[E]=e[E],y[E+1]=e[E+1]}y.set([NaN,NaN,NaN,NaN,(i[0]-s)/l,(i[1]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(o[0]-s)/l,(o[1]-a)/u],x),x+=24;for(let E=n.length-6;E>=6;E-=6)for(let S=0;S<6;S+=2){if(isNaN(n[E+S])){y[x]=y[x+1]=NaN,x+=2;continue}y[x]=n[E+S],y[x+1]=n[E+S+1],x+=2}return y.set([NaN,NaN,NaN,NaN,n[4],n[5]],x),new qF(y,c,C(this,Kl),C(this,uv),C(this,av),C(this,lv))}};Kl=new WeakMap,Cc=new WeakMap,av=new WeakMap,lv=new WeakMap,Yl=new WeakMap,xn=new WeakMap,vp=new WeakMap,bp=new WeakMap,V_=new WeakMap,z_=new WeakMap,uv=new WeakMap,cv=new WeakMap,hf=new WeakMap,U_=new WeakMap,OA=new WeakMap,FA=new WeakMap,H_=new WeakSet,HF=function(){const e=C(this,xn).subarray(4,6),n=C(this,xn).subarray(16,18),[r,i,o,s]=C(this,Kl);return[(C(this,vp)+(e[0]-n[0])/2-r)/o,(C(this,bp)+(e[1]-n[1])/2-i)/s,(C(this,vp)+(n[0]-e[0])/2-r)/o,(C(this,bp)+(n[1]-e[1])/2-i)/s]},ie(ac,U_,8),ie(ac,OA,2),ie(ac,FA,C(ac,U_)+C(ac,OA));let aA=ac;var dv,xp,Tc,q_,Rs,j_,Br,Zo,fx,hx,doe;class qF extends coe{constructor(n,r,i,o,s,a){super();ie(this,Zo);ie(this,dv);ie(this,xp,null);ie(this,Tc);ie(this,q_);ie(this,Rs);ie(this,j_);ie(this,Br);ne(this,Br,n),ne(this,Rs,r),ne(this,dv,i),ne(this,j_,o),ne(this,Tc,s),ne(this,q_,a),re(this,Zo,doe).call(this,a);const{x:l,y:u,width:c,height:d}=C(this,xp);for(let h=0,p=n.length;h<p;h+=2)n[h]=(n[h]-l)/c,n[h+1]=(n[h+1]-u)/d;for(let h=0,p=r.length;h<p;h+=2)r[h]=(r[h]-l)/c,r[h+1]=(r[h+1]-u)/d}toSVGPath(){const n=[`M${C(this,Br)[4]} ${C(this,Br)[5]}`];for(let r=6,i=C(this,Br).length;r<i;r+=6){if(isNaN(C(this,Br)[r])){n.push(`L${C(this,Br)[r+4]} ${C(this,Br)[r+5]}`);continue}n.push(`C${C(this,Br)[r]} ${C(this,Br)[r+1]} ${C(this,Br)[r+2]} ${C(this,Br)[r+3]} ${C(this,Br)[r+4]} ${C(this,Br)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,o],s){const a=i-n,l=o-r;let u,c;switch(s){case 0:u=re(this,Zo,fx).call(this,C(this,Br),n,o,a,-l),c=re(this,Zo,fx).call(this,C(this,Rs),n,o,a,-l);break;case 90:u=re(this,Zo,hx).call(this,C(this,Br),n,r,a,l),c=re(this,Zo,hx).call(this,C(this,Rs),n,r,a,l);break;case 180:u=re(this,Zo,fx).call(this,C(this,Br),i,r,-a,l),c=re(this,Zo,fx).call(this,C(this,Rs),i,r,-a,l);break;case 270:u=re(this,Zo,hx).call(this,C(this,Br),i,o,-a,-l),c=re(this,Zo,hx).call(this,C(this,Rs),i,o,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return C(this,xp)}getNewOutline(n,r){const{x:i,y:o,width:s,height:a}=C(this,xp),[l,u,c,d]=C(this,dv),h=s*c,p=a*d,m=i*c+l,y=o*d+u,x=new aA({x:C(this,Rs)[0]*h+m,y:C(this,Rs)[1]*p+y},C(this,dv),C(this,j_),n,C(this,q_),r??C(this,Tc));for(let _=2;_<C(this,Rs).length;_+=2)x.add({x:C(this,Rs)[_]*h+m,y:C(this,Rs)[_+1]*p+y});return x.getOutlines()}}dv=new WeakMap,xp=new WeakMap,Tc=new WeakMap,q_=new WeakMap,Rs=new WeakMap,j_=new WeakMap,Br=new WeakMap,Zo=new WeakSet,fx=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l]*o,a[l+1]=i+n[l+1]*s;return a},hx=function(n,r,i,o,s){const a=new Float64Array(n.length);for(let l=0,u=n.length;l<u;l+=2)a[l]=r+n[l+1]*o,a[l+1]=i+n[l]*s;return a},doe=function(n){const r=C(this,Br);let i=r[4],o=r[5],s=i,a=o,l=i,u=o,c=i,d=o;const h=n?Math.max:Math.min;for(let _=6,E=r.length;_<E;_+=6){if(isNaN(r[_]))s=Math.min(s,r[_+4]),a=Math.min(a,r[_+5]),l=Math.max(l,r[_+4]),u=Math.max(u,r[_+5]),d<r[_+5]?(c=r[_+4],d=r[_+5]):d===r[_+5]&&(c=h(c,r[_+4]));else{const S=Et.bezierBoundingBox(i,o,...r.slice(_,_+6));s=Math.min(s,S[0]),a=Math.min(a,S[1]),l=Math.max(l,S[2]),u=Math.max(u,S[3]),d<S[3]?(c=S[2],d=S[3]):d===S[3]&&(c=h(c,S[2]))}i=r[_+4],o=r[_+5]}const p=s-C(this,Tc),m=a-C(this,Tc),y=l-s+2*C(this,Tc),x=u-a+2*C(this,Tc);ne(this,xp,{x:p,y:m,width:y,height:x,lastPoint:[c,d]})};var W_,G_,Ka,wp,fv,li,K_,hv,Y_,X_,Ya,pv,tr,jF,WF,foe,Ph,hoe,Wd;const lc=class lc{constructor({editor:e=null,uiManager:n=null}){ie(this,tr);ie(this,W_,re(this,tr,foe).bind(this));ie(this,G_,re(this,tr,hoe).bind(this));ie(this,Ka,null);ie(this,wp,null);ie(this,fv);ie(this,li,null);ie(this,K_,!1);ie(this,hv,!1);ie(this,Y_,null);ie(this,X_);ie(this,Ya,null);ie(this,pv);var r;e?(ne(this,hv,!1),ne(this,pv,Gt.HIGHLIGHT_COLOR),ne(this,Y_,e)):(ne(this,hv,!0),ne(this,pv,Gt.HIGHLIGHT_DEFAULT_COLOR)),ne(this,Ya,(e==null?void 0:e._uiManager)||n),ne(this,X_,C(this,Ya)._eventBus),ne(this,fv,(e==null?void 0:e.color)||((r=C(this,Ya))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Pn(this,"_keyboardManager",new $1([[["Escape","mac+Escape"],lc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],lc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],lc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],lc.prototype._moveToPrevious],[["Home","mac+Home"],lc.prototype._moveToBeginning],[["End","mac+End"],lc.prototype._moveToEnd]]))}renderButton(){const e=ne(this,Ka,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=C(this,Ya)._signal;e.addEventListener("click",re(this,tr,Ph).bind(this),{signal:n}),e.addEventListener("keydown",C(this,W_),{signal:n});const r=ne(this,wp,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=C(this,fv),e.append(r),e}renderMainDropdown(){const e=ne(this,li,re(this,tr,jF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===C(this,Ka)){re(this,tr,Ph).call(this,e);return}const n=e.target.getAttribute("data-color");n&&re(this,tr,WF).call(this,n,e)}_moveToNext(e){var n,r;if(!C(this,tr,Wd)){re(this,tr,Ph).call(this,e);return}if(e.target===C(this,Ka)){(n=C(this,li).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=C(this,li))==null?void 0:n.firstChild)||e.target===C(this,Ka)){C(this,tr,Wd)&&this._hideDropdownFromKeyboard();return}C(this,tr,Wd)||re(this,tr,Ph).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!C(this,tr,Wd)){re(this,tr,Ph).call(this,e);return}(n=C(this,li).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!C(this,tr,Wd)){re(this,tr,Ph).call(this,e);return}(n=C(this,li).lastChild)==null||n.focus()}hideDropdown(){var e;(e=C(this,li))==null||e.classList.add("hidden"),window.removeEventListener("pointerdown",C(this,G_))}_hideDropdownFromKeyboard(){var e;if(!C(this,hv)){if(!C(this,tr,Wd)){(e=C(this,Y_))==null||e.unselect();return}this.hideDropdown(),C(this,Ka).focus({preventScroll:!0,focusVisible:C(this,K_)})}}updateColor(e){if(C(this,wp)&&(C(this,wp).style.backgroundColor=e),!C(this,li))return;const n=C(this,Ya).highlightColors.values();for(const r of C(this,li).children)r.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=C(this,Ka))==null||e.remove(),ne(this,Ka,null),ne(this,wp,null),(n=C(this,li))==null||n.remove(),ne(this,li,null)}};W_=new WeakMap,G_=new WeakMap,Ka=new WeakMap,wp=new WeakMap,fv=new WeakMap,li=new WeakMap,K_=new WeakMap,hv=new WeakMap,Y_=new WeakMap,X_=new WeakMap,Ya=new WeakMap,pv=new WeakMap,tr=new WeakSet,jF=function(){const e=document.createElement("div"),n=C(this,Ya)._signal;e.addEventListener("contextmenu",rs,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of C(this,Ya).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",i),o.title=r,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${r}`);const s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=i,o.setAttribute("aria-selected",i===C(this,fv)),o.addEventListener("click",re(this,tr,WF).bind(this,i),{signal:n}),e.append(o)}return e.addEventListener("keydown",C(this,W_),{signal:n}),e},WF=function(e,n){n.stopPropagation(),C(this,X_).dispatch("switchannotationeditorparams",{source:this,type:C(this,pv),value:e})},foe=function(e){lc._keyboardManager.exec(this,e)},Ph=function(e){if(C(this,tr,Wd)){this.hideDropdown();return}if(ne(this,K_,e.detail===0),window.addEventListener("pointerdown",C(this,G_),{signal:C(this,Ya)._signal}),C(this,li)){C(this,li).classList.remove("hidden");return}const n=ne(this,li,re(this,tr,jF).call(this));C(this,Ka).append(n)},hoe=function(e){var n;(n=C(this,li))!=null&&n.contains(e.target)||this.hideDropdown()},Wd=function(){return C(this,li)&&!C(this,li).classList.contains("hidden")};let lA=lc;var gv,J_,pf,_p,mv,ta,Q_,Z_,Sp,Xa,xo,Ps,$A,yv,Ep,ui,vv,Xl,e1,mn,GF,KF,poe,goe,moe,YF,px,ca,ay,yoe,GC,gx,voe,boe,xoe,woe;const On=class On extends qn{constructor(n){super({...n,name:"highlightEditor"});ie(this,mn);ie(this,gv,null);ie(this,J_,0);ie(this,pf);ie(this,_p,null);ie(this,mv,null);ie(this,ta,null);ie(this,Q_,null);ie(this,Z_,0);ie(this,Sp,null);ie(this,Xa,null);ie(this,xo,null);ie(this,Ps,!1);ie(this,$A,re(this,mn,yoe).bind(this));ie(this,yv,null);ie(this,Ep);ie(this,ui,null);ie(this,vv,"");ie(this,Xl);ie(this,e1,"");this.color=n.color||On._defaultColor,ne(this,Xl,n.thickness||On._defaultThickness),ne(this,Ep,n.opacity||On._defaultOpacity),ne(this,pf,n.boxes||null),ne(this,e1,n.methodOfCreation||""),ne(this,vv,n.text||""),this._isDraggable=!1,n.highlightId>-1?(ne(this,Ps,!0),re(this,mn,KF).call(this,n),re(this,mn,px).call(this)):(ne(this,gv,n.anchorNode),ne(this,J_,n.anchorOffset),ne(this,Q_,n.focusNode),ne(this,Z_,n.focusOffset),re(this,mn,GF).call(this),re(this,mn,px).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=On.prototype;return Pn(this,"_keyboardManager",new $1([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:C(this,Ps)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:C(this,Xl),methodOfCreation:C(this,e1)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;qn.initialize(n,r),On._defaultColor||(On._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Gt.HIGHLIGHT_DEFAULT_COLOR:On._defaultColor=r;break;case Gt.HIGHLIGHT_THICKNESS:On._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return C(this,yv)}updateParams(n,r){switch(n){case Gt.HIGHLIGHT_COLOR:re(this,mn,poe).call(this,r);break;case Gt.HIGHLIGHT_THICKNESS:re(this,mn,goe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Gt.HIGHLIGHT_DEFAULT_COLOR,On._defaultColor],[Gt.HIGHLIGHT_THICKNESS,On._defaultThickness]]}get propertiesToUpdate(){return[[Gt.HIGHLIGHT_COLOR,this.color||On._defaultColor],[Gt.HIGHLIGHT_THICKNESS,C(this,Xl)||On._defaultThickness],[Gt.HIGHLIGHT_FREE,C(this,Ps)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(ne(this,mv,new lA({editor:this})),n.addColorPicker(C(this,mv))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(re(this,mn,gx).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,re(this,mn,gx).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){re(this,mn,YF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,mn,px).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?re(this,mn,YF).call(this):n&&(re(this,mn,px).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var o,s,a;const{drawLayer:r}=this.parent;let i;C(this,Ps)?(n=(n-this.rotation+360)%360,i=re(o=On,ca,ay).call(o,C(this,Xa).box,n)):i=re(s=On,ca,ay).call(s,this,n),r.rotate(C(this,xo),n),r.rotate(C(this,ui),n),r.updateBox(C(this,xo),i),r.updateBox(C(this,ui),re(a=On,ca,ay).call(a,C(this,ta).box,n))}render(){if(this.div)return this.div;const n=super.render();C(this,vv)&&(n.setAttribute("aria-label",C(this,vv)),n.setAttribute("role","mark")),C(this,Ps)?n.classList.add("free"):this.div.addEventListener("keydown",C(this,$A),{signal:this._uiManager._signal});const r=ne(this,Sp,document.createElement("div"));n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=C(this,_p);const[i,o]=this.parentDimensions;return this.setDims(this.width*i,this.height*o),iA(this,C(this,Sp),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){this.parent.drawLayer.addClass(C(this,ui),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(C(this,ui),"hovered")}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:re(this,mn,GC).call(this,!0);break;case 1:case 3:re(this,mn,GC).call(this,!1);break}}select(){var n,r;super.select(),C(this,ui)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,ui),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(C(this,ui),"selected"))}unselect(){var n;super.unselect(),C(this,ui)&&((n=this.parent)==null||n.drawLayer.removeClass(C(this,ui),"selected"),C(this,Ps)||re(this,mn,GC).call(this,!1))}get _mustFixPosition(){return!C(this,Ps)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.show(C(this,xo),n),this.parent.drawLayer.show(C(this,ui),n))}static startHighlighting(n,r,{target:i,x:o,y:s}){const{x:a,y:l,width:u,height:c}=i.getBoundingClientRect(),d=x=>{re(this,ca,xoe).call(this,n,x)},h=n._signal,p={capture:!0,passive:!1,signal:h},m=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",y),window.removeEventListener("pointerup",y),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",rs),re(this,ca,woe).call(this,n,x)};window.addEventListener("blur",y,{signal:h}),window.addEventListener("pointerup",y,{signal:h}),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",rs,{signal:h}),i.addEventListener("pointermove",d,{signal:h}),this._freeHighlight=new aA({x:o,y:s},[a,l,u,c],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(n,r,i){var y;const o=super.deserialize(n,r,i),{rect:[s,a,l,u],color:c,quadPoints:d}=n;o.color=Et.makeHexColor(...c),ne(o,Ep,n.opacity);const[h,p]=o.pageDimensions;o.width=(l-s)/h,o.height=(u-a)/p;const m=ne(o,pf,[]);for(let x=0;x<d.length;x+=8)m.push({x:(d[4]-l)/h,y:(u-(1-d[x+5]))/p,width:(d[x+2]-d[x])/h,height:(d[x+5]-d[x+1])/p});return re(y=o,mn,GF).call(y),o}serialize(n=!1){if(this.isEmpty()||n)return null;const r=this.getRect(0,0),i=qn._colorManager.convert(this.color);return{annotationType:Tn.HIGHLIGHT,color:i,opacity:C(this,Ep),thickness:C(this,Xl),quadPoints:re(this,mn,voe).call(this),outlines:re(this,mn,boe).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:re(this,mn,gx).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};gv=new WeakMap,J_=new WeakMap,pf=new WeakMap,_p=new WeakMap,mv=new WeakMap,ta=new WeakMap,Q_=new WeakMap,Z_=new WeakMap,Sp=new WeakMap,Xa=new WeakMap,xo=new WeakMap,Ps=new WeakMap,$A=new WeakMap,yv=new WeakMap,Ep=new WeakMap,ui=new WeakMap,vv=new WeakMap,Xl=new WeakMap,e1=new WeakMap,mn=new WeakSet,GF=function(){const n=new zF(C(this,pf),.001);ne(this,Xa,n.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=C(this,Xa).box;const r=new zF(C(this,pf),.0025,.001,this._uiManager.direction==="ltr");ne(this,ta,r.getOutlines());const{lastPoint:i}=C(this,ta).box;ne(this,yv,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},KF=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var d,h;if(ne(this,Xa,n),ne(this,ta,n.getNewOutline(C(this,Xl)/2+1.5,.0025)),r>=0)ne(this,xo,r),ne(this,_p,i),this.parent.drawLayer.finalizeLine(r,n),ne(this,ui,this.parent.drawLayer.highlightOutline(C(this,ta)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(C(this,xo),n),this.parent.drawLayer.updateBox(C(this,xo),re(d=On,ca,ay).call(d,C(this,Xa).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(C(this,ui),C(this,ta)),this.parent.drawLayer.updateBox(C(this,ui),re(h=On,ca,ay).call(h,C(this,ta).box,p))}const{x:s,y:a,width:l,height:u}=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*m/p,this.height=u*p/m;break}}const{lastPoint:c}=C(this,ta).box;ne(this,yv,[(c[0]-s)/l,(c[1]-a)/u])},poe=function(n){const r=o=>{var s,a;this.color=o,(s=this.parent)==null||s.drawLayer.changeColor(C(this,xo),o),(a=C(this,mv))==null||a.updateColor(o)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},goe=function(n){const r=C(this,Xl),i=o=>{ne(this,Xl,o),re(this,mn,moe).call(this,o)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},moe=function(n){if(!C(this,Ps))return;re(this,mn,KF).call(this,{highlightOutlines:C(this,Xa).getNewOutline(n/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},YF=function(){C(this,xo)===null||!this.parent||(this.parent.drawLayer.remove(C(this,xo)),ne(this,xo,null),this.parent.drawLayer.remove(C(this,ui)),ne(this,ui,null))},px=function(n=this.parent){C(this,xo)===null&&({id:ys(this,xo)._,clipPathId:ys(this,_p)._}=n.drawLayer.highlight(C(this,Xa),this.color,C(this,Ep)),ne(this,ui,n.drawLayer.highlightOutline(C(this,ta))),C(this,Sp)&&(C(this,Sp).style.clipPath=C(this,_p)))},ca=new WeakSet,ay=function({x:n,y:r,width:i,height:o},s){switch(s){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}},yoe=function(n){On._keyboardManager.exec(this,n)},GC=function(n){if(!C(this,gv))return;const r=window.getSelection();n?r.setPosition(C(this,gv),C(this,J_)):r.setPosition(C(this,Q_),C(this,Z_))},gx=function(){return C(this,Ps)?this.rotation:0},voe=function(){if(C(this,Ps))return null;const[n,r]=this.pageDimensions,i=C(this,pf),o=new Float32Array(i.length*8);let s=0;for(const{x:a,y:l,width:u,height:c}of i){const d=a*n,h=(1-l-c)*r;o[s]=o[s+4]=d,o[s+1]=o[s+3]=h,o[s+2]=o[s+6]=d+u*n,o[s+5]=o[s+7]=h+c*r,s+=8}return o},boe=function(n){return C(this,Xa).serialize(n,re(this,mn,gx).call(this))},xoe=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},woe=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.removeFreeHighlight(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ie(On,ca),ct(On,"_defaultColor",null),ct(On,"_defaultOpacity",1),ct(On,"_defaultThickness",12),ct(On,"_l10nPromise"),ct(On,"_type","highlight"),ct(On,"_editorType",Tn.HIGHLIGHT),ct(On,"_freeHighlightId",-1),ct(On,"_freeHighlight",null),ct(On,"_freeHighlightClipId","");let uA=On;var Cp,Tp,t1,n1,r1,Ap,Jl,Ac,na,Rp,Pp,Rc,Ip,kp,gf,tt,_oe,Soe,Eoe,Coe,JF,Toe,QF,Aoe,Roe,Poe,Ioe,koe,Ih,ZF,KC,YC,ly,e$,XC,rd,Moe,t$,Noe,Doe,n$,JC,mx;const Cr=class Cr extends qn{constructor(n){super({...n,name:"inkEditor"});ie(this,tt);ie(this,Cp,0);ie(this,Tp,0);ie(this,t1,this.canvasPointermove.bind(this));ie(this,n1,this.canvasPointerleave.bind(this));ie(this,r1,this.canvasPointerup.bind(this));ie(this,Ap,this.canvasPointerdown.bind(this));ie(this,Jl,null);ie(this,Ac,new Path2D);ie(this,na,!1);ie(this,Rp,!1);ie(this,Pp,!1);ie(this,Rc,null);ie(this,Ip,0);ie(this,kp,0);ie(this,gf,null);this.color=n.color||null,this.thickness=n.thickness||null,this.opacity=n.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(n,r){qn.initialize(n,r)}static updateDefaultParams(n,r){switch(n){case Gt.INK_THICKNESS:Cr._defaultThickness=r;break;case Gt.INK_COLOR:Cr._defaultColor=r;break;case Gt.INK_OPACITY:Cr._defaultOpacity=r/100;break}}updateParams(n,r){switch(n){case Gt.INK_THICKNESS:re(this,tt,_oe).call(this,r);break;case Gt.INK_COLOR:re(this,tt,Soe).call(this,r);break;case Gt.INK_OPACITY:re(this,tt,Eoe).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Gt.INK_THICKNESS,Cr._defaultThickness],[Gt.INK_COLOR,Cr._defaultColor||qn._defaultLineColor],[Gt.INK_OPACITY,Math.round(Cr._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Gt.INK_THICKNESS,this.thickness||Cr._defaultThickness],[Gt.INK_COLOR,this.color||Cr._defaultColor||qn._defaultLineColor],[Gt.INK_OPACITY,Math.round(100*(this.opacity??Cr._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(re(this,tt,KC).call(this),re(this,tt,YC).call(this)),this.isAttachedToDOM||(this.parent.add(this),re(this,tt,ly).call(this)),re(this,tt,mx).call(this)))}remove(){var n;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,C(this,Jl)&&(clearTimeout(C(this,Jl)),ne(this,Jl,null)),(n=C(this,Rc))==null||n.disconnect(),ne(this,Rc,null),super.remove())}setParent(n){!this.parent&&n?this._uiManager.removeShouldRescale(this):this.parent&&n===null&&this._uiManager.addShouldRescale(this),super.setParent(n)}onScaleChanging(){const[n,r]=this.parentDimensions,i=this.width*n,o=this.height*r;this.setDimensions(i,o)}enableEditMode(){C(this,na)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",C(this,Ap),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",C(this,Ap)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){C(this,na)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ne(this,na,!0),this.div.classList.add("disabled"),re(this,tt,mx).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),this.enableEditMode())}canvasPointerdown(n){n.button!==0||!this.isInEditMode()||C(this,na)||(this.setInForeground(),n.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),re(this,tt,Toe).call(this,n.offsetX,n.offsetY))}canvasPointermove(n){n.preventDefault(),re(this,tt,QF).call(this,n.offsetX,n.offsetY)}canvasPointerup(n){n.preventDefault(),re(this,tt,ZF).call(this,n)}canvasPointerleave(n){re(this,tt,ZF).call(this,n)}get isResizable(){return!this.isEmpty()&&C(this,na)}render(){if(this.div)return this.div;let n,r;this.width&&(n=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,o,s,a]=re(this,tt,Coe).call(this);if(this.setAt(i,o,0,0),this.setDims(s,a),re(this,tt,KC).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(n*l,r*u,this.width*l,this.height*u),ne(this,Pp,!0),re(this,tt,ly).call(this),this.setDims(this.width*l,this.height*u),re(this,tt,Ih).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return re(this,tt,YC).call(this),this.div}setDimensions(n,r){const i=Math.round(n),o=Math.round(r);if(C(this,Ip)===i&&C(this,kp)===o)return;ne(this,Ip,i),ne(this,kp,o),this.canvas.style.visibility="hidden";const[s,a]=this.parentDimensions;this.width=n/s,this.height=r/a,this.fixAndSetPosition(),C(this,na)&&re(this,tt,e$).call(this,n,r),re(this,tt,ly).call(this),re(this,tt,Ih).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(n,r,i){var x,_,E;if(n instanceof Zie)return null;const o=super.deserialize(n,r,i);o.thickness=n.thickness,o.color=Et.makeHexColor(...n.color),o.opacity=n.opacity;const[s,a]=o.pageDimensions,l=o.width*s,u=o.height*a,c=o.parentScale,d=n.thickness/2;ne(o,na,!0),ne(o,Ip,Math.round(l)),ne(o,kp,Math.round(u));const{paths:h,rect:p,rotation:m}=n;for(let{bezier:S}of h){S=re(x=Cr,rd,Noe).call(x,S,p,m);const T=[];o.paths.push(T);let I=c*(S[0]-d),N=c*(S[1]-d);for(let M=2,L=S.length;M<L;M+=6){const k=c*(S[M]-d),D=c*(S[M+1]-d),V=c*(S[M+2]-d),$=c*(S[M+3]-d),H=c*(S[M+4]-d),G=c*(S[M+5]-d);T.push([[I,N],[k,D],[V,$],[H,G]]),I=H,N=G}const R=re(this,rd,Moe).call(this,T);o.bezierPath2D.push(R)}const y=re(_=o,tt,n$).call(_);return ne(o,Tp,Math.max(qn.MIN_SIZE,y[2]-y[0])),ne(o,Cp,Math.max(qn.MIN_SIZE,y[3]-y[1])),re(E=o,tt,e$).call(E,l,u),o}serialize(){if(this.isEmpty())return null;const n=this.getRect(0,0),r=qn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Tn.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:re(this,tt,Doe).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,n),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Cp=new WeakMap,Tp=new WeakMap,t1=new WeakMap,n1=new WeakMap,r1=new WeakMap,Ap=new WeakMap,Jl=new WeakMap,Ac=new WeakMap,na=new WeakMap,Rp=new WeakMap,Pp=new WeakMap,Rc=new WeakMap,Ip=new WeakMap,kp=new WeakMap,gf=new WeakMap,tt=new WeakSet,_oe=function(n){const r=o=>{this.thickness=o,re(this,tt,mx).call(this)},i=this.thickness;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Soe=function(n){const r=o=>{this.color=o,re(this,tt,Ih).call(this)},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Eoe=function(n){const r=o=>{this.opacity=o,re(this,tt,Ih).call(this)};n/=100;const i=this.opacity;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Gt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Coe=function(){const{parentRotation:n,parentDimensions:[r,i]}=this;switch(n){case 90:return[0,i,i,r];case 180:return[r,i,r,i];case 270:return[r,0,i,r];default:return[0,0,r,i]}},JF=function(){const{ctx:n,color:r,opacity:i,thickness:o,parentScale:s,scaleFactor:a}=this;n.lineWidth=o*s/a,n.lineCap="round",n.lineJoin="round",n.miterLimit=10,n.strokeStyle=`${r}${P8e(i)}`},Toe=function(n,r){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",rs,{signal:i}),this.canvas.addEventListener("pointerleave",C(this,n1),{signal:i}),this.canvas.addEventListener("pointermove",C(this,t1),{signal:i}),this.canvas.addEventListener("pointerup",C(this,r1),{signal:i}),this.canvas.removeEventListener("pointerdown",C(this,Ap)),this.isEditing=!0,C(this,Pp)||(ne(this,Pp,!0),re(this,tt,ly).call(this),this.thickness||(this.thickness=Cr._defaultThickness),this.color||(this.color=Cr._defaultColor||qn._defaultLineColor),this.opacity??(this.opacity=Cr._defaultOpacity)),this.currentPath.push([n,r]),ne(this,Rp,!1),re(this,tt,JF).call(this),ne(this,gf,()=>{re(this,tt,Poe).call(this),C(this,gf)&&window.requestAnimationFrame(C(this,gf))}),window.requestAnimationFrame(C(this,gf))},QF=function(n,r){const[i,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&n===i&&r===o)return;const s=this.currentPath;let a=C(this,Ac);if(s.push([n,r]),ne(this,Rp,!0),s.length<=2){a.moveTo(...s[0]),a.lineTo(n,r);return}s.length===3&&(ne(this,Ac,a=new Path2D),a.moveTo(...s[0])),re(this,tt,Ioe).call(this,a,...s.at(-3),...s.at(-2),n,r)},Aoe=function(){if(this.currentPath.length===0)return;const n=this.currentPath.at(-1);C(this,Ac).lineTo(...n)},Roe=function(n,r){ne(this,gf,null),n=Math.min(Math.max(n,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),re(this,tt,QF).call(this,n,r),re(this,tt,Aoe).call(this);let i;if(this.currentPath.length!==1)i=re(this,tt,koe).call(this);else{const u=[n,r];i=[[u,u.slice(),u.slice(),u]]}const o=C(this,Ac),s=this.currentPath;this.currentPath=[],ne(this,Ac,new Path2D);const a=()=>{this.allRawPaths.push(s),this.paths.push(i),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(re(this,tt,KC).call(this),re(this,tt,YC).call(this)),re(this,tt,mx).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},Poe=function(){if(!C(this,Rp))return;ne(this,Rp,!1);const n=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),i=r.map(a=>a[0]),o=r.map(a=>a[1]);Math.min(...i)-n,Math.max(...i)+n,Math.min(...o)-n,Math.max(...o)+n;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)s.stroke(a);s.stroke(C(this,Ac)),s.restore()},Ioe=function(n,r,i,o,s,a,l){const u=(r+o)/2,c=(i+s)/2,d=(o+a)/2,h=(s+l)/2;n.bezierCurveTo(u+2*(o-u)/3,c+2*(s-c)/3,d+2*(o-d)/3,h+2*(s-h)/3,d,h)},koe=function(){const n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];const r=[];let i,[o,s]=n[0];for(i=1;i<n.length-2;i++){const[p,m]=n[i],[y,x]=n[i+1],_=(p+y)/2,E=(m+x)/2,S=[o+2*(p-o)/3,s+2*(m-s)/3],T=[_+2*(p-_)/3,E+2*(m-E)/3];r.push([[o,s],S,T,[_,E]]),[o,s]=[_,E]}const[a,l]=n[i],[u,c]=n[i+1],d=[o+2*(a-o)/3,s+2*(l-s)/3],h=[u+2*(a-u)/3,c+2*(l-c)/3];return r.push([[o,s],d,h,[u,c]]),r},Ih=function(){if(this.isEmpty()){re(this,tt,XC).call(this);return}re(this,tt,JF).call(this);const{canvas:n,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,n.width,n.height),re(this,tt,XC).call(this);for(const i of this.bezierPath2D)r.stroke(i)},ZF=function(n){this.canvas.removeEventListener("pointerleave",C(this,n1)),this.canvas.removeEventListener("pointermove",C(this,t1)),this.canvas.removeEventListener("pointerup",C(this,r1)),this.canvas.addEventListener("pointerdown",C(this,Ap),{signal:this._uiManager._signal}),C(this,Jl)&&clearTimeout(C(this,Jl)),ne(this,Jl,setTimeout(()=>{ne(this,Jl,null),this.canvas.removeEventListener("contextmenu",rs)},10)),re(this,tt,Roe).call(this,n.offsetX,n.offsetY),this.addToAnnotationStorage(),this.setInBackground()},KC=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},YC=function(){ne(this,Rc,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),C(this,Rc).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,Rc))==null||n.disconnect(),ne(this,Rc,null)},{once:!0})},ly=function(){if(!C(this,Pp))return;const[n,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*n),this.canvas.height=Math.ceil(this.height*r),re(this,tt,XC).call(this)},e$=function(n,r){const i=re(this,tt,JC).call(this),o=(n-i)/C(this,Tp),s=(r-i)/C(this,Cp);this.scaleFactor=Math.min(o,s)},XC=function(){const n=re(this,tt,JC).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+n,this.translationY*this.scaleFactor+n)},rd=new WeakSet,Moe=function(n){const r=new Path2D;for(let i=0,o=n.length;i<o;i++){const[s,a,l,u]=n[i];i===0&&r.moveTo(...s),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},t$=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]+=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]+o,n[u+1]=d+s}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]+=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=a-n[u+1],n[u+1]=l-d}break;default:throw new Error("Invalid rotation")}return n},Noe=function(n,r,i){const[o,s,a,l]=r;switch(i){case 0:for(let u=0,c=n.length;u<c;u+=2)n[u]-=o,n[u+1]=l-n[u+1];break;case 90:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=n[u+1]-s,n[u+1]=d-o}break;case 180:for(let u=0,c=n.length;u<c;u+=2)n[u]=a-n[u],n[u+1]-=s;break;case 270:for(let u=0,c=n.length;u<c;u+=2){const d=n[u];n[u]=l-n[u+1],n[u+1]=a-d}break;default:throw new Error("Invalid rotation")}return n},Doe=function(n,r,i,o){var c,d;const s=[],a=this.thickness/2,l=n*r+a,u=n*i+a;for(const h of this.paths){const p=[],m=[];for(let y=0,x=h.length;y<x;y++){const[_,E,S,T]=h[y];if(_[0]===T[0]&&_[1]===T[1]&&x===1){const $=n*_[0]+l,H=n*_[1]+u;p.push($,H),m.push($,H);break}const I=n*_[0]+l,N=n*_[1]+u,R=n*E[0]+l,M=n*E[1]+u,L=n*S[0]+l,k=n*S[1]+u,D=n*T[0]+l,V=n*T[1]+u;y===0&&(p.push(I,N),m.push(I,N)),p.push(R,M,L,k,D,V),m.push(R,M),y===x-1&&m.push(D,V)}s.push({bezier:re(c=Cr,rd,t$).call(c,p,o,this.rotation),points:re(d=Cr,rd,t$).call(d,m,o,this.rotation)})}return s},n$=function(){let n=1/0,r=-1/0,i=1/0,o=-1/0;for(const s of this.paths)for(const[a,l,u,c]of s){const d=Et.bezierBoundingBox(...a,...l,...u,...c);n=Math.min(n,d[0]),i=Math.min(i,d[1]),r=Math.max(r,d[2]),o=Math.max(o,d[3])}return[n,i,r,o]},JC=function(){return C(this,na)?Math.ceil(this.thickness*this.parentScale):0},mx=function(n=!1){if(this.isEmpty())return;if(!C(this,na)){re(this,tt,Ih).call(this);return}const r=re(this,tt,n$).call(this),i=re(this,tt,JC).call(this);ne(this,Tp,Math.max(qn.MIN_SIZE,r[2]-r[0])),ne(this,Cp,Math.max(qn.MIN_SIZE,r[3]-r[1]));const o=Math.ceil(i+C(this,Tp)*this.scaleFactor),s=Math.ceil(i+C(this,Cp)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=o/a,this.height=s/l,this.setAspectRatio(o,s);const u=this.translationX,c=this.translationY;this.translationX=-r[0],this.translationY=-r[1],re(this,tt,ly).call(this),re(this,tt,Ih).call(this),ne(this,Ip,o),ne(this,kp,s),this.setDims(o,s);const d=n?i/this.scaleFactor/2:0;this.translate(u-this.translationX-d,c-this.translationY-d)},ie(Cr,rd),ct(Cr,"_defaultColor",null),ct(Cr,"_defaultOpacity",1),ct(Cr,"_defaultThickness",1),ct(Cr,"_type","ink"),ct(Cr,"_editorType",Tn.INK);let XF=Cr;var Li,Oi,mf,Pc,yf,bv,Ql,Ic,Zl,Ja,i1,Mn,yx,vx,QC,i$,Loe,Ooe,o$,ZC,Foe;const Ux=class Ux extends qn{constructor(n){super({...n,name:"stampEditor"});ie(this,Mn);ie(this,Li,null);ie(this,Oi,null);ie(this,mf,null);ie(this,Pc,null);ie(this,yf,null);ie(this,bv,"");ie(this,Ql,null);ie(this,Ic,null);ie(this,Zl,null);ie(this,Ja,!1);ie(this,i1,!1);ne(this,Pc,n.bitmapUrl),ne(this,yf,n.bitmapFile)}static initialize(n,r){qn.initialize(n,r)}static get supportedTypes(){return Pn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return Pn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,r){r.pasteEditor(Tn.STAMP,{bitmapFile:n.getAsFile()})}remove(){var n,r;C(this,Oi)&&(ne(this,Li,null),this._uiManager.imageManager.deleteId(C(this,Oi)),(n=C(this,Ql))==null||n.remove(),ne(this,Ql,null),(r=C(this,Ic))==null||r.disconnect(),ne(this,Ic,null),C(this,Zl)&&(clearTimeout(C(this,Zl)),ne(this,Zl,null))),super.remove()}rebuild(){if(!this.parent){C(this,Oi)&&re(this,Mn,QC).call(this);return}super.rebuild(),this.div!==null&&(C(this,Oi)&&C(this,Ql)===null&&re(this,Mn,QC).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(C(this,mf)||C(this,Li)||C(this,Pc)||C(this,yf)||C(this,Oi))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;if(this.width&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),C(this,Li)?re(this,Mn,i$).call(this):re(this,Mn,QC).call(this),this.width){const[i,o]=this.parentDimensions;this.setAt(n*i,r*o,this.width*i,this.height*o)}return this.div}getImageForAltText(){return C(this,Ql)}static deserialize(n,r,i){if(n instanceof eoe)return null;const o=super.deserialize(n,r,i),{rect:s,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:c}=n;l&&i.imageManager.isValidId(l)?ne(o,Oi,l):ne(o,Pc,a),ne(o,Ja,u);const[d,h]=o.pageDimensions;return o.width=(s[2]-s[0])/d,o.height=(s[3]-s[1])/h,c&&(o.altTextData=c),o}serialize(n=!1,r=null){if(this.isEmpty())return null;const i={annotationType:Tn.STAMP,bitmapId:C(this,Oi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:C(this,Ja),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=re(this,Mn,ZC).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:o,altText:s}=this.altTextData;if(!o&&s&&(i.accessibilityData={type:"Figure",alt:s}),r===null)return i;r.stamps||(r.stamps=new Map);const a=C(this,Ja)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(C(this,Oi)))r.stamps.set(C(this,Oi),{area:a,serialized:i}),i.bitmap=re(this,Mn,ZC).call(this,!1);else if(C(this,Ja)){const l=r.stamps.get(C(this,Oi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=re(this,Mn,ZC).call(this,!1))}return i}};Li=new WeakMap,Oi=new WeakMap,mf=new WeakMap,Pc=new WeakMap,yf=new WeakMap,bv=new WeakMap,Ql=new WeakMap,Ic=new WeakMap,Zl=new WeakMap,Ja=new WeakMap,i1=new WeakMap,Mn=new WeakSet,yx=function(n,r=!1){if(!n){this.remove();return}ne(this,Li,n.bitmap),r||(ne(this,Oi,n.id),ne(this,Ja,n.isSvg)),n.file&&ne(this,bv,n.file.name),re(this,Mn,i$).call(this)},vx=function(){ne(this,mf,null),this._uiManager.enableWaiting(!1),C(this,Ql)&&this.div.focus()},QC=function(){if(C(this,Oi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(C(this,Oi)).then(i=>re(this,Mn,yx).call(this,i,!0)).finally(()=>re(this,Mn,vx).call(this));return}if(C(this,Pc)){const i=C(this,Pc);ne(this,Pc,null),this._uiManager.enableWaiting(!0),ne(this,mf,this._uiManager.imageManager.getFromUrl(i).then(o=>re(this,Mn,yx).call(this,o)).finally(()=>re(this,Mn,vx).call(this)));return}if(C(this,yf)){const i=C(this,yf);ne(this,yf,null),this._uiManager.enableWaiting(!0),ne(this,mf,this._uiManager.imageManager.getFromFile(i).then(o=>re(this,Mn,yx).call(this,o)).finally(()=>re(this,Mn,vx).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Ux.supportedTypesStr;const r=this._uiManager._signal;ne(this,mf,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);re(this,Mn,yx).call(this,o)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>re(this,Mn,vx).call(this))),n.click()},i$=function(){const{div:n}=this;let{width:r,height:i}=C(this,Li);const[o,s]=this.pageDimensions,a=.75;if(this.width)r=this.width*o,i=this.height*s;else if(r>a*o||i>a*s){const d=Math.min(a*o/r,a*s/i);r*=d,i*=d}const[l,u]=this.parentDimensions;this.setDims(r*l/o,i*u/s),this._uiManager.enableWaiting(!1);const c=ne(this,Ql,document.createElement("canvas"));n.append(c),n.hidden=!1,re(this,Mn,o$).call(this,r,i),re(this,Mn,Foe).call(this),C(this,i1)||(this.parent.addUndoableEditor(this),ne(this,i1,!0)),this._reportTelemetry({action:"inserted_image"}),C(this,bv)&&c.setAttribute("aria-label",C(this,bv))},Loe=function(n,r){var a;const[i,o]=this.parentDimensions;this.width=n/i,this.height=r/o,this.setDims(n,r),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,C(this,Zl)!==null&&clearTimeout(C(this,Zl)),ne(this,Zl,setTimeout(()=>{ne(this,Zl,null),re(this,Mn,o$).call(this,n,r)},200))},Ooe=function(n,r){const{width:i,height:o}=C(this,Li);let s=i,a=o,l=C(this,Li);for(;s>2*n||a>2*r;){const u=s,c=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(l,0,0,u,c,0,0,s,a),l=d.transferToImageBitmap()}return l},o$=function(n,r){n=Math.ceil(n),r=Math.ceil(r);const i=C(this,Ql);if(!i||i.width===n&&i.height===r)return;i.width=n,i.height=r;const o=C(this,Ja)?C(this,Li):re(this,Mn,Ooe).call(this,n,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){const l=new OffscreenCanvas(n,r).getContext("2d");l.drawImage(o,0,0,o.width,o.height,0,0,n,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:l.getImageData(0,0,n,r).data,width:n,height:r,channels:4}}).then(u=>{const c=(u==null?void 0:u.output)||"";this.parent&&c&&!this.hasAltText()&&(this.altTextData={altText:c,decorative:!1})})}const s=i.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(o,0,0,o.width,o.height,0,0,n,r)},ZC=function(n){if(n){if(C(this,Ja)){const o=this._uiManager.imageManager.getSvgUrl(C(this,Oi));if(o)return o}const r=document.createElement("canvas");return{width:r.width,height:r.height}=C(this,Li),r.getContext("2d").drawImage(C(this,Li),0,0),r.toDataURL()}if(C(this,Ja)){const[r,i]=this.pageDimensions,o=Math.round(this.width*r*Uf.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Uf.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(C(this,Li),0,0,C(this,Li).width,C(this,Li).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(C(this,Li))},Foe=function(){this._uiManager._signal&&(ne(this,Ic,new ResizeObserver(n=>{const r=n[0].contentRect;r.width&&r.height&&re(this,Mn,Loe).call(this,r.width,r.height)})),C(this,Ic).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var n;(n=C(this,Ic))==null||n.disconnect(),ne(this,Ic,null)},{once:!0}))},ct(Ux,"_type","stamp"),ct(Ux,"_editorType",Tn.STAMP);let r$=Ux;var Mp,xv,eu,Np,kc,Mc,Nc,Is,vf,wv,_v,wo,kt,bf,zi,$oe,a$,l$,u$,eT;const Fa=class Fa{constructor({uiManager:e,pageIndex:n,div:r,accessibilityManager:i,annotationLayer:o,drawLayer:s,textLayer:a,viewport:l,l10n:u}){ie(this,zi);ie(this,Mp);ie(this,xv,!1);ie(this,eu,null);ie(this,Np,null);ie(this,kc,null);ie(this,Mc,null);ie(this,Nc,null);ie(this,Is,new Map);ie(this,vf,!1);ie(this,wv,!1);ie(this,_v,!1);ie(this,wo,null);ie(this,kt);const c=[...C(Fa,bf).values()];if(!Fa._initialized){Fa._initialized=!0;for(const d of c)d.initialize(u,e)}e.registerEditorTypes(c),ne(this,kt,e),this.pageIndex=n,this.div=r,ne(this,Mp,i),ne(this,eu,o),this.viewport=l,ne(this,wo,a),this.drawLayer=s,C(this,kt).addLayer(this)}get isEmpty(){return C(this,Is).size===0}get isInvisible(){return this.isEmpty&&C(this,kt).getMode()===Tn.NONE}updateToolbar(e){C(this,kt).updateToolbar(e)}updateMode(e=C(this,kt).getMode()){switch(re(this,zi,eT).call(this),e){case Tn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Tn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Tn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const r of C(Fa,bf).values())n.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=C(this,wo))==null?void 0:n.div)}addInkEditorIfNeeded(e){if(C(this,kt).getMode()!==Tn.INK)return;if(!e){for(const r of C(this,Is).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){C(this,kt).setEditingState(e)}addCommands(e){C(this,kt).addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=C(this,eu))==null||n.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of C(this,Is).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(C(this,kt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!C(this,eu))return;const n=C(this,eu).getEditableAnnotations();for(const r of n){if(r.hide(),C(this,kt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;ne(this,_v,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const o of C(this,Is).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else n.set(o.annotationElementId,o);(i=this.getEditableAnnotation(o.annotationElementId))==null||i.show(),o.remove()}if(C(this,eu)){const o=C(this,eu).getEditableAnnotations();for(const s of o){const{id:a}=s.data;if(C(this,kt).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(a),l&&(C(this,kt).addChangedExistingAnnotation(l),l.renderAnnotationElement(s),l.show(!1)),s.show()}}re(this,zi,eT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const o of C(Fa,bf).values())r.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ne(this,_v,!1)}getEditableAnnotation(e){var n;return((n=C(this,eu))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){C(this,kt).getActive()!==e&&C(this,kt).setActiveEditor(e)}enableTextSelection(){var e;this.div.tabIndex=-1,(e=C(this,wo))!=null&&e.div&&!C(this,Mc)&&(ne(this,Mc,re(this,zi,$oe).bind(this)),C(this,wo).div.addEventListener("pointerdown",C(this,Mc),{signal:C(this,kt)._signal}),C(this,wo).div.classList.add("highlighting"))}disableTextSelection(){var e;this.div.tabIndex=0,(e=C(this,wo))!=null&&e.div&&C(this,Mc)&&(C(this,wo).div.removeEventListener("pointerdown",C(this,Mc)),ne(this,Mc,null),C(this,wo).div.classList.remove("highlighting"))}enableClick(){if(C(this,kc))return;const e=C(this,kt)._signal;ne(this,kc,this.pointerdown.bind(this)),ne(this,Np,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",C(this,kc),{signal:e}),this.div.addEventListener("pointerup",C(this,Np),{signal:e})}disableClick(){C(this,kc)&&(this.div.removeEventListener("pointerdown",C(this,kc)),this.div.removeEventListener("pointerup",C(this,Np)),ne(this,kc,null),ne(this,Np,null))}attach(e){C(this,Is).set(e.id,e);const{annotationElementId:n}=e;n&&C(this,kt).isDeletedAnnotationElement(n)&&C(this,kt).removeDeletedAnnotationElement(e)}detach(e){var n;C(this,Is).delete(e.id),(n=C(this,Mp))==null||n.removePointerInTextLayer(e.contentDiv),!C(this,_v)&&e.annotationElementId&&C(this,kt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),C(this,kt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,C(this,wv)||this.addInkEditorIfNeeded(!1)}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(C(this,kt).addDeletedAnnotationElement(e.annotationElementId),qn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),C(this,kt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),C(this,kt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!C(this,Nc)&&(e._focusEventsAllowed=!1,ne(this,Nc,setTimeout(()=>{ne(this,Nc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:C(this,kt)._signal}),n.focus())},0))),e._structTreeParentId=(r=C(this,Mp))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getNextId(){return C(this,kt).getId()}get _signal(){return C(this,kt)._signal}canCreateNewEmptyEditor(){var e;return(e=C(this,zi,a$))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){C(this,kt).updateToolbar(e),C(this,kt).updateMode(e);const{offsetX:r,offsetY:i}=re(this,zi,u$).call(this),o=this.getNextId(),s=re(this,zi,l$).call(this,{parent:this,id:o,x:r,y:i,uiManager:C(this,kt),isCentered:!0,...n});s&&this.add(s)}deserialize(e){var n;return((n=C(Fa,bf).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,C(this,kt)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),o=re(this,zi,l$).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:C(this,kt),isCentered:n,...r});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(re(this,zi,u$).call(this),!0)}setSelected(e){C(this,kt).setSelected(e)}toggleSelected(e){C(this,kt).toggleSelected(e)}isSelected(e){return C(this,kt).isSelected(e)}unselect(e){C(this,kt).unselect(e)}pointerup(e){const{isMac:n}=Jo.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&C(this,vf)){if(ne(this,vf,!1),!C(this,xv)){ne(this,xv,!0);return}if(C(this,kt).getMode()===Tn.STAMP){C(this,kt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(C(this,kt).getMode()===Tn.HIGHLIGHT&&this.enableTextSelection(),C(this,vf)){ne(this,vf,!1);return}const{isMac:n}=Jo.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;ne(this,vf,!0);const r=C(this,kt).getActive();ne(this,xv,!r||r.isEmpty())}findNewParent(e,n,r){const i=C(this,kt).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}destroy(){var e,n;((e=C(this,kt).getActive())==null?void 0:e.parent)===this&&(C(this,kt).commitOrRemove(),C(this,kt).setActiveEditor(null)),C(this,Nc)&&(clearTimeout(C(this,Nc)),ne(this,Nc,null));for(const r of C(this,Is).values())(n=C(this,Mp))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,C(this,Is).clear(),C(this,kt).removeLayer(this)}render({viewport:e}){this.viewport=e,tg(this.div,e);for(const n of C(this,kt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){C(this,kt).commitOrRemove(),re(this,zi,eT).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,tg(this.div,{rotation:r}),n!==r)for(const i of C(this,Is).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return C(this,kt).viewParameters.realScale}};Mp=new WeakMap,xv=new WeakMap,eu=new WeakMap,Np=new WeakMap,kc=new WeakMap,Mc=new WeakMap,Nc=new WeakMap,Is=new WeakMap,vf=new WeakMap,wv=new WeakMap,_v=new WeakMap,wo=new WeakMap,kt=new WeakMap,bf=new WeakMap,zi=new WeakSet,$oe=function(e){if(C(this,kt).unselectAll(),e.target===C(this,wo).div){const{isMac:n}=Jo.platform;if(e.button!==0||e.ctrlKey&&n)return;C(this,kt).showAllEditors("highlight",!0,!0),C(this,wo).div.classList.add("free"),uA.startHighlighting(this,C(this,kt).direction==="ltr",e),C(this,wo).div.addEventListener("pointerup",()=>{C(this,wo).div.classList.remove("free")},{once:!0,signal:C(this,kt)._signal}),e.preventDefault()}},a$=function(){return C(Fa,bf).get(C(this,kt).getMode())},l$=function(e){const n=C(this,zi,a$);return n?new n.prototype.constructor(e):null},u$=function(){const{x:e,y:n,width:r,height:i}=this.div.getBoundingClientRect(),o=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),u=(o+a)/2-e,c=(s+l)/2-n,[d,h]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:d,offsetY:h}},eT=function(){ne(this,wv,!0);for(const e of C(this,Is).values())e.isEmpty()&&e.remove();ne(this,wv,!1)},ct(Fa,"_initialized",!1),ie(Fa,bf,new Map([BF,XF,r$,uA].map(e=>[e._editorType,e])));let s$=Fa;var tu,o1,ci,xf,s1,d$,sg,f$,Boe;const Ii=class Ii{constructor({pageIndex:e}){ie(this,sg);ie(this,tu,null);ie(this,o1,0);ie(this,ci,new Map);ie(this,xf,new Map);this.pageIndex=e}setParent(e){if(!C(this,tu)){ne(this,tu,e);return}if(C(this,tu)!==e){if(C(this,ci).size>0)for(const n of C(this,ci).values())n.remove(),e.append(n);ne(this,tu,e)}}static get _svgFactory(){return Pn(this,"_svgFactory",new T3)}highlight(e,n,r,i=!1){const o=ys(this,o1)._++,s=re(this,sg,f$).call(this,e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");const a=Ii._svgFactory.createElement("defs");s.append(a);const l=Ii._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${o}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),i&&C(this,xf).set(o,l);const c=re(this,sg,Boe).call(this,a,u),d=Ii._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href",`#${u}`),C(this,ci).set(o,s),{id:o,clipPathId:`url(#${c})`}}highlightOutline(e){const n=ys(this,o1)._++,r=re(this,sg,f$).call(this,e.box);r.classList.add("highlightOutline");const i=Ii._svgFactory.createElement("defs");r.append(i);const o=Ii._svgFactory.createElement("path");i.append(o);const s=`path_p${this.pageIndex}_${n}`;o.setAttribute("id",s),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.free){r.classList.add("free");const c=Ii._svgFactory.createElement("mask");i.append(c),a=`mask_p${this.pageIndex}_${n}`,c.setAttribute("id",a),c.setAttribute("maskUnits","objectBoundingBox");const d=Ii._svgFactory.createElement("rect");c.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const h=Ii._svgFactory.createElement("use");c.append(h),h.setAttribute("href",`#${s}`),h.setAttribute("stroke","none"),h.setAttribute("fill","black"),h.setAttribute("fill-rule","nonzero"),h.classList.add("mask")}const l=Ii._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${s}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),C(this,ci).set(n,r),n}finalizeLine(e,n){const r=C(this,xf).get(e);C(this,xf).delete(e),this.updateBox(e,n.box),r.setAttribute("d",n.toSVGPath())}updateLine(e,n){C(this,ci).get(e).firstChild.firstChild.setAttribute("d",n.toSVGPath())}removeFreeHighlight(e){this.remove(e),C(this,xf).delete(e)}updatePath(e,n){C(this,xf).get(e).setAttribute("d",n.toSVGPath())}updateBox(e,n){var r;re(r=Ii,s1,d$).call(r,C(this,ci).get(e),n)}show(e,n){C(this,ci).get(e).classList.toggle("hidden",!n)}rotate(e,n){C(this,ci).get(e).setAttribute("data-main-rotation",n)}changeColor(e,n){C(this,ci).get(e).setAttribute("fill",n)}changeOpacity(e,n){C(this,ci).get(e).setAttribute("fill-opacity",n)}addClass(e,n){C(this,ci).get(e).classList.add(n)}removeClass(e,n){C(this,ci).get(e).classList.remove(n)}remove(e){C(this,tu)!==null&&(C(this,ci).get(e).remove(),C(this,ci).delete(e))}destroy(){ne(this,tu,null);for(const e of C(this,ci).values())e.remove();C(this,ci).clear()}};tu=new WeakMap,o1=new WeakMap,ci=new WeakMap,xf=new WeakMap,s1=new WeakSet,d$=function(e,{x:n=0,y:r=0,width:i=1,height:o=1}={}){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*o}%`},sg=new WeakSet,f$=function(e){var r;const n=Ii._svgFactory.create(1,1,!0);return C(this,tu).append(n),n.setAttribute("aria-hidden",!0),re(r=Ii,s1,d$).call(r,n,e),n},Boe=function(e,n){const r=Ii._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const o=Ii._svgFactory.createElement("use");return r.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),i},ie(Ii,s1);let c$=Ii;qt.AbortException;qt.AnnotationEditorLayer;qt.AnnotationEditorParamsType;qt.AnnotationEditorType;qt.AnnotationEditorUIManager;qt.AnnotationLayer;qt.AnnotationMode;qt.CMapCompressionType;qt.ColorPicker;qt.DOMSVGFactory;qt.DrawLayer;qt.FeatureTest;var sWe=qt.GlobalWorkerOptions;qt.ImageKind;qt.InvalidPDFException;qt.MissingPDFException;qt.OPS;qt.Outliner;qt.PDFDataRangeTransport;qt.PDFDateString;qt.PDFWorker;qt.PasswordResponses;qt.PermissionFlag;qt.PixelsPerInch;qt.RenderingCancelledException;qt.TextLayer;qt.UnexpectedResponseException;qt.Util;qt.VerbosityLevel;qt.XfaLayer;qt.build;qt.createValidAbsoluteUrl;qt.fetchData;var aWe=qt.getDocument;qt.getFilenameFromUrl;qt.getPdfFilenameFromUrl;qt.getXfaPageViewport;qt.isDataScheme;qt.isPdfFile;qt.noContextMenu;qt.normalizeUnicode;qt.renderTextLayer;qt.setLayerDimensions;qt.shadow;qt.updateTextLayer;qt.version;const lWe=t=>oe.createElement("div",{style:{color:"black"}},"Loading ",Math.floor(t.loaded/t.total*100),"%"),uWe=t=>oe.createElement("div",{style:{color:"black"}},t.message),cWe=t=>{throw new Error(`Error loading PDF document: ${t.message}!`)},dWe="https://unpkg.com/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs",fWe=({document:t,beforeLoad:e=lWe,errorMessage:n=uWe,children:r,onError:i=cWe,workerSrc:o=dWe})=>{const s=F.useRef(null),a=F.useRef(null),[l,u]=F.useState(null),[c,d]=F.useState(null);return F.useEffect(()=>(sWe.workerSrc=o,s.current=aWe(t),s.current.onProgress=h=>{d(h.loaded>h.total?null:h)},s.current.promise.then(h=>{a.current=h}).catch(h=>{h.message!="Worker was destroyed"&&(u(h),i(h))}).finally(()=>{d(null)}),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy()}),[t]),l?n(l):c?e(c):a.current&&r(a.current)};function hWe({mode:t,analyticsLevel:e,readPurposes:n,displayedReads:r,selectedHighlightIds:i,setSelectedHighlightIds:o}){const{highlight:s,isScrolledTo:a,highlightBindings:l}=Cqe(),u=()=>{let d="#dceefa";return t===So.ANALYZING?e===sr.PURPOSES&&(d=n[s.readPurposeId].color):t===So.READING&&(d=r.includes(s.readPurposeId)?n[s.readPurposeId].color:"#e6e6e6"),d},c=i.includes(s.id);return s.type==="text"?O.jsx(Fqe,{isScrolledTo:a,highlight:s,style:{background:u(),border:c?"2px solid black":"none"},onClick:()=>o([s.id])}):O.jsx(s8e,{isScrolledTo:a,highlight:s,bounds:l.textLayer,style:{background:u(),pointerEvents:"none",border:c?"2px solid black":"none"}})}const pWe=({addHighlight:t})=>{const e=F.useRef(null),{getCurrentSelection:n,removeGhostHighlight:r,setTip:i}=kre();return O.jsx("div",{className:"Tip",children:O.jsx("button",{className:"Tip__compact",onClick:()=>{e.current=n(),t({content:e.current.content,type:e.current.type,position:e.current.position}),r(),i(null)},children:"Add highlight"})})};function gWe(){const{mode:t}=Wf(),{analyticsLevel:e}=x1(),{paperUrl:n,highlights:r,addHighlight:i,selectedHighlightIds:o,setSelectedHighlightIds:s,currentReadId:a,readPurposes:l,displayedReads:u,pdfViewerRef:c}=Gf();if(!F.useContext(vR))throw new Error("TourContext not found");const h=F.useRef(null);F.useEffect(()=>{o.length>0&&p()},[o]);const p=()=>{const m=o[o.length-1],y=r.find(x=>x.id===m);y&&h.current&&h.current.scrollToHighlight(y)};return O.jsx(He,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},children:n&&O.jsx(He,{style:{height:"100%",width:"100%",position:"relative"},className:"pdf pdf-container",children:O.jsx(fWe,{document:n,children:m=>{var y;return O.jsx(Oqe,{enableAreaSelection:x=>x.altKey,pdfDocument:m,utilsRef:x=>{c.current=x.getViewer(),h.current=x},selectionTip:Object.keys(l).length>0&&a!==""?O.jsx(pWe,{addHighlight:i}):null,highlights:r,textSelectionColor:(y=l[a])==null?void 0:y.color,children:O.jsx(hWe,{mode:t,analyticsLevel:e,readPurposes:l,displayedReads:u,selectedHighlightIds:o,setSelectedHighlightIds:s})})}})})})}var eD,HG;function D3(){if(HG)return eD;HG=1;var t="\0",e="\0",n="";class r{constructor(c){ct(this,"_isDirected",!0);ct(this,"_isMultigraph",!1);ct(this,"_isCompound",!1);ct(this,"_label");ct(this,"_defaultNodeLabelFn",()=>{});ct(this,"_defaultEdgeLabelFn",()=>{});ct(this,"_nodes",{});ct(this,"_in",{});ct(this,"_preds",{});ct(this,"_out",{});ct(this,"_sucs",{});ct(this,"_edgeObjs",{});ct(this,"_edgeLabels",{});ct(this,"_nodeCount",0);ct(this,"_edgeCount",0);ct(this,"_parent");ct(this,"_children");c&&(this._isDirected=Object.hasOwn(c,"directed")?c.directed:!0,this._isMultigraph=Object.hasOwn(c,"multigraph")?c.multigraph:!1,this._isCompound=Object.hasOwn(c,"compound")?c.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(c){return this._label=c,this}graph(){return this._label}setDefaultNodeLabel(c){return this._defaultNodeLabelFn=c,typeof c!="function"&&(this._defaultNodeLabelFn=()=>c),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var c=this;return this.nodes().filter(d=>Object.keys(c._in[d]).length===0)}sinks(){var c=this;return this.nodes().filter(d=>Object.keys(c._out[d]).length===0)}setNodes(c,d){var h=arguments,p=this;return c.forEach(function(m){h.length>1?p.setNode(m,d):p.setNode(m)}),this}setNode(c,d){return Object.hasOwn(this._nodes,c)?(arguments.length>1&&(this._nodes[c]=d),this):(this._nodes[c]=arguments.length>1?d:this._defaultNodeLabelFn(c),this._isCompound&&(this._parent[c]=e,this._children[c]={},this._children[e][c]=!0),this._in[c]={},this._preds[c]={},this._out[c]={},this._sucs[c]={},++this._nodeCount,this)}node(c){return this._nodes[c]}hasNode(c){return Object.hasOwn(this._nodes,c)}removeNode(c){var d=this;if(Object.hasOwn(this._nodes,c)){var h=p=>d.removeEdge(d._edgeObjs[p]);delete this._nodes[c],this._isCompound&&(this._removeFromParentsChildList(c),delete this._parent[c],this.children(c).forEach(function(p){d.setParent(p)}),delete this._children[c]),Object.keys(this._in[c]).forEach(h),delete this._in[c],delete this._preds[c],Object.keys(this._out[c]).forEach(h),delete this._out[c],delete this._sucs[c],--this._nodeCount}return this}setParent(c,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=e;else{d+="";for(var h=d;h!==void 0;h=this.parent(h))if(h===c)throw new Error("Setting "+d+" as parent of "+c+" would create a cycle");this.setNode(d)}return this.setNode(c),this._removeFromParentsChildList(c),this._parent[c]=d,this._children[d][c]=!0,this}_removeFromParentsChildList(c){delete this._children[this._parent[c]][c]}parent(c){if(this._isCompound){var d=this._parent[c];if(d!==e)return d}}children(c=e){if(this._isCompound){var d=this._children[c];if(d)return Object.keys(d)}else{if(c===e)return this.nodes();if(this.hasNode(c))return[]}}predecessors(c){var d=this._preds[c];if(d)return Object.keys(d)}successors(c){var d=this._sucs[c];if(d)return Object.keys(d)}neighbors(c){var d=this.predecessors(c);if(d){const p=new Set(d);for(var h of this.successors(c))p.add(h);return Array.from(p.values())}}isLeaf(c){var d;return this.isDirected()?d=this.successors(c):d=this.neighbors(c),d.length===0}filterNodes(c){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var h=this;Object.entries(this._nodes).forEach(function([y,x]){c(y)&&d.setNode(y,x)}),Object.values(this._edgeObjs).forEach(function(y){d.hasNode(y.v)&&d.hasNode(y.w)&&d.setEdge(y,h.edge(y))});var p={};function m(y){var x=h.parent(y);return x===void 0||d.hasNode(x)?(p[y]=x,x):x in p?p[x]:m(x)}return this._isCompound&&d.nodes().forEach(y=>d.setParent(y,m(y))),d}setDefaultEdgeLabel(c){return this._defaultEdgeLabelFn=c,typeof c!="function"&&(this._defaultEdgeLabelFn=()=>c),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(c,d){var h=this,p=arguments;return c.reduce(function(m,y){return p.length>1?h.setEdge(m,y,d):h.setEdge(m,y),y}),this}setEdge(){var c,d,h,p,m=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(c=y.v,d=y.w,h=y.name,arguments.length===2&&(p=arguments[1],m=!0)):(c=y,d=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],m=!0)),c=""+c,d=""+d,h!==void 0&&(h=""+h);var x=s(this._isDirected,c,d,h);if(Object.hasOwn(this._edgeLabels,x))return m&&(this._edgeLabels[x]=p),this;if(h!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(c),this.setNode(d),this._edgeLabels[x]=m?p:this._defaultEdgeLabelFn(c,d,h);var _=a(this._isDirected,c,d,h);return c=_.v,d=_.w,Object.freeze(_),this._edgeObjs[x]=_,i(this._preds[d],c),i(this._sucs[c],d),this._in[d][x]=_,this._out[c][x]=_,this._edgeCount++,this}edge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return this._edgeLabels[p]}edgeAsObj(){const c=this.edge(...arguments);return typeof c!="object"?{label:c}:c}hasEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h);return Object.hasOwn(this._edgeLabels,p)}removeEdge(c,d,h){var p=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,c,d,h),m=this._edgeObjs[p];return m&&(c=m.v,d=m.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[d],c),o(this._sucs[c],d),delete this._in[d][p],delete this._out[c][p],this._edgeCount--),this}inEdges(c,d){var h=this._in[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.v===d):p}}outEdges(c,d){var h=this._out[c];if(h){var p=Object.values(h);return d?p.filter(m=>m.w===d):p}}nodeEdges(c,d){var h=this.inEdges(c,d);if(h)return h.concat(this.outEdges(c,d))}}function i(u,c){u[c]?u[c]++:u[c]=1}function o(u,c){--u[c]||delete u[c]}function s(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}return p+n+m+n+(h===void 0?t:h)}function a(u,c,d,h){var p=""+c,m=""+d;if(!u&&p>m){var y=p;p=m,m=y}var x={v:p,w:m};return h&&(x.name=h),x}function l(u,c){return s(u,c.v,c.w,c.name)}return eD=r,eD}var tD,qG;function mWe(){return qG||(qG=1,tD="2.2.4"),tD}var nD,jG;function yWe(){return jG||(jG=1,nD={Graph:D3(),version:mWe()}),nD}var rD,WG;function vWe(){if(WG)return rD;WG=1;var t=D3();rD={write:e,read:i};function e(o){var s={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:r(o)};return o.graph()!==void 0&&(s.value=structuredClone(o.graph())),s}function n(o){return o.nodes().map(function(s){var a=o.node(s),l=o.parent(s),u={v:s};return a!==void 0&&(u.value=a),l!==void 0&&(u.parent=l),u})}function r(o){return o.edges().map(function(s){var a=o.edge(s),l={v:s.v,w:s.w};return s.name!==void 0&&(l.name=s.name),a!==void 0&&(l.value=a),l})}function i(o){var s=new t(o.options).setGraph(o.value);return o.nodes.forEach(function(a){s.setNode(a.v,a.value),a.parent&&s.setParent(a.v,a.parent)}),o.edges.forEach(function(a){s.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),s}return rD}var iD,GG;function bWe(){if(GG)return iD;GG=1,iD=t;function t(e){var n={},r=[],i;function o(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),e.successors(s).forEach(o),e.predecessors(s).forEach(o))}return e.nodes().forEach(function(s){i=[],o(s),i.length&&r.push(i)}),r}return iD}var oD,KG;function Voe(){if(KG)return oD;KG=1;class t{constructor(){ct(this,"_arr",[]);ct(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var o=this._arr,s=o.length;return i[n]=s,o.push({key:n,priority:r}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,o=i+1,s=n;i<r.length&&(s=r[i].priority<r[s].priority?i:s,o<r.length&&(s=r[o].priority<r[s].priority?o:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o}_swap(n,r){var i=this._arr,o=this._keyIndices,s=i[n],a=i[r];i[n]=a,i[r]=s,o[a.key]=n,o[s.key]=r}}return oD=t,oD}var sD,YG;function zoe(){if(YG)return sD;YG=1;var t=Voe();sD=n;var e=()=>1;function n(i,o,s,a){return r(i,String(o),s||e,a||function(l){return i.outEdges(l)})}function r(i,o,s,a){var l={},u=new t,c,d,h=function(p){var m=p.v!==c?p.v:p.w,y=l[m],x=s(p),_=d.distance+x;if(x<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+x);_<y.distance&&(y.distance=_,y.predecessor=c,u.decrease(m,_))};for(i.nodes().forEach(function(p){var m=p===o?0:Number.POSITIVE_INFINITY;l[p]={distance:m},u.add(p,m)});u.size()>0&&(c=u.removeMin(),d=l[c],d.distance!==Number.POSITIVE_INFINITY);)a(c).forEach(h);return l}return sD}var aD,XG;function xWe(){if(XG)return aD;XG=1;var t=zoe();aD=e;function e(n,r,i){return n.nodes().reduce(function(o,s){return o[s]=t(n,s,r,i),o},{})}return aD}var lD,JG;function Uoe(){if(JG)return lD;JG=1,lD=t;function t(e){var n=0,r=[],i={},o=[];function s(a){var l=i[a]={onStack:!0,lowlink:n,index:n++};if(r.push(a),e.successors(a).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(l.lowlink=Math.min(l.lowlink,i[d].index)):(s(d),l.lowlink=Math.min(l.lowlink,i[d].lowlink))}),l.lowlink===l.index){var u=[],c;do c=r.pop(),i[c].onStack=!1,u.push(c);while(a!==c);o.push(u)}}return e.nodes().forEach(function(a){Object.hasOwn(i,a)||s(a)}),o}return lD}var uD,QG;function wWe(){if(QG)return uD;QG=1;var t=Uoe();uD=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return uD}var cD,ZG;function _We(){if(ZG)return cD;ZG=1,cD=e;var t=()=>1;function e(r,i,o){return n(r,i||t,o||function(s){return r.outEdges(s)})}function n(r,i,o){var s={},a=r.nodes();return a.forEach(function(l){s[l]={},s[l][l]={distance:0},a.forEach(function(u){l!==u&&(s[l][u]={distance:Number.POSITIVE_INFINITY})}),o(l).forEach(function(u){var c=u.v===l?u.w:u.v,d=i(u);s[l][c]={distance:d,predecessor:l}})}),a.forEach(function(l){var u=s[l];a.forEach(function(c){var d=s[c];a.forEach(function(h){var p=d[l],m=u[h],y=d[h],x=p.distance+m.distance;x<y.distance&&(y.distance=x,y.predecessor=m.predecessor)})})}),s}return cD}var dD,eK;function Hoe(){if(eK)return dD;eK=1;function t(n){var r={},i={},o=[];function s(a){if(Object.hasOwn(i,a))throw new e;Object.hasOwn(r,a)||(i[a]=!0,r[a]=!0,n.predecessors(a).forEach(s),delete i[a],o.push(a))}if(n.sinks().forEach(s),Object.keys(r).length!==n.nodeCount())throw new e;return o}class e extends Error{constructor(){super(...arguments)}}return dD=t,t.CycleException=e,dD}var fD,tK;function SWe(){if(tK)return fD;tK=1;var t=Hoe();fD=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return fD}var hD,nK;function qoe(){if(nK)return hD;nK=1,hD=t;function t(i,o,s){Array.isArray(o)||(o=[o]);var a=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),l=s==="post"?e:n,u=[],c={};return o.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);l(d,a,c,u)}),u}function e(i,o,s,a){for(var l=[[i,!1]];l.length>0;){var u=l.pop();u[1]?a.push(u[0]):Object.hasOwn(s,u[0])||(s[u[0]]=!0,l.push([u[0],!0]),r(o(u[0]),c=>l.push([c,!1])))}}function n(i,o,s,a){for(var l=[i];l.length>0;){var u=l.pop();Object.hasOwn(s,u)||(s[u]=!0,a.push(u),r(o(u),c=>l.push(c)))}}function r(i,o){for(var s=i.length;s--;)o(i[s],s,i);return i}return hD}var pD,rK;function EWe(){if(rK)return pD;rK=1;var t=qoe();pD=e;function e(n,r){return t(n,r,"post")}return pD}var gD,iK;function CWe(){if(iK)return gD;iK=1;var t=qoe();gD=e;function e(n,r){return t(n,r,"pre")}return gD}var mD,oK;function TWe(){if(oK)return mD;oK=1;var t=D3(),e=Voe();mD=n;function n(r,i){var o=new t,s={},a=new e,l;function u(d){var h=d.v===l?d.w:d.v,p=a.priority(h);if(p!==void 0){var m=i(d);m<p&&(s[h]=l,a.decrease(h,m))}}if(r.nodeCount()===0)return o;r.nodes().forEach(function(d){a.add(d,Number.POSITIVE_INFINITY),o.setNode(d)}),a.decrease(r.nodes()[0],0);for(var c=!1;a.size()>0;){if(l=a.removeMin(),Object.hasOwn(s,l))o.setEdge(l,s[l]);else{if(c)throw new Error("Input graph is not connected: "+r);c=!0}r.nodeEdges(l).forEach(u)}return o}return mD}var yD,sK;function AWe(){return sK||(sK=1,yD={components:bWe(),dijkstra:zoe(),dijkstraAll:xWe(),findCycles:wWe(),floydWarshall:_We(),isAcyclic:SWe(),postorder:EWe(),preorder:CWe(),prim:TWe(),tarjan:Uoe(),topsort:Hoe()}),yD}var vD,aK;function cl(){if(aK)return vD;aK=1;var t=yWe();return vD={Graph:t.Graph,json:vWe(),alg:AWe(),version:t.version},vD}var bD,lK;function RWe(){if(lK)return bD;lK=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,o=i._prev;if(o!==i)return e(o),o}enqueue(i){let o=this._sentinel;i._prev&&i._next&&e(i),i._next=o._next,o._next._prev=i,o._next=i,i._prev=o}toString(){let i=[],o=this._sentinel,s=o._prev;for(;s!==o;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return bD=t,bD}var xD,uK;function PWe(){if(uK)return xD;uK=1;let t=cl().Graph,e=RWe();xD=r;let n=()=>1;function r(u,c){if(u.nodeCount()<=1)return[];let d=s(u,c||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(p=>u.outEdges(p.v,p.w))}function i(u,c,d){let h=[],p=c[c.length-1],m=c[0],y;for(;u.nodeCount();){for(;y=m.dequeue();)o(u,c,d,y);for(;y=p.dequeue();)o(u,c,d,y);if(u.nodeCount()){for(let x=c.length-2;x>0;--x)if(y=c[x].dequeue(),y){h=h.concat(o(u,c,d,y,!0));break}}}return h}function o(u,c,d,h,p){let m=p?[]:void 0;return u.inEdges(h.v).forEach(y=>{let x=u.edge(y),_=u.node(y.v);p&&m.push({v:y.v,w:y.w}),_.out-=x,a(c,d,_)}),u.outEdges(h.v).forEach(y=>{let x=u.edge(y),_=y.w,E=u.node(_);E.in-=x,a(c,d,E)}),u.removeNode(h.v),m}function s(u,c){let d=new t,h=0,p=0;u.nodes().forEach(x=>{d.setNode(x,{v:x,in:0,out:0})}),u.edges().forEach(x=>{let _=d.edge(x.v,x.w)||0,E=c(x),S=_+E;d.setEdge(x.v,x.w,S),p=Math.max(p,d.node(x.v).out+=E),h=Math.max(h,d.node(x.w).in+=E)});let m=l(p+h+3).map(()=>new e),y=h+1;return d.nodes().forEach(x=>{a(m,y,d.node(x))}),{graph:d,buckets:m,zeroIdx:y}}function a(u,c,d){d.out?d.in?u[d.out-d.in+c].enqueue(d):u[u.length-1].enqueue(d):u[0].enqueue(d)}function l(u){const c=[];for(let d=0;d<u;d++)c.push(d);return c}return xD}var wD,cK;function Zr(){if(cK)return wD;cK=1;let t=cl().Graph;wD={addBorderNode:c,addDummyNode:e,applyWithChunking:p,asNonCompoundGraph:r,buildLayerMatrix:a,intersectRect:s,mapValues:N,maxRank:m,normalizeRanks:l,notime:_,partition:y,pick:I,predecessorWeights:o,range:T,removeEmptyRanks:u,simplify:n,successorWeights:i,time:x,uniqueId:S,zipObject:R};function e(M,L,k,D){let V;do V=S(D);while(M.hasNode(V));return k.dummy=L,M.setNode(V,k),V}function n(M){let L=new t().setGraph(M.graph());return M.nodes().forEach(k=>L.setNode(k,M.node(k))),M.edges().forEach(k=>{let D=L.edge(k.v,k.w)||{weight:0,minlen:1},V=M.edge(k);L.setEdge(k.v,k.w,{weight:D.weight+V.weight,minlen:Math.max(D.minlen,V.minlen)})}),L}function r(M){let L=new t({multigraph:M.isMultigraph()}).setGraph(M.graph());return M.nodes().forEach(k=>{M.children(k).length||L.setNode(k,M.node(k))}),M.edges().forEach(k=>{L.setEdge(k,M.edge(k))}),L}function i(M){let L=M.nodes().map(k=>{let D={};return M.outEdges(k).forEach(V=>{D[V.w]=(D[V.w]||0)+M.edge(V).weight}),D});return R(M.nodes(),L)}function o(M){let L=M.nodes().map(k=>{let D={};return M.inEdges(k).forEach(V=>{D[V.v]=(D[V.v]||0)+M.edge(V).weight}),D});return R(M.nodes(),L)}function s(M,L){let k=M.x,D=M.y,V=L.x-k,$=L.y-D,H=M.width/2,G=M.height/2;if(!V&&!$)throw new Error("Not possible to find intersection inside of the rectangle");let K,J;return Math.abs($)*H>Math.abs(V)*G?($<0&&(G=-G),K=G*V/$,J=G):(V<0&&(H=-H),K=H,J=H*$/V),{x:k+K,y:D+J}}function a(M){let L=T(m(M)+1).map(()=>[]);return M.nodes().forEach(k=>{let D=M.node(k),V=D.rank;V!==void 0&&(L[V][D.order]=k)}),L}function l(M){let L=M.nodes().map(D=>{let V=M.node(D).rank;return V===void 0?Number.MAX_VALUE:V}),k=p(Math.min,L);M.nodes().forEach(D=>{let V=M.node(D);Object.hasOwn(V,"rank")&&(V.rank-=k)})}function u(M){let L=M.nodes().map(H=>M.node(H).rank),k=p(Math.min,L),D=[];M.nodes().forEach(H=>{let G=M.node(H).rank-k;D[G]||(D[G]=[]),D[G].push(H)});let V=0,$=M.graph().nodeRankFactor;Array.from(D).forEach((H,G)=>{H===void 0&&G%$!==0?--V:H!==void 0&&V&&H.forEach(K=>M.node(K).rank+=V)})}function c(M,L,k,D){let V={width:0,height:0};return arguments.length>=4&&(V.rank=k,V.order=D),e(M,"border",V,L)}function d(M,L=h){const k=[];for(let D=0;D<M.length;D+=L){const V=M.slice(D,D+L);k.push(V)}return k}const h=65535;function p(M,L){if(L.length>h){const k=d(L);return M.apply(null,k.map(D=>M.apply(null,D)))}else return M.apply(null,L)}function m(M){const k=M.nodes().map(D=>{let V=M.node(D).rank;return V===void 0?Number.MIN_VALUE:V});return p(Math.max,k)}function y(M,L){let k={lhs:[],rhs:[]};return M.forEach(D=>{L(D)?k.lhs.push(D):k.rhs.push(D)}),k}function x(M,L){let k=Date.now();try{return L()}finally{console.log(M+" time: "+(Date.now()-k)+"ms")}}function _(M,L){return L()}let E=0;function S(M){var L=++E;return toString(M)+L}function T(M,L,k=1){L==null&&(L=M,M=0);let D=$=>$<L;k<0&&(D=$=>L<$);const V=[];for(let $=M;D($);$+=k)V.push($);return V}function I(M,L){const k={};for(const D of L)M[D]!==void 0&&(k[D]=M[D]);return k}function N(M,L){let k=L;return typeof L=="string"&&(k=D=>D[L]),Object.entries(M).reduce((D,[V,$])=>(D[V]=k($,V),D),{})}function R(M,L){return M.reduce((k,D,V)=>(k[D]=L[V],k),{})}return wD}var _D,dK;function IWe(){if(dK)return _D;dK=1;let t=PWe(),e=Zr().uniqueId;_D={run:n,undo:i};function n(o){(o.graph().acyclicer==="greedy"?t(o,a(o)):r(o)).forEach(l=>{let u=o.edge(l);o.removeEdge(l),u.forwardName=l.name,u.reversed=!0,o.setEdge(l.w,l.v,u,e("rev"))});function a(l){return u=>l.edge(u).weight}}function r(o){let s=[],a={},l={};function u(c){Object.hasOwn(l,c)||(l[c]=!0,a[c]=!0,o.outEdges(c).forEach(d=>{Object.hasOwn(a,d.w)?s.push(d):u(d.w)}),delete a[c])}return o.nodes().forEach(u),s}function i(o){o.edges().forEach(s=>{let a=o.edge(s);if(a.reversed){o.removeEdge(s);let l=a.forwardName;delete a.reversed,delete a.forwardName,o.setEdge(s.w,s.v,a,l)}})}return _D}var SD,fK;function kWe(){if(fK)return SD;fK=1;let t=Zr();SD={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(o=>n(i,o))}function n(i,o){let s=o.v,a=i.node(s).rank,l=o.w,u=i.node(l).rank,c=o.name,d=i.edge(o),h=d.labelRank;if(u===a+1)return;i.removeEdge(o);let p,m,y;for(y=0,++a;a<u;++y,++a)d.points=[],m={width:0,height:0,edgeLabel:d,edgeObj:o,rank:a},p=t.addDummyNode(i,"edge",m,"_d"),a===h&&(m.width=d.width,m.height=d.height,m.dummy="edge-label",m.labelpos=d.labelpos),i.setEdge(s,p,{weight:d.weight},c),y===0&&i.graph().dummyChains.push(p),s=p;i.setEdge(s,l,{weight:d.weight},c)}function r(i){i.graph().dummyChains.forEach(o=>{let s=i.node(o),a=s.edgeLabel,l;for(i.setEdge(s.edgeObj,a);s.dummy;)l=i.successors(o)[0],i.removeNode(o),a.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(a.x=s.x,a.y=s.y,a.width=s.width,a.height=s.height),o=l,s=i.node(o)})}return SD}var ED,hK;function cA(){if(hK)return ED;hK=1;const{applyWithChunking:t}=Zr();ED={longestPath:e,slack:n};function e(r){var i={};function o(s){var a=r.node(s);if(Object.hasOwn(i,s))return a.rank;i[s]=!0;let l=r.outEdges(s).map(c=>c==null?Number.POSITIVE_INFINITY:o(c.w)-r.edge(c).minlen);var u=t(Math.min,l);return u===Number.POSITIVE_INFINITY&&(u=0),a.rank=u}r.sources().forEach(o)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return ED}var CD,pK;function joe(){if(pK)return CD;pK=1;var t=cl().Graph,e=cA().slack;CD=n;function n(s){var a=new t({directed:!1}),l=s.nodes()[0],u=s.nodeCount();a.setNode(l,{});for(var c,d;r(a,s)<u;)c=i(a,s),d=a.hasNode(c.v)?e(s,c):-e(s,c),o(a,s,d);return a}function r(s,a){function l(u){a.nodeEdges(u).forEach(c=>{var d=c.v,h=u===d?c.w:d;!s.hasNode(h)&&!e(a,c)&&(s.setNode(h,{}),s.setEdge(u,h,{}),l(h))})}return s.nodes().forEach(l),s.nodeCount()}function i(s,a){return a.edges().reduce((u,c)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(c.v)!==s.hasNode(c.w)&&(d=e(a,c)),d<u[0]?[d,c]:u},[Number.POSITIVE_INFINITY,null])[1]}function o(s,a,l){s.nodes().forEach(u=>a.node(u).rank+=l)}return CD}var TD,gK;function MWe(){if(gK)return TD;gK=1;var t=joe(),e=cA().slack,n=cA().longestPath,r=cl().alg.preorder,i=cl().alg.postorder,o=Zr().simplify;TD=s,s.initLowLimValues=c,s.initCutValues=a,s.calcCutValue=u,s.leaveEdge=h,s.enterEdge=p,s.exchangeEdges=m;function s(E){E=o(E),n(E);var S=t(E);c(S),a(S,E);for(var T,I;T=h(S);)I=p(S,E,T),m(S,E,T,I)}function a(E,S){var T=i(E,E.nodes());T=T.slice(0,T.length-1),T.forEach(I=>l(E,S,I))}function l(E,S,T){var I=E.node(T),N=I.parent;E.edge(T,N).cutvalue=u(E,S,T)}function u(E,S,T){var I=E.node(T),N=I.parent,R=!0,M=S.edge(T,N),L=0;return M||(R=!1,M=S.edge(N,T)),L=M.weight,S.nodeEdges(T).forEach(k=>{var D=k.v===T,V=D?k.w:k.v;if(V!==N){var $=D===R,H=S.edge(k).weight;if(L+=$?H:-H,x(E,T,V)){var G=E.edge(T,V).cutvalue;L+=$?-G:G}}}),L}function c(E,S){arguments.length<2&&(S=E.nodes()[0]),d(E,{},1,S)}function d(E,S,T,I,N){var R=T,M=E.node(I);return S[I]=!0,E.neighbors(I).forEach(L=>{Object.hasOwn(S,L)||(T=d(E,S,T,L,I))}),M.low=R,M.lim=T++,N?M.parent=N:delete M.parent,T}function h(E){return E.edges().find(S=>E.edge(S).cutvalue<0)}function p(E,S,T){var I=T.v,N=T.w;S.hasEdge(I,N)||(I=T.w,N=T.v);var R=E.node(I),M=E.node(N),L=R,k=!1;R.lim>M.lim&&(L=M,k=!0);var D=S.edges().filter(V=>k===_(E,E.node(V.v),L)&&k!==_(E,E.node(V.w),L));return D.reduce((V,$)=>e(S,$)<e(S,V)?$:V)}function m(E,S,T,I){var N=T.v,R=T.w;E.removeEdge(N,R),E.setEdge(I.v,I.w,{}),c(E),a(E,S),y(E,S)}function y(E,S){var T=E.nodes().find(N=>!S.node(N).parent),I=r(E,T);I=I.slice(1),I.forEach(N=>{var R=E.node(N).parent,M=S.edge(N,R),L=!1;M||(M=S.edge(R,N),L=!0),S.node(N).rank=S.node(R).rank+(L?M.minlen:-M.minlen)})}function x(E,S,T){return E.hasEdge(S,T)}function _(E,S,T){return T.low<=S.lim&&S.lim<=T.lim}return TD}var AD,mK;function NWe(){if(mK)return AD;mK=1;var t=cA(),e=t.longestPath,n=joe(),r=MWe();AD=i;function i(l){switch(l.graph().ranker){case"network-simplex":a(l);break;case"tight-tree":s(l);break;case"longest-path":o(l);break;default:a(l)}}var o=e;function s(l){e(l),n(l)}function a(l){r(l)}return AD}var RD,yK;function DWe(){if(yK)return RD;yK=1,RD=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(o=>{let s=r.node(o),a=s.edgeObj,l=e(r,i,a.v,a.w),u=l.path,c=l.lca,d=0,h=u[d],p=!0;for(;o!==a.w;){if(s=r.node(o),p){for(;(h=u[d])!==c&&r.node(h).maxRank<s.rank;)d++;h===c&&(p=!1)}if(!p){for(;d<u.length-1&&r.node(h=u[d+1]).minRank<=s.rank;)d++;h=u[d]}r.setParent(o,h),o=r.successors(o)[0]}})}function e(r,i,o,s){let a=[],l=[],u=Math.min(i[o].low,i[s].low),c=Math.max(i[o].lim,i[s].lim),d,h;d=o;do d=r.parent(d),a.push(d);while(d&&(i[d].low>u||c>i[d].lim));for(h=d,d=s;(d=r.parent(d))!==h;)l.push(d);return{path:a.concat(l.reverse()),lca:h}}function n(r){let i={},o=0;function s(a){let l=o;r.children(a).forEach(s),i[a]={low:l,lim:o++}}return r.children().forEach(s),i}return RD}var PD,vK;function LWe(){if(vK)return PD;vK=1;let t=Zr();PD={run:e,cleanup:o};function e(s){let a=t.addDummyNode(s,"root",{},"_root"),l=r(s),u=Object.values(l),c=t.applyWithChunking(Math.max,u)-1,d=2*c+1;s.graph().nestingRoot=a,s.edges().forEach(p=>s.edge(p).minlen*=d);let h=i(s)+1;s.children().forEach(p=>n(s,a,d,h,c,l,p)),s.graph().nodeRankFactor=d}function n(s,a,l,u,c,d,h){let p=s.children(h);if(!p.length){h!==a&&s.setEdge(a,h,{weight:0,minlen:l});return}let m=t.addBorderNode(s,"_bt"),y=t.addBorderNode(s,"_bb"),x=s.node(h);s.setParent(m,h),x.borderTop=m,s.setParent(y,h),x.borderBottom=y,p.forEach(_=>{n(s,a,l,u,c,d,_);let E=s.node(_),S=E.borderTop?E.borderTop:_,T=E.borderBottom?E.borderBottom:_,I=E.borderTop?u:2*u,N=S!==T?1:c-d[h]+1;s.setEdge(m,S,{weight:I,minlen:N,nestingEdge:!0}),s.setEdge(T,y,{weight:I,minlen:N,nestingEdge:!0})}),s.parent(h)||s.setEdge(a,m,{weight:0,minlen:c+d[h]})}function r(s){var a={};function l(u,c){var d=s.children(u);d&&d.length&&d.forEach(h=>l(h,c+1)),a[u]=c}return s.children().forEach(u=>l(u,1)),a}function i(s){return s.edges().reduce((a,l)=>a+s.edge(l).weight,0)}function o(s){var a=s.graph();s.removeNode(a.nestingRoot),delete a.nestingRoot,s.edges().forEach(l=>{var u=s.edge(l);u.nestingEdge&&s.removeEdge(l)})}return PD}var ID,bK;function OWe(){if(bK)return ID;bK=1;let t=Zr();ID=e;function e(r){function i(o){let s=r.children(o),a=r.node(o);if(s.length&&s.forEach(i),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let l=a.minRank,u=a.maxRank+1;l<u;++l)n(r,"borderLeft","_bl",o,a,l),n(r,"borderRight","_br",o,a,l)}}r.children().forEach(i)}function n(r,i,o,s,a,l){let u={width:0,height:0,rank:l,borderType:i},c=a[i][l-1],d=t.addDummyNode(r,"border",u,o);a[i][l]=d,r.setParent(d,s),c&&r.setEdge(c,d,{weight:1})}return ID}var kD,xK;function FWe(){if(xK)return kD;xK=1,kD={adjust:t,undo:e};function t(l){let u=l.graph().rankdir.toLowerCase();(u==="lr"||u==="rl")&&n(l)}function e(l){let u=l.graph().rankdir.toLowerCase();(u==="bt"||u==="rl")&&i(l),(u==="lr"||u==="rl")&&(s(l),n(l))}function n(l){l.nodes().forEach(u=>r(l.node(u))),l.edges().forEach(u=>r(l.edge(u)))}function r(l){let u=l.width;l.width=l.height,l.height=u}function i(l){l.nodes().forEach(u=>o(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(o),Object.hasOwn(c,"y")&&o(c)})}function o(l){l.y=-l.y}function s(l){l.nodes().forEach(u=>a(l.node(u))),l.edges().forEach(u=>{let c=l.edge(u);c.points.forEach(a),Object.hasOwn(c,"x")&&a(c)})}function a(l){let u=l.x;l.x=l.y,l.y=u}return kD}var MD,wK;function $We(){if(wK)return MD;wK=1;let t=Zr();MD=e;function e(n){let r={},i=n.nodes().filter(c=>!n.children(c).length),o=i.map(c=>n.node(c).rank),s=t.applyWithChunking(Math.max,o),a=t.range(s+1).map(()=>[]);function l(c){if(r[c])return;r[c]=!0;let d=n.node(c);a[d.rank].push(c),n.successors(c).forEach(l)}return i.sort((c,d)=>n.node(c).rank-n.node(d).rank).forEach(l),a}return MD}var ND,_K;function BWe(){if(_K)return ND;_K=1;let t=Zr().zipObject;ND=e;function e(r,i){let o=0;for(let s=1;s<i.length;++s)o+=n(r,i[s-1],i[s]);return o}function n(r,i,o){let s=t(o,o.map((h,p)=>p)),a=i.flatMap(h=>r.outEdges(h).map(p=>({pos:s[p.w],weight:r.edge(p).weight})).sort((p,m)=>p.pos-m.pos)),l=1;for(;l<o.length;)l<<=1;let u=2*l-1;l-=1;let c=new Array(u).fill(0),d=0;return a.forEach(h=>{let p=h.pos+l;c[p]+=h.weight;let m=0;for(;p>0;)p%2&&(m+=c[p+1]),p=p-1>>1,c[p]+=h.weight;d+=h.weight*m}),d}return ND}var DD,SK;function VWe(){if(SK)return DD;SK=1,DD=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let o=i.reduce((s,a)=>{let l=e.edge(a),u=e.node(a.v);return{sum:s.sum+l.weight*u.order,weight:s.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}return DD}var LD,EK;function zWe(){if(EK)return LD;EK=1;let t=Zr();LD=e;function e(i,o){let s={};i.forEach((l,u)=>{let c=s[l.v]={indegree:0,in:[],out:[],vs:[l.v],i:u};l.barycenter!==void 0&&(c.barycenter=l.barycenter,c.weight=l.weight)}),o.edges().forEach(l=>{let u=s[l.v],c=s[l.w];u!==void 0&&c!==void 0&&(c.indegree++,u.out.push(s[l.w]))});let a=Object.values(s).filter(l=>!l.indegree);return n(a)}function n(i){let o=[];function s(l){return u=>{u.merged||(u.barycenter===void 0||l.barycenter===void 0||u.barycenter>=l.barycenter)&&r(l,u)}}function a(l){return u=>{u.in.push(l),--u.indegree===0&&i.push(u)}}for(;i.length;){let l=i.pop();o.push(l),l.in.reverse().forEach(s(l)),l.out.forEach(a(l))}return o.filter(l=>!l.merged).map(l=>t.pick(l,["vs","i","barycenter","weight"]))}function r(i,o){let s=0,a=0;i.weight&&(s+=i.barycenter*i.weight,a+=i.weight),o.weight&&(s+=o.barycenter*o.weight,a+=o.weight),i.vs=o.vs.concat(i.vs),i.barycenter=s/a,i.weight=a,i.i=Math.min(o.i,i.i),o.merged=!0}return LD}var OD,CK;function UWe(){if(CK)return OD;CK=1;let t=Zr();OD=e;function e(i,o){let s=t.partition(i,m=>Object.hasOwn(m,"barycenter")),a=s.lhs,l=s.rhs.sort((m,y)=>y.i-m.i),u=[],c=0,d=0,h=0;a.sort(r(!!o)),h=n(u,l,h),a.forEach(m=>{h+=m.vs.length,u.push(m.vs),c+=m.barycenter*m.weight,d+=m.weight,h=n(u,l,h)});let p={vs:u.flat(!0)};return d&&(p.barycenter=c/d,p.weight=d),p}function n(i,o,s){let a;for(;o.length&&(a=o[o.length-1]).i<=s;)o.pop(),i.push(a.vs),s++;return s}function r(i){return(o,s)=>o.barycenter<s.barycenter?-1:o.barycenter>s.barycenter?1:i?s.i-o.i:o.i-s.i}return OD}var FD,TK;function HWe(){if(TK)return FD;TK=1;let t=VWe(),e=zWe(),n=UWe();FD=r;function r(s,a,l,u){let c=s.children(a),d=s.node(a),h=d?d.borderLeft:void 0,p=d?d.borderRight:void 0,m={};h&&(c=c.filter(E=>E!==h&&E!==p));let y=t(s,c);y.forEach(E=>{if(s.children(E.v).length){let S=r(s,E.v,l,u);m[E.v]=S,Object.hasOwn(S,"barycenter")&&o(E,S)}});let x=e(y,l);i(x,m);let _=n(x,u);if(h&&(_.vs=[h,_.vs,p].flat(!0),s.predecessors(h).length)){let E=s.node(s.predecessors(h)[0]),S=s.node(s.predecessors(p)[0]);Object.hasOwn(_,"barycenter")||(_.barycenter=0,_.weight=0),_.barycenter=(_.barycenter*_.weight+E.order+S.order)/(_.weight+2),_.weight+=2}return _}function i(s,a){s.forEach(l=>{l.vs=l.vs.flatMap(u=>a[u]?a[u].vs:u)})}function o(s,a){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+a.barycenter*a.weight)/(s.weight+a.weight),s.weight+=a.weight):(s.barycenter=a.barycenter,s.weight=a.weight)}return FD}var $D,AK;function qWe(){if(AK)return $D;AK=1;let t=cl().Graph,e=Zr();$D=n;function n(i,o,s){let a=r(i),l=new t({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(u=>i.node(u));return i.nodes().forEach(u=>{let c=i.node(u),d=i.parent(u);(c.rank===o||c.minRank<=o&&o<=c.maxRank)&&(l.setNode(u),l.setParent(u,d||a),i[s](u).forEach(h=>{let p=h.v===u?h.w:h.v,m=l.edge(p,u),y=m!==void 0?m.weight:0;l.setEdge(p,u,{weight:i.edge(h).weight+y})}),Object.hasOwn(c,"minRank")&&l.setNode(u,{borderLeft:c.borderLeft[o],borderRight:c.borderRight[o]}))}),l}function r(i){for(var o;i.hasNode(o=e.uniqueId("_root")););return o}return $D}var BD,RK;function jWe(){if(RK)return BD;RK=1,BD=t;function t(e,n,r){let i={},o;r.forEach(s=>{let a=e.parent(s),l,u;for(;a;){if(l=e.parent(a),l?(u=i[l],i[l]=a):(u=o,o=a),u&&u!==a){n.setEdge(u,a);return}a=l}})}return BD}var VD,PK;function WWe(){if(PK)return VD;PK=1;let t=$We(),e=BWe(),n=HWe(),r=qWe(),i=jWe(),o=cl().Graph,s=Zr();VD=a;function a(d,h){if(h&&typeof h.customOrder=="function"){h.customOrder(d,a);return}let p=s.maxRank(d),m=l(d,s.range(1,p+1),"inEdges"),y=l(d,s.range(p-1,-1,-1),"outEdges"),x=t(d);if(c(d,x),h&&h.disableOptimalOrderHeuristic)return;let _=Number.POSITIVE_INFINITY,E;for(let S=0,T=0;T<4;++S,++T){u(S%2?m:y,S%4>=2),x=s.buildLayerMatrix(d);let I=e(d,x);I<_&&(T=0,E=Object.assign({},x),_=I)}c(d,E)}function l(d,h,p){return h.map(function(m){return r(d,m,p)})}function u(d,h){let p=new o;d.forEach(function(m){let y=m.graph().root,x=n(m,y,p,h);x.vs.forEach((_,E)=>m.node(_).order=E),i(m,p,x.vs)})}function c(d,h){Object.values(h).forEach(p=>p.forEach((m,y)=>d.node(m).order=y))}return VD}var zD,IK;function GWe(){if(IK)return zD;IK=1;let t=cl().Graph,e=Zr();zD={positionX:p,findType1Conflicts:n,findType2Conflicts:r,addConflict:o,hasConflict:s,verticalAlignment:a,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:c,balance:h};function n(x,_){let E={};function S(T,I){let N=0,R=0,M=T.length,L=I[I.length-1];return I.forEach((k,D)=>{let V=i(x,k),$=V?x.node(V).order:M;(V||k===L)&&(I.slice(R,D+1).forEach(H=>{x.predecessors(H).forEach(G=>{let K=x.node(G),J=K.order;(J<N||$<J)&&!(K.dummy&&x.node(H).dummy)&&o(E,G,H)})}),R=D+1,N=$)}),I}return _.length&&_.reduce(S),E}function r(x,_){let E={};function S(I,N,R,M,L){let k;e.range(N,R).forEach(D=>{k=I[D],x.node(k).dummy&&x.predecessors(k).forEach(V=>{let $=x.node(V);$.dummy&&($.order<M||$.order>L)&&o(E,V,k)})})}function T(I,N){let R=-1,M,L=0;return N.forEach((k,D)=>{if(x.node(k).dummy==="border"){let V=x.predecessors(k);V.length&&(M=x.node(V[0]).order,S(N,L,D,R,M),L=D,R=M)}S(N,L,N.length,M,I.length)}),N}return _.length&&_.reduce(T),E}function i(x,_){if(x.node(_).dummy)return x.predecessors(_).find(E=>x.node(E).dummy)}function o(x,_,E){if(_>E){let T=_;_=E,E=T}let S=x[_];S||(x[_]=S={}),S[E]=!0}function s(x,_,E){if(_>E){let S=_;_=E,E=S}return!!x[_]&&Object.hasOwn(x[_],E)}function a(x,_,E,S){let T={},I={},N={};return _.forEach(R=>{R.forEach((M,L)=>{T[M]=M,I[M]=M,N[M]=L})}),_.forEach(R=>{let M=-1;R.forEach(L=>{let k=S(L);if(k.length){k=k.sort((V,$)=>N[V]-N[$]);let D=(k.length-1)/2;for(let V=Math.floor(D),$=Math.ceil(D);V<=$;++V){let H=k[V];I[L]===L&&M<N[H]&&!s(E,L,H)&&(I[H]=L,I[L]=T[L]=T[H],M=N[H])}}})}),{root:T,align:I}}function l(x,_,E,S,T){let I={},N=u(x,_,E,T),R=T?"borderLeft":"borderRight";function M(D,V){let $=N.nodes(),H=$.pop(),G={};for(;H;)G[H]?D(H):(G[H]=!0,$.push(H),$=$.concat(V(H))),H=$.pop()}function L(D){I[D]=N.inEdges(D).reduce((V,$)=>Math.max(V,I[$.v]+N.edge($)),0)}function k(D){let V=N.outEdges(D).reduce((H,G)=>Math.min(H,I[G.w]-N.edge(G)),Number.POSITIVE_INFINITY),$=x.node(D);V!==Number.POSITIVE_INFINITY&&$.borderType!==R&&(I[D]=Math.max(I[D],V))}return M(L,N.predecessors.bind(N)),M(k,N.successors.bind(N)),Object.keys(S).forEach(D=>I[D]=I[E[D]]),I}function u(x,_,E,S){let T=new t,I=x.graph(),N=m(I.nodesep,I.edgesep,S);return _.forEach(R=>{let M;R.forEach(L=>{let k=E[L];if(T.setNode(k),M){var D=E[M],V=T.edge(D,k);T.setEdge(D,k,Math.max(N(x,L,M),V||0))}M=L})}),T}function c(x,_){return Object.values(_).reduce((E,S)=>{let T=Number.NEGATIVE_INFINITY,I=Number.POSITIVE_INFINITY;Object.entries(S).forEach(([R,M])=>{let L=y(x,R)/2;T=Math.max(M+L,T),I=Math.min(M-L,I)});const N=T-I;return N<E[0]&&(E=[N,S]),E},[Number.POSITIVE_INFINITY,null])[1]}function d(x,_){let E=Object.values(_),S=e.applyWithChunking(Math.min,E),T=e.applyWithChunking(Math.max,E);["u","d"].forEach(I=>{["l","r"].forEach(N=>{let R=I+N,M=x[R];if(M===_)return;let L=Object.values(M),k=S-e.applyWithChunking(Math.min,L);N!=="l"&&(k=T-e.applyWithChunking(Math.max,L)),k&&(x[R]=e.mapValues(M,D=>D+k))})})}function h(x,_){return e.mapValues(x.ul,(E,S)=>{if(_)return x[_.toLowerCase()][S];{let T=Object.values(x).map(I=>I[S]).sort((I,N)=>I-N);return(T[1]+T[2])/2}})}function p(x){let _=e.buildLayerMatrix(x),E=Object.assign(n(x,_),r(x,_)),S={},T;["u","d"].forEach(N=>{T=N==="u"?_:Object.values(_).reverse(),["l","r"].forEach(R=>{R==="r"&&(T=T.map(D=>Object.values(D).reverse()));let M=(N==="u"?x.predecessors:x.successors).bind(x),L=a(x,T,E,M),k=l(x,T,L.root,L.align,R==="r");R==="r"&&(k=e.mapValues(k,D=>-D)),S[N+R]=k})});let I=c(x,S);return d(S,I),h(S,x.graph().align)}function m(x,_,E){return(S,T,I)=>{let N=S.node(T),R=S.node(I),M=0,L;if(M+=N.width/2,Object.hasOwn(N,"labelpos"))switch(N.labelpos.toLowerCase()){case"l":L=-N.width/2;break;case"r":L=N.width/2;break}if(L&&(M+=E?L:-L),L=0,M+=(N.dummy?_:x)/2,M+=(R.dummy?_:x)/2,M+=R.width/2,Object.hasOwn(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":L=R.width/2;break;case"r":L=-R.width/2;break}return L&&(M+=E?L:-L),L=0,M}}function y(x,_){return x.node(_).width}return zD}var UD,kK;function KWe(){if(kK)return UD;kK=1;let t=Zr(),e=GWe().positionX;UD=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([o,s])=>i.node(o).x=s)}function r(i){let o=t.buildLayerMatrix(i),s=i.graph().ranksep,a=0;o.forEach(l=>{const u=l.reduce((c,d)=>{const h=i.node(d).height;return c>h?c:h},0);l.forEach(c=>i.node(c).y=a+u/2),a+=u+s})}return UD}var HD,MK;function YWe(){if(MK)return HD;MK=1;let t=IWe(),e=kWe(),n=NWe(),r=Zr().normalizeRanks,i=DWe(),o=Zr().removeEmptyRanks,s=LWe(),a=OWe(),l=FWe(),u=WWe(),c=KWe(),d=Zr(),h=cl().Graph;HD=p;function p(q,Q){let te=Q&&Q.debugTiming?d.time:d.notime;te("layout",()=>{let ue=te("  buildLayoutGraph",()=>M(q));te("  runLayout",()=>m(ue,te,Q)),te("  updateInputGraph",()=>y(q,ue))})}function m(q,Q,te){Q("    makeSpaceForEdgeLabels",()=>L(q)),Q("    removeSelfEdges",()=>ee(q)),Q("    acyclic",()=>t.run(q)),Q("    nestingGraph.run",()=>s.run(q)),Q("    rank",()=>n(d.asNonCompoundGraph(q))),Q("    injectEdgeLabelProxies",()=>k(q)),Q("    removeEmptyRanks",()=>o(q)),Q("    nestingGraph.cleanup",()=>s.cleanup(q)),Q("    normalizeRanks",()=>r(q)),Q("    assignRankMinMax",()=>D(q)),Q("    removeEdgeLabelProxies",()=>V(q)),Q("    normalize.run",()=>e.run(q)),Q("    parentDummyChains",()=>i(q)),Q("    addBorderSegments",()=>a(q)),Q("    order",()=>u(q,te)),Q("    insertSelfEdges",()=>X(q)),Q("    adjustCoordinateSystem",()=>l.adjust(q)),Q("    position",()=>c(q)),Q("    positionSelfEdges",()=>j(q)),Q("    removeBorderNodes",()=>J(q)),Q("    normalize.undo",()=>e.undo(q)),Q("    fixupEdgeLabelCoords",()=>G(q)),Q("    undoCoordinateSystem",()=>l.undo(q)),Q("    translateGraph",()=>$(q)),Q("    assignNodeIntersects",()=>H(q)),Q("    reversePoints",()=>K(q)),Q("    acyclic.undo",()=>t.undo(q))}function y(q,Q){q.nodes().forEach(te=>{let ue=q.node(te),de=Q.node(te);ue&&(ue.x=de.x,ue.y=de.y,ue.rank=de.rank,Q.children(te).length&&(ue.width=de.width,ue.height=de.height))}),q.edges().forEach(te=>{let ue=q.edge(te),de=Q.edge(te);ue.points=de.points,Object.hasOwn(de,"x")&&(ue.x=de.x,ue.y=de.y)}),q.graph().width=Q.graph().width,q.graph().height=Q.graph().height}let x=["nodesep","edgesep","ranksep","marginx","marginy"],_={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],S=["width","height"],T={width:0,height:0},I=["minlen","weight","width","height","labeloffset"],N={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},R=["labelpos"];function M(q){let Q=new h({multigraph:!0,compound:!0}),te=ae(q.graph());return Q.setGraph(Object.assign({},_,Y(te,x),d.pick(te,E))),q.nodes().forEach(ue=>{let de=ae(q.node(ue));const se=Y(de,S);Object.keys(T).forEach(ce=>{se[ce]===void 0&&(se[ce]=T[ce])}),Q.setNode(ue,se),Q.setParent(ue,q.parent(ue))}),q.edges().forEach(ue=>{let de=ae(q.edge(ue));Q.setEdge(ue,Object.assign({},N,Y(de,I),d.pick(de,R)))}),Q}function L(q){let Q=q.graph();Q.ranksep/=2,q.edges().forEach(te=>{let ue=q.edge(te);ue.minlen*=2,ue.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?ue.width+=ue.labeloffset:ue.height+=ue.labeloffset)})}function k(q){q.edges().forEach(Q=>{let te=q.edge(Q);if(te.width&&te.height){let ue=q.node(Q.v),se={rank:(q.node(Q.w).rank-ue.rank)/2+ue.rank,e:Q};d.addDummyNode(q,"edge-proxy",se,"_ep")}})}function D(q){let Q=0;q.nodes().forEach(te=>{let ue=q.node(te);ue.borderTop&&(ue.minRank=q.node(ue.borderTop).rank,ue.maxRank=q.node(ue.borderBottom).rank,Q=Math.max(Q,ue.maxRank))}),q.graph().maxRank=Q}function V(q){q.nodes().forEach(Q=>{let te=q.node(Q);te.dummy==="edge-proxy"&&(q.edge(te.e).labelRank=te.rank,q.removeNode(Q))})}function $(q){let Q=Number.POSITIVE_INFINITY,te=0,ue=Number.POSITIVE_INFINITY,de=0,se=q.graph(),ce=se.marginx||0,he=se.marginy||0;function ve(be){let Re=be.x,pe=be.y,Ce=be.width,$e=be.height;Q=Math.min(Q,Re-Ce/2),te=Math.max(te,Re+Ce/2),ue=Math.min(ue,pe-$e/2),de=Math.max(de,pe+$e/2)}q.nodes().forEach(be=>ve(q.node(be))),q.edges().forEach(be=>{let Re=q.edge(be);Object.hasOwn(Re,"x")&&ve(Re)}),Q-=ce,ue-=he,q.nodes().forEach(be=>{let Re=q.node(be);Re.x-=Q,Re.y-=ue}),q.edges().forEach(be=>{let Re=q.edge(be);Re.points.forEach(pe=>{pe.x-=Q,pe.y-=ue}),Object.hasOwn(Re,"x")&&(Re.x-=Q),Object.hasOwn(Re,"y")&&(Re.y-=ue)}),se.width=te-Q+ce,se.height=de-ue+he}function H(q){q.edges().forEach(Q=>{let te=q.edge(Q),ue=q.node(Q.v),de=q.node(Q.w),se,ce;te.points?(se=te.points[0],ce=te.points[te.points.length-1]):(te.points=[],se=de,ce=ue),te.points.unshift(d.intersectRect(ue,se)),te.points.push(d.intersectRect(de,ce))})}function G(q){q.edges().forEach(Q=>{let te=q.edge(Q);if(Object.hasOwn(te,"x"))switch((te.labelpos==="l"||te.labelpos==="r")&&(te.width-=te.labeloffset),te.labelpos){case"l":te.x-=te.width/2+te.labeloffset;break;case"r":te.x+=te.width/2+te.labeloffset;break}})}function K(q){q.edges().forEach(Q=>{let te=q.edge(Q);te.reversed&&te.points.reverse()})}function J(q){q.nodes().forEach(Q=>{if(q.children(Q).length){let te=q.node(Q),ue=q.node(te.borderTop),de=q.node(te.borderBottom),se=q.node(te.borderLeft[te.borderLeft.length-1]),ce=q.node(te.borderRight[te.borderRight.length-1]);te.width=Math.abs(ce.x-se.x),te.height=Math.abs(de.y-ue.y),te.x=se.x+te.width/2,te.y=ue.y+te.height/2}}),q.nodes().forEach(Q=>{q.node(Q).dummy==="border"&&q.removeNode(Q)})}function ee(q){q.edges().forEach(Q=>{if(Q.v===Q.w){var te=q.node(Q.v);te.selfEdges||(te.selfEdges=[]),te.selfEdges.push({e:Q,label:q.edge(Q)}),q.removeEdge(Q)}})}function X(q){var Q=d.buildLayerMatrix(q);Q.forEach(te=>{var ue=0;te.forEach((de,se)=>{var ce=q.node(de);ce.order=se+ue,(ce.selfEdges||[]).forEach(he=>{d.addDummyNode(q,"selfedge",{width:he.label.width,height:he.label.height,rank:ce.rank,order:se+ ++ue,e:he.e,label:he.label},"_se")}),delete ce.selfEdges})})}function j(q){q.nodes().forEach(Q=>{var te=q.node(Q);if(te.dummy==="selfedge"){var ue=q.node(te.e.v),de=ue.x+ue.width/2,se=ue.y,ce=te.x-de,he=ue.height/2;q.setEdge(te.e,te.label),q.removeNode(Q),te.label.points=[{x:de+2*ce/3,y:se-he},{x:de+5*ce/6,y:se-he},{x:de+ce,y:se},{x:de+5*ce/6,y:se+he},{x:de+2*ce/3,y:se+he}],te.label.x=te.x,te.label.y=te.y}})}function Y(q,Q){return d.mapValues(d.pick(q,Q),Number)}function ae(q){var Q={};return q&&Object.entries(q).forEach(([te,ue])=>{typeof te=="string"&&(te=te.toLowerCase()),Q[te]=ue}),Q}return HD}var qD,NK;function XWe(){if(NK)return qD;NK=1;let t=Zr(),e=cl().Graph;qD={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),o=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(s=>{o.setNode(s,{label:s}),o.setParent(s,"layer"+r.node(s).rank)}),r.edges().forEach(s=>o.setEdge(s.v,s.w,{},s.name)),i.forEach((s,a)=>{let l="layer"+a;o.setNode(l,{rank:"same"}),s.reduce((u,c)=>(o.setEdge(u,c,{style:"invis"}),c))}),o}return qD}var jD,DK;function JWe(){return DK||(DK=1,jD="1.1.4"),jD}var WD,LK;function QWe(){return LK||(LK=1,WD={graphlib:cl(),layout:YWe(),debug:XWe(),util:{time:Zr().time,notime:Zr().notime},version:JWe()}),WD}var ZWe=QWe();const OK=lo(ZWe);function e7e({data:t}){var m;const{id:e,readPurposeId:n,label:r,type:i,content:o}=t,{readPurposes:s,displayedReads:a,selectedHighlightIds:l}=Gf(),{color:u}=s[n]||{color:"#e6e6e6"},c=a.includes(n),d=J$(),h=l.includes(e),p=d.inProgress&&!h&&((m=d.toNode)==null?void 0:m.id)===e;return O.jsx(He,{className:`graph-node highlight-node ${h?"selected":""} ${p?"target":""}`,id:`node-${e}`,sx:{backgroundColor:c?u:"#e6e6e6"},children:O.jsxs(He,{sx:{width:"100%",m:1},children:[O.jsx(Xo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:at.Right,isConnectableStart:h,type:"source"}),O.jsx(Xo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:at.Left,type:"target",isConnectableStart:!1}),O.jsx(Xo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:at.Top,type:"target",isConnectableStart:!1}),O.jsx(Xo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:at.Bottom,type:"source",isConnectableStart:!1}),O.jsx(Ze,{variant:"body1",children:r}),i==="area"&&O.jsx("img",{src:o,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}})]})})}function t7e({data:t}){const{id:e,readRecordId:n,label:r,content:i,type:o,notes:s}=t,{readPurposes:a,displayedReads:l,selectedHighlightIds:u}=Gf(),{color:c}=a[n],d=l.includes(n);return O.jsxs(He,{className:`graph-node overview-node ${u.includes(e)?"selected":""}`,id:`node-${e}`,sx:{backgroundColor:d?c:"#e6e6e6"},children:[O.jsx(Xo,{type:"target",position:at.Top,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}}),O.jsx(Ze,{variant:"body1",children:r}),o==="area"&&O.jsxs(O.Fragment,{children:[O.jsx("img",{src:i,alt:"Node Content",style:{maxWidth:"100%",maxHeight:"100px"}}),O.jsx("br",{})]}),O.jsx(Ze,{variant:"caption",children:s}),O.jsx(Xo,{type:"source",position:at.Bottom,style:{width:"10px",height:"10px",background:"#fff",border:"2px solid #1a192b",borderRadius:"50%",cursor:"pointer"}})]})}function n7e({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:i,targetPosition:o,markerEnd:s}){const[a,l,u]=KA({sourceX:t,sourceY:e,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return O.jsxs(O.Fragment,{children:[O.jsx(i0,{path:a,markerEnd:s,style:{stroke:"black",strokeWidth:1,strokeDasharray:"5,5"}}),O.jsx(YJ,{children:O.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${l}px,${u}px)`}})})]})}function FK(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,o=e.internals.positionAbsolute,s=n/2,a=r/2,l=i.x+s,u=i.y+a,c=o.x+e.measured.width/2,d=o.y+e.measured.height/2,h=(c-l)/(2*s)-(d-u)/(2*a),p=(c-l)/(2*s)+(d-u)/(2*a),m=1/(Math.abs(h)+Math.abs(p)),y=m*h,x=m*p,_=s*(y+x)+l,E=a*(-y+x)+u;return{x:_,y:E}}function $K(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),o=Math.round(e.x),s=Math.round(e.y);return o<=r+1?at.Left:o>=r+n.measured.width-1?at.Right:s<=i+1?at.Top:s>=n.y+n.measured.height-1?at.Bottom:at.Top}function r7e(t,e){const n=FK(t,e),r=FK(e,t),i=$K(t,n),o=$K(e,r);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:i,targetPos:o}}function i7e({toX:t,toY:e}){const{getInternalNode:n}=f1(),{selectedHighlightIds:r}=Gf();return sge().filter(a=>r.includes(a.id)).flatMap(a=>{var u,c,d;const l=n(a.id);return(c=(u=l==null?void 0:l.internals)==null?void 0:u.handleBounds)!=null&&c.source?(d=l.internals.handleBounds.source)==null?void 0:d.map(h=>({id:l.id,positionAbsolute:l.internals.positionAbsolute,bounds:h})):[]}).map(({id:a,positionAbsolute:l,bounds:u})=>{const c=u.x+u.width/2,d=u.y+u.height/2,h=l.x+c,p=l.y+d,[m]=X$({sourceX:h,sourceY:p,targetX:t,targetY:e});return O.jsx("g",{children:O.jsx("path",{fill:"none",strokeWidth:1,stroke:"#b1b1b7",d:m})},`${a}-${u.id}`)})}function o7e({source:t,target:e}){const n=k6(t),r=k6(e);if(!n||!r)return null;const{sx:i,sy:o,tx:s,ty:a,sourcePos:l,targetPos:u}=r7e(n,r),[c,d,h]=KA({sourceX:i,sourceY:o,sourcePosition:l,targetPosition:u,targetX:s,targetY:a});return O.jsxs(O.Fragment,{children:[O.jsx(i0,{path:c,style:{stroke:"black",strokeWidth:2}}),O.jsx(YJ,{children:O.jsx("div",{className:"nodrag nopan",style:{transform:`translate(-50%, -50%) translate(${d}px,${h}px)`}})})]})}function s7e(){const{nodes:t,updateNodeData:e,deleteHighlight:n,selectedHighlightIds:r,setSelectedHighlightIds:i,setOnSelectNode:o,query_gemini:s}=Gf(),[a,l]=F.useState(""),[u,c]=F.useState(""),[d,h]=F.useState(""),[p,m]=F.useState(!1),[y,x]=F.useState(!1);F.useEffect(()=>{const S=r[0],T=t.find(I=>I.id===S);T&&(l(T.data.label),T.data.content,T.data.type,c(T.data.summary),h(T.data.notes),m(!1),x(!1))},[r]);const _=()=>{const S=r[0];e(S,{label:a,summary:u,notes:d}),i([]),o(!1)},E=()=>{x(!0),p||(i([]),o(!1))};return O.jsxs("div",{className:"wrapper",style:{overflowY:y?"hidden":"auto"},children:[p&&y&&O.jsxs("div",{className:"closing-popup",children:[O.jsx("div",{className:"closing-background",onClick:()=>x(!1)}),O.jsxs("div",{className:"closing-modal",children:[O.jsx("h3",{children:"Would you like to save your changes?"}),O.jsxs("div",{className:"closing-modal-buttons",children:[O.jsx(ar,{variant:"outlined",color:"success",onClick:()=>_(),children:"Save"}),O.jsx(ar,{variant:"outlined",color:"error",onClick:()=>x(!1),children:"Cancel"})]})]})]}),O.jsx(la,{size:"small",sx:{position:"absolute",top:0,right:0,zIndex:1e3},onClick:()=>E(),children:O.jsx(fne,{})}),O.jsxs(He,{className:"field",children:[O.jsx("h3",{children:"Label"}),O.jsx(Ko,{id:"label",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:a,onChange:S=>{m(!0),l(S.target.value)}})]}),O.jsxs(He,{className:"field",children:[O.jsx("h3",{children:"Notes"}),O.jsx(Ko,{id:"notes",variant:"outlined",sx:{width:"100%",textTransform:"none"},value:d,onChange:S=>{m(!0),h(S.target.value)},multiline:!0,placeholder:"Write your notes here..."})]}),O.jsxs(He,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[O.jsx(ar,{variant:"outlined",color:"success",onClick:()=>_(),children:"Save"}),O.jsx(ar,{variant:"outlined",color:"error",onClick:()=>{const S=r[0];n(S),i([])},children:"Delete"})]})]})}function a7e({data:t}){var h;const{id:e,readPurposeId:n,label:r}=t,{readPurposes:i,displayedReads:o,selectedHighlightIds:s}=Gf(),{color:a}=i[n]||{color:"#e6e6e6"},l=o.includes(n),u=J$(),c=s.includes(e),d=u.inProgress&&!c&&((h=u.toNode)==null?void 0:h.id)===e;return O.jsx(He,{className:`graph-node theme-node ${c?"selected":""} ${d?"target":""}`,id:`node-${e}`,sx:{backgroundColor:l?`${a}`:"#e6e6e6"},children:O.jsxs(He,{sx:{width:"100%",m:1,mb:2},children:[O.jsx(Xo,{className:"connection-handle",id:`relational-handle-${e}-source`,position:at.Right,isConnectableStart:c,type:"source"}),O.jsx(Xo,{className:"connection-handle",id:`relational-handle-${e}-target`,position:at.Left,type:"target",isConnectableStart:!1}),O.jsx(Xo,{className:"connection-handle",id:`chronological-handle-${e}-target`,position:at.Top,type:"target",isConnectableStart:!1}),O.jsx(Xo,{className:"connection-handle",id:`chronological-handle-${e}-source`,position:at.Bottom,type:"source",isConnectableStart:!1}),O.jsx(Ze,{variant:"h5",sx:{fontWeight:"600",textAlign:"center"},children:r})]})})}const l7e=({open:t,anchorPosition:e,onClose:n,onCreateGroup:r,onDeleteSelected:i,selectedCount:o})=>{const[s,a]=F.useState(!1),[l,u]=F.useState(""),c=()=>{a(!0),u(`Group (${o} nodes)`)},d=()=>{l.trim()&&(r(l.trim()),a(!1),u(""))},h=()=>{a(!1),u("")};return F.useEffect(()=>{a(!1),u("")},[t]),O.jsx(zR,{open:t,onClose:n,anchorReference:"anchorPosition",anchorPosition:e,slotProps:{paper:{style:{height:"min-content",width:"min-content"}}},children:s?O.jsxs(He,{sx:{p:1,minWidth:250},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",mb:2},children:[O.jsx(la,{onClick:h,sx:{mr:1},children:O.jsx(a5e,{fontSize:"small"})}),O.jsx(Ze,{variant:"subtitle2",children:"Create Group"})]}),O.jsx(Ko,{fullWidth:!0,label:"Group Label",value:l,onChange:p=>u(p.target.value),autoFocus:!0,size:"small",sx:{mb:2}}),O.jsxs(He,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[O.jsx(ar,{size:"small",onClick:h,color:"secondary",children:"Cancel"}),O.jsx(ar,{size:"small",variant:"contained",onClick:d,disabled:!l.trim(),children:"Create"})]})]}):O.jsxs(O.Fragment,{children:[o>1&&O.jsxs(bw,{onClick:c,children:[O.jsx(vw,{children:O.jsx(_5e,{fontSize:"small"})}),O.jsx(Zp,{children:"Create Group"})]}),o>0&&O.jsxs(bw,{onClick:i,children:[O.jsx(vw,{children:O.jsx(v5e,{fontSize:"small"})}),O.jsx(Zp,{children:"Delete Selected"})]})]})})},u7e={highlight:e7e,overview:t7e,theme:a7e},c7e={chronological:n7e,relational:o7e};function d7e(t){const{nodes:e,edges:n,setNodes:r,setEdges:i,onNodesChange:o,onEdgesChange:s,onConnect:a,selectedHighlightIds:l,setSelectedHighlightIds:u,onSelectNode:c,setOnSelectNode:d,createGroupNode:h,displayEdgeTypes:p,setDisplayEdgeTypes:m}=t,{fitView:y}=f1(),[x,_]=F.useState(!1),[E,S]=F.useState(!1),[T,I]=F.useState({open:!1,anchorPosition:void 0}),[N,R]=F.useState(!0);F.useEffect(()=>{const Y=ae=>{ae.key==="Escape"&&u([])};return document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[u]);const M=(Y,ae)=>{if(!(x||!Y))if(Y.shiftKey)if(l.includes(ae.id)){const q=l.filter(Q=>Q!==ae.id);u(q)}else{const q=[...l,ae.id];u(q)}else u([ae.id])},L=(Y,ae)=>{x||!Y||d(q=>!q)},k=(Y,ae)=>{x||!Y||(Y.preventDefault(),l.includes(ae.id)||u([ae.id]),I({open:!0,anchorPosition:{top:Y.clientY,left:Y.clientX}}))},D=()=>{I({open:!1,anchorPosition:void 0})},V=Y=>{h(l,Y),D()},$=()=>{console.log("Delete selected nodes:",l),D()},H=()=>{console.log("open Overview"),r(x?e.map(Y=>({...Y,type:"highlight"})):e.map(Y=>({...Y,type:"overview"}))),u([]),_(!x)},G=(Y,ae,q)=>{const Q=new OK.graphlib.Graph().setDefaultEdgeLabel(()=>({}));return Q.setGraph({rankdir:q.direction}),ae.forEach(te=>Q.setEdge(te.source,te.target)),Y.forEach(te=>{var ue,de;return Q.setNode(te.id,{...te,width:((ue=te.measured)==null?void 0:ue.width)??0,height:((de=te.measured)==null?void 0:de.height)??0})}),OK.layout(Q),{nodes:Y.map(te=>{var ce,he;const ue=Q.node(te.id),de=ue.x-(((ce=te.measured)==null?void 0:ce.width)??0)/2,se=ue.y-(((he=te.measured)==null?void 0:he.height)??0)/2;return{...te,position:{x:de,y:se}}}),edges:ae}},K=F.useCallback(Y=>{console.log(e);const ae=G(e,n,{direction:Y});r([...ae.nodes]),i([...ae.edges]),window.requestAnimationFrame(()=>{y()})},[e,n]);F.useEffect(()=>{if(l.length>0&&c){console.log("viewport focus on selected nodes");const Y=e.filter(ae=>l.includes(ae.id));Y.length>0&&y({padding:3.5,nodes:Y})}else y({padding:1})},[e,c,l]);const J=Y=>{m(p.includes(Y)?p.filter(ae=>ae!==Y):[...p,Y])},ee=()=>{S(!E)},X=()=>{N&&u([]),R(!0)},j=(Y,ae)=>{ae.isValid||(console.log("connectionState",ae),R(!1))};return O.jsxs(rge,{nodes:e,edges:n,onNodesChange:o,onEdgesChange:s,connectionLineComponent:i7e,onNodeClick:M,onNodeDoubleClick:L,onNodeContextMenu:k,nodeTypes:u7e,edgeTypes:c7e,fitView:!0,onPaneClick:X,onConnect:a,onConnectEnd:j,style:{width:"100%",height:"100%"},children:[O.jsx(hge,{}),O.jsx(xge,{onFitView:()=>K("TB"),style:{color:"black"}}),O.jsx(Nge,{}),O.jsx(Iv,{position:"top-right",style:{color:"black"},children:O.jsxs(He,{sx:{position:"relative"},children:[O.jsx(la,{onClick:ee,size:"small",sx:{backgroundColor:E?"rgba(0, 0, 0, 0.1)":"transparent","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.1)"},"&:focus":{outline:"none"}},children:O.jsx(k5e,{})}),E&&O.jsx(au,{elevation:4,sx:{position:"absolute",top:"100%",right:0,mt:.5,p:1.5,backgroundColor:"white",minWidth:200,zIndex:1e3,borderRadius:1},children:O.jsxs(MOe,{children:[O.jsx(Lq,{control:O.jsx(LO,{size:"small",checked:p.includes(to.CHRONOLOGICAL),onChange:()=>J(to.CHRONOLOGICAL)}),label:"Chronological Link",sx:{fontSize:"0.875rem",mb:.5}}),O.jsx(Lq,{control:O.jsx(LO,{size:"small",checked:p.includes(to.RELATIONAL),onChange:()=>J(to.RELATIONAL)}),label:"Relational Link",sx:{fontSize:"0.875rem"}})]})})]})}),O.jsx(Iv,{position:"top-left",children:O.jsx(la,{onClick:H,children:x?O.jsx(m5e,{}):O.jsx(A5e,{})})}),O.jsx(l7e,{open:T.open,anchorPosition:T.anchorPosition,onClose:D,onCreateGroup:V,onDeleteSelected:$,selectedCount:l.length})]})}function f7e(){const{nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:o,onConnect:s,selectedHighlightIds:a,setSelectedHighlightIds:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:h,setDisplayEdgeTypes:p}=Gf();return O.jsxs(He,{style:{width:"100%",height:"100%",position:"relative"},children:[O.jsx(KJ,{children:O.jsx(d7e,{style:{height:"auto"},nodes:t,edges:e,setNodes:n,setEdges:r,onNodesChange:i,onEdgesChange:o,onConnect:s,selectedHighlightIds:a,setSelectedHighlightIds:l,onSelectNode:u,setOnSelectNode:c,createGroupNode:d,displayEdgeTypes:h,setDisplayEdgeTypes:p})}),u&&a.length>0&&O.jsx(He,{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",backgroundColor:"white",borderTop:"1px solid #ccc",zIndex:5},children:O.jsx(s7e,{})})]})}function Woe(t){return e=>typeof e===t}var h7e=Woe("function"),p7e=t=>t===null,BK=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",VK=t=>!g7e(t)&&!p7e(t)&&(h7e(t)||typeof t=="object"),g7e=Woe("undefined");function m7e(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Eo(t[r],e[r]))return!1;return!0}function y7e(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function v7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Eo(n[1],e.get(n[0])))return!1;return!0}function b7e(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Eo(t,e){if(t===e)return!0;if(t&&VK(t)&&e&&VK(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return m7e(t,e);if(t instanceof Map&&e instanceof Map)return v7e(t,e);if(t instanceof Set&&e instanceof Set)return b7e(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return y7e(t,e);if(BK(t)&&BK(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Eo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var x7e=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],w7e=["bigint","boolean","null","number","string","symbol","undefined"];function vP(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(_7e(e))return e}function ml(t){return e=>vP(e)===t}function _7e(t){return x7e.includes(t)}function w0(t){return e=>typeof e===t}function S7e(t){return w7e.includes(t)}var E7e=["innerHTML","ownerDocument","style","attributes","nodeValue"];function st(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(st.array(t))return"Array";if(st.plainFunction(t))return"Function";const e=vP(t);return e||"Object"}st.array=Array.isArray;st.arrayOf=(t,e)=>!st.array(t)&&!st.function(e)?!1:t.every(n=>e(n));st.asyncGeneratorFunction=t=>vP(t)==="AsyncGeneratorFunction";st.asyncFunction=ml("AsyncFunction");st.bigint=w0("bigint");st.boolean=t=>t===!0||t===!1;st.date=ml("Date");st.defined=t=>!st.undefined(t);st.domElement=t=>st.object(t)&&!st.plainObject(t)&&t.nodeType===1&&st.string(t.nodeName)&&E7e.every(e=>e in t);st.empty=t=>st.string(t)&&t.length===0||st.array(t)&&t.length===0||st.object(t)&&!st.map(t)&&!st.set(t)&&Object.keys(t).length===0||st.set(t)&&t.size===0||st.map(t)&&t.size===0;st.error=ml("Error");st.function=w0("function");st.generator=t=>st.iterable(t)&&st.function(t.next)&&st.function(t.throw);st.generatorFunction=ml("GeneratorFunction");st.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;st.iterable=t=>!st.nullOrUndefined(t)&&st.function(t[Symbol.iterator]);st.map=ml("Map");st.nan=t=>Number.isNaN(t);st.null=t=>t===null;st.nullOrUndefined=t=>st.null(t)||st.undefined(t);st.number=t=>w0("number")(t)&&!st.nan(t);st.numericString=t=>st.string(t)&&t.length>0&&!Number.isNaN(Number(t));st.object=t=>!st.nullOrUndefined(t)&&(st.function(t)||typeof t=="object");st.oneOf=(t,e)=>st.array(t)?t.indexOf(e)>-1:!1;st.plainFunction=ml("Function");st.plainObject=t=>{if(vP(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};st.primitive=t=>st.null(t)||S7e(typeof t);st.promise=ml("Promise");st.propertyOf=(t,e,n)=>{if(!st.object(t)||!e)return!1;const r=t[e];return st.function(n)?n(r):st.defined(r)};st.regexp=ml("RegExp");st.set=ml("Set");st.string=w0("string");st.symbol=w0("symbol");st.undefined=w0("undefined");st.weakMap=ml("WeakMap");st.weakSet=ml("WeakSet");var mt=st;function C7e(...t){return t.every(e=>mt.string(e)||mt.array(e)||mt.plainObject(e))}function T7e(t,e,n){return Goe(t,e)?[t,e].every(mt.array)?!t.some(jK(n))&&e.some(jK(n)):[t,e].every(mt.plainObject)?!Object.entries(t).some(qK(n))&&Object.entries(e).some(qK(n)):e===n:!1}function zK(t,e,n){const{actual:r,key:i,previous:o,type:s}=n,a=fu(t,i),l=fu(e,i);let u=[a,l].every(mt.number)&&(s==="increased"?a<l:a>l);return mt.undefined(r)||(u=u&&l===r),mt.undefined(o)||(u=u&&a===o),u}function UK(t,e,n){const{key:r,type:i,value:o}=n,s=fu(t,r),a=fu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!mt.nullOrUndefined(o)){if(mt.defined(l)){if(mt.array(l)||mt.plainObject(l))return T7e(l,u,o)}else return Eo(u,o);return!1}return[s,a].every(mt.array)?!u.every(L3(l)):[s,a].every(mt.plainObject)?A7e(Object.keys(l),Object.keys(u)):![s,a].every(c=>mt.primitive(c)&&mt.defined(c))&&(i==="added"?!mt.defined(s)&&mt.defined(a):mt.defined(s)&&!mt.defined(a))}function HK(t,e,{key:n}={}){let r=fu(t,n),i=fu(e,n);if(!Goe(r,i))throw new TypeError("Inputs have different types");if(!C7e(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(mt.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function qK(t){return([e,n])=>mt.array(t)?Eo(t,n)||t.some(r=>Eo(r,n)||mt.array(n)&&L3(n)(r)):mt.plainObject(t)&&t[e]?!!t[e]&&Eo(t[e],n):Eo(t,n)}function A7e(t,e){return e.some(n=>!t.includes(n))}function jK(t){return e=>mt.array(t)?t.some(n=>Eo(n,e)||mt.array(e)&&L3(e)(n)):Eo(t,e)}function Rb(t,e){return mt.array(t)?t.some(n=>Eo(n,e)):Eo(t,e)}function L3(t){return e=>t.some(n=>Eo(n,e))}function Goe(...t){return t.every(mt.array)||t.every(mt.number)||t.every(mt.plainObject)||t.every(mt.string)}function fu(t,e){return mt.plainObject(t)||mt.array(t)?mt.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):mt.number(e)?t[e]:t:t}function dA(t,e){if([t,e].some(mt.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(c=>mt.plainObject(c)||mt.array(c)))throw new Error("Expected plain objects or array");return{added:(c,d)=>{try{return UK(t,e,{key:c,type:"added",value:d})}catch{return!1}},changed:(c,d,h)=>{try{const p=fu(t,c),m=fu(e,c),y=mt.defined(d),x=mt.defined(h);if(y||x){const _=x?Rb(h,p):!Rb(d,p),E=Rb(d,m);return _&&E}return[p,m].every(mt.array)||[p,m].every(mt.plainObject)?!Eo(p,m):p!==m}catch{return!1}},changedFrom:(c,d,h)=>{if(!mt.defined(c))return!1;try{const p=fu(t,c),m=fu(e,c),y=mt.defined(h);return Rb(d,p)&&(y?Rb(h,m):!y)}catch{return!1}},decreased:(c,d,h)=>{if(!mt.defined(c))return!1;try{return zK(t,e,{key:c,actual:d,previous:h,type:"decreased"})}catch{return!1}},emptied:c=>{try{const[d,h]=HK(t,e,{key:c});return!!d.length&&!h.length}catch{return!1}},filled:c=>{try{const[d,h]=HK(t,e,{key:c});return!d.length&&!!h.length}catch{return!1}},increased:(c,d,h)=>{if(!mt.defined(c))return!1;try{return zK(t,e,{key:c,actual:d,previous:h,type:"increased"})}catch{return!1}},removed:(c,d)=>{try{return UK(t,e,{key:c,type:"removed",value:d})}catch{return!1}}}}var GD,WK;function R7e(){if(WK)return GD;WK=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;GD={left:i("scrollLeft"),top:i("scrollTop")};function i(a){return function(u,c,d,h){d=d||{},typeof d=="function"&&(h=d,d={}),typeof h!="function"&&(h=s);var p=r(),m=u[a],y=d.ease||o,x=isNaN(d.duration)?350:+d.duration,_=!1;return m===c?h(t,u[a]):requestAnimationFrame(S),E;function E(){_=!0}function S(T){if(_)return h(e,u[a]);var I=r(),N=n(1,(I-p)/x),R=y(N);u[a]=R*(c-m)+m,N<1?requestAnimationFrame(S):requestAnimationFrame(function(){h(null,u[a])})}}}function o(a){return .5*(1-Math.cos(Math.PI*a))}function s(){}return GD}var P7e=R7e();const I7e=lo(P7e);var tT={exports:{}},k7e=tT.exports,GK;function M7e(){return GK||(GK=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(k7e,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(tT)),tT.exports}var N7e=M7e();const Koe=lo(N7e);var KD,KK;function D7e(){if(KK)return KD;KK=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,KD=n,KD}var L7e=D7e();const YK=lo(L7e);var YD,XK;function O7e(){if(XK)return YD;XK=1;var t=function(E){return e(E)&&!n(E)};function e(_){return!!_&&typeof _=="object"}function n(_){var E=Object.prototype.toString.call(_);return E==="[object RegExp]"||E==="[object Date]"||o(_)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(_){return _.$$typeof===i}function s(_){return Array.isArray(_)?[]:{}}function a(_,E){return E.clone!==!1&&E.isMergeableObject(_)?y(s(_),_,E):_}function l(_,E,S){return _.concat(E).map(function(T){return a(T,S)})}function u(_,E){if(!E.customMerge)return y;var S=E.customMerge(_);return typeof S=="function"?S:y}function c(_){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(_).filter(function(E){return Object.propertyIsEnumerable.call(_,E)}):[]}function d(_){return Object.keys(_).concat(c(_))}function h(_,E){try{return E in _}catch{return!1}}function p(_,E){return h(_,E)&&!(Object.hasOwnProperty.call(_,E)&&Object.propertyIsEnumerable.call(_,E))}function m(_,E,S){var T={};return S.isMergeableObject(_)&&d(_).forEach(function(I){T[I]=a(_[I],S)}),d(E).forEach(function(I){p(_,I)||(h(_,I)&&S.isMergeableObject(E[I])?T[I]=u(I,S)(_[I],E[I],S):T[I]=a(E[I],S))}),T}function y(_,E,S){S=S||{},S.arrayMerge=S.arrayMerge||l,S.isMergeableObject=S.isMergeableObject||t,S.cloneUnlessOtherwiseSpecified=a;var T=Array.isArray(E),I=Array.isArray(_),N=T===I;return N?T?S.arrayMerge(_,E,S):m(_,E,S):a(E,S)}y.all=function(E,S){if(!Array.isArray(E))throw new Error("first argument should be an array");return E.reduce(function(T,I){return y(T,I,S)},{})};var x=y;return YD=x,YD}var F7e=O7e();const il=lo(F7e);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var z1=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",$7e=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(z1&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function B7e(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function V7e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},$7e))}}var z7e=z1&&window.Promise,U7e=z7e?B7e:V7e;function Yoe(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Tg(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function O3(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function U1(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Tg(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:U1(O3(t))}function Xoe(t){return t&&t.referenceNode?t.referenceNode:t}var JK=z1&&!!(window.MSInputMethodContext&&document.documentMode),QK=z1&&/MSIE 10/.test(navigator.userAgent);function _0(t){return t===11?JK:t===10?QK:JK||QK}function Zv(t){if(!t)return document.documentElement;for(var e=_0(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Tg(n,"position")==="static"?Zv(n):n}function H7e(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Zv(t.firstElementChild)===t}function h$(t){return t.parentNode!==null?h$(t.parentNode):t}function fA(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(t!==s&&e!==s||r.contains(i))return H7e(s)?s:Zv(s);var a=h$(t);return a.host?fA(a.host,e):fA(t,h$(e).host)}function e0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function q7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e0(e,"top"),i=e0(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function ZK(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function eY(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],_0(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function Joe(t){var e=t.body,n=t.documentElement,r=_0(10)&&getComputedStyle(n);return{height:eY("Height",e,n,r),width:eY("Width",e,n,r)}}var j7e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},W7e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),t0=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},da=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Hf(t){return da({},t,{right:t.left+t.width,bottom:t.top+t.height})}function p$(t){var e={};try{if(_0(10)){e=t.getBoundingClientRect();var n=e0(t,"top"),r=e0(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o=t.nodeName==="HTML"?Joe(t.ownerDocument):{},s=o.width||t.clientWidth||i.width,a=o.height||t.clientHeight||i.height,l=t.offsetWidth-s,u=t.offsetHeight-a;if(l||u){var c=Tg(t);l-=ZK(c,"x"),u-=ZK(c,"y"),i.width-=l,i.height-=u}return Hf(i)}function F3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=_0(10),i=e.nodeName==="HTML",o=p$(t),s=p$(e),a=U1(t),l=Tg(e),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=Hf({top:o.top-s.top-u,left:o.left-s.left-c,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),p=parseFloat(l.marginLeft);d.top-=u-h,d.bottom-=u-h,d.left-=c-p,d.right-=c-p,d.marginTop=h,d.marginLeft=p}return(r&&!n?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=q7e(d,e)),d}function G7e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=F3(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:e0(n),a=e?0:e0(n,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return Hf(l)}function Qoe(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Tg(t,"position")==="fixed")return!0;var n=O3(t);return n?Qoe(n):!1}function Zoe(t){if(!t||!t.parentElement||_0())return document.documentElement;for(var e=t.parentElement;e&&Tg(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function $3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?Zoe(t):fA(t,Xoe(e));if(r==="viewport")o=G7e(s,i);else{var a=void 0;r==="scrollParent"?(a=U1(O3(e)),a.nodeName==="BODY"&&(a=t.ownerDocument.documentElement)):r==="window"?a=t.ownerDocument.documentElement:a=r;var l=F3(a,s,i);if(a.nodeName==="HTML"&&!Qoe(s)){var u=Joe(t.ownerDocument),c=u.height,d=u.width;o.top+=l.top-l.marginTop,o.bottom=c+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}else o=l}n=n||0;var h=typeof n=="number";return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function K7e(t){var e=t.width,n=t.height;return e*n}function ese(t,e,n,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=$3(n,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(h){return da({key:h},a[h],{area:K7e(a[h])})}).sort(function(h,p){return p.area-h.area}),u=l.filter(function(h){var p=h.width,m=h.height;return p>=n.clientWidth&&m>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function tse(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?Zoe(e):fA(e,Xoe(n));return F3(n,i,r)}function nse(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),o={width:t.offsetWidth+i,height:t.offsetHeight+r};return o}function hA(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function rse(t,e,n){n=n.split("-")[0];var r=nse(t),i={width:r.width,height:r.height},o=["right","left"].indexOf(n)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,n===a?i[a]=e[a]-r[u]:i[a]=e[hA(a)],i}function H1(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Y7e(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=H1(t,function(i){return i[e]===n});return t.indexOf(r)}function ise(t,e,n){var r=n===void 0?t:t.slice(0,Y7e(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&Yoe(o)&&(e.offsets.popper=Hf(e.offsets.popper),e.offsets.reference=Hf(e.offsets.reference),e=o(e,i))}),e}function X7e(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=tse(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ese(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=rse(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=ise(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function ose(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function B3(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+n:t;if(typeof document.body.style[o]<"u")return o}return null}function J7e(){return this.state.isDestroyed=!0,ose(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B3("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function sse(t){var e=t.ownerDocument;return e?e.defaultView:window}function ase(t,e,n,r){var i=t.nodeName==="BODY",o=i?t.ownerDocument.defaultView:t;o.addEventListener(e,n,{passive:!0}),i||ase(U1(o.parentNode),e,n,r),r.push(o)}function Q7e(t,e,n,r){n.updateBound=r,sse(t).addEventListener("resize",n.updateBound,{passive:!0});var i=U1(t);return ase(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Z7e(){this.state.eventsEnabled||(this.state=Q7e(this.reference,this.options,this.state,this.scheduleUpdate))}function eGe(t,e){return sse(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function tGe(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=eGe(this.reference,this.state))}function V3(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function g$(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&V3(e[n])&&(r="px"),t.style[n]=e[n]+r})}function nGe(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function rGe(t){return g$(t.instance.popper,t.styles),nGe(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&g$(t.arrowElement,t.arrowStyles),t}function iGe(t,e,n,r,i){var o=tse(i,e,t,n.positionFixed),s=ese(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),g$(e,{position:n.positionFixed?"fixed":"absolute"}),n}function oGe(t,e){var n=t.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(_){return _},l=o(i.width),u=o(r.width),c=["left","right"].indexOf(t.placement)!==-1,d=t.placement.indexOf("-")!==-1,h=l%2===u%2,p=l%2===1&&u%2===1,m=e?c||d||h?o:s:a,y=e?o:a;return{left:m(p&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:m(r.right)}}var sGe=z1&&/Firefox/i.test(navigator.userAgent);function aGe(t,e){var n=e.x,r=e.y,i=t.offsets.popper,o=H1(t.instance.modifiers,function(S){return S.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:e.gpuAcceleration,a=Zv(t.instance.popper),l=p$(a),u={position:i.position},c=oGe(t,window.devicePixelRatio<2||!sGe),d=n==="bottom"?"top":"bottom",h=r==="right"?"left":"right",p=B3("transform"),m=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+c.bottom:y=-l.height+c.bottom:y=c.top,h==="right"?a.nodeName==="HTML"?m=-a.clientWidth+c.right:m=-l.width+c.right:m=c.left,s&&p)u[p]="translate3d("+m+"px, "+y+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var x=d==="bottom"?-1:1,_=h==="right"?-1:1;u[d]=y*x,u[h]=m*_,u.willChange=d+", "+h}var E={"x-placement":t.placement};return t.attributes=da({},E,t.attributes),t.styles=da({},u,t.styles),t.arrowStyles=da({},t.offsets.arrow,t.arrowStyles),t}function lse(t,e,n){var r=H1(t,function(a){var l=a.name;return l===e}),i=!!r&&t.some(function(a){return a.name===n&&a.enabled&&a.order<r.order});if(!i){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function lGe(t,e){var n;if(!lse(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,u=l?"height":"width",c=l?"Top":"Left",d=c.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=nse(r)[u];a[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-m)),a[d]+m>s[p]&&(t.offsets.popper[d]+=a[d]+m-s[p]),t.offsets.popper=Hf(t.offsets.popper);var y=a[d]+a[u]/2-m/2,x=Tg(t.instance.popper),_=parseFloat(x["margin"+c]),E=parseFloat(x["border"+c+"Width"]),S=y-t.offsets.popper[d]-_-E;return S=Math.max(Math.min(s[u]-m,S),0),t.arrowElement=r,t.offsets.arrow=(n={},t0(n,d,Math.round(S)),t0(n,h,""),n),t}function uGe(t){return t==="end"?"start":t==="start"?"end":t}var use=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],XD=use.slice(3);function tY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=XD.indexOf(t),r=XD.slice(n+1).concat(XD.slice(0,n));return e?r.reverse():r}var JD={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function cGe(t,e){if(ose(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=$3(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=hA(r),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case JD.FLIP:s=[r,i];break;case JD.CLOCKWISE:s=tY(r);break;case JD.COUNTERCLOCKWISE:s=tY(r,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return t;r=t.placement.split("-")[0],i=hA(r);var u=t.offsets.popper,c=t.offsets.reference,d=Math.floor,h=r==="left"&&d(u.right)>d(c.left)||r==="right"&&d(u.left)<d(c.right)||r==="top"&&d(u.bottom)>d(c.top)||r==="bottom"&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),m=d(u.right)>d(n.right),y=d(u.top)<d(n.top),x=d(u.bottom)>d(n.bottom),_=r==="left"&&p||r==="right"&&m||r==="top"&&y||r==="bottom"&&x,E=["top","bottom"].indexOf(r)!==-1,S=!!e.flipVariations&&(E&&o==="start"&&p||E&&o==="end"&&m||!E&&o==="start"&&y||!E&&o==="end"&&x),T=!!e.flipVariationsByContent&&(E&&o==="start"&&m||E&&o==="end"&&p||!E&&o==="start"&&x||!E&&o==="end"&&y),I=S||T;(h||_||I)&&(t.flipped=!0,(h||_)&&(r=s[l+1]),I&&(o=uGe(o)),t.placement=r+(o?"-"+o:""),t.offsets.popper=da({},t.offsets.popper,rse(t.instance.popper,t.offsets.reference,t.placement)),t=ise(t.instance.modifiers,t,"flip"))}),t}function dGe(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(r[l])&&(t.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[a])&&(t.offsets.popper[l]=o(r[a])),t}function fGe(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return t;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=r}var l=Hf(a);return l[e]/100*o}else if(s==="vh"||s==="vw"){var u=void 0;return s==="vh"?u=Math.max(document.documentElement.clientHeight,window.innerHeight||0):u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),u/100*o}else return o}function hGe(t,e,n,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=t.split(/(\+|\-)/).map(function(c){return c.trim()}),a=s.indexOf(H1(s,function(c){return c.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map(function(c,d){var h=(d===1?!o:o)?"height":"width",p=!1;return c.reduce(function(m,y){return m[m.length-1]===""&&["+","-"].indexOf(y)!==-1?(m[m.length-1]=y,p=!0,m):p?(m[m.length-1]+=y,p=!1,m):m.concat(y)},[]).map(function(m){return fGe(m,h,e,n)})}),u.forEach(function(c,d){c.forEach(function(h,p){V3(h)&&(i[d]+=h*(c[p-1]==="-"?-1:1))})}),i}function pGe(t,e){var n=e.offset,r=t.placement,i=t.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return V3(+n)?l=[+n,0]:l=hGe(n,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t}function gGe(t,e){var n=e.boundariesElement||Zv(t.instance.popper);t.instance.reference===n&&(n=Zv(n));var r=B3("transform"),i=t.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=$3(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,d={primary:function(p){var m=c[p];return c[p]<l[p]&&!e.escapeWithReference&&(m=Math.max(c[p],l[p])),t0({},p,m)},secondary:function(p){var m=p==="right"?"left":"top",y=c[m];return c[p]>l[p]&&!e.escapeWithReference&&(y=Math.min(c[m],l[p]-(p==="right"?c.width:c.height))),t0({},m,y)}};return u.forEach(function(h){var p=["left","top"].indexOf(h)!==-1?"primary":"secondary";c=da({},c,d[p](h))}),t.offsets.popper=c,t}function mGe(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(n)!==-1,l=a?"left":"top",u=a?"width":"height",c={start:t0({},l,o[l]),end:t0({},l,o[l]+o[u]-s[u])};t.offsets.popper=da({},s,c[r])}return t}function yGe(t){if(!lse(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=H1(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function vGe(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(n)!==-1,a=["top","left"].indexOf(n)===-1;return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),t.placement=hA(e),t.offsets.popper=Hf(i),t}var bGe={shift:{order:100,enabled:!0,fn:mGe},offset:{order:200,enabled:!0,fn:pGe,offset:0},preventOverflow:{order:300,enabled:!0,fn:gGe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:dGe},arrow:{order:500,enabled:!0,fn:lGe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:cGe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:vGe},hide:{order:800,enabled:!0,fn:yGe},computeStyle:{order:850,enabled:!0,fn:aGe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:rGe,onLoad:iGe,gpuAcceleration:void 0}},xGe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:bGe},Cw=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};j7e(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=U7e(this.update.bind(this)),this.options=da({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(da({},t.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=da({},t.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return da({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&Yoe(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return W7e(t,[{key:"update",value:function(){return X7e.call(this)}},{key:"destroy",value:function(){return J7e.call(this)}},{key:"enableEventListeners",value:function(){return Z7e.call(this)}},{key:"disableEventListeners",value:function(){return tGe.call(this)}}]),t}();Cw.Utils=(typeof window<"u"?window:global).PopperUtils;Cw.placements=use;Cw.Defaults=xGe;var wGe=["innerHTML","ownerDocument","style","attributes","nodeValue"],_Ge=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],SGe=["bigint","boolean","null","number","string","symbol","undefined"];function bP(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(EGe(e))return e}function yl(t){return function(e){return bP(e)===t}}function EGe(t){return _Ge.includes(t)}function S0(t){return function(e){return typeof e===t}}function CGe(t){return SGe.includes(t)}function Ie(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Ie.array(t))return"Array";if(Ie.plainFunction(t))return"Function";var e=bP(t);return e||"Object"}Ie.array=Array.isArray;Ie.arrayOf=function(t,e){return!Ie.array(t)&&!Ie.function(e)?!1:t.every(function(n){return e(n)})};Ie.asyncGeneratorFunction=function(t){return bP(t)==="AsyncGeneratorFunction"};Ie.asyncFunction=yl("AsyncFunction");Ie.bigint=S0("bigint");Ie.boolean=function(t){return t===!0||t===!1};Ie.date=yl("Date");Ie.defined=function(t){return!Ie.undefined(t)};Ie.domElement=function(t){return Ie.object(t)&&!Ie.plainObject(t)&&t.nodeType===1&&Ie.string(t.nodeName)&&wGe.every(function(e){return e in t})};Ie.empty=function(t){return Ie.string(t)&&t.length===0||Ie.array(t)&&t.length===0||Ie.object(t)&&!Ie.map(t)&&!Ie.set(t)&&Object.keys(t).length===0||Ie.set(t)&&t.size===0||Ie.map(t)&&t.size===0};Ie.error=yl("Error");Ie.function=S0("function");Ie.generator=function(t){return Ie.iterable(t)&&Ie.function(t.next)&&Ie.function(t.throw)};Ie.generatorFunction=yl("GeneratorFunction");Ie.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};Ie.iterable=function(t){return!Ie.nullOrUndefined(t)&&Ie.function(t[Symbol.iterator])};Ie.map=yl("Map");Ie.nan=function(t){return Number.isNaN(t)};Ie.null=function(t){return t===null};Ie.nullOrUndefined=function(t){return Ie.null(t)||Ie.undefined(t)};Ie.number=function(t){return S0("number")(t)&&!Ie.nan(t)};Ie.numericString=function(t){return Ie.string(t)&&t.length>0&&!Number.isNaN(Number(t))};Ie.object=function(t){return!Ie.nullOrUndefined(t)&&(Ie.function(t)||typeof t=="object")};Ie.oneOf=function(t,e){return Ie.array(t)?t.indexOf(e)>-1:!1};Ie.plainFunction=yl("Function");Ie.plainObject=function(t){if(bP(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};Ie.primitive=function(t){return Ie.null(t)||CGe(typeof t)};Ie.promise=yl("Promise");Ie.propertyOf=function(t,e,n){if(!Ie.object(t)||!e)return!1;var r=t[e];return Ie.function(n)?n(r):Ie.defined(r)};Ie.regexp=yl("RegExp");Ie.set=yl("Set");Ie.string=S0("string");Ie.symbol=S0("symbol");Ie.undefined=S0("undefined");Ie.weakMap=yl("WeakMap");Ie.weakSet=yl("WeakSet");function cse(t){return function(e){return typeof e===t}}var TGe=cse("function"),AGe=function(t){return t===null},nY=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},rY=function(t){return!RGe(t)&&!AGe(t)&&(TGe(t)||typeof t=="object")},RGe=cse("undefined"),m$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function PGe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!Qo(t[r],e[r]))return!1;return!0}function IGe(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function kGe(t,e){var n,r,i,o;if(t.size!==e.size)return!1;try{for(var s=m$(t.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var u=m$(t.entries()),c=u.next();!c.done;c=u.next()){var l=c.value;if(!Qo(l[1],e.get(l[0])))return!1}}catch(d){i={error:d}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!0}function MGe(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=m$(t.entries()),o=i.next();!o.done;o=i.next()){var s=o.value;if(!e.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function Qo(t,e){if(t===e)return!0;if(t&&rY(t)&&e&&rY(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return PGe(t,e);if(t instanceof Map&&e instanceof Map)return kGe(t,e);if(t instanceof Set&&e instanceof Set)return MGe(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return IGe(t,e);if(nY(t)&&nY(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var o=n[i];if(!(o==="_owner"&&t.$$typeof)&&!Qo(t[o],e[o]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function NGe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return Ie.string(n)||Ie.array(n)||Ie.plainObject(n)})}function DGe(t,e,n){return dse(t,e)?[t,e].every(Ie.array)?!t.some(lY(n))&&e.some(lY(n)):[t,e].every(Ie.plainObject)?!Object.entries(t).some(aY(n))&&Object.entries(e).some(aY(n)):e===n:!1}function iY(t,e,n){var r=n.actual,i=n.key,o=n.previous,s=n.type,a=hu(t,i),l=hu(e,i),u=[a,l].every(Ie.number)&&(s==="increased"?a<l:a>l);return Ie.undefined(r)||(u=u&&l===r),Ie.undefined(o)||(u=u&&a===o),u}function oY(t,e,n){var r=n.key,i=n.type,o=n.value,s=hu(t,r),a=hu(e,r),l=i==="added"?s:a,u=i==="added"?a:s;if(!Ie.nullOrUndefined(o)){if(Ie.defined(l)){if(Ie.array(l)||Ie.plainObject(l))return DGe(l,u,o)}else return Qo(u,o);return!1}return[s,a].every(Ie.array)?!u.every(z3(l)):[s,a].every(Ie.plainObject)?LGe(Object.keys(l),Object.keys(u)):![s,a].every(function(c){return Ie.primitive(c)&&Ie.defined(c)})&&(i==="added"?!Ie.defined(s)&&Ie.defined(a):Ie.defined(s)&&!Ie.defined(a))}function sY(t,e,n){var r=n===void 0?{}:n,i=r.key,o=hu(t,i),s=hu(e,i);if(!dse(o,s))throw new TypeError("Inputs have different types");if(!NGe(o,s))throw new TypeError("Inputs don't have length");return[o,s].every(Ie.plainObject)&&(o=Object.keys(o),s=Object.keys(s)),[o,s]}function aY(t){return function(e){var n=e[0],r=e[1];return Ie.array(t)?Qo(t,r)||t.some(function(i){return Qo(i,r)||Ie.array(r)&&z3(r)(i)}):Ie.plainObject(t)&&t[n]?!!t[n]&&Qo(t[n],r):Qo(t,r)}}function LGe(t,e){return e.some(function(n){return!t.includes(n)})}function lY(t){return function(e){return Ie.array(t)?t.some(function(n){return Qo(n,e)||Ie.array(e)&&z3(e)(n)}):Qo(t,e)}}function Pb(t,e){return Ie.array(t)?t.some(function(n){return Qo(n,e)}):Qo(t,e)}function z3(t){return function(e){return t.some(function(n){return Qo(n,e)})}}function dse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(Ie.array)||t.every(Ie.number)||t.every(Ie.plainObject)||t.every(Ie.string)}function hu(t,e){if(Ie.plainObject(t)||Ie.array(t)){if(Ie.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return Ie.number(e)?t[e]:t}return t}function OGe(t,e){if([t,e].some(Ie.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(d){return Ie.plainObject(d)||Ie.array(d)}))throw new Error("Expected plain objects or array");var n=function(d,h){try{return oY(t,e,{key:d,type:"added",value:h})}catch{return!1}},r=function(d,h,p){try{var m=hu(t,d),y=hu(e,d),x=Ie.defined(h),_=Ie.defined(p);if(x||_){var E=_?Pb(p,m):!Pb(h,m),S=Pb(h,y);return E&&S}return[m,y].every(Ie.array)||[m,y].every(Ie.plainObject)?!Qo(m,y):m!==y}catch{return!1}},i=function(d,h,p){if(!Ie.defined(d))return!1;try{var m=hu(t,d),y=hu(e,d),x=Ie.defined(p);return Pb(h,m)&&(x?Pb(p,y):!x)}catch{return!1}},o=function(d,h){return Ie.defined(d)?r(d,h):!1},s=function(d,h,p){if(!Ie.defined(d))return!1;try{return iY(t,e,{key:d,actual:h,previous:p,type:"decreased"})}catch{return!1}},a=function(d){try{var h=sY(t,e,{key:d}),p=h[0],m=h[1];return!!p.length&&!m.length}catch{return!1}},l=function(d){try{var h=sY(t,e,{key:d}),p=h[0],m=h[1];return!p.length&&!!m.length}catch{return!1}},u=function(d,h,p){if(!Ie.defined(d))return!1;try{return iY(t,e,{key:d,actual:h,previous:p,type:"increased"})}catch{return!1}},c=function(d,h){try{return oY(t,e,{key:d,type:"removed",value:h})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:o,decreased:s,emptied:a,filled:l,increased:u,removed:c}}function uY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uY(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hse(r.key),r)}}function j1(t,e,n){return e&&FGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ro(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y$(t,e)}function pA(t){return pA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pA(t)}function y$(t,e){return y$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y$(t,e)}function $Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function BGe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fse(t,e){if(t==null)return{};var n=BGe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VGe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oc(t)}function G1(t){var e=$Ge();return function(){var r=pA(t),i;if(e){var o=pA(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return VGe(this,i)}}function zGe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hse(t){var e=zGe(t,"string");return typeof e=="symbol"?e:String(e)}var UGe={flip:{padding:20},preventOverflow:{padding:10}},HGe="The typeValidator argument must be a function with the signature function(props, propName, componentName).",qGe="The error message is optional, but must be a string if provided.";function jGe(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function WGe(t,e){return Object.hasOwnProperty.call(t,e)}function GGe(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function KGe(t,e){if(typeof t!="function")throw new TypeError(HGe);if(e&&typeof e!="string")throw new TypeError(qGe)}function cY(t,e,n){return KGe(t,n),function(r,i,o){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return jGe(e,r,i,o)?WGe(r,i)?t.apply(void 0,[r,i,o].concat(a)):GGe(r,i,o):t.apply(void 0,[r,i,o].concat(a))}}var Cn={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Ib=_f.createPortal!==void 0;function iu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function QD(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function XE(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,o=t.debug,s=o===void 0?!1:o,a=i?console.warn||console.error:console.log;s&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(l){Ie.plainObject(l)&&l.key?a.apply(console,[l.key,l.value]):a.apply(console,[l])}):a.apply(console,[n]),console.groupEnd())}function YGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function XGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function JGe(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(s){n(s),XGe(t,e,i)},YGe(t,e,i,r)}function dY(){}var pse=function(t){W1(n,t);var e=G1(n);function n(){return q1(this,n),e.apply(this,arguments)}return j1(n,[{key:"componentDidMount",value:function(){iu()&&(this.node||this.appendNode(),Ib||this.renderPortal())}},{key:"componentDidUpdate",value:function(){iu()&&(Ib||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!iu()||!this.node||(Ib||_f.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,o=i.id,s=i.zIndex;this.node||(this.node=document.createElement("div"),o&&(this.node.id=o),s&&(this.node.style.zIndex=s),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!iu())return null;var i=this.props,o=i.children,s=i.setRef;if(this.node||this.appendNode(),Ib)return _f.createPortal(o,this.node);var a=_f.unstable_renderSubtreeIntoContainer(this,o.length>1?oe.createElement("div",null,o):o[0],this.node);return s(a),null}},{key:"renderReact16",value:function(){var i=this.props,o=i.hasChildren,s=i.placement,a=i.target;return o?this.renderPortal():a||s==="center"?this.renderPortal():null}},{key:"render",value:function(){return Ib?this.renderReact16():null}}]),n}(oe.Component);ro(pse,"propTypes",{children:me.oneOfType([me.element,me.array]),hasChildren:me.bool,id:me.oneOfType([me.string,me.number]),placement:me.string,setRef:me.func.isRequired,target:me.oneOfType([me.object,me.string]),zIndex:me.number});var gse=function(t){W1(n,t);var e=G1(n);function n(){return q1(this,n),e.apply(this,arguments)}return j1(n,[{key:"parentStyle",get:function(){var i=this.props,o=i.placement,s=i.styles,a=s.arrow.length,l={pointerEvents:"none",position:"absolute",width:"100%"};return o.startsWith("top")?(l.bottom=0,l.left=0,l.right=0,l.height=a):o.startsWith("bottom")?(l.left=0,l.right=0,l.top=0,l.height=a):o.startsWith("left")?(l.right=0,l.top=0,l.bottom=0):o.startsWith("right")&&(l.left=0,l.top=0),l}},{key:"render",value:function(){var i=this.props,o=i.placement,s=i.setArrowRef,a=i.styles,l=a.arrow,u=l.color,c=l.display,d=l.length,h=l.margin,p=l.position,m=l.spread,y={display:c,position:p},x,_=m,E=d;return o.startsWith("top")?(x="0,0 ".concat(_/2,",").concat(E," ").concat(_,",0"),y.bottom=0,y.marginLeft=h,y.marginRight=h):o.startsWith("bottom")?(x="".concat(_,",").concat(E," ").concat(_/2,",0 0,").concat(E),y.top=0,y.marginLeft=h,y.marginRight=h):o.startsWith("left")?(E=m,_=d,x="0,0 ".concat(_,",").concat(E/2," 0,").concat(E),y.right=0,y.marginTop=h,y.marginBottom=h):o.startsWith("right")&&(E=m,_=d,x="".concat(_,",").concat(E," ").concat(_,",0 0,").concat(E/2),y.left=0,y.marginTop=h,y.marginBottom=h),oe.createElement("div",{className:"__floater__arrow",style:this.parentStyle},oe.createElement("span",{ref:s,style:y},oe.createElement("svg",{width:_,height:E,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},oe.createElement("polygon",{points:x,fill:u}))))}}]),n}(oe.Component);ro(gse,"propTypes",{placement:me.string.isRequired,setArrowRef:me.func.isRequired,styles:me.object.isRequired});var QGe=["color","height","width"];function mse(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,o=n.width,s=fse(n,QGe);return oe.createElement("button",{"aria-label":"close",onClick:e,style:s,type:"button"},oe.createElement("svg",{width:"".concat(o,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}mse.propTypes={handleClick:me.func.isRequired,styles:me.object.isRequired};function yse(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,o=t.positionWrapper,s=t.showCloseButton,a=t.title,l=t.styles,u={content:oe.isValidElement(e)?e:oe.createElement("div",{className:"__floater__content",style:l.content},e)};return a&&(u.title=oe.isValidElement(a)?a:oe.createElement("div",{className:"__floater__title",style:l.title},a)),n&&(u.footer=oe.isValidElement(n)?n:oe.createElement("div",{className:"__floater__footer",style:l.footer},n)),(s||o)&&!Ie.boolean(i)&&(u.close=oe.createElement(mse,{styles:l.close,handleClick:r})),oe.createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)}yse.propTypes={content:me.node.isRequired,footer:me.node,handleClick:me.func.isRequired,open:me.bool,positionWrapper:me.bool.isRequired,showCloseButton:me.bool.isRequired,styles:me.object.isRequired,title:me.node};var vse=function(t){W1(n,t);var e=G1(n);function n(){return q1(this,n),e.apply(this,arguments)}return j1(n,[{key:"style",get:function(){var i=this.props,o=i.disableAnimation,s=i.component,a=i.placement,l=i.hideArrow,u=i.status,c=i.styles,d=c.arrow.length,h=c.floater,p=c.floaterCentered,m=c.floaterClosing,y=c.floaterOpening,x=c.floaterWithAnimation,_=c.floaterWithComponent,E={};return l||(a.startsWith("top")?E.padding="0 0 ".concat(d,"px"):a.startsWith("bottom")?E.padding="".concat(d,"px 0 0"):a.startsWith("left")?E.padding="0 ".concat(d,"px 0 0"):a.startsWith("right")&&(E.padding="0 0 0 ".concat(d,"px"))),[Cn.OPENING,Cn.OPEN].indexOf(u)!==-1&&(E=vr(vr({},E),y)),u===Cn.CLOSING&&(E=vr(vr({},E),m)),u===Cn.OPEN&&!o&&(E=vr(vr({},E),x)),a==="center"&&(E=vr(vr({},E),p)),s&&(E=vr(vr({},E),_)),vr(vr({},h),E)}},{key:"render",value:function(){var i=this.props,o=i.component,s=i.handleClick,a=i.hideArrow,l=i.setFloaterRef,u=i.status,c={},d=["__floater"];return o?oe.isValidElement(o)?c.content=oe.cloneElement(o,{closeFn:s}):c.content=o({closeFn:s}):c.content=oe.createElement(yse,this.props),u===Cn.OPEN&&d.push("__floater__open"),a||(c.arrow=oe.createElement(gse,this.props)),oe.createElement("div",{ref:l,className:d.join(" "),style:this.style},oe.createElement("div",{className:"__floater__body"},c.content,c.arrow))}}]),n}(oe.Component);ro(vse,"propTypes",{component:me.oneOfType([me.func,me.element]),content:me.node,disableAnimation:me.bool.isRequired,footer:me.node,handleClick:me.func.isRequired,hideArrow:me.bool.isRequired,open:me.bool,placement:me.string.isRequired,positionWrapper:me.bool.isRequired,setArrowRef:me.func.isRequired,setFloaterRef:me.func.isRequired,showCloseButton:me.bool,status:me.string.isRequired,styles:me.object.isRequired,title:me.node});var bse=function(t){W1(n,t);var e=G1(n);function n(){return q1(this,n),e.apply(this,arguments)}return j1(n,[{key:"render",value:function(){var i=this.props,o=i.children,s=i.handleClick,a=i.handleMouseEnter,l=i.handleMouseLeave,u=i.setChildRef,c=i.setWrapperRef,d=i.style,h=i.styles,p;if(o)if(oe.Children.count(o)===1)if(!oe.isValidElement(o))p=oe.createElement("span",null,o);else{var m=Ie.function(o.type)?"innerRef":"ref";p=oe.cloneElement(oe.Children.only(o),ro({},m,u))}else p=o;return p?oe.createElement("span",{ref:c,style:vr(vr({},h),d),onClick:s,onMouseEnter:a,onMouseLeave:l},p):null}}]),n}(oe.Component);ro(bse,"propTypes",{children:me.node,handleClick:me.func.isRequired,handleMouseEnter:me.func.isRequired,handleMouseLeave:me.func.isRequired,setChildRef:me.func.isRequired,setWrapperRef:me.func.isRequired,style:me.object,styles:me.object.isRequired});var ZGe={zIndex:100};function eKe(t){var e=il(ZGe,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var tKe=["arrow","flip","offset"],nKe=["position","top","right","bottom","left"],U3=function(t){W1(n,t);var e=G1(n);function n(r){var i;return q1(this,n),i=e.call(this,r),ro(oc(i),"setArrowRef",function(o){i.arrowRef=o}),ro(oc(i),"setChildRef",function(o){i.childRef=o}),ro(oc(i),"setFloaterRef",function(o){i.floaterRef=o}),ro(oc(i),"setWrapperRef",function(o){i.wrapperRef=o}),ro(oc(i),"handleTransitionEnd",function(){var o=i.state.status,s=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:o===Cn.OPENING?Cn.OPEN:Cn.IDLE},function(){var a=i.state.status;s(a===Cn.OPEN?"open":"close",i.props)})}),ro(oc(i),"handleClick",function(){var o=i.props,s=o.event,a=o.open;if(!Ie.boolean(a)){var l=i.state,u=l.positionWrapper,c=l.status;(i.event==="click"||i.event==="hover"&&u)&&(XE({title:"click",data:[{event:s,status:c===Cn.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),ro(oc(i),"handleMouseEnter",function(){var o=i.props,s=o.event,a=o.open;if(!(Ie.boolean(a)||QD())){var l=i.state.status;i.event==="hover"&&l===Cn.IDLE&&(XE({title:"mouseEnter",data:[{key:"originalEvent",value:s}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),ro(oc(i),"handleMouseLeave",function(){var o=i.props,s=o.event,a=o.eventDelay,l=o.open;if(!(Ie.boolean(l)||QD())){var u=i.state,c=u.status,d=u.positionWrapper;i.event==="hover"&&(XE({title:"mouseLeave",data:[{key:"originalEvent",value:s}],debug:i.debug}),a?[Cn.OPENING,Cn.OPEN].indexOf(c)!==-1&&!d&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},a*1e3)):i.toggle(Cn.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:Cn.INIT,statusWrapper:Cn.INIT},i._isMounted=!1,i.hasMounted=!1,iu()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return j1(n,[{key:"componentDidMount",value:function(){if(iu()){var i=this.state.positionWrapper,o=this.props,s=o.children,a=o.open,l=o.target;this._isMounted=!0,XE({title:"init",data:{hasChildren:!!s,hasTarget:!!l,isControlled:Ie.boolean(a),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!s&&l&&Ie.boolean(a)}}},{key:"componentDidUpdate",value:function(i,o){if(iu()){var s=this.props,a=s.autoOpen,l=s.open,u=s.target,c=s.wrapperOptions,d=OGe(o,this.state),h=d.changedFrom,p=d.changed;if(i.open!==l){var m;Ie.boolean(l)&&(m=l?Cn.OPENING:Cn.CLOSING),this.toggle(m)}(i.wrapperOptions.position!==c.position||i.target!==u)&&this.changeWrapperPosition(this.props),p("status",Cn.IDLE)&&l?this.toggle(Cn.OPEN):h("status",Cn.INIT,Cn.IDLE)&&a&&this.toggle(Cn.OPEN),this.popper&&p("status",Cn.OPENING)&&this.popper.instance.update(),this.floaterRef&&(p("status",Cn.OPENING)||p("status",Cn.CLOSING))&&JGe(this.floaterRef,"transitionend",this.handleTransitionEnd),p("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){iu()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,s=this.state.positionWrapper,a=this.props,l=a.disableFlip,u=a.getPopper,c=a.hideArrow,d=a.offset,h=a.placement,p=a.wrapperOptions,m=h==="top"||h==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(h==="center")this.setState({status:Cn.IDLE});else if(o&&this.floaterRef){var y=this.options,x=y.arrow,_=y.flip,E=y.offset,S=fse(y,tKe);new Cw(o,this.floaterRef,{placement:h,modifiers:vr({arrow:vr({enabled:!c,element:this.arrowRef},x),flip:vr({enabled:!l,behavior:m},_),offset:vr({offset:"0, ".concat(d,"px")},E)},S),onCreate:function(N){var R;if(i.popper=N,!((R=i.floaterRef)!==null&&R!==void 0&&R.isConnected)){i.setState({needsUpdate:!0});return}u(N,"floater"),i._isMounted&&i.setState({currentPlacement:N.placement,status:Cn.IDLE}),h!==N.placement&&setTimeout(function(){N.instance.update()},1)},onUpdate:function(N){i.popper=N;var R=i.state.currentPlacement;i._isMounted&&N.placement!==R&&i.setState({currentPlacement:N.placement})}})}if(s){var T=Ie.undefined(p.offset)?0:p.offset;new Cw(this.target,this.wrapperRef,{placement:p.placement||h,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(T,"px")},flip:{enabled:!1}},onCreate:function(N){i.wrapperPopper=N,i._isMounted&&i.setState({statusWrapper:Cn.IDLE}),u(N,"wrapper"),h!==N.placement&&setTimeout(function(){N.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var o;(o=i.floaterRef)!==null&&o!==void 0&&o.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var o=i.target,s=i.wrapperOptions;this.setState({positionWrapper:s.position&&!!o})}},{key:"toggle",value:function(i){var o=this.state.status,s=o===Cn.OPEN?Cn.CLOSING:Cn.OPENING;Ie.undefined(i)||(s=i),this.setState({status:s})}},{key:"debug",get:function(){var i=this.props.debug;return i||iu()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,o=i.disableHoverToClick,s=i.event;return s==="hover"&&QD()&&!o?"click":s}},{key:"options",get:function(){var i=this.props.options;return il(UGe,i||{})}},{key:"styles",get:function(){var i=this,o=this.state,s=o.status,a=o.positionWrapper,l=o.statusWrapper,u=this.props.styles,c=il(eKe(u),u);if(a){var d;[Cn.IDLE].indexOf(s)===-1||[Cn.IDLE].indexOf(l)===-1?d=c.wrapperPosition:d=this.wrapperPopper.styles,c.wrapper=vr(vr({},c.wrapper),d)}if(this.target){var h=window.getComputedStyle(this.target);this.wrapperStyles?c.wrapper=vr(vr({},c.wrapper),this.wrapperStyles):["relative","static"].indexOf(h.position)===-1&&(this.wrapperStyles={},a||(nKe.forEach(function(p){i.wrapperStyles[p]=h[p]}),c.wrapper=vr(vr({},c.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return c}},{key:"target",get:function(){if(!iu())return null;var i=this.props.target;return i?Ie.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,o=i.currentPlacement,s=i.positionWrapper,a=i.status,l=this.props,u=l.children,c=l.component,d=l.content,h=l.disableAnimation,p=l.footer,m=l.hideArrow,y=l.id,x=l.open,_=l.showCloseButton,E=l.style,S=l.target,T=l.title,I=oe.createElement(bse,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:E,styles:this.styles.wrapper},u),N={};return s?N.wrapperInPortal=I:N.wrapperAsChildren=I,oe.createElement("span",null,oe.createElement(pse,{hasChildren:!!u,id:y,placement:o,setRef:this.setFloaterRef,target:S,zIndex:this.styles.options.zIndex},oe.createElement(vse,{component:c,content:d,disableAnimation:h,footer:p,handleClick:this.handleClick,hideArrow:m||o==="center",open:x,placement:o,positionWrapper:s,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:_,status:a,styles:this.styles,title:T}),N.wrapperInPortal),N.wrapperAsChildren)}}]),n}(oe.Component);ro(U3,"propTypes",{autoOpen:me.bool,callback:me.func,children:me.node,component:cY(me.oneOfType([me.func,me.element]),function(t){return!t.content}),content:cY(me.node,function(t){return!t.component}),debug:me.bool,disableAnimation:me.bool,disableFlip:me.bool,disableHoverToClick:me.bool,event:me.oneOf(["hover","click"]),eventDelay:me.number,footer:me.node,getPopper:me.func,hideArrow:me.bool,id:me.oneOfType([me.string,me.number]),offset:me.number,open:me.bool,options:me.object,placement:me.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:me.bool,style:me.object,styles:me.object,target:me.oneOfType([me.object,me.string]),title:me.node,wrapperOptions:me.shape({offset:me.number,placement:me.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:me.bool})});ro(U3,"defaultProps",{autoOpen:!1,callback:dY,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:dY,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var rKe=Object.defineProperty,iKe=(t,e,n)=>e in t?rKe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vt=(t,e,n)=>iKe(t,typeof e!="symbol"?e+"":e,n),$n={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},ks={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Jt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},un={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function Qd(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function xse(t){return t?t.getBoundingClientRect():null}function oKe(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((o,s)=>o-s),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Lc(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function sKe(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Tw(t,e,n){if(!t)return $h();const r=Koe(t);if(r){if(r.isSameNode($h()))return n?document:$h();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",$h()}return r}function xP(t,e){if(!t)return!1;const n=Tw(t,e);return n?!n.isSameNode($h()):!1}function aKe(t){return t.offsetParent!==document.body}function n0(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=sKe(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?n0(t.parentNode,e):!1}function lKe(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function uKe(t,e,n){var r,i,o;const s=xse(t),a=Tw(t,n),l=xP(t,n),u=n0(t);let c=0,d=(r=s==null?void 0:s.top)!=null?r:0;if(l&&u){const h=(i=t==null?void 0:t.offsetTop)!=null?i:0,p=(o=a==null?void 0:a.scrollTop)!=null?o:0;d=h-p}else a instanceof HTMLElement&&(c=a.scrollTop,!l&&!n0(t)&&(d+=c),a.isSameNode($h())||(d+=$h().scrollTop));return Math.floor(d-e)}function cKe(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:o=0}=(r=Koe(t))!=null?r:{};let s=t.getBoundingClientRect().top+o;i&&(xP(t,n)||aKe(t))&&(s-=i);const a=Math.floor(s-e);return a<0?0:a}function $h(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function dKe(t,e){const{duration:n,element:r}=e;return new Promise((i,o)=>{const{scrollTop:s}=r,a=t>s?t-s:s-t;I7e.top(r,t,{duration:a<100?50:n},l=>l&&l.message!=="Element already at target scroll position"?o(l):i())})}var kb=Fc.createPortal!==void 0;function wse(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function nT(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function ou(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let o=YK(t);if(o)(o.includes("{step}")||o.includes("{steps}"))&&r&&i&&(o=o.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(F.isValidElement(t)&&!Object.values(t.props).length&&nT(t.type)==="function"){const s=t.type({});o=ou(s,e)}else o=YK(n);return o}function fKe(t,e){return!mt.plainObject(t)||!mt.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function hKe(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,o,s,a)=>o+o+s+s+a+a),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function fY(t){return t.disableBeacon||t.placement==="center"}function hY(){return!["chrome","safari","firefox","opera"].includes(wse())}function ig({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(o=>{mt.plainObject(o)&&o.key?i.apply(console,[o.key,o.value]):i.apply(console,[o])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function pKe(t){return Object.keys(t)}function _se(t,...e){if(!mt.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function gKe(t,...e){if(!mt.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function v$(t,e,n){const r=o=>o.replace("{step}",String(e)).replace("{steps}",String(n));if(nT(t)==="string")return r(t);if(!F.isValidElement(t))return t;const{children:i}=t.props;if(nT(i)==="string"&&i.includes("{step}"))return F.cloneElement(t,{children:r(i)});if(Array.isArray(i))return F.cloneElement(t,{children:i.map(o=>typeof o=="string"?r(o):v$(o,e,n))});if(nT(t.type)==="function"&&!Object.values(t.props).length){const o=t.type({});return v$(o,e,n)}return t}function mKe(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:o,target:s}=t;return!o.disableScrolling&&(!e||i||n===Jt.TOOLTIP)&&o.placement!=="center"&&(!o.isFixed||!n0(s))&&r!==n&&[Jt.BEACON,Jt.TOOLTIP].includes(n)}var yKe={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},Sse={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},vKe={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:Sse,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},bKe={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},xKe={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Mb={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},pY={borderRadius:4,position:"absolute"};function wKe(t,e){var n,r,i,o,s;const{floaterProps:a,styles:l}=t,u=il((n=e.floaterProps)!=null?n:{},a??{}),c=il(l??{},(r=e.styles)!=null?r:{}),d=il(xKe,c.options||{}),h=e.placement==="center"||e.disableBeacon;let{width:p}=d;window.innerWidth>480&&(p=380),"width"in d&&(p=typeof d.width=="number"&&window.innerWidth<d.width?window.innerWidth-30:d.width);const m={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},y={beacon:{...Mb,display:h?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${hKe(d.primaryColor).join(",")}, 0.2)`,border:`2px solid ${d.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:p},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Mb,backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Mb,color:d.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Mb,color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Mb,color:d.textColor,fontSize:14},overlay:{...m,backgroundColor:d.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...m},overlayLegacyCenter:{...m,backgroundColor:d.overlayColor},spotlight:{...pY,backgroundColor:"gray"},spotlightLegacy:{...pY,boxShadow:`0 0 0 9999px ${d.overlayColor}, ${d.spotlightShadow}`},floaterStyles:{arrow:{color:(s=(o=(i=u==null?void 0:u.styles)==null?void 0:i.arrow)==null?void 0:o.color)!=null?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return il(y,c)}function _Ke(t){return gKe(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Pm(t,e){var n,r,i,o,s,a;const l=e??{},u=il.all([vKe,_Ke(t),l],{isMergeableObject:mt.plainObject}),c=wKe(t,u),d=xP(Lc(u.target),u.disableScrollParentFix),h=il.all([yKe,(n=t.floaterProps)!=null?n:{},(r=u.floaterProps)!=null?r:{}]);return h.offset=u.offset,h.styles=il((i=h.styles)!=null?i:{},c.floaterStyles),h.offset+=(s=(o=t.spotlightPadding)!=null?o:u.spotlightPadding)!=null?s:0,u.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=u.placementBeacon),d&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),{...u,locale:il.all([Sse,(a=t.locale)!=null?a:{},u.locale||{}]),floaterProps:h,styles:_se(c,"floaterStyles")}}function Ese(t,e=!1){return mt.plainObject(t)?t.target?!0:(ig({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(ig({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function gY(t,e=!1){return mt.array(t)?t.every(n=>Ese(n,e)):(ig({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var Cse={action:"init",controlled:!1,index:0,lifecycle:Jt.INIT,origin:null,size:0,status:un.IDLE},mY=pKe(_se(Cse,"controlled","size")),SKe=class{constructor(t){vt(this,"beaconPopper"),vt(this,"tooltipPopper"),vt(this,"data",new Map),vt(this,"listener"),vt(this,"store",new Map),vt(this,"addListener",i=>{this.listener=i}),vt(this,"setSteps",i=>{const{size:o,status:s}=this.getState(),a={size:i.length,status:s};this.data.set("steps",i),s===un.WAITING&&!o&&i.length&&(a.status=un.RUNNING),this.setState(a)}),vt(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),vt(this,"setPopper",(i,o)=>{i==="beacon"?this.beaconPopper=o:this.tooltipPopper=o}),vt(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),vt(this,"close",(i=null)=>{const{index:o,status:s}=this.getState();s===un.RUNNING&&this.setState({...this.getNextState({action:$n.CLOSE,index:o+1,origin:i})})}),vt(this,"go",i=>{const{controlled:o,status:s}=this.getState();if(o||s!==un.RUNNING)return;const a=this.getSteps()[i];this.setState({...this.getNextState({action:$n.GO,index:i}),status:a?s:un.FINISHED})}),vt(this,"info",()=>this.getState()),vt(this,"next",()=>{const{index:i,status:o}=this.getState();o===un.RUNNING&&this.setState(this.getNextState({action:$n.NEXT,index:i+1}))}),vt(this,"open",()=>{const{status:i}=this.getState();i===un.RUNNING&&this.setState({...this.getNextState({action:$n.UPDATE,lifecycle:Jt.TOOLTIP})})}),vt(this,"prev",()=>{const{index:i,status:o}=this.getState();o===un.RUNNING&&this.setState({...this.getNextState({action:$n.PREV,index:i-1})})}),vt(this,"reset",(i=!1)=>{const{controlled:o}=this.getState();o||this.setState({...this.getNextState({action:$n.RESET,index:0}),status:i?un.RUNNING:un.READY})}),vt(this,"skip",()=>{const{status:i}=this.getState();i===un.RUNNING&&this.setState({action:$n.SKIP,lifecycle:Jt.INIT,status:un.SKIPPED})}),vt(this,"start",i=>{const{index:o,size:s}=this.getState();this.setState({...this.getNextState({action:$n.START,index:mt.number(i)?i:o},!0),status:s?un.RUNNING:un.WAITING})}),vt(this,"stop",(i=!1)=>{const{index:o,status:s}=this.getState();[un.FINISHED,un.SKIPPED].includes(s)||this.setState({...this.getNextState({action:$n.STOP,index:o+(i?1:0)}),status:un.PAUSED})}),vt(this,"update",i=>{var o,s;if(!fKe(i,mY))throw new Error(`State is not valid. Valid keys: ${mY.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(o=i.action)!=null?o:$n.UPDATE,origin:(s=i.origin)!=null?s:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:$n.INIT,controlled:mt.number(n),continuous:e,index:mt.number(n)?n:0,lifecycle:Jt.INIT,origin:null,status:r.length?un.READY:un.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Cse}}getNextState(t,e=!1){var n,r,i,o,s;const{action:a,controlled:l,index:u,size:c,status:d}=this.getState(),h=mt.number(t.index)?t.index:u,p=l&&!e?u:Math.min(Math.max(h,0),c);return{action:(n=t.action)!=null?n:a,controlled:l,index:p,lifecycle:(r=t.lifecycle)!=null?r:Jt.INIT,origin:(i=t.origin)!=null?i:null,size:(o=t.size)!=null?o:c,status:p===c?un.FINISHED:(s=t.status)!=null?s:d}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:o,origin:s=null,size:a,status:l}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function EKe(t){return new SKe(t)}function CKe({styles:t}){return F.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var TKe=CKe,AKe=class extends F.Component{constructor(){super(...arguments),vt(this,"isActive",!1),vt(this,"resizeTimeout"),vt(this,"scrollTimeout"),vt(this,"scrollParent"),vt(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),vt(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Jt.INIT,Jt.BEACON,Jt.COMPLETE,Jt.ERROR];return e||(t?r.includes(n):n!==Jt.TOOLTIP)}),vt(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:o,width:s}=this.spotlightStyles,a=i==="fixed"?t.clientY:t.pageY,l=i==="fixed"?t.clientX:t.pageX,u=a>=o&&a<=o+n,d=l>=r&&l<=r+s&&u;d!==e&&this.updateState({mouseOverSpotlight:d})}),vt(this,"handleScroll",()=>{const{target:t}=this.props,e=Lc(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else n0(e,"sticky")&&this.updateState({})}),vt(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=Lc(r);this.scrollParent=Tw(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:o}=this.props,{changed:s}=dA(t,this.props);if(s("target")||s("disableScrollParentFix")){const a=Lc(o);this.scrollParent=Tw(a??document.body,n,!0)}s("lifecycle",Jt.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:a}=this.state;a||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===Jt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Jt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return hY()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:oKe(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:o,spotlightPadding:s=0,styles:a,target:l}=this.props,u=Lc(l),c=xse(u),d=n0(u),h=uKe(u,s,i);return{...hY()?a.spotlightLegacy:a.spotlight,height:Math.round(((t=c==null?void 0:c.height)!=null?t:0)+s*2),left:Math.round(((e=c==null?void 0:c.left)!=null?e:0)-s),opacity:r?1:0,pointerEvents:o?"none":"auto",position:d?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round(((n=c==null?void 0:c.width)!=null?n:0)+s*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:o}=this;if(r())return null;let s=n!=="center"&&t&&F.createElement(TKe,{styles:o});if(wse()==="safari"){const{mixBlendMode:a,zIndex:l,...u}=i;s=F.createElement("div",{style:{...u}},s),delete i.backgroundColor}return F.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},s)}},RKe=class extends F.Component{constructor(){super(...arguments),vt(this,"node",null)}componentDidMount(){const{id:t}=this.props;Qd()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),kb||this.renderReact15())}componentDidUpdate(){Qd()&&(kb||this.renderReact15())}componentWillUnmount(){!Qd()||!this.node||(kb||Fc.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Qd())return;const{children:t}=this.props;this.node&&Fc.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!Qd()||!kb)return null;const{children:t}=this.props;return this.node?Fc.createPortal(t,this.node):null}render(){return kb?this.renderReact16():null}},PKe=class{constructor(t,e){if(vt(this,"element"),vt(this,"options"),vt(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),vt(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),vt(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),vt(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),vt(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let o=document.activeElement?r.indexOf(document.activeElement):0;o===-1||!i&&o+1===r.length?o=0:i&&o===0?o=r.length-1:o+=i?-1:1,r[o].focus()}),vt(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),vt(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),vt(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),vt(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),vt(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},IKe=class extends F.Component{constructor(t){if(super(t),vt(this,"beacon",null),vt(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{mt.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t!=null&&t.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:o,size:s,step:a,styles:l}=this.props,u=ou(i.open),c={"aria-label":u,onClick:o,onMouseEnter:o,ref:this.setBeaconRef,title:u};let d;if(t){const h=t;d=F.createElement(h,{continuous:e,index:n,isLastStep:r,size:s,step:a,...c})}else d=F.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:l.beacon,type:"button",...c},F.createElement("span",{style:l.beaconInner}),F.createElement("span",{style:l.beaconOuter}));return d}};function kKe({styles:t,...e}){const{color:n,height:r,width:i,...o}=t;return oe.createElement("button",{style:o,type:"button",...e},oe.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},oe.createElement("g",null,oe.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var MKe=kKe;function NKe(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:o,skipProps:s,step:a,tooltipProps:l}=t,{content:u,hideBackButton:c,hideCloseButton:d,hideFooter:h,showSkipButton:p,styles:m,title:y}=a,x={};return x.primary=F.createElement("button",{"data-test-id":"button-primary",style:m.buttonNext,type:"button",...o}),p&&!i&&(x.skip=F.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button",...s})),!c&&r>0&&(x.back=F.createElement("button",{"data-test-id":"button-back",style:m.buttonBack,type:"button",...e})),x.close=!d&&F.createElement(MKe,{"data-test-id":"button-close",styles:m.buttonClose,...n}),F.createElement("div",{key:"JoyrideTooltip","aria-label":ou(y??u),className:"react-joyride__tooltip",style:m.tooltip,...l},F.createElement("div",{style:m.tooltipContainer},y&&F.createElement("h1",{"aria-label":ou(y),style:m.tooltipTitle},y),F.createElement("div",{style:m.tooltipContent},u)),!h&&F.createElement("div",{style:m.tooltipFooter},F.createElement("div",{style:m.tooltipFooterSpacer},x.skip),x.back,x.primary),x.close)}var DKe=NKe,LKe=class extends F.Component{constructor(){super(...arguments),vt(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),vt(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),vt(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),vt(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),vt(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{back:s,close:a,last:l,next:u,nextLabelWithProgress:c,skip:d}=o.locale,h=ou(s),p=ou(a),m=ou(l),y=ou(u),x=ou(d);let _=a,E=p;if(t){if(_=u,E=y,o.showProgress&&!n){const S=ou(c,{step:e+1,steps:i});_=v$(c,e+1,i),E=S}n&&(_=l,E=m)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":p,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:p},primaryProps:{"aria-label":E,children:_,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:E},skipProps:{"aria-label":x,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:x},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{beaconComponent:s,tooltipComponent:a,...l}=o;let u;if(a){const c={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:l,setTooltipRef:r},d=a;u=F.createElement(d,{...c})}else u=F.createElement(DKe,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:o});return u}},OKe=class extends F.Component{constructor(){super(...arguments),vt(this,"scope",null),vt(this,"tooltip",null),vt(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Jt.TOOLTIP})}),vt(this,"setTooltipRef",t=>{this.tooltip=t}),vt(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:o,store:s}=this.props;e==="wrapper"?s.setPopper("beacon",t):s.setPopper("tooltip",t),s.getPopper("beacon")&&(s.getPopper("tooltip")||o.placement==="center")&&i===Jt.INIT&&s.update({action:r,lifecycle:Jt.READY}),(n=o.floaterProps)!=null&&n.getPopper&&o.floaterProps.getPopper(t,e)}),vt(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:o}=this.props;return F.createElement(LKe,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:o,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;ig({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:o,debug:s,helpers:a,index:l,lifecycle:u,shouldScroll:c,status:d,step:h,store:p}=this.props,{changed:m,changedFrom:y}=dA(t,this.props),x=a.info(),_=i&&n!==$n.CLOSE&&(l>0||n===$n.PREV),E=m("action")||m("index")||m("lifecycle")||m("status"),S=y("lifecycle",[Jt.TOOLTIP,Jt.INIT],Jt.INIT),T=m("action",[$n.NEXT,$n.PREV,$n.SKIP,$n.CLOSE]),I=o&&l===t.index;if(T&&(S||I)&&r({...x,index:t.index,lifecycle:Jt.COMPLETE,step:t.step,type:ks.STEP_AFTER}),h.placement==="center"&&d===un.RUNNING&&m("index")&&n!==$n.START&&u===Jt.INIT&&p.update({lifecycle:Jt.READY}),E){const N=Lc(h.target),R=!!N;R&&lKe(N)?(y("status",un.READY,un.RUNNING)||y("lifecycle",Jt.INIT,Jt.READY))&&r({...x,step:h,type:ks.STEP_BEFORE}):(console.warn(R?"Target not visible":"Target not mounted",h),r({...x,type:ks.TARGET_NOT_FOUND,step:h}),o||p.update({index:l+(n===$n.PREV?-1:1)}))}y("lifecycle",Jt.INIT,Jt.READY)&&p.update({lifecycle:fY(h)||_?Jt.TOOLTIP:Jt.BEACON}),m("index")&&ig({title:`step:${u}`,data:[{key:"props",value:this.props}],debug:s}),m("lifecycle",Jt.BEACON)&&r({...x,step:h,type:ks.BEACON}),m("lifecycle",Jt.TOOLTIP)&&(r({...x,step:h,type:ks.TOOLTIP}),c&&this.tooltip&&(this.scope=new PKe(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),y("lifecycle",[Jt.TOOLTIP,Jt.INIT],Jt.INIT)&&((e=this.scope)==null||e.removeScope(),p.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return fY(e)||t===Jt.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:o,step:s}=this.props,a=Lc(s.target);return!Ese(s)||!mt.domElement(a)?null:F.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},F.createElement(U3,{...s.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:s.placement,target:s.target},F.createElement(IKe,{beaconComponent:s.beaconComponent,continuous:t,index:n,isLastStep:n+1===o,locale:s.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:o,step:s,styles:s.styles})))}},Tse=class extends F.Component{constructor(t){super(t),vt(this,"helpers"),vt(this,"store"),vt(this,"callback",s=>{const{callback:a}=this.props;mt.function(a)&&a(s)}),vt(this,"handleKeyboard",s=>{const{index:a,lifecycle:l}=this.state,{steps:u}=this.props,c=u[a];l===Jt.TOOLTIP&&s.code==="Escape"&&c&&!c.disableCloseOnEsc&&this.store.close("keyboard")}),vt(this,"handleClickOverlay",()=>{const{index:s}=this.state,{steps:a}=this.props;Pm(this.props,a[s]).disableOverlayClose||this.helpers.close("overlay")}),vt(this,"syncState",s=>{this.setState(s)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=EKe({...t,controlled:r&&mt.number(i)}),this.helpers=this.store.getHelpers();const{addListener:o}=this.store;ig({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),o(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Qd())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;gY(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!Qd())return;const{action:n,controlled:r,index:i,status:o}=this.state,{debug:s,run:a,stepIndex:l,steps:u}=this.props,{stepIndex:c,steps:d}=t,{reset:h,setSteps:p,start:m,stop:y,update:x}=this.store,{changed:_}=dA(t,this.props),{changed:E,changedFrom:S}=dA(e,this.state),T=Pm(this.props,u[i]),I=!Eo(d,u),N=mt.number(l)&&_("stepIndex"),R=Lc(T.target);if(I&&(gY(u,s)?p(u):console.warn("Steps are not valid",u)),_("run")&&(a?m(l):y()),N){let k=mt.number(c)&&c<l?$n.NEXT:$n.PREV;n===$n.STOP&&(k=$n.START),[un.FINISHED,un.SKIPPED].includes(o)||x({action:n===$n.CLOSE?$n.CLOSE:k,index:l,lifecycle:Jt.INIT})}!r&&o===un.RUNNING&&i===0&&!R&&(this.store.update({index:i+1}),this.callback({...this.state,type:ks.TARGET_NOT_FOUND,step:T}));const M={...this.state,index:i,step:T};if(E("action",[$n.NEXT,$n.PREV,$n.SKIP,$n.CLOSE])&&E("status",un.PAUSED)){const k=Pm(this.props,u[e.index]);this.callback({...M,index:e.index,lifecycle:Jt.COMPLETE,step:k,type:ks.STEP_AFTER})}if(E("status",[un.FINISHED,un.SKIPPED])){const k=Pm(this.props,u[e.index]);r||this.callback({...M,index:e.index,lifecycle:Jt.COMPLETE,step:k,type:ks.STEP_AFTER}),this.callback({...M,type:ks.TOUR_END,step:k,index:e.index}),h()}else S("status",[un.IDLE,un.READY],un.RUNNING)?this.callback({...M,type:ks.TOUR_START}):(E("status")||E("action",$n.RESET))&&this.callback({...M,type:ks.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:o=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:u}=this.props,c=Pm(this.props,u[e]),d=Lc(c.target),h=mKe({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:l,step:c,target:d});if(r===un.RUNNING&&h){const p=xP(d,o),m=Tw(d,o);let y=Math.floor(cKe(d,a,o))||0;ig({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const x=this.store.getPopper("beacon"),_=this.store.getPopper("tooltip");if(n===Jt.BEACON&&x){const{offsets:E,placement:S}=x;!["bottom"].includes(S)&&!p&&(y=Math.floor(E.popper.top-a))}else if(n===Jt.TOOLTIP&&_){const{flipped:E,offsets:S,placement:T}=_;["top","right","left"].includes(T)&&!E&&!p?y=Math.floor(S.popper.top-a):y-=c.spotlightPadding}y=y>=0?y:0,r===un.RUNNING&&dKe(y,{element:m,duration:s}).then(()=>{setTimeout(()=>{var E;(E=this.store.getPopper("tooltip"))==null||E.instance.update()},10)})}}render(){if(!Qd())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:o,scrollToFirstStep:s=!1,steps:a}=this.props,l=n===un.RUNNING,u={};if(l&&a[t]){const c=Pm(this.props,a[t]);u.step=F.createElement(OKe,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:o,shouldScroll:!c.disableScrolling&&(t!==0||s),step:c,store:this.store}),u.overlay=F.createElement(RKe,{id:"react-joyride-portal"},F.createElement(AKe,{...c,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return F.createElement("div",{className:"react-joyride"},u.step,u.overlay)}};vt(Tse,"defaultProps",bKe);var FKe=Tse,Qs=typeof window<"u"?window:null,H3=Qs===null,Aw=H3?void 0:Qs.document,Ma="addEventListener",Na="removeEventListener",ZD="getBoundingClientRect",Nb="_a",Da="_b",rc="_c",JE="horizontal",La=function(){return!1},$Ke=H3?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Aw.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Ase=function(t){return typeof t=="string"||t instanceof String},yY=function(t){if(Ase(t)){var e=Aw.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ki=function(t,e,n){var r=t[e];return r!==void 0?r:n},QE=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},BKe=function(t,e){var n=Aw.createElement("div");return n.className="gutter gutter-"+e,n},VKe=function(t,e,n){var r={};return Ase(e)?r[t]=e:r[t]=$Ke+"("+e+"% - "+n+"px)",r},zKe=function(t,e){var n;return n={},n[t]=e+"px",n},vY=function(t,e){if(e===void 0&&(e={}),H3)return{};var n=t,r,i,o,s,a,l;Array.from&&(n=Array.from(n));var u=yY(n[0]),c=u.parentNode,d=getComputedStyle?getComputedStyle(c):null,h=d?d.flexDirection:null,p=Ki(e,"sizes")||n.map(function(){return 100/n.length}),m=Ki(e,"minSize",100),y=Array.isArray(m)?m:n.map(function(){return m}),x=Ki(e,"maxSize",1/0),_=Array.isArray(x)?x:n.map(function(){return x}),E=Ki(e,"expandToMin",!1),S=Ki(e,"gutterSize",10),T=Ki(e,"gutterAlign","center"),I=Ki(e,"snapOffset",30),N=Array.isArray(I)?I:n.map(function(){return I}),R=Ki(e,"dragInterval",1),M=Ki(e,"direction",JE),L=Ki(e,"cursor",M===JE?"col-resize":"row-resize"),k=Ki(e,"gutter",BKe),D=Ki(e,"elementStyle",VKe),V=Ki(e,"gutterStyle",zKe);M===JE?(r="width",i="clientX",o="left",s="right",a="clientWidth"):M==="vertical"&&(r="height",i="clientY",o="top",s="bottom",a="clientHeight");function $(se,ce,he,ve){var be=D(r,ce,he,ve);Object.keys(be).forEach(function(Re){se.style[Re]=be[Re]})}function H(se,ce,he){var ve=V(r,ce,he);Object.keys(ve).forEach(function(be){se.style[be]=ve[be]})}function G(){return l.map(function(se){return se.size})}function K(se){return"touches"in se?se.touches[0][i]:se[i]}function J(se){var ce=l[this.a],he=l[this.b],ve=ce.size+he.size;ce.size=se/this.size*ve,he.size=ve-se/this.size*ve,$(ce.element,ce.size,this[Da],ce.i),$(he.element,he.size,this[rc],he.i)}function ee(se){var ce,he=l[this.a],ve=l[this.b];this.dragging&&(ce=K(se)-this.start+(this[Da]-this.dragOffset),R>1&&(ce=Math.round(ce/R)*R),ce<=he.minSize+he.snapOffset+this[Da]?ce=he.minSize+this[Da]:ce>=this.size-(ve.minSize+ve.snapOffset+this[rc])&&(ce=this.size-(ve.minSize+this[rc])),ce>=he.maxSize-he.snapOffset+this[Da]?ce=he.maxSize+this[Da]:ce<=this.size-(ve.maxSize-ve.snapOffset+this[rc])&&(ce=this.size-(ve.maxSize+this[rc])),J.call(this,ce),Ki(e,"onDrag",La)(G()))}function X(){var se=l[this.a].element,ce=l[this.b].element,he=se[ZD](),ve=ce[ZD]();this.size=he[r]+ve[r]+this[Da]+this[rc],this.start=he[o],this.end=he[s]}function j(se){if(!getComputedStyle)return null;var ce=getComputedStyle(se);if(!ce)return null;var he=se[a];return he===0?null:(M===JE?he-=parseFloat(ce.paddingLeft)+parseFloat(ce.paddingRight):he-=parseFloat(ce.paddingTop)+parseFloat(ce.paddingBottom),he)}function Y(se){var ce=j(c);if(ce===null||y.reduce(function(Re,pe){return Re+pe},0)>ce)return se;var he=0,ve=[],be=se.map(function(Re,pe){var Ce=ce*Re/100,$e=QE(S,pe===0,pe===se.length-1,T),De=y[pe]+$e;return Ce<De?(he+=De-Ce,ve.push(0),De):(ve.push(Ce-De),Ce)});return he===0?se:be.map(function(Re,pe){var Ce=Re;if(he>0&&ve[pe]-he>0){var $e=Math.min(he,ve[pe]-he);he-=$e,Ce=Re-$e}return Ce/ce*100})}function ae(){var se=this,ce=l[se.a].element,he=l[se.b].element;se.dragging&&Ki(e,"onDragEnd",La)(G()),se.dragging=!1,Qs[Na]("mouseup",se.stop),Qs[Na]("touchend",se.stop),Qs[Na]("touchcancel",se.stop),Qs[Na]("mousemove",se.move),Qs[Na]("touchmove",se.move),se.stop=null,se.move=null,ce[Na]("selectstart",La),ce[Na]("dragstart",La),he[Na]("selectstart",La),he[Na]("dragstart",La),ce.style.userSelect="",ce.style.webkitUserSelect="",ce.style.MozUserSelect="",ce.style.pointerEvents="",he.style.userSelect="",he.style.webkitUserSelect="",he.style.MozUserSelect="",he.style.pointerEvents="",se.gutter.style.cursor="",se.parent.style.cursor="",Aw.body.style.cursor=""}function q(se){if(!("button"in se&&se.button!==0)){var ce=this,he=l[ce.a].element,ve=l[ce.b].element;ce.dragging||Ki(e,"onDragStart",La)(G()),se.preventDefault(),ce.dragging=!0,ce.move=ee.bind(ce),ce.stop=ae.bind(ce),Qs[Ma]("mouseup",ce.stop),Qs[Ma]("touchend",ce.stop),Qs[Ma]("touchcancel",ce.stop),Qs[Ma]("mousemove",ce.move),Qs[Ma]("touchmove",ce.move),he[Ma]("selectstart",La),he[Ma]("dragstart",La),ve[Ma]("selectstart",La),ve[Ma]("dragstart",La),he.style.userSelect="none",he.style.webkitUserSelect="none",he.style.MozUserSelect="none",he.style.pointerEvents="none",ve.style.userSelect="none",ve.style.webkitUserSelect="none",ve.style.MozUserSelect="none",ve.style.pointerEvents="none",ce.gutter.style.cursor=L,ce.parent.style.cursor=L,Aw.body.style.cursor=L,X.call(ce),ce.dragOffset=K(se)-ce.end}}p=Y(p);var Q=[];l=n.map(function(se,ce){var he={element:yY(se),size:p[ce],minSize:y[ce],maxSize:_[ce],snapOffset:N[ce],i:ce},ve;if(ce>0&&(ve={a:ce-1,b:ce,dragging:!1,direction:M,parent:c},ve[Da]=QE(S,ce-1===0,!1,T),ve[rc]=QE(S,!1,ce===n.length-1,T),h==="row-reverse"||h==="column-reverse")){var be=ve.a;ve.a=ve.b,ve.b=be}if(ce>0){var Re=k(ce,M,he.element);H(Re,S,ce),ve[Nb]=q.bind(ve),Re[Ma]("mousedown",ve[Nb]),Re[Ma]("touchstart",ve[Nb]),c.insertBefore(Re,he.element),ve.gutter=Re}return $(he.element,he.size,QE(S,ce===0,ce===n.length-1,T),ce),ce>0&&Q.push(ve),he});function te(se){var ce=se.i===Q.length,he=ce?Q[se.i-1]:Q[se.i];X.call(he);var ve=ce?he.size-se.minSize-he[rc]:se.minSize+he[Da];J.call(he,ve)}l.forEach(function(se){var ce=se.element[ZD]()[r];ce<se.minSize&&(E?te(se):se.minSize=ce)});function ue(se){var ce=Y(se);ce.forEach(function(he,ve){if(ve>0){var be=Q[ve-1],Re=l[be.a],pe=l[be.b];Re.size=ce[ve-1],pe.size=he,$(Re.element,Re.size,be[Da],Re.i),$(pe.element,pe.size,be[rc],pe.i)}})}function de(se,ce){Q.forEach(function(he){if(ce!==!0?he.parent.removeChild(he.gutter):(he.gutter[Na]("mousedown",he[Nb]),he.gutter[Na]("touchstart",he[Nb])),se!==!0){var ve=D(r,he.a.size,he[Da]);Object.keys(ve).forEach(function(be){l[he.a].element.style[be]="",l[he.b].element.style[be]=""})}})}return{setSizes:ue,getSizes:G,collapse:function(ce){te(l[ce])},destroy:de,parent:c,pairs:Q}};function eL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var q3=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,o=eL(r,["children","gutter"]),s=o;s.gutter=function(a,l){var u;return i?u=i(a,l):(u=document.createElement("div"),u.className="gutter gutter-"+l),u.__isSplitGutter=!0,u},this.split=vY(this.parent.children,s)},e.prototype.componentDidUpdate=function(r){var i=this,o=this.props;o.children;var s=o.minSize,a=o.sizes,l=o.collapsed,u=eL(o,["children","minSize","sizes","collapsed"]),c=u,d=r.minSize,h=r.sizes,p=r.collapsed,m=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],y=m.map(function(E){return i.props[E]!==r[E]}).reduce(function(E,S){return E||S},!1);if(Array.isArray(s)&&Array.isArray(d)){var x=!1;s.forEach(function(E,S){x=x||E!==d[S]}),y=y||x}else Array.isArray(s)||Array.isArray(d)?y=!0:y=y||s!==d;if(y)c.minSize=s,c.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(E,S,T){return T.previousSibling},this.split=vY(Array.from(this.parent.children).filter(function(E){return!E.__isSplitGutter}),c);else if(a){var _=!1;a.forEach(function(E,S){_=_||E!==h[S]}),_&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==p||y)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var o=i.children,s=eL(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=s;return oe.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),o)},e}(oe.Component);q3.propTypes={sizes:me.arrayOf(me.number),minSize:me.oneOfType([me.number,me.arrayOf(me.number)]),maxSize:me.oneOfType([me.number,me.arrayOf(me.number)]),expandToMin:me.bool,gutterSize:me.number,gutterAlign:me.string,snapOffset:me.oneOfType([me.number,me.arrayOf(me.number)]),dragInterval:me.number,direction:me.string,cursor:me.string,gutter:me.func,elementStyle:me.func,gutterStyle:me.func,onDrag:me.func,onDragStart:me.func,onDragEnd:me.func,collapsed:me.number,children:me.arrayOf(me.element)};q3.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};function rT(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UKe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Rse(t){let e,n,r;t.length!==2?(e=rT,n=(a,l)=>rT(t(a),l),r=(a,l)=>t(a)-l):(e=t===rT||t===UKe?t:HKe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function HKe(){return 0}function qKe(t){return t===null?NaN:+t}const jKe=Rse(rT),WKe=jKe.right;Rse(qKe).center;const GKe=Math.sqrt(50),KKe=Math.sqrt(10),YKe=Math.sqrt(2);function gA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=GKe?10:o>=KKe?5:o>=YKe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?gA(t,e,n*2):[a,l,u]}function XKe(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?gA(e,t,n):gA(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function b$(t,e,n){return e=+e,t=+t,n=+n,gA(t,e,n)[2]}function JKe(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?b$(e,t,n):b$(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function QKe(t){return t}var iT=1,tL=2,bY=3,bx=4,xY=1e-6;function ZKe(t){return"translate("+t+",0)"}function eYe(t){return"translate(0,"+t+")"}function tYe(t){return e=>+t(e)}function nYe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function rYe(){return!this.__axis}function Pse(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===iT||t===bx?-1:1,c=t===bx||t===tL?"x":"y",d=t===iT||t===bY?ZKe:eYe;function h(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):QKe),x=Math.max(o,0)+a,_=e.range(),E=+_[0]+l,S=+_[_.length-1]+l,T=(e.bandwidth?nYe:tYe)(e.copy(),l),I=p.selection?p.selection():p,N=I.selectAll(".domain").data([null]),R=I.selectAll(".tick").data(m,e).order(),M=R.exit(),L=R.enter().append("g").attr("class","tick"),k=R.select("line"),D=R.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(L),k=k.merge(L.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),D=D.merge(L.append("text").attr("fill","currentColor").attr(c,u*x).attr("dy",t===iT?"0em":t===bY?"0.71em":"0.32em")),p!==I&&(N=N.transition(p),R=R.transition(p),k=k.transition(p),D=D.transition(p),M=M.transition(p).attr("opacity",xY).attr("transform",function(V){return isFinite(V=T(V))?d(V+l):this.getAttribute("transform")}),L.attr("opacity",xY).attr("transform",function(V){var $=this.parentNode.__axis;return d(($&&isFinite($=$(V))?$:T(V))+l)})),M.remove(),N.attr("d",t===bx||t===tL?s?"M"+u*s+","+E+"H"+l+"V"+S+"H"+u*s:"M"+l+","+E+"V"+S:s?"M"+E+","+u*s+"V"+l+"H"+S+"V"+u*s:"M"+E+","+l+"H"+S),R.attr("opacity",1).attr("transform",function(V){return d(T(V)+l)}),k.attr(c+"2",u*o),D.attr(c,u*x).text(y),I.filter(rYe).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===tL?"start":t===bx?"end":"middle"),I.each(function(){this.__axis=T})}return h.scale=function(p){return arguments.length?(e=p,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(o=s=+p,h):o},h.tickSizeInner=function(p){return arguments.length?(o=+p,h):o},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(a=+p,h):a},h.offset=function(p){return arguments.length?(l=+p,h):l},h}function iYe(t){return Pse(iT,t)}function oYe(t){return Pse(bx,t)}const x$=Math.PI,w$=2*x$,kh=1e-6,sYe=w$-kh;function Ise(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function aYe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ise;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lYe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ise:aYe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>kh)if(!(Math.abs(d*l-u*c)>kh)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=i-a,y=l*l+u*u,x=p*p+m*m,_=Math.sqrt(y),E=Math.sqrt(h),S=o*Math.tan((x$-Math.acos((y+h-x)/(2*_*E)))/2),T=S/E,I=S/_;Math.abs(T-1)>kh&&this._append`L${e+T*c},${n+T*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=e+I*l},${this._y1=n+I*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>kh||Math.abs(this._y1-c)>kh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%w$+w$),h>sYe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>kh&&this._append`A${r},${r},0,${+(h>=x$)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uYe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function mA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function r0(t){return t=mA(Math.abs(t)),t?t[1]:NaN}function cYe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function dYe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yA(t){if(!(e=fYe.exec(t)))throw new Error("invalid format: "+t);var e;return new j3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yA.prototype=j3.prototype;function j3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}j3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hYe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var kse;function pYe(t,e){var n=mA(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(kse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mA(t,Math.max(0,e+o-1))[0]}function wY(t,e){var n=mA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _Y={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uYe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wY(t*100,e),r:wY,s:pYe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SY(t){return t}var EY=Array.prototype.map,CY=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function gYe(t){var e=t.grouping===void 0||t.thousands===void 0?SY:cYe(EY.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?SY:dYe(EY.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=yA(d);var h=d.fill,p=d.align,m=d.sign,y=d.symbol,x=d.zero,_=d.width,E=d.comma,S=d.precision,T=d.trim,I=d.type;I==="n"?(E=!0,I="g"):_Y[I]||(S===void 0&&(S=12),T=!0,I="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=y==="$"?n:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",R=y==="$"?r:/[%p]/.test(I)?s:"",M=_Y[I],L=/[defgprs%]/.test(I);S=S===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function k(D){var V=N,$=R,H,G,K;if(I==="c")$=M(D)+$,D="";else{D=+D;var J=D<0||1/D<0;if(D=isNaN(D)?l:M(Math.abs(D),S),T&&(D=hYe(D)),J&&+D==0&&m!=="+"&&(J=!1),V=(J?m==="("?m:a:m==="-"||m==="("?"":m)+V,$=(I==="s"?CY[8+kse/3]:"")+$+(J&&m==="("?")":""),L){for(H=-1,G=D.length;++H<G;)if(K=D.charCodeAt(H),48>K||K>57){$=(K===46?i+D.slice(H+1):D.slice(H))+$,D=D.slice(0,H);break}}}E&&!x&&(D=e(D,1/0));var ee=V.length+D.length+$.length,X=ee<_?new Array(_-ee+1).join(h):"";switch(E&&x&&(D=e(X+D,X.length?_-$.length:1/0),X=""),p){case"<":D=V+D+$+X;break;case"=":D=V+X+D+$;break;case"^":D=X.slice(0,ee=X.length>>1)+V+D+$+X.slice(ee);break;default:D=X+V+D+$;break}return o(D)}return k.toString=function(){return d+""},k}function c(d,h){var p=u((d=yA(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(r0(h)/3)))*3,y=Math.pow(10,-m),x=CY[8+m/3];return function(_){return p(y*_)+x}}return{format:u,formatPrefix:c}}var ZE,Mse,Nse;mYe({thousands:",",grouping:[3],currency:["$",""]});function mYe(t){return ZE=gYe(t),Mse=ZE.format,Nse=ZE.formatPrefix,ZE}function yYe(t){return Math.max(0,-r0(Math.abs(t)))}function vYe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r0(e)/3)))*3-r0(Math.abs(t)))}function bYe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,r0(e)-r0(t))+1}function xYe(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function wYe(t){return function(){return t}}function _Ye(t){return+t}var TY=[0,1];function hy(t){return t}function _$(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:wYe(isNaN(e)?NaN:.5)}function SYe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function EYe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=_$(i,r),o=n(s,o)):(r=_$(r,i),o=n(o,s)),function(a){return o(r(a))}}function CYe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=_$(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=WKe(t,a,1,r)-1;return o[l](i[l](a))}}function TYe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function AYe(){var t=TY,e=TY,n=yy,r,i,o,s=hy,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==hy&&(s=SYe(t[0],t[h-1])),a=h>2?CYe:EYe,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Za)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,_Ye),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=Vce,c()},d.clamp=function(h){return arguments.length?(s=h?!0:hy,c()):s!==hy},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function RYe(){return AYe()(hy,hy)}function PYe(t,e,n,r){var i=JKe(t,e,n),o;switch(r=yA(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=vYe(i,s))&&(r.precision=o),Nse(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bYe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=yYe(i))&&(r.precision=o-(r.type==="%")*2);break}}return Mse(r)}function IYe(t){var e=t.domain;return t.ticks=function(n){var r=e();return XKe(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return PYe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=b$(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function S$(){var t=RYe();return t.copy=function(){return TYe(t,S$())},xYe.apply(t,arguments),IYe(t)}function Im(t){return function(){return t}}function kYe(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lYe(e)}function MYe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dse(t){this._context=t}Dse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function NYe(t){return new Dse(t)}function DYe(t){return t[0]}function LYe(t){return t[1]}function OYe(t,e){var n=Im(!0),r=null,i=NYe,o=null,s=kYe(a);t=typeof t=="function"?t:t===void 0?DYe:Im(t),e=typeof e=="function"?e:e===void 0?LYe:Im(e);function a(l){var u,c=(l=MYe(l)).length,d,h=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Im(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Im(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Im(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}const Db=t=>{const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);return r>0?`${r}h ${n%60}m`:n>0?`${n}m ${e%60}s`:`${e}s`},FYe=()=>{var L,k;const{usersDict:t,papersDict:e}=Wf(),{selectedAnalyticsPapersId:n,selectedAnalyticsUsersId:r,userPaperReadSessions:i,userPaperHighlights:o,userPaperPurposes:s,maxDuration:a,analyticsLevel:l,selectedPaper:u,selectedUser:c,handlePaperClick:d,handleUserClick:h,handleBreadcrumbClick:p,totalTime:m,paperStats:y,userPaperStats:x,userPurposeStats:_}=x1(),[E,S]=F.useState(!1),T="#6cc0f5";F.useEffect(()=>{Object.keys(i).length>0&&I()},[i]),F.useEffect(()=>{N()},[E,l]);const I=()=>{const D=Bi("#timeline-container");if(!D)return;const V=D.node();if(!V)return;const $=V.clientWidth,H=V.clientHeight,G={top:20,right:20,bottom:20,left:20},K=45,J=35,ee=$-G.left-G.right-K,X=H-G.top-G.bottom-J;D.selectAll("svg").remove();const j=D.append("svg").attr("width",$).attr("height",H);j.append("text").attr("x",G.left+K+ee/2).attr("y",G.top).attr("text-anchor","middle").attr("font-size","14px").text("Time (minutes)"),j.append("text").attr("transform",`translate(${G.left}, ${G.top+J+X/2}) rotate(-90)`).attr("text-anchor","middle").attr("font-size","14px").text("Page Number (%)");const Y=j.append("g").attr("transform",`translate(${G.left+K}, ${G.top+J})`).attr("width",ee).attr("height",X),ae=S$().domain([0,a]).range([0,ee]),q=iYe(ae).tickSizeOuter(0).tickFormat(de=>`${(de/(1e3*60)).toFixed(1)}`);Y.append("g").call(q);const Q=S$().domain([0,100]).range([0,X]),te=oYe(Q).tickSizeOuter(0).tickFormat(de=>`${de}%`);Y.append("g").call(te);const ue=OYe().x(de=>ae(de[0])).y(de=>Q(de[1]));Object.entries(i).forEach(([de,se])=>{const[ce,he]=de.split("_"),ve=Y.append("g").attr("id",`timeline_${ce}_${he}`);let be=0;const Re=o[`${ce}_${he}`]||[];se.sort((pe,Ce)=>pe.startTime-Ce.startTime).forEach(pe=>{const Ce=pe.scrollSequence.map((De,ke)=>[ke*Yee+be,De*100]),$e=ve.append("g").attr("id",`read_session_${pe.id}`);$e.append("path").attr("id",`path_${pe.readPurposeId}_${pe.id}`).attr("d",ue(Ce)).attr("fill","none").attr("stroke","grey").attr("stroke-width",1.5),Re.filter(De=>De.sessionId===pe.id).forEach(De=>{const ke=De.timestamp-pe.startTime+be;$e.append("circle").attr("id",`highlight_${pe.readPurposeId}_${pe.id}_${De.id}`).attr("cx",ae(ke)).attr("cy",Q(De.posPercentage*100)).attr("r",2).attr("fill",E?T:"none").attr("stroke","none").attr("stroke-width",.5)}),be+=pe.duration})}),N()},N=()=>{Object.keys(i).length!==0&&Object.entries(i).forEach(([D,V])=>{const[$,H]=D.split("_");R($,H)})},R=(D,V)=>{const $=Bi(`#timeline_${D}_${V}`);if(!$)return;let H=!0;switch(l){default:case sr.PAPERS:break;case sr.USERS:H=u===V;break;case sr.PURPOSES:H=u===V&&c===D;break}$.selectAll("path").each((G,K,J)=>{var X,j;const ee=Bi(J[K]);if(H)if(l===sr.PURPOSES){const Y=ee.attr("id").split("_")[1],ae=(j=(X=s[`${D}_${V}`])==null?void 0:X.find(q=>q.id===Y))==null?void 0:j.color;ee.attr("stroke",ae||"grey")}else ee.attr("stroke","grey");else ee.attr("stroke","lightgrey")}),$.selectAll("circle").each((G,K,J)=>{var X,j;const ee=Bi(J[K]);if(H&&E)if(l===sr.PURPOSES){const Y=ee.attr("id").split("_")[1],ae=(j=(X=s[`${D}_${V}`])==null?void 0:X.find(q=>q.id===Y))==null?void 0:j.color;ee.attr("fill",ae||T).attr("stroke","none")}else ee.attr("fill",T).attr("stroke","none");else ee.attr("fill","none").attr("stroke","none")})},M=()=>l===sr.PAPERS?O.jsx(He,{sx:{display:"flex",flexDirection:"column",gap:2},children:y.map(D=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>d(D.paperId),children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[O.jsx(u5e,{color:"primary"}),O.jsx(Ze,{variant:"h6",sx:{color:"text.primary"},children:D.paperTitle}),O.jsx(NO,{label:`${D.userCount} users`,size:"small"})]}),O.jsxs(He,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Total Reading Time"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:Db(D.totalDuration)})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Average Time/User"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:Db(D.averageDuration)})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsxs(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:[D.totalHighlights," (",D.averageHighlights.toFixed(1)," avg)"]})]})]})]},D.paperId))}):l===sr.USERS?O.jsx(He,{sx:{display:"flex",flexDirection:"column",gap:2},children:x.map(D=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",backgroundColor:"action.hover"}},onClick:()=>h(D.userId),children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[O.jsx(A4,{color:"primary"}),O.jsx(Ze,{variant:"h6",sx:{color:"text.primary"},children:D.userName}),O.jsx(NO,{label:`${D.purposeCount} purposes`,size:"small"})]}),O.jsxs(He,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Reading Time"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:Db(D.duration)})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:D.highlightCount})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),O.jsxs(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:[D.textHighlightCount,"/",D.imageHighlightCount]})]})]}),D.lastReadTime>0&&O.jsx(He,{sx:{mt:1},children:O.jsxs(Ze,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(D.lastReadTime).toLocaleDateString()]})})]},D.userId))}):l===sr.PURPOSES?O.jsx(He,{sx:{display:"flex",flexDirection:"column",gap:2},children:_.map(D=>O.jsxs(au,{sx:{p:2,backgroundColor:"background.default",border:"1px solid",borderColor:"divider",borderLeft:4,borderLeftColor:D.purposeColor},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[O.jsx(P5e,{sx:{color:D.purposeColor}}),O.jsx(Ze,{variant:"h6",sx:{color:D.purposeColor},children:D.purposeTitle})]}),O.jsxs(He,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:2},children:[O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Reading Time"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:Db(D.duration)})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Total Highlights"}),O.jsx(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:D.highlightCount})]}),O.jsxs(He,{children:[O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"Text/Image Highlights"}),O.jsxs(Ze,{variant:"body1",sx:{fontWeight:"medium"},children:[D.textHighlightCount,"/",D.imageHighlightCount]})]})]}),D.lastReadTime>0&&O.jsx(He,{sx:{mt:1},children:O.jsxs(Ze,{variant:"body2",color:"text.secondary",children:["Last Read: ",new Date(D.lastReadTime).toLocaleDateString()]})})]},D.purposeId))}):null;return O.jsxs(He,{sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[(r.length===0||n.length===0)&&O.jsx(He,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",p:4},children:O.jsxs(He,{sx:{p:4,borderRadius:3,backgroundColor:"background.paper",border:"2px dashed",borderColor:"divider",maxWidth:"400px",width:"100%"},children:[O.jsx(dne,{sx:{fontSize:"4rem",color:"text.secondary",mb:2,opacity:.7}}),O.jsx(Ze,{variant:"h6",sx:{mb:2,color:"text.primary",fontWeight:"medium"},children:"Ready for Analytics"}),O.jsx(Ze,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.6,mb:2},children:"Select papers and users from the left panel to begin analyzing reading patterns and insights."})]})}),r.length>0&&n.length>0&&O.jsxs(O.Fragment,{children:[O.jsxs(He,{sx:{boxSizing:"border-box",height:"50%",p:2,borderBottom:1,borderColor:"divider"},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[O.jsx(Ze,{variant:"h6",sx:{mb:2},children:"Reading Timeline"}),O.jsxs(He,{sx:{display:"flex",alignItems:"center"},children:[O.jsx(hne,{sx:{color:E?"primary.main":"text.secondary"}}),O.jsx(une,{checked:E,onChange:()=>S(!E),color:"primary"})]})]}),Object.keys(i).length>0?O.jsx(He,{id:"timeline-container",sx:{width:"100%",height:"calc(100% - 80px)"}}):O.jsx(au,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]}),O.jsxs(He,{sx:{boxSizing:"border-box",height:"50%",p:2,overflow:"auto"},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[O.jsx(Ze,{variant:"h6",children:"Reading Analytics Explorer"}),O.jsxs(Ze,{variant:"body2",color:"primary",children:["Total Time: ",Db(m)]})]}),O.jsxs(lLe,{sx:{mb:2},children:[O.jsx(zq,{component:"button",underline:l===sr.PAPERS?"none":"hover",onClick:()=>p(sr.PAPERS),sx:{fontWeight:l===sr.PAPERS?"bold":"normal"},children:"Papers"}),u&&O.jsx(zq,{component:"button",underline:l===sr.USERS?"none":"hover",onClick:()=>p(sr.USERS),sx:{fontWeight:l===sr.USERS?"bold":"normal"},children:((L=e[u])==null?void 0:L.title)||"Paper"}),c&&u&&O.jsx(Ze,{color:"text.primary",sx:{fontWeight:"bold"},children:((k=t[c])==null?void 0:k.name)||"User"})]}),M(),Object.keys(i).length===0&&O.jsx(au,{sx:{p:3,textAlign:"center",backgroundColor:"background.default"},children:O.jsx(Ze,{variant:"body2",color:"text.secondary",children:"No data available for the selected criteria."})})]})]})]})},$Ye=()=>{const{userData:t}=c0(),{selectedAnalyticsPapersId:e,togglePaperForAnalytics:n,toggleUserForAnalytics:r,selectedAnalyticsUsersId:i}=x1(),{mode:o,papersDict:s,usersDict:a,viewingPaperId:l,setViewingPaperId:u}=Wf(),[c,d]=F.useState(""),[h,p]=F.useState(""),[m,y]=F.useState([]),[x,_]=F.useState([]);F.useEffect(()=>{const N=Object.values(s).filter(R=>R.title.toLowerCase().includes(c.toLowerCase()));y(N)},[c]),F.useEffect(()=>{const N=Object.values(a).filter(R=>R.name.toLowerCase().includes(h.toLowerCase())).sort((R,M)=>R.name.localeCompare(M.name));_(N)},[h]);const E=N=>{n(N)},S=N=>{r(N)},T=()=>O.jsxs(He,{sx:{flex:o===So.ANALYZING&&(t==null?void 0:t.role)===sw.TEACHER?"1 1 50%":"1 1 100%",display:"flex",flexDirection:"column",minHeight:0},children:[O.jsx(Ze,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"Paper List"}),O.jsx(Ko,{placeholder:"Search papers...",value:c,onChange:N=>d(N.target.value),InputProps:{startAdornment:O.jsx(FO,{position:"start",children:O.jsx(BO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),O.jsxs(He,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[O.jsxs(Ze,{variant:"body2",color:"text.secondary",children:[m.length," paper",m.length!==1?"s":""," available"]}),o===So.ANALYZING&&O.jsxs(Ze,{variant:"body2",color:"primary",children:[e.length," selected"]})]}),O.jsx(Sy,{sx:{mb:1}}),O.jsxs(He,{sx:{flexGrow:1,overflow:"auto"},children:[O.jsx($O,{sx:{p:0},children:m.map(N=>{const R=l===N.id,M=e.includes(N.id);return O.jsx(Hq,{sx:{p:0,mb:1},children:O.jsx(He,{sx:{width:"100%",display:"flex",gap:1},children:O.jsx(He,{sx:{position:"relative",flex:1},children:O.jsxs(Uq,{onClick:()=>u(N.id),selected:R,sx:{borderRadius:1,border:R?"2px solid":"1px solid",borderColor:R?"primary.main":"divider",flex:1,"&:hover":{borderColor:"primary.main"},display:"flex",alignItems:"center",gap:1},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"flex-start",gap:1,flexGrow:1,minWidth:0},children:[O.jsx(b5e,{sx:{color:"text.secondary",fontSize:"1.2rem",mt:.5}}),O.jsx(He,{sx:{flexGrow:1,minWidth:0},children:O.jsx(Zp,{primary:N.title,primaryTypographyProps:{sx:{fontWeight:R?"bold":"normal",fontSize:"0.9rem",lineHeight:1.3,mb:.5}}})})]}),o===So.ANALYZING&&O.jsx(la,{size:"small",onClick:L=>{L.stopPropagation(),E(N.id)},sx:{p:0,flexShrink:0,color:M?"primary.main":"text.secondary","&:focus":{outline:"none"}},children:M?O.jsx(f5e,{fontSize:"small"}):O.jsx(h5e,{fontSize:"small"})})]})})})},N.id)})}),m.length===0&&O.jsx(He,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:O.jsx(Ze,{variant:"body2",children:c?"No papers match your search":"No papers available"})})]})]}),I=()=>o!==So.ANALYZING||(t==null?void 0:t.role)!==sw.TEACHER?null:O.jsxs(O.Fragment,{children:[O.jsx(Sy,{sx:{my:2,backgroundColor:"black",height:"1px"}}),O.jsxs(He,{sx:{flex:"1 1 50%",display:"flex",flexDirection:"column",minHeight:0},children:[O.jsx(Ze,{variant:"h6",sx:{mb:2,color:"text.primary"},children:"User List"}),O.jsx(Ko,{placeholder:"Search users...",value:h,onChange:N=>p(N.target.value),InputProps:{startAdornment:O.jsx(FO,{position:"start",children:O.jsx(BO,{})})},sx:{mb:2},size:"small",fullWidth:!0}),O.jsxs(He,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[O.jsxs(Ze,{variant:"body2",color:"text.secondary",children:[x.length," user",x.length!==1?"s":""," available"]}),O.jsxs(Ze,{variant:"body2",color:"primary",children:[i.length," selected"]})]}),O.jsx(Sy,{sx:{mb:1}}),O.jsxs(He,{sx:{flexGrow:1,overflow:"auto"},children:[O.jsx($O,{sx:{p:0},children:x.map(N=>{const R=N.id===(t==null?void 0:t.id),M=i.includes(N.id);return O.jsx(Hq,{sx:{p:0,mb:1},children:O.jsx(He,{sx:{width:"100%",display:"flex",gap:1},children:O.jsx(Uq,{sx:{borderRadius:1,border:"1px solid",borderColor:M?"primary.main":"divider",flex:1,backgroundColor:M?"action.selected":"transparent","&:hover":{borderColor:"primary.main"}},onClick:()=>S(N.id),children:O.jsx(He,{sx:{width:"100%"},children:O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(A4,{sx:{color:M?"primary.main":"text.secondary",fontSize:"1.2rem"}}),O.jsx(He,{sx:{flexGrow:1},children:O.jsx(Zp,{primary:N.name+(R?" (You)":""),primaryTypographyProps:{sx:{fontWeight:M?"bold":"normal",fontSize:"0.9rem",color:M?"primary.main":"text.primary"}},secondaryTypographyProps:{sx:{fontSize:"0.75rem"}}})}),M&&O.jsx(d5e,{color:"primary"})]})})})})},N.id)})}),x.length===0&&O.jsx(He,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px",color:"text.secondary"},children:O.jsx(Ze,{variant:"body2",children:h?"No users match your search":"No users available"})})]})]})]});return O.jsxs(He,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2},children:[T(),I()]})},BYe=()=>{const{mode:t,viewingPaperId:e}=Wf(),n=qR();F.useEffect(()=>{e||n("/papers")},[e]);const[r,i]=F.useState(!0),o=F.useContext(vR);if(!o)throw new Error("TourContext not found");const{setRunTour:s,runTour:a,steps:l,stepIndex:u,setStepIndex:c}=o,d=()=>{i(p=>!p)},h=p=>{var S;const{action:m,index:y,status:x,type:_,step:E}=p;[ks.STEP_AFTER,ks.TARGET_NOT_FOUND].includes(_)?(c(y+(m===$n.PREV?-1:1)),(S=E.data)!=null&&S.pause&&s(!1)):[un.FINISHED,un.SKIPPED].includes(x)&&(c(0),s(!1))};return O.jsxs(He,{sx:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"},children:[O.jsx("div",{style:{display:"none"},children:O.jsx(FKe,{continuous:!0,steps:l,run:a,callback:h,hideCloseButton:!0,disableOverlayClose:!0,stepIndex:u})}),O.jsx(He,{sx:{height:"8%",width:"100%",display:"flex"},children:O.jsx(iqe,{})}),O.jsxs(He,{sx:{width:"100%",height:"92%",position:"relative",display:"flex",flexDirection:"row"},children:[O.jsx(la,{onClick:d,sx:{position:"absolute",top:"50%",left:r?"15%":"0%",transform:"translateY(-50%)",zIndex:1e3,backgroundColor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:"0 8px 8px 0",borderLeft:r?"1px solid":"none","&:hover":{backgroundColor:"action.hover"},width:25,height:60,transition:"left 0.3s ease"},children:r?O.jsx(p5e,{}):O.jsx(g5e,{})}),O.jsx(He,{className:"panel paper-selector-panel",sx:{width:r?"15%":"0%"},children:O.jsx($Ye,{})}),O.jsxs(q3,{className:"split",style:{width:r?"85%":"100%"},sizes:[60,40],minSize:200,expandToMin:!1,gutterSize:10,gutterAlign:"center",snapOffset:30,dragInterval:1,direction:"horizontal",cursor:"col-resize",children:[O.jsx(He,{className:"panel paper-panel",children:O.jsx(gWe,{})}),O.jsxs(He,{className:"panel graph-panel",children:[t===So.READING&&O.jsx(f7e,{}),t===So.ANALYZING&&O.jsx(FYe,{})]})]})]})]})},VYe="/re-ad/re-ad-logo.svg",zYe="/re-ad/poster.png";function UYe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const HYe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qYe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jYe={};function AY(t,e){return(jYe.jsx?qYe:HYe).test(t)}const WYe=/[ \t\n\f\r]/g;function GYe(t){return typeof t=="object"?t.type==="text"?RY(t.value):!1:RY(t)}function RY(t){return t.replace(WYe,"")===""}class K1{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}K1.prototype.normal={};K1.prototype.property={};K1.prototype.space=void 0;function Lse(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new K1(n,r,e)}function E$(t){return t.toLowerCase()}class ls{constructor(e,n){this.attribute=n,this.property=e}}ls.prototype.attribute="";ls.prototype.booleanish=!1;ls.prototype.boolean=!1;ls.prototype.commaOrSpaceSeparated=!1;ls.prototype.commaSeparated=!1;ls.prototype.defined=!1;ls.prototype.mustUseProperty=!1;ls.prototype.number=!1;ls.prototype.overloadedBoolean=!1;ls.prototype.property="";ls.prototype.spaceSeparated=!1;ls.prototype.space=void 0;let KYe=0;const nn=Ag(),Yr=Ag(),C$=Ag(),Ge=Ag(),or=Ag(),Ty=Ag(),ws=Ag();function Ag(){return 2**++KYe}const T$=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:Yr,commaOrSpaceSeparated:ws,commaSeparated:Ty,number:Ge,overloadedBoolean:C$,spaceSeparated:or},Symbol.toStringTag,{value:"Module"})),nL=Object.keys(T$);class W3 extends ls{constructor(e,n,r,i){let o=-1;if(super(e,n),PY(this,"space",i),typeof r=="number")for(;++o<nL.length;){const s=nL[o];PY(this,nL[o],(r&T$[s])===T$[s])}}}W3.prototype.defined=!0;function PY(t,e,n){n&&(t[e]=n)}function E0(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new W3(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[E$(r)]=r,n[E$(o.attribute)]=r}return new K1(e,n,t.space)}const Ose=E0({properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:or,ariaCurrent:null,ariaDescribedBy:or,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:or,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:or,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:or,ariaLevel:Ge,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:or,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:or,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:Yr,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Fse(t,e){return e in t?t[e]:e}function $se(t,e){return Fse(t,e.toLowerCase())}const YYe=E0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ty,acceptCharset:or,accessKey:or,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:or,autoFocus:nn,autoPlay:nn,blocking:or,capture:null,charSet:null,checked:nn,cite:null,className:or,cols:Ge,colSpan:null,content:null,contentEditable:Yr,controls:nn,controlsList:or,coords:Ge|Ty,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:C$,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:or,height:Ge,hidden:C$,high:Ge,href:null,hrefLang:null,htmlFor:or,httpEquiv:or,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:or,itemRef:or,itemScope:nn,itemType:or,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:Ge,pattern:null,ping:or,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:or,required:nn,reversed:nn,rows:Ge,rowSpan:Ge,sandbox:or,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:Yr,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:or,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:Ge,security:null,unselectable:null},space:"html",transform:$se}),XYe=E0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ws,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:or,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ty,g2:Ty,glyphName:Ty,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:ws,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:or,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ws,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ws,rev:ws,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ws,requiredFeatures:ws,requiredFonts:ws,requiredFormats:ws,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:ws,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ws,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ws,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Fse}),Bse=E0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Vse=E0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$se}),zse=E0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),JYe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QYe=/[A-Z]/g,IY=/-[a-z]/g,ZYe=/^data[-\w.:]+$/i;function eXe(t,e){const n=E$(e);let r=e,i=ls;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZYe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(IY,nXe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!IY.test(o)){let s=o.replace(QYe,tXe);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=W3}return new i(r,e)}function tXe(t){return"-"+t.toLowerCase()}function nXe(t){return t.charAt(1).toUpperCase()}const rXe=Lse([Ose,YYe,Bse,Vse,zse],"html"),G3=Lse([Ose,XYe,Bse,Vse,zse],"svg");function iXe(t){return t.join(" ").trim()}var km={},rL,kY;function oXe(){if(kY)return rL;kY=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",c="*",d="",h="comment",p="declaration";rL=function(y,x){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];x=x||{};var _=1,E=1;function S($){var H=$.match(e);H&&(_+=H.length);var G=$.lastIndexOf(l);E=~G?$.length-G:E+$.length}function T(){var $={line:_,column:E};return function(H){return H.position=new I($),M(),H}}function I($){this.start=$,this.end={line:_,column:E},this.source=x.source}I.prototype.content=y;function N($){var H=new Error(x.source+":"+_+":"+E+": "+$);if(H.reason=$,H.filename=x.source,H.line=_,H.column=E,H.source=y,!x.silent)throw H}function R($){var H=$.exec(y);if(H){var G=H[0];return S(G),y=y.slice(G.length),H}}function M(){R(n)}function L($){var H;for($=$||[];H=k();)H!==!1&&$.push(H);return $}function k(){var $=T();if(!(u!=y.charAt(0)||c!=y.charAt(1))){for(var H=2;d!=y.charAt(H)&&(c!=y.charAt(H)||u!=y.charAt(H+1));)++H;if(H+=2,d===y.charAt(H-1))return N("End of comment missing");var G=y.slice(2,H-2);return E+=2,S(G),y=y.slice(H),E+=2,$({type:h,comment:G})}}function D(){var $=T(),H=R(r);if(H){if(k(),!R(i))return N("property missing ':'");var G=R(o),K=$({type:p,property:m(H[0].replace(t,d)),value:G?m(G[0].replace(t,d)):d});return R(s),K}}function V(){var $=[];L($);for(var H;H=D();)H!==!1&&($.push(H),L($));return $}return M(),V()};function m(y){return y?y.replace(a,d):d}return rL}var MY;function sXe(){if(MY)return km;MY=1;var t=km&&km.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(km,"__esModule",{value:!0}),km.default=n;var e=t(oXe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,e.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,c=l.value;a?i(u,c,l):c&&(o=o||{},o[u]=c)}}),o}return km}var Lb={},NY;function aXe(){if(NY)return Lb;NY=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||t.test(u)},s=function(u,c){return c.toUpperCase()},a=function(u,c){return"".concat(c,"-")},l=function(u,c){return c===void 0&&(c={}),o(u)?u:(u=u.toLowerCase(),c.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(e,s))};return Lb.camelCase=l,Lb}var Ob,DY;function lXe(){if(DY)return Ob;DY=1;var t=Ob&&Ob.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(sXe()),n=aXe();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,Ob=r,Ob}var uXe=lXe();const cXe=lo(uXe),Use=Hse("end"),K3=Hse("start");function Hse(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dXe(t){const e=K3(t),n=Use(t);if(e&&n)return{start:e,end:n}}function Bx(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?LY(t.position):"start"in t||"end"in t?LY(t):"line"in t||"column"in t?A$(t):""}function A$(t){return OY(t&&t.line)+":"+OY(t&&t.column)}function LY(t){return A$(t&&t.start)+"-"+A$(t&&t.end)}function OY(t){return t&&typeof t=="number"?t:1}class co extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Bx(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}co.prototype.file="";co.prototype.name="";co.prototype.reason="";co.prototype.message="";co.prototype.stack="";co.prototype.column=void 0;co.prototype.line=void 0;co.prototype.ancestors=void 0;co.prototype.cause=void 0;co.prototype.fatal=void 0;co.prototype.place=void 0;co.prototype.ruleId=void 0;co.prototype.source=void 0;const Y3={}.hasOwnProperty,fXe=new Map,hXe=/[A-Z]/g,pXe=new Set(["table","tbody","thead","tfoot","tr"]),gXe=new Set(["td","th"]),qse="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mXe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=EXe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=SXe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?G3:rXe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=jse(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function jse(t,e,n){if(e.type==="element")return yXe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return vXe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return xXe(t,e,n);if(e.type==="mdxjsEsm")return bXe(t,e);if(e.type==="root")return wXe(t,e,n);if(e.type==="text")return _Xe(t,e)}function yXe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=G3,t.schema=i),t.ancestors.push(e);const o=Gse(t,e.tagName,!1),s=CXe(t,e);let a=J3(t,e);return pXe.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!GYe(l):!0})),Wse(t,s,o,e),X3(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function vXe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Rw(t,e.position)}function bXe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Rw(t,e.position)}function xXe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=G3,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:Gse(t,e.name,!0),s=TXe(t,e),a=J3(t,e);return Wse(t,s,o,e),X3(s,a),t.ancestors.pop(),t.schema=r,t.create(e,o,s,n)}function wXe(t,e,n){const r={};return X3(r,J3(t,e)),t.create(e,t.Fragment,r,n)}function _Xe(t,e){return e.value}function Wse(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function X3(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function SXe(t,e,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:e;return a?u(o,s,a):u(o,s)}}function EXe(t,e){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=K3(r);return e(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function CXe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Y3.call(e.properties,i)){const o=AXe(t,i,e.properties[i]);if(o){const[s,a]=o;t.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&gXe.has(e.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function TXe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Rw(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,o=t.evaluater.evaluateExpression(a.expression)}else Rw(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function J3(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:fXe;for(;++r<e.children.length;){const o=e.children[r];let s;if(t.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=jse(t,o,s);a!==void 0&&n.push(a)}return n}function AXe(t,e,n){const r=eXe(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UYe(n):iXe(n)),r.property==="style"){let i=typeof n=="object"?n:RXe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=PXe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?JYe[r.property]||r.property:r.attribute,n]}}function RXe(t,e){try{return cXe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new co("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=qse+"#cannot-parse-style-attribute",i}}function Gse(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,s;for(;++o<i.length;){const a=AY(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=AY(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Y3.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Rw(t)}function Rw(t,e){const n=new co("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=qse+"#cannot-handle-mdx-estrees-without-createevaluater",n}function PXe(t){const e={};let n;for(n in t)Y3.call(t,n)&&(e[IXe(n)]=t[n]);return e}function IXe(t){let e=t.replace(hXe,kXe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function kXe(t){return"-"+t.toLowerCase()}const iL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},MXe={};function NXe(t,e){const n=MXe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kse(t,r,i)}function Kse(t,e,n){if(DXe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return FY(t.children,e,n)}return Array.isArray(t)?FY(t,e,n):""}function FY(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Kse(t[i],e,n);return r.join("")}function DXe(t){return!!(t&&typeof t=="object")}const $Y=document.createElement("i");function Q3(t){const e="&"+t+";";$Y.innerHTML=e;const n=$Y.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Pu(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function sa(t,e){return t.length>0?(Pu(t,t.length,0,e),t):e}const BY={}.hasOwnProperty;function LXe(t){const e={};let n=-1;for(;++n<t.length;)OXe(e,t[n]);return e}function OXe(t,e){let n;for(n in e){const i=(BY.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){BY.call(i,s)||(i[s]=[]);const a=o[s];FXe(i[s],Array.isArray(a)?a:a?[a]:[])}}}function FXe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Pu(t,0,0,r)}function Yse(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Ay(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const uu=Zf(/[A-Za-z]/),Ls=Zf(/[\dA-Za-z]/),$Xe=Zf(/[#-'*+\--9=?A-Z^-~]/);function R$(t){return t!==null&&(t<32||t===127)}const P$=Zf(/\d/),BXe=Zf(/[\dA-Fa-f]/),VXe=Zf(/[!-/:-@[-`{-~]/);function Ht(t){return t!==null&&t<-2}function is(t){return t!==null&&(t<0||t===32)}function Bn(t){return t===-2||t===-1||t===32}const zXe=Zf(new RegExp("\\p{P}|\\p{S}","u")),UXe=Zf(/\s/);function Zf(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function C0(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&Ls(t.charCodeAt(n+1))&&Ls(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=t.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="�"}else s=String.fromCharCode(o);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function lr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Bn(l)?(t.enter(n),a(l)):e(l)}function a(l){return Bn(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const HXe={tokenize:qXe};function qXe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),lr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Ht(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const jXe={tokenize:WXe},VY={tokenize:GXe};function WXe(t){const e=this,n=[];let r=0,i,o,s;return a;function a(S){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,l,u)(S)}return u(S)}function l(S){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&E();const T=e.events.length;let I=T,N;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){N=e.events[I][1].end;break}_(r);let R=T;for(;R<e.events.length;)e.events[R][1].end={...N},R++;return Pu(e.events,I+1,0,e.events.slice(T)),e.events.length=R,u(S)}return a(S)}function u(S){if(r===n.length){if(!i)return h(S);if(i.currentConstruct&&i.currentConstruct.concrete)return m(S);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(VY,c,d)(S)}function c(S){return i&&E(),_(r),h(S)}function d(S){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,m(S)}function h(S){return e.containerState={},t.attempt(VY,p,m)(S)}function p(S){return r++,n.push([e.currentConstruct,e.containerState]),h(S)}function m(S){if(S===null){i&&E(),_(0),t.consume(S);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(S)}function y(S){if(S===null){x(t.exit("chunkFlow"),!0),_(0),t.consume(S);return}return Ht(S)?(t.consume(S),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(S),y)}function x(S,T){const I=e.sliceStream(S);if(T&&I.push(null),S.previous=o,o&&(o.next=S),o=S,i.defineSkip(S.start),i.write(I),e.parser.lazy[S.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const R=e.events.length;let M=R,L,k;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(L){k=e.events[M][1].end;break}L=!0}for(_(r),N=R;N<e.events.length;)e.events[N][1].end={...k},N++;Pu(e.events,M+1,0,e.events.slice(R)),e.events.length=N}}function _(S){let T=n.length;for(;T-- >S;){const I=n[T];e.containerState=I[1],I[0].exit.call(e,t)}n.length=S}function E(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function GXe(t,e,n){return lr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zY(t){if(t===null||is(t)||UXe(t))return 1;if(zXe(t))return 2}function Z3(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const I$={name:"attention",resolveAll:KXe,tokenize:YXe};function KXe(t,e){let n=-1,r,i,o,s,a,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},h={...t[n][1].start};UY(d,-l),UY(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},o={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},t[r][1].end={...s.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=sa(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=sa(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),u=sa(u,Z3(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=sa(u,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=sa(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Pu(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function YXe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=zY(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const u=t.exit("attentionSequence"),c=zY(l),d=!c||c===2&&i||n.includes(l),h=!i||i===2&&c||n.includes(r);return u._open=!!(o===42?d:d&&(i||!h)),u._close=!!(o===42?h:h&&(c||!d)),e(l)}}function UY(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const XXe={name:"autolink",tokenize:JXe};function JXe(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(p){return uu(p)?(t.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||Ls(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Ls(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||R$(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),c):$Xe(p)?(t.consume(p),u):n(p)}function c(p){return Ls(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,c):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Ls(p))&&r++<63){const m=p===45?h:d;return t.consume(p),m}return n(p)}}const wP={partial:!0,tokenize:QXe};function QXe(t,e,n){return r;function r(o){return Bn(o)?lr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||Ht(o)?e(o):n(o)}}const Xse={continuation:{tokenize:eJe},exit:tJe,name:"blockQuote",tokenize:ZXe};function ZXe(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Bn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function eJe(t,e,n){const r=this;return i;function i(s){return Bn(s)?lr(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Xse,e,n)(s)}}function tJe(t){t.exit("blockQuote")}const Jse={name:"characterEscape",tokenize:nJe};function nJe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return VXe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Qse={name:"characterReference",tokenize:rJe};function rJe(t,e,n){const r=this;let i=0,o,s;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),o=31,s=Ls,c(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=BXe,c):(t.enter("characterReferenceValue"),o=7,s=P$,c(d))}function c(d){if(d===59&&i){const h=t.exit("characterReferenceValue");return s===Ls&&!Q3(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(d)&&i++<o?(t.consume(d),c):n(d)}}const HY={partial:!0,tokenize:oJe},qY={concrete:!0,name:"codeFenced",tokenize:iJe};function iJe(t,e,n){const r=this,i={partial:!0,tokenize:I};let o=0,s=0,a;return l;function l(N){return u(N)}function u(N){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,a=N,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(N)}function c(N){return N===a?(s++,t.consume(N),c):s<3?n(N):(t.exit("codeFencedFenceSequence"),Bn(N)?lr(t,d,"whitespace")(N):d(N))}function d(N){return N===null||Ht(N)?(t.exit("codeFencedFence"),r.interrupt?e(N):t.check(HY,y,T)(N)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Ht(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(N)):Bn(N)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),lr(t,p,"whitespace")(N)):N===96&&N===a?n(N):(t.consume(N),h)}function p(N){return N===null||Ht(N)?d(N):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),m(N))}function m(N){return N===null||Ht(N)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(N)):N===96&&N===a?n(N):(t.consume(N),m)}function y(N){return t.attempt(i,T,x)(N)}function x(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),_}function _(N){return o>0&&Bn(N)?lr(t,E,"linePrefix",o+1)(N):E(N)}function E(N){return N===null||Ht(N)?t.check(HY,y,T)(N):(t.enter("codeFlowValue"),S(N))}function S(N){return N===null||Ht(N)?(t.exit("codeFlowValue"),E(N)):(t.consume(N),S)}function T(N){return t.exit("codeFenced"),e(N)}function I(N,R,M){let L=0;return k;function k(G){return N.enter("lineEnding"),N.consume(G),N.exit("lineEnding"),D}function D(G){return N.enter("codeFencedFence"),Bn(G)?lr(N,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):V(G)}function V(G){return G===a?(N.enter("codeFencedFenceSequence"),$(G)):M(G)}function $(G){return G===a?(L++,N.consume(G),$):L>=s?(N.exit("codeFencedFenceSequence"),Bn(G)?lr(N,H,"whitespace")(G):H(G)):M(G)}function H(G){return G===null||Ht(G)?(N.exit("codeFencedFence"),R(G)):M(G)}}}function oJe(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const oL={name:"codeIndented",tokenize:aJe},sJe={partial:!0,tokenize:lJe};function aJe(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),lr(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Ht(u)?t.attempt(sJe,s,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||Ht(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function lJe(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ht(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):lr(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):Ht(s)?i(s):n(s)}}const uJe={name:"codeText",previous:dJe,resolve:cJe,tokenize:fJe};function cJe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function dJe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fJe(t,e,n){let r=0,i,o;return s;function s(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(o=t.enter("codeTextSequence"),i=0,c(d)):Ht(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||Ht(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function c(d){return d===96?(t.consume(d),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(o.type="codeTextData",u(d))}}class hJe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Fb(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Fb(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Fb(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Fb(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Fb(this.left,n.reverse())}}}function Fb(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Zse(t){const e={};let n=-1,r,i,o,s,a,l,u;const c=new hJe(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,pJe(c,n)),n=e[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=c.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},a=c.slice(i,n),a.unshift(r),c.splice(i,n-i+1,a))}}return Pu(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function pJe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let c,d,h=-1,p=n,m=0,y=0;const x=[y];for(;p;){for(;t.get(++i)[1]!==p;);o.push(i),p._tokenizer||(c=r.sliceStream(p),p.next||c.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)a[h][0]==="exit"&&a[h-1][0]==="enter"&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(y=h+1,x.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const _=a.slice(x[h],x[h+1]),E=o.pop();l.push([E,E+_.length-1]),t.splice(E,2,_)}for(l.reverse(),h=-1;++h<l.length;)u[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return u}const gJe={resolve:yJe,tokenize:vJe},mJe={partial:!0,tokenize:bJe};function yJe(t){return Zse(t),t}function vJe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):Ht(a)?t.check(mJe,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function bJe(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),lr(t,o,"linePrefix")}function o(s){if(s===null||Ht(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function eae(t,e,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return d;function d(_){return _===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(_),t.exit(o),h):_===null||_===32||_===41||R$(_)?n(_):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),y(_))}function h(_){return _===62?(t.enter(o),t.consume(_),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===62?(t.exit("chunkString"),t.exit(a),h(_)):_===null||_===60||Ht(_)?n(_):(t.consume(_),_===92?m:p)}function m(_){return _===60||_===62||_===92?(t.consume(_),p):p(_)}function y(_){return!c&&(_===null||_===41||is(_))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(_)):c<u&&_===40?(t.consume(_),c++,y):_===41?(t.consume(_),c--,y):_===null||_===32||_===40||R$(_)?n(_):(t.consume(_),_===92?x:y)}function x(_){return _===40||_===41||_===92?(t.consume(_),y):y(_)}}function tae(t,e,n,r,i,o){const s=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(o),c}function c(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(t.exit(o),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):Ht(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Ht(p)||a++>999?(t.exit("chunkString"),c(p)):(t.consume(p),l||(l=!Bn(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function nae(t,e,n,r,i,o){let s;return a;function a(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(o),u(h))}function u(h){return h===s?(t.exit(o),l(s)):h===null?n(h):Ht(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),lr(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(h))}function c(h){return h===s||h===null||Ht(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?d:c)}function d(h){return h===s||h===92?(t.consume(h),c):c(h)}}function Vx(t,e){let n;return r;function r(i){return Ht(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Bn(i)?lr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const xJe={name:"definition",tokenize:_Je},wJe={partial:!0,tokenize:SJe};function _Je(t,e,n){const r=this;let i;return o;function o(p){return t.enter("definition"),s(p)}function s(p){return tae.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=Ay(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return is(p)?Vx(t,u)(p):u(p)}function u(p){return eae(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function c(p){return t.attempt(wJe,d,d)(p)}function d(p){return Bn(p)?lr(t,h,"whitespace")(p):h(p)}function h(p){return p===null||Ht(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function SJe(t,e,n){return r;function r(a){return is(a)?Vx(t,i)(a):n(a)}function i(a){return nae(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Bn(a)?lr(t,s,"whitespace")(a):s(a)}function s(a){return a===null||Ht(a)?e(a):n(a)}}const EJe={name:"hardBreakEscape",tokenize:CJe};function CJe(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return Ht(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const TJe={name:"headingAtx",resolve:AJe,tokenize:RJe};function AJe(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Pu(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function RJe(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),o(c)}function o(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||is(c)?(t.exit("atxHeadingSequence"),a(c)):n(c)}function a(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||Ht(c)?(t.exit("atxHeading"),e(c)):Bn(c)?lr(t,a,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),a(c))}function u(c){return c===null||c===35||is(c)?(t.exit("atxHeadingText"),a(c)):(t.consume(c),u)}}const PJe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jY=["pre","script","style","textarea"],IJe={concrete:!0,name:"htmlFlow",resolveTo:NJe,tokenize:DJe},kJe={partial:!0,tokenize:OJe},MJe={partial:!0,tokenize:LJe};function NJe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function DJe(t,e,n){const r=this;let i,o,s,a,l;return u;function u(q){return c(q)}function c(q){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(q),d}function d(q){return q===33?(t.consume(q),h):q===47?(t.consume(q),o=!0,y):q===63?(t.consume(q),i=3,r.interrupt?e:j):uu(q)?(t.consume(q),s=String.fromCharCode(q),x):n(q)}function h(q){return q===45?(t.consume(q),i=2,p):q===91?(t.consume(q),i=5,a=0,m):uu(q)?(t.consume(q),i=4,r.interrupt?e:j):n(q)}function p(q){return q===45?(t.consume(q),r.interrupt?e:j):n(q)}function m(q){const Q="CDATA[";return q===Q.charCodeAt(a++)?(t.consume(q),a===Q.length?r.interrupt?e:V:m):n(q)}function y(q){return uu(q)?(t.consume(q),s=String.fromCharCode(q),x):n(q)}function x(q){if(q===null||q===47||q===62||is(q)){const Q=q===47,te=s.toLowerCase();return!Q&&!o&&jY.includes(te)?(i=1,r.interrupt?e(q):V(q)):PJe.includes(s.toLowerCase())?(i=6,Q?(t.consume(q),_):r.interrupt?e(q):V(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(q):o?E(q):S(q))}return q===45||Ls(q)?(t.consume(q),s+=String.fromCharCode(q),x):n(q)}function _(q){return q===62?(t.consume(q),r.interrupt?e:V):n(q)}function E(q){return Bn(q)?(t.consume(q),E):k(q)}function S(q){return q===47?(t.consume(q),k):q===58||q===95||uu(q)?(t.consume(q),T):Bn(q)?(t.consume(q),S):k(q)}function T(q){return q===45||q===46||q===58||q===95||Ls(q)?(t.consume(q),T):I(q)}function I(q){return q===61?(t.consume(q),N):Bn(q)?(t.consume(q),I):S(q)}function N(q){return q===null||q===60||q===61||q===62||q===96?n(q):q===34||q===39?(t.consume(q),l=q,R):Bn(q)?(t.consume(q),N):M(q)}function R(q){return q===l?(t.consume(q),l=null,L):q===null||Ht(q)?n(q):(t.consume(q),R)}function M(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||is(q)?I(q):(t.consume(q),M)}function L(q){return q===47||q===62||Bn(q)?S(q):n(q)}function k(q){return q===62?(t.consume(q),D):n(q)}function D(q){return q===null||Ht(q)?V(q):Bn(q)?(t.consume(q),D):n(q)}function V(q){return q===45&&i===2?(t.consume(q),K):q===60&&i===1?(t.consume(q),J):q===62&&i===4?(t.consume(q),Y):q===63&&i===3?(t.consume(q),j):q===93&&i===5?(t.consume(q),X):Ht(q)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(kJe,ae,$)(q)):q===null||Ht(q)?(t.exit("htmlFlowData"),$(q)):(t.consume(q),V)}function $(q){return t.check(MJe,H,ae)(q)}function H(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),G}function G(q){return q===null||Ht(q)?$(q):(t.enter("htmlFlowData"),V(q))}function K(q){return q===45?(t.consume(q),j):V(q)}function J(q){return q===47?(t.consume(q),s="",ee):V(q)}function ee(q){if(q===62){const Q=s.toLowerCase();return jY.includes(Q)?(t.consume(q),Y):V(q)}return uu(q)&&s.length<8?(t.consume(q),s+=String.fromCharCode(q),ee):V(q)}function X(q){return q===93?(t.consume(q),j):V(q)}function j(q){return q===62?(t.consume(q),Y):q===45&&i===2?(t.consume(q),j):V(q)}function Y(q){return q===null||Ht(q)?(t.exit("htmlFlowData"),ae(q)):(t.consume(q),Y)}function ae(q){return t.exit("htmlFlow"),e(q)}}function LJe(t,e,n){const r=this;return i;function i(s){return Ht(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function OJe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(wP,e,n)}}const FJe={name:"htmlText",tokenize:$Je};function $Je(t,e,n){const r=this;let i,o,s;return a;function a(j){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(j),l}function l(j){return j===33?(t.consume(j),u):j===47?(t.consume(j),I):j===63?(t.consume(j),S):uu(j)?(t.consume(j),M):n(j)}function u(j){return j===45?(t.consume(j),c):j===91?(t.consume(j),o=0,m):uu(j)?(t.consume(j),E):n(j)}function c(j){return j===45?(t.consume(j),p):n(j)}function d(j){return j===null?n(j):j===45?(t.consume(j),h):Ht(j)?(s=d,J(j)):(t.consume(j),d)}function h(j){return j===45?(t.consume(j),p):d(j)}function p(j){return j===62?K(j):j===45?h(j):d(j)}function m(j){const Y="CDATA[";return j===Y.charCodeAt(o++)?(t.consume(j),o===Y.length?y:m):n(j)}function y(j){return j===null?n(j):j===93?(t.consume(j),x):Ht(j)?(s=y,J(j)):(t.consume(j),y)}function x(j){return j===93?(t.consume(j),_):y(j)}function _(j){return j===62?K(j):j===93?(t.consume(j),_):y(j)}function E(j){return j===null||j===62?K(j):Ht(j)?(s=E,J(j)):(t.consume(j),E)}function S(j){return j===null?n(j):j===63?(t.consume(j),T):Ht(j)?(s=S,J(j)):(t.consume(j),S)}function T(j){return j===62?K(j):S(j)}function I(j){return uu(j)?(t.consume(j),N):n(j)}function N(j){return j===45||Ls(j)?(t.consume(j),N):R(j)}function R(j){return Ht(j)?(s=R,J(j)):Bn(j)?(t.consume(j),R):K(j)}function M(j){return j===45||Ls(j)?(t.consume(j),M):j===47||j===62||is(j)?L(j):n(j)}function L(j){return j===47?(t.consume(j),K):j===58||j===95||uu(j)?(t.consume(j),k):Ht(j)?(s=L,J(j)):Bn(j)?(t.consume(j),L):K(j)}function k(j){return j===45||j===46||j===58||j===95||Ls(j)?(t.consume(j),k):D(j)}function D(j){return j===61?(t.consume(j),V):Ht(j)?(s=D,J(j)):Bn(j)?(t.consume(j),D):L(j)}function V(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),i=j,$):Ht(j)?(s=V,J(j)):Bn(j)?(t.consume(j),V):(t.consume(j),H)}function $(j){return j===i?(t.consume(j),i=void 0,G):j===null?n(j):Ht(j)?(s=$,J(j)):(t.consume(j),$)}function H(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||is(j)?L(j):(t.consume(j),H)}function G(j){return j===47||j===62||is(j)?L(j):n(j)}function K(j){return j===62?(t.consume(j),t.exit("htmlTextData"),t.exit("htmlText"),e):n(j)}function J(j){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ee}function ee(j){return Bn(j)?lr(t,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):X(j)}function X(j){return t.enter("htmlTextData"),s(j)}}const eB={name:"labelEnd",resolveAll:UJe,resolveTo:HJe,tokenize:qJe},BJe={tokenize:jJe},VJe={tokenize:WJe},zJe={tokenize:GJe};function UJe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Pu(t,0,t.length,n),t}function HJe(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[o][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[s-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=sa(a,t.slice(o+1,o+r+3)),a=sa(a,[["enter",c,e]]),a=sa(a,Z3(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=sa(a,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),a=sa(a,t.slice(s+1)),a=sa(a,[["exit",l,e]]),Pu(t,o,t.length,a),t}function qJe(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(h){return o?o._inactive?d(h):(s=r.parser.defined.includes(Ay(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),l):n(h)}function l(h){return h===40?t.attempt(BJe,c,s?c:d)(h):h===91?t.attempt(VJe,c,s?u:d)(h):s?c(h):d(h)}function u(h){return t.attempt(zJe,c,d)(h)}function c(h){return e(h)}function d(h){return o._balanced=!0,n(h)}}function jJe(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return is(d)?Vx(t,o)(d):o(d)}function o(d){return d===41?c(d):eae(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return is(d)?Vx(t,l)(d):c(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?nae(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):c(d)}function u(d){return is(d)?Vx(t,c)(d):c(d)}function c(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function WJe(t,e,n){const r=this;return i;function i(a){return tae.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Ay(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function GJe(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const KJe={name:"labelStartImage",resolveAll:eB.resolveAll,tokenize:YJe};function YJe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const XJe={name:"labelStartLink",resolveAll:eB.resolveAll,tokenize:JJe};function JJe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const sL={name:"lineEnding",tokenize:QJe};function QJe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),lr(t,e,"linePrefix")}}const oT={name:"thematicBreak",tokenize:ZJe};function ZJe(t,e,n){let r=0,i;return o;function o(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Ht(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Bn(u)?lr(t,a,"whitespace")(u):a(u))}}const Ho={continuation:{tokenize:rQe},exit:oQe,name:"list",tokenize:nQe},eQe={partial:!0,tokenize:sQe},tQe={partial:!0,tokenize:iQe};function nQe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:P$(p)){if(r.containerState.type||(r.containerState.type=m,t.enter(m,{_container:!0})),m==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(oT,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return P$(p)&&++s<10?(t.consume(p),l):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(wP,r.interrupt?n:c,t.attempt(eQe,h,d))}function c(p){return r.containerState.initialBlankLine=!0,o++,h(p)}function d(p){return Bn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function rQe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(wP,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,lr(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Bn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(tQe,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,lr(t,t.attempt(Ho,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function iQe(t,e,n){const r=this;return lr(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function oQe(t){t.exit(this.containerState.type)}function sQe(t,e,n){const r=this;return lr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Bn(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const WY={name:"setextUnderline",resolveTo:aQe,tokenize:lQe};function aQe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function lQe(t,e,n){const r=this;let i;return o;function o(u){let c=r.events.length,d;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){d=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Bn(u)?lr(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Ht(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const uQe={tokenize:cQe};function cQe(t){const e=this,n=t.attempt(wP,r,t.attempt(this.parser.constructs.flowInitial,i,lr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(gJe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const dQe={resolveAll:iae()},fQe=rae("string"),hQe=rae("text");function rae(t){return{resolveAll:iae(t==="text"?pQe:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(c){return u(c)?o(c):a(c)}function a(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),o(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const d=i[c];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function iae(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function pQe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const gQe={42:Ho,43:Ho,45:Ho,48:Ho,49:Ho,50:Ho,51:Ho,52:Ho,53:Ho,54:Ho,55:Ho,56:Ho,57:Ho,62:Xse},mQe={91:xJe},yQe={[-2]:oL,[-1]:oL,32:oL},vQe={35:TJe,42:oT,45:[WY,oT],60:IJe,61:WY,95:oT,96:qY,126:qY},bQe={38:Qse,92:Jse},xQe={[-5]:sL,[-4]:sL,[-3]:sL,33:KJe,38:Qse,42:I$,60:[XXe,FJe],91:XJe,92:[EJe,Jse],93:eB,95:I$,96:uJe},wQe={null:[I$,dQe]},_Qe={null:[42,95]},SQe={null:[]},EQe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:_Qe,contentInitial:mQe,disable:SQe,document:gQe,flow:vQe,flowInitial:yQe,insideSpan:wQe,string:bQe,text:xQe},Symbol.toStringTag,{value:"Module"}));function CQe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:R(I),check:R(N),consume:E,enter:S,exit:T,interrupt:R(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:m,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:d};let c=e.tokenize.call(u,l);return e.resolveAll&&o.push(e),u;function d(D){return s=sa(s,D),x(),s[s.length-1]!==null?[]:(M(e,0),u.events=Z3(o,u.events,u),u.events)}function h(D,V){return AQe(p(D),V)}function p(D){return TQe(s,D)}function m(){const{_bufferIndex:D,_index:V,line:$,column:H,offset:G}=r;return{_bufferIndex:D,_index:V,line:$,column:H,offset:G}}function y(D){i[D.line]=D.column,k()}function x(){let D;for(;r._index<s.length;){const V=s[r._index];if(typeof V=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<V.length;)_(V.charCodeAt(r._bufferIndex));else _(V)}}function _(D){c=c(D)}function E(D){Ht(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,k()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function S(D,V){const $=V||{};return $.type=D,$.start=m(),u.events.push(["enter",$,u]),a.push($),$}function T(D){const V=a.pop();return V.end=m(),u.events.push(["exit",V,u]),V}function I(D,V){M(D,V.from)}function N(D,V){V.restore()}function R(D,V){return $;function $(H,G,K){let J,ee,X,j;return Array.isArray(H)?ae(H):"tokenize"in H?ae([H]):Y(H);function Y(ue){return de;function de(se){const ce=se!==null&&ue[se],he=se!==null&&ue.null,ve=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(he)?he:he?[he]:[]];return ae(ve)(se)}}function ae(ue){return J=ue,ee=0,ue.length===0?K:q(ue[ee])}function q(ue){return de;function de(se){return j=L(),X=ue,ue.partial||(u.currentConstruct=ue),ue.name&&u.parser.constructs.disable.null.includes(ue.name)?te():ue.tokenize.call(V?Object.assign(Object.create(u),V):u,l,Q,te)(se)}}function Q(ue){return D(X,j),G}function te(ue){return j.restore(),++ee<J.length?q(J[ee]):K}}}function M(D,V){D.resolveAll&&!o.includes(D)&&o.push(D),D.resolve&&Pu(u.events,V,u.events.length-V,D.resolve(u.events.slice(V),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function L(){const D=m(),V=u.previous,$=u.currentConstruct,H=u.events.length,G=Array.from(a);return{from:H,restore:K};function K(){r=D,u.previous=V,u.currentConstruct=$,u.events.length=H,a=G,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function TQe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function AQe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function RQe(t){const r={constructs:LXe([EQe,...(t||{}).extensions||[]]),content:i(HXe),defined:[],document:i(jXe),flow:i(uQe),lazy:{},string:i(fQe),text:i(hQe)};return r;function i(o){return s;function s(a){return CQe(r,o,a)}}}function PQe(t){for(;!Zse(t););return t}const GY=/[\0\t\n\r]/g;function IQe(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let u,c,d,h,p;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),d=0,e="",n&&(o.charCodeAt(0)===65279&&d++,n=void 0);d<o.length;){if(GY.lastIndex=d,u=GY.exec(o),h=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(h),!u){e=o.slice(d);break}if(p===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(o.slice(d,h)),t+=h-d),p){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const kQe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function MQe(t){return t.replace(kQe,NQe)}function NQe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Yse(n.slice(o?2:1),o?16:10)}return Q3(n)||t}const oae={}.hasOwnProperty;function DQe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),LQe(n)(PQe(RQe(n).document().write(IQe()(t,e,!0))))}function LQe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(qe),autolinkProtocol:L,autolinkEmail:L,atxHeading:o(Ce),blockQuote:o(he),characterEscape:L,characterReference:L,codeFenced:o(ve),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(ve,s),codeText:o(be,s),codeTextData:L,data:L,codeFlowValue:L,definition:o(Re),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(pe),hardBreakEscape:o($e),hardBreakTrailing:o($e),htmlFlow:o(De,s),htmlFlowData:L,htmlText:o(De,s),htmlTextData:L,image:o(ke),label:s,link:o(qe),listItem:o(Qe),listItemValue:h,listOrdered:o(Fe,d),listUnordered:o(Fe),paragraph:o(ze),reference:q,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(Ce),strong:o(lt),thematicBreak:o(on)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:ce,autolinkProtocol:se,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:ue,characterReference:de,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(_),codeText:l(G),codeTextData:k,data:k,definition:l(),definitionDestinationString:T,definitionLabelString:E,definitionTitleString:S,emphasis:l(),hardBreakEscape:l(V),hardBreakTrailing:l(V),htmlFlow:l($),htmlFlowData:k,htmlText:l(H),htmlTextData:k,image:l(J),label:X,labelText:ee,lineEnding:D,link:l(K),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Q,resourceDestinationString:j,resourceTitleString:Y,resource:ae,setextHeading:l(M),setextHeadingLineSequence:R,setextHeadingText:N,strong:l(),thematicBreak:l()}};sae(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(we){let Ae={type:"root",children:[]};const We={stack:[Ae],tokenStack:[],config:e,enter:a,exit:u,buffer:s,resume:c,data:n},yt=[];let Ct=-1;for(;++Ct<we.length;)if(we[Ct][1].type==="listOrdered"||we[Ct][1].type==="listUnordered")if(we[Ct][0]==="enter")yt.push(Ct);else{const ht=yt.pop();Ct=i(we,ht,Ct)}for(Ct=-1;++Ct<we.length;){const ht=e[we[Ct][0]];oae.call(ht,we[Ct][1].type)&&ht[we[Ct][1].type].call(Object.assign({sliceSerialize:we[Ct][2].sliceSerialize},We),we[Ct][1])}if(We.tokenStack.length>0){const ht=We.tokenStack[We.tokenStack.length-1];(ht[1]||KY).call(We,void 0,ht[0])}for(Ae.position={start:Hd(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:Hd(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},Ct=-1;++Ct<e.transforms.length;)Ae=e.transforms[Ct](Ae)||Ae;return Ae}function i(we,Ae,We){let yt=Ae-1,Ct=-1,ht=!1,vn,en,sn,it;for(;++yt<=We;){const Lt=we[yt];switch(Lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Lt[0]==="enter"?Ct++:Ct--,it=void 0;break}case"lineEndingBlank":{Lt[0]==="enter"&&(vn&&!it&&!Ct&&!sn&&(sn=yt),it=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:it=void 0}if(!Ct&&Lt[0]==="enter"&&Lt[1].type==="listItemPrefix"||Ct===-1&&Lt[0]==="exit"&&(Lt[1].type==="listUnordered"||Lt[1].type==="listOrdered")){if(vn){let fn=yt;for(en=void 0;fn--;){const Be=we[fn];if(Be[1].type==="lineEnding"||Be[1].type==="lineEndingBlank"){if(Be[0]==="exit")continue;en&&(we[en][1].type="lineEndingBlank",ht=!0),Be[1].type="lineEnding",en=fn}else if(!(Be[1].type==="linePrefix"||Be[1].type==="blockQuotePrefix"||Be[1].type==="blockQuotePrefixWhitespace"||Be[1].type==="blockQuoteMarker"||Be[1].type==="listItemIndent"))break}sn&&(!en||sn<en)&&(vn._spread=!0),vn.end=Object.assign({},en?we[en][1].start:Lt[1].end),we.splice(en||yt,0,["exit",vn,Lt[2]]),yt++,We++}if(Lt[1].type==="listItemPrefix"){const fn={type:"listItem",_spread:!1,start:Object.assign({},Lt[1].start),end:void 0};vn=fn,we.splice(yt,0,["enter",fn,Lt[2]]),yt++,We++,sn=void 0,it=!0}}}return we[Ae][1]._spread=ht,We}function o(we,Ae){return We;function We(yt){a.call(this,we(yt),yt),Ae&&Ae.call(this,yt)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(we,Ae,We){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Ae,We||void 0]),we.position={start:Hd(Ae.start),end:void 0}}function l(we){return Ae;function Ae(We){we&&we.call(this,We),u.call(this,We)}}function u(we,Ae){const We=this.stack.pop(),yt=this.tokenStack.pop();if(yt)yt[0].type!==we.type&&(Ae?Ae.call(this,we,yt[0]):(yt[1]||KY).call(this,we,yt[0]));else throw new Error("Cannot close `"+we.type+"` ("+Bx({start:we.start,end:we.end})+"): it’s not open");We.position.end=Hd(we.end)}function c(){return NXe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(we){if(this.data.expectingFirstListItemValue){const Ae=this.stack[this.stack.length-2];Ae.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function p(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.lang=we}function m(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.meta=we}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we.replace(/(\r?\n|\r)$/g,"")}function E(we){const Ae=this.resume(),We=this.stack[this.stack.length-1];We.label=Ae,We.identifier=Ay(this.sliceSerialize(we)).toLowerCase()}function S(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=we}function T(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=we}function I(we){const Ae=this.stack[this.stack.length-1];if(!Ae.depth){const We=this.sliceSerialize(we).length;Ae.depth=We}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function R(we){const Ae=this.stack[this.stack.length-1];Ae.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function L(we){const We=this.stack[this.stack.length-1].children;let yt=We[We.length-1];(!yt||yt.type!=="text")&&(yt=It(),yt.position={start:Hd(we.start),end:void 0},We.push(yt)),this.stack.push(yt)}function k(we){const Ae=this.stack.pop();Ae.value+=this.sliceSerialize(we),Ae.position.end=Hd(we.end)}function D(we){const Ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=Ae.children[Ae.children.length-1];We.position.end=Hd(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Ae.type)&&(L.call(this,we),k.call(this,we))}function V(){this.data.atHardBreak=!0}function $(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function H(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function G(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.value=we}function K(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Ae,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function J(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Ae=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Ae,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function ee(we){const Ae=this.sliceSerialize(we),We=this.stack[this.stack.length-2];We.label=MQe(Ae),We.identifier=Ay(Ae).toLowerCase()}function X(){const we=this.stack[this.stack.length-1],Ae=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const yt=we.children;We.children=yt}else We.alt=Ae}function j(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.url=we}function Y(){const we=this.resume(),Ae=this.stack[this.stack.length-1];Ae.title=we}function ae(){this.data.inReference=void 0}function q(){this.data.referenceType="collapsed"}function Q(we){const Ae=this.resume(),We=this.stack[this.stack.length-1];We.label=Ae,We.identifier=Ay(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function te(we){this.data.characterReferenceType=we.type}function ue(we){const Ae=this.sliceSerialize(we),We=this.data.characterReferenceType;let yt;We?(yt=Yse(Ae,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):yt=Q3(Ae);const Ct=this.stack[this.stack.length-1];Ct.value+=yt}function de(we){const Ae=this.stack.pop();Ae.position.end=Hd(we.end)}function se(we){k.call(this,we);const Ae=this.stack[this.stack.length-1];Ae.url=this.sliceSerialize(we)}function ce(we){k.call(this,we);const Ae=this.stack[this.stack.length-1];Ae.url="mailto:"+this.sliceSerialize(we)}function he(){return{type:"blockquote",children:[]}}function ve(){return{type:"code",lang:null,meta:null,value:""}}function be(){return{type:"inlineCode",value:""}}function Re(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function Ce(){return{type:"heading",depth:0,children:[]}}function $e(){return{type:"break"}}function De(){return{type:"html",value:""}}function ke(){return{type:"image",title:null,url:"",alt:null}}function qe(){return{type:"link",title:null,url:"",children:[]}}function Fe(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function Qe(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function ze(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function on(){return{type:"thematicBreak"}}}function Hd(t){return{line:t.line,column:t.column,offset:t.offset}}function sae(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?sae(t,r):OQe(t,r)}}function OQe(t,e){let n;for(n in e)if(oae.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function KY(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Bx({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Bx({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Bx({start:e.start,end:e.end})+") is still open")}function FQe(t){const e=this;e.parser=n;function n(r){return DQe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $Qe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function BQe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function VQe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function zQe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UQe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HQe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=C0(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let s,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=o+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function qQe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jQe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function aae(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function WQe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return aae(t,e);const i={src:C0(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function GQe(t,e){const n={src:C0(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function KQe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function YQe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return aae(t,e);const i={href:C0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function XQe(t,e){const n={href:C0(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function JQe(t,e,n){const r=t.all(e),i=n?QQe(n):lae(e),o={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let d;c&&c.type==="element"&&c.tagName==="p"?d=c:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const c=r[a];(i||a!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return t.patch(e,u),t.applyData(e,u)}function QQe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=lae(n[r])}return e}function lae(t){const e=t.spread;return e??t.children.length>1}function ZQe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function eZe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tZe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function nZe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function rZe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=K3(e.children[1]),l=Use(e.children[e.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function iZe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],h={},p=s?s[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:o,properties:h,children:[]};d&&(m.children=t.all(d),t.patch(d,m),m=t.applyData(d,m)),u.push(m)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function oZe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const YY=9,XY=32;function sZe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(JY(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(JY(e.slice(i),i>0,!1)),o.join("")}function JY(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===YY||o===XY;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===YY||o===XY;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function aZe(t,e){const n={type:"text",value:sZe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function lZe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const uZe={blockquote:$Qe,break:BQe,code:VQe,delete:zQe,emphasis:UQe,footnoteReference:HQe,heading:qQe,html:jQe,imageReference:WQe,image:GQe,inlineCode:KQe,linkReference:YQe,link:XQe,listItem:JQe,list:ZQe,paragraph:eZe,root:tZe,strong:nZe,table:rZe,tableCell:oZe,tableRow:iZe,text:aZe,thematicBreak:lZe,toml:eC,yaml:eC,definition:eC,footnoteDefinition:eC};function eC(){}const uae=-1,_P=0,zx=1,vA=2,tB=3,nB=4,rB=5,iB=6,cae=7,dae=8,QY=typeof self=="object"?self:globalThis,cZe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,s]=e[i];switch(o){case _P:case uae:return n(s,i);case zx:{const a=n([],i);for(const l of s)a.push(r(l));return a}case vA:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case tB:return n(new Date(s),i);case nB:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case rB:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case iB:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case cae:{const{name:a,message:l}=s;return n(new QY[a](l),i)}case dae:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new QY[o](s),i)};return r},ZY=t=>cZe(new Map,t)(0),Mm="",{toString:dZe}={},{keys:fZe}=Object,$b=t=>{const e=typeof t;if(e!=="object"||!t)return[_P,e];const n=dZe.call(t).slice(8,-1);switch(n){case"Array":return[zx,Mm];case"Object":return[vA,Mm];case"Date":return[tB,Mm];case"RegExp":return[nB,Mm];case"Map":return[rB,Mm];case"Set":return[iB,Mm];case"DataView":return[zx,n]}return n.includes("Array")?[zx,n]:n.includes("Error")?[cae,n]:[vA,n]},tC=([t,e])=>t===_P&&(e==="function"||e==="symbol"),hZe=(t,e,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=$b(s);switch(a){case _P:{let c=s;switch(l){case"bigint":a=dae,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([uae],s)}return i([a,c],s)}case zx:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const c=[],d=i([a,c],s);for(const h of s)c.push(o(h));return d}case vA:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return o(s.toJSON());const c=[],d=i([a,c],s);for(const h of fZe(s))(t||!tC($b(s[h])))&&c.push([o(h),o(s[h])]);return d}case tB:return i([a,s.toISOString()],s);case nB:{const{source:c,flags:d}=s;return i([a,{source:c,flags:d}],s)}case rB:{const c=[],d=i([a,c],s);for(const[h,p]of s)(t||!(tC($b(h))||tC($b(p))))&&c.push([o(h),o(p)]);return d}case iB:{const c=[],d=i([a,c],s);for(const h of s)(t||!tC($b(h)))&&c.push(o(h));return d}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},eX=(t,{json:e,lossy:n}={})=>{const r=[];return hZe(!(e||n),!!e,new Map,r)(t),r},bA=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ZY(eX(t,e)):structuredClone(t):(t,e)=>ZY(eX(t,e));function pZe(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function gZe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function mZe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||pZe,r=t.options.footnoteBackLabel||gZe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),d=String(u.identifier).toUpperCase(),h=C0(d.toLowerCase());let p=0;const m=[],y=t.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){m.length>0&&m.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),m.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const x=c[c.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const E=x.children[x.children.length-1];E&&E.type==="text"?E.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...m)}else c.push(...m);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(c,!0)};t.patch(u,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...bA(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const fae=function(t){if(t==null)return xZe;if(typeof t=="function")return SP(t);if(typeof t=="object")return Array.isArray(t)?yZe(t):vZe(t);if(typeof t=="string")return bZe(t);throw new Error("Expected function, string, or object as test")};function yZe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=fae(t[n]);return SP(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function vZe(t){const e=t;return SP(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function bZe(t){return SP(e);function e(n){return n&&n.type===t}}function SP(t){return e;function e(n,r,i){return!!(wZe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function xZe(){return!0}function wZe(t){return t!==null&&typeof t=="object"&&"type"in t}const hae=[],_Ze=!0,tX=!1,SZe="skip";function EZe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=fae(i),s=r?-1:1;a(t,void 0,[])();function a(l,u,c){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=hae,m,y,x;if((!e||o(l,u,c[c.length-1]||void 0))&&(p=CZe(n(l,c)),p[0]===tX))return p;if("children"in l&&l.children){const _=l;if(_.children&&p[0]!==SZe)for(y=(r?_.children.length:-1)+s,x=c.concat(_);y>-1&&y<_.children.length;){const E=_.children[y];if(m=a(E,y,x)(),m[0]===tX)return m;y=typeof m[1]=="number"?m[1]:y+s}}return p}}}function CZe(t){return Array.isArray(t)?t:typeof t=="number"?[_Ze,t]:t==null?hae:[t]}function pae(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),EZe(t,o,a,i);function a(l,u){const c=u[u.length-1],d=c?c.children.indexOf(l):void 0;return s(l,d,c)}}const k$={}.hasOwnProperty,TZe={};function AZe(t,e){const n=e||TZe,r=new Map,i=new Map,o=new Map,s={...uZe,...n.handlers},a={all:u,applyData:PZe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:RZe,wrap:kZe};return pae(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const d=c.type==="definition"?r:i,h=String(c.identifier).toUpperCase();d.has(h)||d.set(h,c)}}),a;function l(c,d){const h=c.type,p=a.handlers[h];if(k$.call(a.handlers,h)&&p)return p(a,c,d);if(a.options.passThrough&&a.options.passThrough.includes(h)){if("children"in c){const{children:y,...x}=c,_=bA(x);return _.children=a.all(c),_}return bA(c)}return(a.options.unknownHandler||IZe)(a,c,d)}function u(c){const d=[];if("children"in c){const h=c.children;let p=-1;for(;++p<h.length;){const m=a.one(h[p],c);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=nX(m.value)),!Array.isArray(m)&&m.type==="element")){const y=m.children[0];y&&y.type==="text"&&(y.value=nX(y.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function RZe(t,e){t.position&&(e.position=dXe(t))}function PZe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,bA(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function IZe(t,e){const n=e.data||{},r="value"in e&&!(k$.call(n,"hProperties")||k$.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kZe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function nX(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function rX(t,e){const n=AZe(t,e),r=n.one(t,void 0),i=mZe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function MZe(t,e){return t&&"run"in t?async function(n,r){const i=rX(n,{file:r,...e});await t.run(i,r)}:function(n,r){return rX(n,{file:r,...t||e})}}function iX(t){if(t)throw t}var aL,oX;function NZe(){if(oX)return aL;oX=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},o=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var c=t.call(u,"constructor"),d=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!c&&!d)return!1;var h;for(h in u);return typeof h>"u"||t.call(u,h)},s=function(u,c){n&&c.name==="__proto__"?n(u,c.name,{enumerable:!0,configurable:!0,value:c.newValue,writable:!0}):u[c.name]=c.newValue},a=function(u,c){if(c==="__proto__")if(t.call(u,c)){if(r)return r(u,c).value}else return;return u[c]};return aL=function l(){var u,c,d,h,p,m,y=arguments[0],x=1,_=arguments.length,E=!1;for(typeof y=="boolean"&&(E=y,y=arguments[1]||{},x=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});x<_;++x)if(u=arguments[x],u!=null)for(c in u)d=a(y,c),h=a(u,c),y!==h&&(E&&h&&(o(h)||(p=i(h)))?(p?(p=!1,m=d&&i(d)?d:[]):m=d&&o(d)?d:{},s(y,{name:c,newValue:l(E,m,h)})):typeof h<"u"&&s(y,{name:c,newValue:h}));return y},aL}var DZe=NZe();const lL=lo(DZe);function M$(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function LZe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const c=t[++o];let d=-1;if(l){s(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,c?OZe(c,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function OZe(t,e){let n;return r;function r(...s){const a=t.length>s.length;let l;a&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(a&&n)throw c;return i(c)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,e(s,...a))}function o(s){i(null,s)}}const $l={basename:FZe,dirname:$Ze,extname:BZe,join:VZe,sep:"/"};function FZe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Y1(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function $Ze(t){if(Y1(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function BZe(t){Y1(t);let e=t.length,n=-1,r=0,i=-1,o=0,s;for(;e--;){const a=t.codePointAt(e);if(a===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),a===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function VZe(...t){let e=-1,n;for(;++e<t.length;)Y1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":zZe(n)}function zZe(t){Y1(t);const e=t.codePointAt(0)===47;let n=UZe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function UZe(t,e){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=t.length;){if(s<t.length)a=t.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function Y1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const HZe={cwd:qZe};function qZe(){return"/"}function N$(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function jZe(t){if(typeof t=="string")t=new URL(t);else if(!N$(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return WZe(t)}function WZe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const uL=["history","path","basename","stem","extname","dirname"];class gae{constructor(e){let n;e?N$(e)?n={path:e}:typeof e=="string"||GZe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":HZe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<uL.length;){const o=uL[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)uL.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?$l.basename(this.path):void 0}set basename(e){dL(e,"basename"),cL(e,"basename"),this.path=$l.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$l.dirname(this.path):void 0}set dirname(e){sX(this.basename,"dirname"),this.path=$l.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$l.extname(this.path):void 0}set extname(e){if(cL(e,"extname"),sX(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$l.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){N$(e)&&(e=jZe(e)),dL(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$l.basename(this.path,this.extname):void 0}set stem(e){dL(e,"stem"),cL(e,"stem"),this.path=$l.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new co(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function cL(t,e){if(t&&t.includes($l.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$l.sep+"`")}function dL(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function sX(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function GZe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const KZe=function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},YZe={}.hasOwnProperty;class oB extends KZe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=LZe()}copy(){const e=new oB;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(lL(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pL("data",this.frozen),this.namespace[e]=n,this):YZe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pL("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nC(e),r=this.parser||this.Parser;return fL("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),fL("process",this.parser||this.Parser),hL("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=nC(e),l=r.parse(a);r.run(l,a,function(c,d,h){if(c||!d||!h)return u(c);const p=d,m=r.stringify(p,h);QZe(m)?h.value=m:h.result=m,u(c,h)});function u(c,d){c||!d?s(c):o?o(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),fL("processSync",this.parser||this.Parser),hL("processSync",this.compiler||this.Compiler),this.process(e,i),lX("processSync","process",n),r;function i(o,s){n=!0,iX(o),r=s}}run(e,n,r){aX(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=nC(n);i.run(e,l,u);function u(c,d,h){const p=d||e;c?a(c):s?s(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),lX("runSync","run",r),i;function o(s,a){iX(s),i=a,r=!0}}stringify(e,n){this.freeze();const r=nC(n),i=this.compiler||this.Compiler;return hL("stringify",i),aX(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(pL("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...d]=u;l(c,d)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=lL(!0,i.settings,u.settings))}function a(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const d=u[c];o(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===u){h=d;break}if(h===-1)r.push([u,...c]);else if(c.length>0){let[p,...m]=c;const y=r[h][1];M$(y)&&M$(p)&&(p=lL(!0,y,p)),r[h]=[u,p,...m]}}}}const XZe=new oB().freeze();function fL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function hL(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pL(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function aX(t){if(!M$(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function lX(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nC(t){return JZe(t)?t:new gae(t)}function JZe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function QZe(t){return typeof t=="string"||ZZe(t)}function ZZe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const eet="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uX=[],cX={allowDangerousHtml:!0},tet=/^(https?|ircs?|mailto|xmpp)$/i,net=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ret(t){const e=iet(t),n=oet(t);return set(e.runSync(e.parse(n),n),t)}function iet(t){const e=t.rehypePlugins||uX,n=t.remarkPlugins||uX,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...cX}:cX;return XZe().use(FQe).use(n).use(MZe,r).use(e)}function oet(t){const e=t.children||"",n=new gae;return typeof e=="string"&&(n.value=e),n}function set(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,s=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||aet;for(const c of net)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+eet+c.id,void 0);return pae(t,u),mXe(t,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function u(c,d,h){if(c.type==="raw"&&h&&typeof d=="number")return s?h.children.splice(d,1):h.children[d]={type:"text",value:c.value},d;if(c.type==="element"){let p;for(p in iL)if(Object.hasOwn(iL,p)&&Object.hasOwn(c.properties,p)){const m=c.properties[p],y=iL[p];(y===null||y.includes(c.tagName))&&(c.properties[p]=l(String(m||""),p,c))}}if(c.type==="element"){let p=n?!n.includes(c.tagName):o?o.includes(c.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(c,d,h)),p&&h&&typeof d=="number")return a&&c.children?h.children.splice(d,1,...c.children):h.children.splice(d,1),d}}}function aet(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||tet.test(t.slice(0,e))?t:""}const uet=()=>{const t="Bridging Knowledge Gaps Between Cognitive Goals Across Multiple Readings Of Academic Papers",e=[{name:"Brian Roysar",email:"brianroysar@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Michael Shi",email:"michaelshi@g.ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Ollie Pai",email:"o.pai@ucla.edu",affiliation:"University of California, Los Angeles"},{name:"Yuwei Xiao",email:"yuweix@ucla.edu",affiliation:"University of California, Los Angeles"}],n="Reading academic papers is a fundamental yet challenging task for students and researchers.    Beyond text, papers are dense with data, figures, and statistical analyses, requiring readers to extract key insights, synthesize information, and assess evidence across multiple formats.    Researchers must also navigate shifting cognitive goals, switching between different reading strategies based on their evolving needs.    Moreover, retaining and organizing insights over time remains a persistent challenge, often leading to redundant work and lost understanding upon revisiting papers.    While various reading strategies and digital tools exist, they often fail to comprehensively support researchers in managing their reading process and structuring their acquired knowledge.    To address these gaps, we propose **re:ad, an interactive reading system designed to help researchers track their reading process, manage cognitive goals, and systematically organize insights**.    By providing a structured and dynamic approach to reading, re:ad aims to reduce cognitive overload and enhance the efficiency of engaging with academic literature.",r=[{name:"GitHub",url:"https://github.com/olliepai/re-ad"},{name:"Blog",url:"https://medium.com/@xshaw2002/user-research-blog-augment-data-intensive-reading-d3fd5546ad55"},{name:"Try re:ad",url:"./#/papers"}],i=o=>{var s;(s=document.querySelector(o))==null||s.scrollIntoView({behavior:"smooth"})};return O.jsxs(He,{className:"home",children:[O.jsxs(He,{className:"title-block",sx:{p:2,gap:3},children:[O.jsx("img",{src:VYe,alt:"logo",style:{width:"300px"}}),O.jsx(Ze,{variant:"h3",sx:{textAlign:"center",fontWeight:"bold"},children:t})]}),O.jsx(He,{className:"authors-block",children:e.map(o=>O.jsxs(He,{className:"author-box",children:[O.jsxs(Ze,{variant:"h6",children:[o.name,O.jsx("sup",{children:"*"})]}),O.jsx(Ze,{variant:"body1",children:o.email})]},o.name))}),O.jsxs(He,{className:"information-block",children:[O.jsx(Ze,{variant:"h6",children:Array.from(new Set(e.map(o=>o.affiliation))).join(", ")}),O.jsxs(Ze,{variant:"body2",children:[O.jsx("sup",{children:"*"}),"Indicates Equal Contribution"]}),O.jsx(Ze,{variant:"body1"})]}),O.jsxs(He,{className:"links-block",sx:{my:2},children:[O.jsx(ar,{className:"link-button",variant:"contained",onClick:()=>window.open(r[0].url,"_blank"),startIcon:O.jsx(w5e,{}),children:"Code"}),O.jsx(ar,{className:"link-button",variant:"contained",onClick:()=>window.open(r[1].url,"_blank"),startIcon:O.jsx(c5e,{}),children:"Blog"}),O.jsx(ar,{className:"link-button",variant:"contained",onClick:()=>window.open(r[2].url,"_blank"),startIcon:O.jsx("img",{src:R4,style:{width:"20px",height:"20px"}}),children:"Try re:ad"}),O.jsx(ar,{className:"link-button",variant:"contained",onClick:()=>i(".poster-block"),startIcon:O.jsx(o8,{}),children:"Poster"}),O.jsx(ar,{className:"link-button",variant:"contained",onClick:()=>i(".video-block"),startIcon:O.jsx(a8,{}),children:"Video"})]}),O.jsxs(He,{className:"description-block",sx:{my:2},children:[O.jsx(Ze,{variant:"h4",children:O.jsx("b",{children:"What is re:ad?"})}),O.jsx(ret,{components:{p:({children:o})=>O.jsx(Ze,{variant:"body1",sx:{lineHeight:2,my:2},children:o})},children:n})]}),O.jsxs(He,{className:"poster-block",sx:{my:2},children:[O.jsx(Ze,{variant:"h4",children:"Poster"}),O.jsx(Ze,{variant:"body2",children:"🏆 Best User Research in CS 239"}),O.jsx("img",{className:"poster-image",src:zYe,alt:"poster"})]}),O.jsxs(He,{className:"video-block",sx:{my:2},children:[O.jsx(Ze,{variant:"h4",children:"Tutorial Video"}),O.jsx("iframe",{src:"https://www.loom.com/embed/ef1916f78287477c9aa5f9e31b305e9f?sid=729a2a90-a8b2-4625-8d33-af2bef562dc9",allowFullScreen:!0})]}),O.jsxs(y$e,{ariaLabel:"Navigation SpeedDial",sx:{position:"fixed",bottom:"2rem",right:"2rem"},icon:O.jsx(T5e,{}),children:[O.jsx(NE,{icon:O.jsx(l5e,{}),tooltipTitle:"Back to Top",onClick:()=>i(".title-block")},"top"),O.jsx(NE,{icon:O.jsx(a8,{}),tooltipTitle:"Go to Video",onClick:()=>i(".video-block")},"video"),O.jsx(NE,{icon:O.jsx(o8,{}),tooltipTitle:"Go to Poster",onClick:()=>i(".poster-block")},"poster"),O.jsx(NE,{icon:O.jsx(hne,{}),tooltipTitle:"Go to Description",onClick:()=>i(".description-block")},"description")]})]})},cet=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(!0),[i,o]=F.useState(""),[s,a]=F.useState(""),[l,u]=F.useState(""),[c,d]=F.useState({email:!1,password:!1,confirmPassword:!1}),[h,p]=F.useState({email:"",password:"",confirmPassword:""}),[m,y]=F.useState(""),[x,_]=F.useState([]),[E,S]=F.useState(!1),[T,I]=F.useState({title:"",file:new File([],"")}),{userData:N,setUserData:R,loadUserData:M,updateUser:L,getUserByEmail:k,addPaperData:D,addPaperFile:V,addPaperToUser:$}=c0(),{papersDict:H,setViewingPaperId:G}=Wf(),K=qR(),[J,ee]=F.useState(null),[X,j]=F.useState(!1),[Y,ae]=F.useState("");F.useEffect(()=>{const pe=Object.values(H).filter(Ce=>Ce.title.toLowerCase().includes(m.toLowerCase()));_(pe)},[m,H]);const q=()=>{I({title:"",file:new File([],"")}),S(!0)},Q=async()=>{try{if(!N){alert("Please login to add a paper");return}if(!(T!=null&&T.title.trim())){alert("Please enter a title");return}if(!(T!=null&&T.file)){alert("Please select a PDF file");return}const pe=wx(),Ce={id:pe,title:T.title.trim()};await V(pe,T.file),await D(Ce),await $(N.id,pe),await M(N.id),S(!1),console.log("Paper saved successfully")}catch(pe){console.error("Error saving paper:",pe),alert("Failed to save paper. Please try again.")}},te=pe=>{var $e;const Ce=($e=pe.target.files)==null?void 0:$e[0];Ce&&Ce.type==="application/pdf"?I({...T,file:Ce}):alert("Please select a valid PDF file")},ue=async()=>{if(d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""}),!i.trim()){d(pe=>({...pe,email:!0})),p(pe=>({...pe,email:"Email is required"}));return}if(!s.trim()){d(pe=>({...pe,password:!0})),p(pe=>({...pe,password:"Password is required"}));return}if(n){const pe=await k(i);if(!pe){d({email:!0,password:!1,confirmPassword:!1}),p({email:"Email not found",password:"",confirmPassword:""});return}if(pe.password!==s){d({email:!1,password:!0,confirmPassword:!1}),p({email:"",password:"Password is incorrect",confirmPassword:""});return}localStorage.setItem("userId",pe.id),await M(pe.id)}else{if(s!==l){d(Ce=>({...Ce,confirmPassword:!0})),p(Ce=>({...Ce,confirmPassword:"Passwords do not match"}));return}if(s.length<8){d(Ce=>({...Ce,password:!0})),p(Ce=>({...Ce,password:"Password must be at least 6 characters"}));return}const pe=wx();await L({id:pe,email:i,password:s,name:i.split("@")[0],role:sw.STUDENT,paperIds:[]}),localStorage.setItem("userId",pe),await M(pe)}de()},de=()=>{e(!1),r(!0),o(""),a(""),u(""),d({email:!1,password:!1,confirmPassword:!1}),p({email:"",password:"",confirmPassword:""})},se=()=>{localStorage.removeItem("userId"),R(void 0),ee(null)},ce=()=>{ae((N==null?void 0:N.name)||""),j(!0),ee(null)},he=async()=>{if(!(!N||!Y.trim()))try{const pe={...N,name:Y.trim()};await L(pe),await M(N.id),j(!1)}catch(pe){console.error("Error updating profile:",pe),alert("Failed to update profile. Please try again.")}},ve=pe=>{ee(pe.currentTarget)},be=()=>{ee(null)},Re=pe=>{G(pe),K("/paper-reader")};return O.jsxs(He,{className:"papers-hub-container",children:[O.jsxs(He,{sx:{mb:4},children:[O.jsxs(He,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:2},children:[O.jsx("img",{height:40,src:R4,alt:"re:ad"}),O.jsx(Ze,{variant:"h4",component:"h1",fontWeight:"bold",children:"Papers Hub"})]}),N?O.jsxs(He,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(Rq,{sx:{bgcolor:"grey.200"},children:O.jsx(A4,{})}),O.jsx(Ze,{variant:"body1",color:"text.secondary",children:N.name}),O.jsx(la,{size:"small",onClick:ve,sx:{ml:1},children:O.jsx(C5e,{})}),O.jsxs(zR,{anchorEl:J,open:!!J,onClose:be,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[O.jsxs(bw,{onClick:ce,children:[O.jsx(vw,{children:O.jsx(x5e,{fontSize:"small"})}),O.jsx(Zp,{children:"Edit Profile"})]}),O.jsxs(bw,{onClick:se,children:[O.jsx(vw,{children:O.jsx(S5e,{fontSize:"small"})}),O.jsx(Zp,{children:"Logout"})]})]})]}):O.jsx(ar,{variant:"contained",onClick:()=>e(!0),children:"Login / Register"})]}),O.jsx(Sy,{sx:{borderColor:"black"}}),O.jsxs(He,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mt:5},children:[O.jsx(Ko,{placeholder:"Search papers...",value:m,onChange:pe=>y(pe.target.value),InputProps:{startAdornment:O.jsx(FO,{position:"start",children:O.jsx(BO,{})})},sx:{maxWidth:400},size:"small",fullWidth:!0}),O.jsx(ar,{variant:"contained",startIcon:O.jsx(s5e,{}),onClick:q,size:"large",children:"Add Paper"})]})]}),O.jsxs(Ze,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[x.length," paper",x.length!==1?"s":""," found"]}),O.jsx(au,{children:O.jsxs($$e,{children:[O.jsx(Q$e,{children:O.jsxs(i8,{children:[O.jsx(DE,{width:60}),O.jsx(DE,{children:"Title"})]})}),O.jsx(H$e,{children:x.map(pe=>O.jsxs(i8,{sx:{"&:hover":{bgcolor:"action.hover"}},onClick:()=>Re(pe.id),children:[O.jsx(DE,{children:O.jsx(Rq,{sx:{bgcolor:"grey.200"},children:O.jsx(R5e,{sx:{color:"grey.600"}})})}),O.jsx(DE,{children:O.jsx(Ze,{variant:"body2",sx:{fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:pe.title})})]},pe.id))})]})}),x.length===0&&O.jsx(He,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,textAlign:"center"},children:O.jsx(Ze,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No papers found"})}),O.jsxs(_C,{open:t,onClose:de,children:[O.jsx(CC,{children:n?"Login":"Register"}),O.jsx(EC,{children:O.jsxs(Uk,{spacing:2,sx:{mt:1},children:[O.jsx(Ko,{required:!0,error:c.email,helperText:h.email,label:"Email",type:"email",fullWidth:!0,value:i,onChange:pe=>o(pe.target.value)}),O.jsx(Ko,{required:!0,error:c.password,helperText:h.password,label:"Password",type:"password",fullWidth:!0,value:s,onChange:pe=>a(pe.target.value)}),!n&&O.jsx(Ko,{required:!0,error:c.confirmPassword,helperText:h.confirmPassword,label:"Confirm Password",type:"password",fullWidth:!0,value:l,onChange:pe=>u(pe.target.value)}),O.jsx(ar,{variant:"text",onClick:()=>r(!n),sx:{alignSelf:"flex-start",textTransform:"none"},children:n?"Don't have an account? Register":"Already have an account? Login"})]})}),O.jsxs(SC,{children:[O.jsx(ar,{onClick:de,children:"Cancel"}),O.jsx(ar,{onClick:ue,variant:"contained",children:n?"Login":"Register"})]})]}),O.jsxs(_C,{open:E,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[O.jsx(CC,{children:"Add New Paper"}),O.jsx(EC,{sx:{pt:2},children:O.jsxs(Uk,{spacing:3,children:[O.jsx(Ko,{label:"Title",value:T==null?void 0:T.title,onChange:pe=>I({...T,title:pe.target.value}),fullWidth:!0,required:!0}),O.jsxs(He,{children:[O.jsx("input",{type:"file",accept:"application/pdf",onChange:te,style:{display:"none"},id:"pdf-upload"}),O.jsx("label",{htmlFor:"pdf-upload",children:O.jsx(ar,{variant:"outlined",component:"span",startIcon:O.jsx(y5e,{}),fullWidth:!0,sx:{py:2},children:T!=null&&T.file?T.file.name:"Choose PDF File"})})]})]})}),O.jsxs(SC,{sx:{px:3,pb:3},children:[O.jsx(ar,{onClick:()=>S(!1),children:"Cancel"}),O.jsx(ar,{onClick:Q,variant:"contained",children:"Add Paper"})]})]}),O.jsxs(_C,{open:X,onClose:()=>j(!1),children:[O.jsx(CC,{children:"Edit Profile"}),O.jsx(EC,{children:O.jsxs(Uk,{spacing:2,sx:{mt:1,minWidth:300},children:[O.jsx(Ko,{label:"Name",value:Y,onChange:pe=>ae(pe.target.value),fullWidth:!0,autoFocus:!0}),O.jsx(Ko,{label:"Email",value:(N==null?void 0:N.email)||"",disabled:!0,fullWidth:!0,helperText:"Email cannot be changed"}),O.jsx(Ko,{label:"Role",value:(N==null?void 0:N.role)||"",disabled:!0,fullWidth:!0,helperText:"Role is assigned by administrators"})]})}),O.jsxs(SC,{children:[O.jsx(ar,{onClick:()=>j(!1),children:"Cancel"}),O.jsx(ar,{onClick:he,variant:"contained",children:"Save Changes"})]})]})]})};function det(){return F.useEffect(()=>{window.sessionStorage.clear()},[]),O.jsx(jxe,{children:O.jsx(VPe,{children:O.jsx(jPe,{children:O.jsx(zPe,{children:O.jsx(HPe,{children:O.jsx(G4e,{children:O.jsxs(S4e,{children:[O.jsx(TC,{path:"/",element:O.jsx(uet,{})}),O.jsx(TC,{path:"/papers",element:O.jsx(cet,{})}),O.jsx(TC,{path:"/paper-reader",element:O.jsx(BYe,{})})]})})})})})})})}fX.createRoot(document.getElementById("root")).render(O.jsx(F.StrictMode,{children:O.jsx(det,{})}))});export default fet();
